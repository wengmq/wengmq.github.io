{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-]","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"<ul> <li> <p>\u597d\u8bb0\u6027\u4e0d\u5982\u70c2\u7b14\u5934\uff0c\u8fd9\u662f\u5173\u4e8ewengmq\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u8bb0\u5f55\u6280\u672f\u63a2\u7d22\uff0c\u5206\u4eab\u5b9e\u8df5\u5fc3\u5f97\u3002</p> </li> <li> <p>\u5728\u6bd4\u7279\u4e4b\u95f4\u91cd\u6784\u4e16\u754c\uff0c\u4e8e\u4e91\u7aef\u4e4b\u4e0a\u89c1\u8bc1\u6c38\u6052\uff0c\u4e0d\u754f\u60e7\u9519\u8bef\uff0c\u53ea\u754f\u60e7\u505c\u6b62\u63a2\u7d22\u3002</p> </li> <li> <p>\u6bcf\u4e00\u4e2a\u88ab\u89e3\u51b3\u7684 Bug\uff0c\u90fd\u662f\u901a\u5f80\u5353\u8d8a\u7684\u9636\u68af\u3002\u4fdd\u6301\u70ed\u7231\uff0c\u5954\u8d74\u5c71\u6d77\u3002</p> </li> </ul> <p></p> <p>\u5982\u679c\u6587\u7ae0\u6709\u4fb5\u6743\uff0c\u8bf7\u60a8\u8054\u7cfb\u6211\uff1awengmq@163.com</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker-compose/docker%20compose%20%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/","title":"Docker compose \u6587\u4ef6\u7f16\u5199\u89c4\u8303","text":"<p>\u5b98\u7f51\uff1ahttps://docs.docker.com/reference/compose-file/</p> <ul> <li> <p>Version and name top-level element Understand version and name attributes for Compose.</p> </li> <li> <p>Services top-level element Explore all services attributes for Compose.</p> </li> <li> <p>Networks top-level element,Find all networks attributes for Compose.</p> </li> <li> <p>Volumes top-level element,Explore all volumes attributes for Compose.</p> </li> <li> <p>Configs top-level element,Find out about configs in Compose.</p> </li> <li> <p>Secrets top-level element,Learn about secrets in Compose.</p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker-compose/docker%20compose%E5%91%BD%E4%BB%A4%E8%AF%B4%E6%98%8E/","title":"Docker compose\u547d\u4ee4\u8bf4\u660e","text":"<ul> <li>\u5b98\u65b9\u4ecb\u7ecd\uff1ahttps://docs.docker.com/compose/reference/</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/dockerfile%E4%BB%8B%E7%BB%8D/","title":"Dockerfile\u4ecb\u7ecd","text":"<p>\u53c2\u8003\uff1a - \u83dc\u9e1f\u6559\u7a0b https://www.runoob.com/docker/docker-dockerfile.html - \u5b98\u7f51\u7ffb\u8bd1\uff08\u63a8\u8350\uff09 https://containerization-automation.readthedocs.io/zh-cn/latest/docker/dockerfile/Dockerfile%E7%BC%96%E5%86%99/</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/dockerfile%E4%BB%8B%E7%BB%8D/#dockerfile","title":"\u4ec0\u4e48\u662f Dockerfile\uff1f","text":"<p>Dockerfile \u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u5305\u542b\u4e86\u6784\u5efa Docker \u955c\u50cf\u7684\u6240\u6709\u6307\u4ee4\u3002</p> <p>Dockerfile \u662f\u4e00\u4e2a\u7528\u6765\u6784\u5efa\u955c\u50cf\u7684\u6587\u672c\u6587\u4ef6\uff0c\u6587\u672c\u5185\u5bb9\u5305\u542b\u4e86\u4e00\u6761\u6761\u6784\u5efa\u955c\u50cf\u6240\u9700\u7684\u6307\u4ee4\u548c\u8bf4\u660e\u3002</p> <p>\u901a\u8fc7\u5b9a\u4e49\u4e00\u7cfb\u5217\u547d\u4ee4\u548c\u53c2\u6570\uff0cDockerfile \u6307\u5bfc Docker \u6784\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u955c\u50cf\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/dockerfile%E4%BB%8B%E7%BB%8D/#dockerfile_1","title":"\u4f7f\u7528 Dockerfile \u5b9a\u5236\u955c\u50cf","text":"<p>\u8fd9\u91cc\u4ec5\u8bb2\u89e3\u5982\u4f55\u8fd0\u884c Dockerfile \u6587\u4ef6\u6765\u5b9a\u5236\u4e00\u4e2a\u955c\u50cf\uff0c\u5177\u4f53 Dockerfile \u6587\u4ef6\u5185\u6307\u4ee4\u8be6\u89e3\uff0c\u5c06\u5728\u4e0b\u4e00\u8282\u4e2d\u4ecb\u7ecd\uff0c\u8fd9\u91cc\u4f60\u53ea\u8981\u77e5\u9053\u6784\u5efa\u7684\u6d41\u7a0b\u5373\u53ef\u3002</p> <p>1\u3001\u4e0b\u9762\u4ee5\u5b9a\u5236\u4e00\u4e2a nginx \u955c\u50cf\uff08\u6784\u5efa\u597d\u7684\u955c\u50cf\u5185\u4f1a\u6709\u4e00\u4e2a /usr/share/nginx/html/index.html \u6587\u4ef6\uff09</p> <p>\u5728\u4e00\u4e2a\u7a7a\u76ee\u5f55\u4e0b\uff0c\u65b0\u5efa\u4e00\u4e2a\u540d\u4e3a Dockerfile \u6587\u4ef6\uff0c\u5e76\u5728\u6587\u4ef6\u5185\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>FROM nginx\nRUN echo '\u8fd9\u662f\u4e00\u4e2a\u672c\u5730\u6784\u5efa\u7684nginx\u955c\u50cf' &gt; /usr/share/nginx/html/index.html\n</code></pre> <p></p> <p>2\u3001FROM \u548c RUN \u6307\u4ee4\u7684\u4f5c\u7528</p> <p>FROM\uff1a\u5b9a\u5236\u7684\u955c\u50cf\u90fd\u662f\u57fa\u4e8e FROM \u7684\u955c\u50cf\uff0c\u8fd9\u91cc\u7684 nginx \u5c31\u662f\u5b9a\u5236\u9700\u8981\u7684\u57fa\u7840\u955c\u50cf\u3002\u540e\u7eed\u7684\u64cd\u4f5c\u90fd\u662f\u57fa\u4e8e nginx\u3002</p> <p>RUN\uff1a\u7528\u4e8e\u6267\u884c\u540e\u9762\u8ddf\u7740\u7684\u547d\u4ee4\u884c\u547d\u4ee4\u3002\u6709\u4ee5\u4e0b\u4fe9\u79cd\u683c\u5f0f\uff1a</p> <p>shell \u683c\u5f0f\uff1a</p> <pre><code>RUN &lt;\u547d\u4ee4\u884c\u547d\u4ee4&gt;\n# &lt;\u547d\u4ee4\u884c\u547d\u4ee4&gt; \u7b49\u540c\u4e8e\uff0c\u5728\u7ec8\u7aef\u64cd\u4f5c\u7684 shell \u547d\u4ee4\u3002\n\n</code></pre> <p>exec \u683c\u5f0f\uff1a</p> <pre><code>RUN [\"\u53ef\u6267\u884c\u6587\u4ef6\", \"\u53c2\u65701\", \"\u53c2\u65702\"]\n# \u4f8b\u5982\uff1a\n# RUN [\"./test.php\", \"dev\", \"offline\"] \u7b49\u4ef7\u4e8e RUN ./test.php dev offline\n</code></pre> <p>\u6ce8\u610f\uff1aDockerfile \u7684\u6307\u4ee4\u6bcf\u6267\u884c\u4e00\u6b21\u90fd\u4f1a\u5728 docker \u4e0a\u65b0\u5efa\u4e00\u5c42\u3002\u6240\u4ee5\u8fc7\u591a\u65e0\u610f\u4e49\u7684\u5c42\uff0c\u4f1a\u9020\u6210\u955c\u50cf\u81a8\u80c0\u8fc7\u5927\u3002\u4f8b\u5982\uff1a</p> <pre><code>FROM centos  \nRUN\u00a0yum\u00a0-y\u00a0install\u00a0wget  \nRUN\u00a0wget\u00a0-O\u00a0redis.tar.gz\u00a0\"http://download.redis.io/releases/redis-5.0.3.tar.gz\"  \nRUN\u00a0tar\u00a0-xvf\u00a0redis.tar.gz  \n</code></pre> <p>\u4ee5\u4e0a\u6267\u884c\u4f1a\u521b\u5efa 3 \u5c42\u955c\u50cf\u3002\u53ef\u7b80\u5316\u4e3a\u4ee5\u4e0b\u683c\u5f0f\uff1a</p> <pre><code>FROM centos  \nRUN\u00a0yum\u00a0-y\u00a0install\u00a0wget\u00a0\\  \n\u00a0 \u00a0\u00a0&amp;&amp;\u00a0wget\u00a0-O\u00a0redis.tar.gz\u00a0\"http://download.redis.io/releases/redis-5.0.3.tar.gz\"\u00a0\\  \n\u00a0 \u00a0\u00a0&amp;&amp;\u00a0tar\u00a0-xvf\u00a0redis.tar.gz  \n</code></pre> <p>\u5982\u4e0a\uff0c\u4ee5\u00a0&amp;&amp;\u00a0\u7b26\u53f7\u8fde\u63a5\u547d\u4ee4\uff0c\u8fd9\u6837\u6267\u884c\u540e\uff0c\u53ea\u4f1a\u521b\u5efa 1 \u5c42\u955c\u50cf\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/dockerfile%E4%BB%8B%E7%BB%8D/#_1","title":"\u5f00\u59cb\u6784\u5efa\u955c\u50cf","text":"<p>\u5728 Dockerfile \u6587\u4ef6\u7684\u5b58\u653e\u76ee\u5f55\u4e0b\uff0c\u6267\u884c\u6784\u5efa\u52a8\u4f5c\u3002</p> <p>\u4ee5\u4e0b\u793a\u4f8b\uff0c\u901a\u8fc7\u76ee\u5f55\u4e0b\u7684 Dockerfile \u6784\u5efa\u4e00\u4e2a nginx:v3\uff08\u955c\u50cf\u540d\u79f0:\u955c\u50cf\u6807\u7b7e\uff09\u3002</p> <p>\u6ce8\uff1a\u6700\u540e\u7684\u00a0.\u00a0\u4ee3\u8868\u672c\u6b21\u6267\u884c\u7684\u4e0a\u4e0b\u6587\u8def\u5f84\uff0c\u4e0b\u4e00\u8282\u4f1a\u4ecb\u7ecd\u3002</p> <p>$ docker build\u00a0-t\u00a0nginx:v3 .  </p> <p></p> <p>\u4ee5\u4e0a\u663e\u793a\uff0c\u8bf4\u660e\u5df2\u7ecf\u6784\u5efa\u6210\u529f\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/dockerfile%E4%BB%8B%E7%BB%8D/#_2","title":"\u4e0a\u4e0b\u6587\u8def\u5f84","text":"<p>\u4e0a\u4e00\u8282\u4e2d\uff0c\u6709\u63d0\u5230\u6307\u4ee4\u6700\u540e\u4e00\u4e2a\u00a0.\u00a0\u662f\u4e0a\u4e0b\u6587\u8def\u5f84\uff0c\u90a3\u4e48\u4ec0\u4e48\u662f\u4e0a\u4e0b\u6587\u8def\u5f84\u5462\uff1f</p> <p>$ docker build\u00a0-t\u00a0nginx:v3 .  </p> <p>\u4e0a\u4e0b\u6587\u8def\u5f84\uff0c\u662f\u6307 docker \u5728\u6784\u5efa\u955c\u50cf\uff0c\u6709\u65f6\u5019\u60f3\u8981\u4f7f\u7528\u5230\u672c\u673a\u7684\u6587\u4ef6\uff08\u6bd4\u5982\u590d\u5236\uff09\uff0cdocker build \u547d\u4ee4\u5f97\u77e5\u8fd9\u4e2a\u8def\u5f84\u540e\uff0c\u4f1a\u5c06\u8def\u5f84\u4e0b\u7684\u6240\u6709\u5185\u5bb9\u6253\u5305\u3002</p> <p>\u89e3\u6790\uff1a\u7531\u4e8e docker \u7684\u8fd0\u884c\u6a21\u5f0f\u662f C/S\u3002\u6211\u4eec\u672c\u673a\u662f C\uff0cdocker \u5f15\u64ce\u662f S\u3002\u5b9e\u9645\u7684\u6784\u5efa\u8fc7\u7a0b\u662f\u5728 docker \u5f15\u64ce\u4e0b\u5b8c\u6210\u7684\uff0c\u6240\u4ee5\u8fd9\u4e2a\u65f6\u5019\u65e0\u6cd5\u7528\u5230\u6211\u4eec\u672c\u673a\u7684\u6587\u4ef6\u3002\u8fd9\u5c31\u9700\u8981\u628a\u6211\u4eec\u672c\u673a\u7684\u6307\u5b9a\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u4e00\u8d77\u6253\u5305\u63d0\u4f9b\u7ed9 docker \u5f15\u64ce\u4f7f\u7528\u3002</p> <p>\u5982\u679c\u672a\u8bf4\u660e\u6700\u540e\u4e00\u4e2a\u53c2\u6570\uff0c\u90a3\u4e48\u9ed8\u8ba4\u4e0a\u4e0b\u6587\u8def\u5f84\u5c31\u662f Dockerfile \u6240\u5728\u7684\u4f4d\u7f6e\u3002</p> <p>\u6ce8\u610f\uff1a\u4e0a\u4e0b\u6587\u8def\u5f84\u4e0b\u4e0d\u8981\u653e\u65e0\u7528\u7684\u6587\u4ef6\uff0c\u56e0\u4e3a\u4f1a\u4e00\u8d77\u6253\u5305\u53d1\u9001\u7ed9 docker \u5f15\u64ce\uff0c\u5982\u679c\u6587\u4ef6\u8fc7\u591a\u4f1a\u9020\u6210\u8fc7\u7a0b\u7f13\u6162\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/dockerfile%E6%8C%87%E4%BB%A4%E7%AE%80%E4%BB%8B/","title":"Dockerfile\u6307\u4ee4\u7b80\u4ecb","text":"<p>\u53c2\u8003\uff1a     docker\u5b98\u65b9\u8bf4\u660e https://docs.docker.com/reference/dockerfile/     \u83dc\u9e1f\u6559\u7a0b https://www.runoob.com/docker/docker-dockerfile.html</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/dockerfile%E6%8C%87%E4%BB%A4%E7%AE%80%E4%BB%8B/#_1","title":"\u6307\u4ee4\u8bf4\u660e","text":"Dockerfile \u6307\u4ee4 \u8bf4\u660e FROM \u6307\u5b9a\u57fa\u7840\u955c\u50cf\uff0c\u7528\u4e8e\u540e\u7eed\u7684\u6307\u4ee4\u6784\u5efa\u3002 MAINTAINER \u6307\u5b9aDockerfile\u7684\u4f5c\u8005/\u7ef4\u62a4\u8005\u3002\uff08\u5df2\u5f03\u7528\uff0c\u63a8\u8350\u4f7f\u7528LABEL\u6307\u4ee4\uff09 LABEL \u6dfb\u52a0\u955c\u50cf\u7684\u5143\u6570\u636e\uff0c\u4f7f\u7528\u952e\u503c\u5bf9\u7684\u5f62\u5f0f\u3002 RUN \u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u5728\u955c\u50cf\u4e2d\u6267\u884c\u547d\u4ee4\u3002 CMD \u6307\u5b9a\u5bb9\u5668\u521b\u5efa\u65f6\u7684\u9ed8\u8ba4\u547d\u4ee4\u3002\uff08\u53ef\u4ee5\u88ab\u8986\u76d6\uff09 ENTRYPOINT \u8bbe\u7f6e\u5bb9\u5668\u521b\u5efa\u65f6\u7684\u4e3b\u8981\u547d\u4ee4\u3002\uff08\u4e0d\u53ef\u88ab\u8986\u76d6\uff09 EXPOSE \u58f0\u660e\u5bb9\u5668\u8fd0\u884c\u65f6\u76d1\u542c\u7684\u7279\u5b9a\u7f51\u7edc\u7aef\u53e3\u3002 ENV \u5728\u5bb9\u5668\u5185\u90e8\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u3002 ADD \u5c06\u6587\u4ef6\u3001\u76ee\u5f55\u6216\u8fdc\u7a0bURL\u590d\u5236\u5230\u955c\u50cf\u4e2d\u3002 COPY \u5c06\u6587\u4ef6\u6216\u76ee\u5f55\u590d\u5236\u5230\u955c\u50cf\u4e2d\u3002 VOLUME \u4e3a\u5bb9\u5668\u521b\u5efa\u6302\u8f7d\u70b9\u6216\u58f0\u660e\u5377\u3002 WORKDIR \u8bbe\u7f6e\u540e\u7eed\u6307\u4ee4\u7684\u5de5\u4f5c\u76ee\u5f55\u3002 USER \u6307\u5b9a\u540e\u7eed\u6307\u4ee4\u7684\u7528\u6237\u4e0a\u4e0b\u6587\u3002 ARG \u5b9a\u4e49\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u4f20\u9012\u7ed9\u6784\u5efa\u5668\u7684\u53d8\u91cf\uff0c\u53ef\u4f7f\u7528 \"docker build\" \u547d\u4ee4\u8bbe\u7f6e\u3002 ONBUILD \u5f53\u8be5\u955c\u50cf\u88ab\u7528\u4f5c\u53e6\u4e00\u4e2a\u6784\u5efa\u8fc7\u7a0b\u7684\u57fa\u7840\u65f6\uff0c\u6dfb\u52a0\u89e6\u53d1\u5668\u3002 STOPSIGNAL \u8bbe\u7f6e\u53d1\u9001\u7ed9\u5bb9\u5668\u4ee5\u9000\u51fa\u7684\u7cfb\u7edf\u8c03\u7528\u4fe1\u53f7\u3002 HEALTHCHECK \u5b9a\u4e49\u5468\u671f\u6027\u68c0\u67e5\u5bb9\u5668\u5065\u5eb7\u72b6\u6001\u7684\u547d\u4ee4\u3002 SHELL \u8986\u76d6Docker\u4e2d\u9ed8\u8ba4\u7684shell\uff0c\u7528\u4e8eRUN\u3001CMD\u548cENTRYPOINT\u6307\u4ee4\u3002"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ADD%E5%92%8CCOPY/","title":"ADD\u548cCOPY","text":"<p>\u6307\u4ee4<code>ADD</code>\u548c<code>COPY</code>\u90fd\u53ef\u4ee5\u5b9e\u73b0\u590d\u5236\u5916\u90e8\u6587\u4ef6\u5230\u955c\u50cf\u7684\u529f\u80fd</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ADD%E5%92%8CCOPY/#add","title":"ADD\u00b6","text":"<p>\u53c2\u8003\uff1aADD</p> <p><code>ADD</code>\u6307\u4ee4\u590d\u5236\u65b0\u6587\u4ef6\u3001\u76ee\u5f55\u6216\u8fdc\u7a0b\u6587\u4ef6<code>URL</code>\uff0c\u5e76\u5c06\u5b83\u4eec\u6dfb\u52a0\u5230\u4f4d\u4e8e\u955c\u50cf\u7684\u6587\u4ef6\u7cfb\u7edf\u4e2d</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ADD%E5%92%8CCOPY/#_1","title":"\u8bed\u6cd5\u00b6","text":"<p>\u6709\u4e24\u79cd\u5b9e\u73b0\u683c\u5f0f</p> <ol> <li><code>ADD [--chown=&lt;user&gt;:&lt;group&gt;] &lt;src&gt;... &lt;dest&gt;</code></li> <li><code>ADD [--chown=&lt;user&gt;:&lt;group&gt;] [\"&lt;src&gt;\",... \"&lt;dest&gt;\"]</code>\uff08\u5305\u542b\u7a7a\u683c\u7684\u8def\u5f84\u9002\u7528\u4e8e\u8fd9\u79cd\u65b9\u5f0f\uff09</li> </ol> <p><code>chown</code>\u4ec5\u9002\u7528\u4e8e<code>Linux</code>\u5bb9\u5668\u6784\u5efa</p> <ul> <li><code>&lt;dest&gt;</code>\u662f\u76ee\u5f55\uff0c\u9700\u8981\u4ee5\u659c\u6760\uff08<code>/</code>\uff09\u7ed3\u5c3e</li> <li><code>&lt;dest&gt;</code>\u4e0d\u5b58\u5728\uff0c\u5b83\u5c06\u4e0e\u8def\u5f84\u4e2d\u6240\u6709\u7f3a\u5c11\u7684\u76ee\u5f55\u4e00\u8d77\u521b\u5efa</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ADD%E5%92%8CCOPY/#_2","title":"\u4f5c\u7528\u00b6","text":"<ul> <li>\u5355\u6b21<code>ADD</code>\u64cd\u4f5c\u590d\u5236\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\u5230\u955c\u50cf\uff0c\u5176\u8def\u5f84\u76f8\u5bf9\u4e8e\u751f\u6210\u4e0a\u4e0b\u6587</li> <li><code>&lt;src&gt;</code>\u53ef\u4ee5\u5305\u542b\u901a\u914d\u7b26\uff0c\u7b26\u5408GO\u6587\u4ef6\u5339\u914d</li> <li><code>&lt;dest&gt;</code>\u662f\u4e00\u4e2a\u7edd\u5bf9\u8def\u5f84\uff0c\u6216\u8005\u76f8\u5bf9\u4e8e<code>WORKDIR</code>\u6307\u4ee4\u7684\u8def\u5f84</li> <li><code>&lt;src&gt;</code>\u8def\u5f84\u5fc5\u987b\u5728\u751f\u6210\u4e0a\u4e0b\u6587\u4e2d\uff0c\u4e0d\u80fd\u64cd\u4f5c\u8d85\u51fa\u751f\u6210\u4e0a\u4e0b\u6587\u7684\u8def\u5f84\uff08\u6bd4\u5982<code>ADD ../something /something</code>\uff09\uff0c\u56e0\u4e3a<code>docker build</code>\u7684\u7b2c\u4e00\u6b65\u64cd\u4f5c\u5c31\u662f\u53d1\u9001\u4e0a\u4e0b\u6587\u76ee\u5f55\uff08\u6216\u5b50\u76ee\u5f55\uff09\u5230<code>docker</code>\u5b88\u62a4\u8fdb\u7a0b</li> <li>\u5982\u679c<code>&lt;src&gt;</code>\u662f\u4e00\u4e2a\u76ee\u5f55\uff0c\u5219\u590d\u5236\u8be5\u76ee\u5f55\u7684\u5168\u90e8\u5185\u5bb9\uff0c\u5305\u62ec\u6587\u4ef6\u7cfb\u7edf\u5143\u6570\u636e</li> </ul> <p>\u590d\u5236\u5305\u542b\u7279\u6b8a\u5b57\u7b26\uff08\u6bd4\u5982<code>[</code>\u548c<code>]</code>\uff09\u7684\u6e90\u8def\u5f84\u65f6\uff0c\u9700\u8981\u6309\u7167<code>Golang</code>\u89c4\u5219\u8f6c\u4e49\u8fd9\u4e9b\u8def\u5f84\uff0c\u4ee5\u9632\u6b62\u5b83\u4eec\u88ab\u89c6\u4e3a\u5339\u914d\u7684\u6a21\u5f0f\uff0c\u6bd4\u5982</p> <p><code>ADD arr[[]0].txt /mydir/    # copy a file named \"arr[0].txt\" to /mydir/</code></p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ADD%E5%92%8CCOPY/#_3","title":"\u89e3\u538b\u00b6","text":"<p><code>ADD</code>\u6307\u4ee4\u7684\u4e00\u4e2a\u7279\u522b\u4e4b\u5904\u5728\u4e8e\u5b83\u80fd\u591f\u89e3\u538b\u6e90\u6587\u4ef6</p> <ul> <li>\u5982\u679c\u662f\u4e00\u4e2a\u53ef\u8bc6\u522b\u538b\u7f29\u683c\u5f0f\uff08<code>identity\u3001gzip\u3001bzip2\u6216xz</code>\uff09\u7684\u672c\u5730<code>tar</code>\u5f52\u6863\u6587\u4ef6\uff0c\u5219\u5c06\u5176\u89e3\u538b\u4e3a\u4e00\u4e2a\u76ee\u5f55</li> <li>\u4e0d\u4f1a\u89e3\u538b\u6765\u81ea\u8fdc\u7a0b<code>URL</code>\u7684\u8d44\u6e90</li> </ul> <p>\u6587\u4ef6\u662f\u5426\u88ab\u8bc6\u522b\u4e3a\u53ef\u8bc6\u522b\u7684\u538b\u7f29\u683c\u5f0f\u4ec5\u57fa\u4e8e\u6587\u4ef6\u7684\u5185\u5bb9\u800c\u4e0d\u662f\u6587\u4ef6\u7684\u540d\u79f0\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e00\u4e2a\u7a7a\u6587\u4ef6\u6070\u597d\u4ee5<code>.tar.gz</code>\u7ed3\u5c3e\uff0c\u5219\u4e0d\u4f1a\u5c06\u5176\u8bc6\u522b\u4e3a\u538b\u7f29\u6587\u4ef6\uff0c\u4e5f\u4e0d\u4f1a\u751f\u6210\u4efb\u4f55\u7c7b\u578b\u7684\u89e3\u538b\u7f29\u9519\u8bef\u6d88\u606f\uff0c\u800c\u53ea\u4f1a\u5c06\u8be5\u6587\u4ef6\u590d\u5236\u5230\u76ee\u6807\u4f4d\u7f6e</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ADD%E5%92%8CCOPY/#_4","title":"\u793a\u4f8b\u00b6","text":"<p><code>ADD hom* /mydir/        # adds all files starting with \"hom\" ADD hom?.txt /mydir/    # ? is replaced with any single character, e.g., \"home.txt\"  ADD test relativeDir/          # adds \"test\" to `WORKDIR`/relativeDir/ ADD test /absoluteDir/         # adds \"test\" to /absoluteDir/</code></p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ADD%E5%92%8CCOPY/#copy","title":"COPY\u00b6","text":"<p>\u53c2\u8003\uff1aCOPY</p> <p><code>COPY</code>\u6307\u4ee4\u4ece<code>&lt;src&gt;</code>\u590d\u5236\u65b0\u6587\u4ef6\u6216\u76ee\u5f55\uff0c\u5e76\u5c06\u5b83\u4eec\u6dfb\u52a0\u5230\u4f4d\u4e8e\u8def\u5f84<code>&lt;dest&gt;</code>\u7684\u5bb9\u5668\u6587\u4ef6\u7cfb\u7edf\u4e2d</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ADD%E5%92%8CCOPY/#_5","title":"\u8bed\u6cd5\u00b6","text":"<p>\u6709<code>2</code>\u79cd\u8bed\u6cd5\u683c\u5f0f</p> <ol> <li><code>COPY [--chown=&lt;user&gt;:&lt;group&gt;] &lt;src&gt;... &lt;dest&gt;</code></li> <li><code>COPY [--chown=&lt;user&gt;:&lt;group&gt;] [\"&lt;src&gt;\",... \"&lt;dest&gt;\"]</code>\uff08\u5305\u542b\u7a7a\u683c\u7684\u8def\u5f84\u9002\u7528\u4e8e\u8fd9\u79cd\u65b9\u5f0f\uff09</li> </ol> <p><code>chown</code>\u4ec5\u9002\u7528\u4e8e<code>Linux</code>\u5bb9\u5668\u6784\u5efa</p> <ul> <li><code>&lt;dest&gt;</code>\u662f\u76ee\u5f55\uff0c\u9700\u8981\u4ee5\u659c\u6760\uff08<code>/</code>\uff09\u7ed3\u5c3e</li> <li><code>&lt;dest&gt;</code>\u4e0d\u5b58\u5728\uff0c\u5b83\u5c06\u4e0e\u8def\u5f84\u4e2d\u6240\u6709\u7f3a\u5c11\u7684\u76ee\u5f55\u4e00\u8d77\u521b\u5efa</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ADD%E5%92%8CCOPY/#_6","title":"\u4f5c\u7528\u00b6","text":"<ul> <li>\u5355\u6b21<code>COPY</code>\u64cd\u4f5c\u590d\u5236\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\u5230\u955c\u50cf\uff0c\u5176\u8def\u5f84\u76f8\u5bf9\u4e8e\u751f\u6210\u4e0a\u4e0b\u6587</li> <li><code>&lt;src&gt;</code>\u53ef\u4ee5\u5305\u542b\u901a\u914d\u7b26\uff0c\u7b26\u5408GO\u6587\u4ef6\u5339\u914d</li> <li><code>&lt;dest&gt;</code>\u662f\u4e00\u4e2a\u7edd\u5bf9\u8def\u5f84\uff0c\u6216\u8005\u76f8\u5bf9\u4e8e<code>WORKDIR</code>\u6307\u4ee4\u7684\u8def\u5f84</li> <li><code>&lt;src&gt;</code>\u8def\u5f84\u5fc5\u987b\u5728\u751f\u6210\u4e0a\u4e0b\u6587\u4e2d\uff0c\u4e0d\u80fd\u64cd\u4f5c\u8d85\u51fa\u751f\u6210\u4e0a\u4e0b\u6587\u7684\u8def\u5f84\uff08\u6bd4\u5982<code>COPY ../something /something</code>\uff09\uff0c\u56e0\u4e3a<code>docker build</code>\u7684\u7b2c\u4e00\u6b65\u64cd\u4f5c\u5c31\u662f\u53d1\u9001\u4e0a\u4e0b\u6587\u76ee\u5f55\uff08\u6216\u5b50\u76ee\u5f55\uff09\u5230<code>docker</code>\u5b88\u62a4\u8fdb\u7a0b</li> <li>\u5982\u679c<code>&lt;src&gt;</code>\u662f\u4e00\u4e2a\u76ee\u5f55\uff0c\u5219\u590d\u5236\u8be5\u76ee\u5f55\u7684\u5168\u90e8\u5185\u5bb9\uff0c\u5305\u62ec\u6587\u4ef6\u7cfb\u7edf\u5143\u6570\u636e</li> </ul> <p>\u590d\u5236\u5305\u542b\u7279\u6b8a\u5b57\u7b26\uff08\u6bd4\u5982<code>[</code>\u548c<code>]</code>\uff09\u7684\u6e90\u8def\u5f84\u65f6\uff0c\u9700\u8981\u6309\u7167<code>Golang</code>\u89c4\u5219\u8f6c\u4e49\u8fd9\u4e9b\u8def\u5f84\uff0c\u4ee5\u9632\u6b62\u5b83\u4eec\u88ab\u89c6\u4e3a\u5339\u914d\u7684\u6a21\u5f0f\uff0c\u6bd4\u5982</p> <p><code>COPY arr[[]0].txt /mydir/    # copy a file named \"arr[0].txt\" to /mydir/</code></p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ADD%E5%92%8CCOPY/#_7","title":"\u591a\u9636\u6bb5\u6784\u5efa\u00b6","text":"<p><code>COPY</code>\u6307\u4ee4\u53ef\u4ee5\u8bbe\u7f6e\u6807\u8bc6\u7b26<code>--from=&lt;name|index&gt;</code>\uff0c\u53ef\u7528\u4e8e\u5c06\u6e90\u4f4d\u7f6e\u8bbe\u7f6e\u4e3a\u4e0a\u4e00\u4e2a\u751f\u6210\u9636\u6bb5\uff08\u4f7f\u7528<code>FROM .. AS &lt;name&gt;</code>\u521b\u5efa\uff09\uff0c\u800c\u4e0d\u662f\u7528\u6237\u53d1\u9001\u7684\u751f\u6210\u4e0a\u4e0b\u6587\u3002\u8be5\u6807\u8bc6\u7b26\u8fd8\u63a5\u53d7\u4e3a\u4ee5<code>FROM</code>\u6307\u4ee4\u5f00\u59cb\u7684\u6240\u6709\u5148\u524d\u751f\u6210\u9636\u6bb5\u5206\u914d\u7684\u6570\u5b57\u7d22\u5f15\u3002\u5982\u679c\u627e\u4e0d\u5230\u5177\u6709\u6307\u5b9a\u540d\u79f0\u7684\u751f\u6210\u9636\u6bb5\uff0c\u5219\u5c1d\u8bd5\u4f7f\u7528\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u955c\u50cf</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ADD%E5%92%8CCOPY/#add-vs-copy","title":"ADD vs. COPY\u00b6","text":"<p><code>ADD</code>\u6307\u4ee4\u548c<code>COPY</code>\u6307\u4ee4\u5747\u6267\u884c\u590d\u5236\u64cd\u4f5c\uff0c\u4f46\u5404\u6709\u4fa7\u91cd\u70b9</p> <ul> <li><code>ADD</code>\u6307\u4ee4\u76f8\u5bf9\u4e8e<code>COPY</code>\u6307\u4ee4\uff0c\u80fd\u591f\u590d\u5236\u8fdc\u7a0b<code>URL</code>\u7684\u8d44\u6e90\uff0c\u5e76\u4e14\u80fd\u591f\u89e3\u538b\u7f29\u672c\u5730\u5f52\u6863\u6587\u4ef6</li> <li><code>COPY</code>\u6307\u4ee4\u76f8\u5bf9\u4e8e<code>ADD</code>\u6307\u4ee4\uff0c\u80fd\u591f\u590d\u5236<code>Dockerfile</code>\u4e2d\u5148\u524d\u751f\u6210\u9636\u6bb5\u7684\u6587\u4ef6</li> </ul> <p>\u5982\u679c\u4ec5\u7528\u4e8e\u590d\u5236\u672c\u5730\u6587\u4ef6\u548c\u6587\u4ef6\u5939\uff0c\u63a8\u8350\u4f7f\u7528<code>COPY</code>\u6307\u4ee4\uff0c\u8fd9\u6837\u4e0d\u5bb9\u6613\u53d1\u751f\u8bef\u89e3\u538b\u64cd\u4f5c</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/CMD/","title":"CMD\u00b6","text":"<p>\u53c2\u8003\uff1aCMD</p> <p>\u4e00\u4e2a<code>Dockerfile</code>\u6587\u4ef6\u4ec5\u80fd\u6267\u884c\u4e00\u6761<code>CMD</code>\u6307\u4ee4\u3002\u5982\u679c\u5b58\u5728\u591a\u6761<code>CMD</code>\u6307\u4ee4\uff0c\u4ec5\u6700\u540e\u4e00\u4e2a<code>CMD</code>\u6307\u4ee4\u8d77\u4f5c\u7528</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/CMD/#_1","title":"\u8bed\u6cd5\u00b6","text":"<p><code>CMD</code>\u6307\u4ee4\u6709<code>3</code>\u79cd\u4e66\u5199\u683c\u5f0f\uff1a</p> <ol> <li><code>CMD [\"executable\",\"param1\",\"param2\"]</code>\uff08<code>exec</code>\u5f62\u5f0f\uff0c\u63a8\u8350\uff09</li> <li><code>CMD [\"param1\",\"param2\"]</code>\uff08<code>ENTRYPOINT</code>\u6307\u4ee4\u7684\u9ed8\u8ba4\u53c2\u6570\uff09</li> <li><code>CMD command param1 param2</code>\uff08<code>shell</code>\u5f62\u5f0f\uff09</li> </ol>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/CMD/#_2","title":"\u4f5c\u7528\u00b6","text":"<p><code>CMD</code>\u6307\u4ee4\u7684\u4e3b\u8981\u76ee\u7684\u662f\u63d0\u4f9b\u5bb9\u5668\u9ed8\u8ba4\u64cd\u4f5c\u3002\u53ef\u4ee5\u901a\u8fc7<code>CMD</code>\u6307\u5b9a\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5982\u679c\u5728<code>Dockerfile</code>\u4e2d\u6307\u5b9a\u4e86<code>ENTRYPOINT</code>\uff0c\u90a3\u4e48<code>CMD</code>\u6307\u5b9a\u7684\u53ef\u6267\u884c\u6587\u4ef6\u4f1a\u88ab\u5ffd\u7565</p> <p>\u6ce8\u610f\uff1a\u5982\u679c<code>CMD</code>\u6307\u4ee4\u7528\u4e8e\u63d0\u4f9b<code>ENTRYPOINT</code>\u6307\u4ee4\u53c2\u6570\uff0c\u90a3\u4e48\u4e24\u8005\u5fc5\u987b\u6309<code>JSON</code>\u6570\u7ec4\u683c\u5f0f\u7f16\u5199</p> <p>\u6ce8\u610f\uff1a\u5982\u679c\u4f7f\u7528<code>exec</code>\u683c\u5f0f\uff0c\u5176\u5c06\u4f1a\u89e3\u6790\u6210<code>JSON</code>\u6570\u7ec4\uff0c\u6240\u4ee5\u5fc5\u987b\u4f7f\u7528\u53cc\u5f15\u53f7\u800c\u4e0d\u662f\u5355\u5f15\u53f7</p> <p>\u8c03\u7528<code>shell</code>\u547d\u4ee4\uff1a</p> <ul> <li><code>exec</code>\u5f62\u5f0f\u7684<code>CMD</code>\u6307\u4ee4\u4e0d\u4f1a\u8c03\u7528\u547d\u4ee4\u884c<code>shell</code>\uff0c\u6240\u4ee5\u5982\u679c\u8981\u4f7f\u7528<code>shell</code>\u547d\u4ee4\uff0c\u5fc5\u987b\u663e\u793a\u8c03\u7528<code>shell</code>\uff0c\u6bd4\u5982<code>CMD [ \"sh\", \"-c\", \"echo $HOME\" ]</code></li> <li><code>shell</code>\u5f62\u5f0f\u7684<code>CMD</code>\u6307\u4ee4\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\uff0c\u6bd4\u5982<code>CMD echo $HOME</code></li> </ul> <p>\u8c03\u7528\u975e<code>shell</code>\u547d\u4ee4\uff0c\u5fc5\u987b\u4f7f\u7528<code>exec</code>\u5f62\u5f0f\uff0c\u4e14\u4f7f\u7528\u547d\u4ee4\u7edd\u5bf9\u8def\u5f84\uff0c\u6bd4\u5982<code>CMD [\"/usr/bin/wc\",\"--help\"]</code></p> <p>\u5982\u679c\u5728\u8fd0\u884c<code>docker run</code>\u65f6\u6307\u5b9a\u4e86\u8fd0\u884c\u547d\u4ee4\uff0c\u5c06\u4f1a\u8986\u76d6<code>CMD</code>\u6307\u4ee4\u64cd\u4f5c</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/CMD/#run-vs-cmd","title":"RUN vs. CMD\u00b6","text":"<ul> <li><code>RUN</code>\u7528\u4e8e\u5728\u955c\u50cf\u6784\u5efa\u65f6\u8fd0\u884c\uff0c\u5e76\u63d0\u4ea4\u8fd0\u884c\u7ed3\u679c</li> <li><code>CMD</code>\u5728\u6784\u5efa\u65f6\u4e0d\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\uff0c\u4f46\u6307\u5b9a\u955c\u50cf\u7684\u9884\u671f\u547d\u4ee4</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ENV/","title":"ENV","text":"<p>\u53c2\u8003\uff1aENV</p> <p><code>ENV</code>\u6307\u4ee4\u4e3a\u955c\u50cf\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u5c06\u51fa\u73b0\u5728\u6784\u5efa\u9636\u6bb5\u6240\u6709\u540e\u7eed\u6307\u4ee4\u7684\u73af\u5883\u4e2d</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ENV/#_1","title":"\u8bed\u6cd5\u00b6","text":"<p>\u6709<code>2</code>\u79cd\u5b9e\u73b0\u65b9\u5f0f</p> <pre><code>ENV &lt;key&gt; &lt;value&gt;\nENV &lt;key&gt;=&lt;value&gt; ...\n</code></pre> <p>\u7b2c\u4e00\u79cd\u5f62\u5f0f\u53ea\u80fd\u8bbe\u7f6e\u5355\u4e2a\u53d8\u91cf\u503c\uff0c\u7b2c\u4e00\u4e2a\u7a7a\u683c\u540e\u7684\u6574\u4e2a\u5b57\u7b26\u4e32\u5c06\u88ab\u89c6\u4e3a\u5305\u542b\u7a7a\u767d\u5b57\u7b26\u7684\u53d8\u91cf\u503c\uff0c\u5982\u679c\u4f7f\u7528\u5f15\u53f7\u5b57\u7b26\u9700\u8981\u8f6c\u4e49</p> <p>\u7b2c\u4e8c\u79cd\u5f62\u5f0f\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a\u952e\u503c\u5bf9\uff0c\u5bf9\u4e8e\u7a7a\u683c\uff0c\u53ef\u4ee5\u4f7f\u7528\u5f15\u53f7\u6216\u8005\u8f6c\u4e49\u5b57\u7b26\u8bbe\u7f6e\uff1b\u53ef\u8bbe\u591a\u884c\uff0c\u4f7f\u7528\u53cd\u659c\u6760\u7ed3\u5c3e</p> <pre><code>ENV myName John Doe \nENV myDog Rex The Dog \nENV myCat fluffy # \u4e24\u8005\u7b49\u4ef7 \nENV myName=\"John Doe\" \\\n    myDog=Rex\\ The\\ Dog \\\n    myCat=fluffy\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ENV/#_2","title":"\u547d\u4ee4\u884c\u8bbe\u7f6e\u00b6","text":"<p>\u53ef\u4ee5\u5728\u542f\u52a8\u5bb9\u5668\u65f6\u4f7f\u7528\u6807\u8bc6\u7b26<code>-e, --env list</code>\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf</p> <pre><code>$ docker run --env AUTH=zj --env AUTH2=zj2 -it --rm zjzstu/ubuntu:18.04 bash root@7d1a026785bf:/# echo $AUTH zj \nroot@7d1a026785bf:/# echo $AUTH2 zj2\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/ENV/#_3","title":"\u67e5\u8be2\u00b6","text":"<p>\u9664\u4e86\u5728\u5bb9\u5668\u5185\u67e5\u8be2\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528<code>docker inspect</code>\u67e5\u8be2\u73af\u5883\u53d8\u91cf</p> <p><code>\"Config\": {             ...             ...             \"Env\": [                 \"AUTH=zj\",                 \"AUTH2=zj2\",                 \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"             ],             ...             ...         },</code></p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/EXPOSE/","title":"EXPOSE","text":"<p>\u53c2\u8003\uff1aEXPOSE</p> <p><code>EXPOSE</code>\u6307\u4ee4\u901a\u77e5<code>docker</code>\u5bb9\u5668\u5728\u8fd0\u884c\u65f6\u4fa6\u542c\u6307\u5b9a\u7684\u7f51\u7edc\u7aef\u53e3</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/EXPOSE/#_1","title":"\u8bed\u6cd5\u00b6","text":"<p><code>EXPOSE &lt;port&gt; [&lt;port&gt;/&lt;protocol&gt;...]</code></p> <ul> <li>\u7aef\u53e3\u53f7\u53ef\u4ee5\u4efb\u610f\u6307\u5b9a</li> <li>\u534f\u8bae\u6307\u5b9a\u7aef\u53e3\u662f\u4fa6\u542c<code>TCP</code>\u8fd8\u662f<code>UDP</code>\uff0c\u9ed8\u8ba4\u4e3a<code>TCP</code></li> </ul> <p><code># \u6307\u5b9aTCP\u534f\u8bae\u7aef\u53e3\u4e3a80 EXPOSE 80 # \u6307\u5b9aUDP\u534f\u8bae\u7aef\u53e3\u4e3a80 EXPOSE 80/udp</code></p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/EXPOSE/#_2","title":"\u4f5c\u7528\u00b6","text":"<p><code>EXPOSE</code>\u6307\u4ee4\u5b9e\u9645\u4e0a\u5e76\u4e0d\u53d1\u5e03\u7aef\u53e3\uff0c\u5b83\u7528\u4e8e\u63d0\u793a\u8981\u53d1\u5e03\u7684\u7aef\u53e3\u3002\u4f7f\u7528<code>docker run</code>\u542f\u52a8\u5bb9\u5668\u65f6\uff0c\u6709<code>2</code>\u79cd\u65b9\u5f0f\u6307\u5b9a\u5bb9\u5668\u76d1\u542c\u7684\u7aef\u53e3\u53f7</p> <ol> <li>\u4f7f\u7528\u6807\u8bc6\u7b26<code>-P, --publish-all</code>\u6765\u53d1\u5e03<code>EXPOSE</code>\u6307\u5b9a\u7684\u7aef\u53e3\uff0c<code>docker</code>\u4f1a\u968f\u673a\u6620\u5c04\u4e3b\u673a\u7aef\u53e3\u5230\u5bb9\u5668\u7684\u4fa6\u542c\u7aef\u53e3</li> <li> <p>\u4f7f\u7528\u6807\u8bc6\u7b26<code>-p, --publish</code>\u6307\u5b9a\u5bb9\u5668\u548c\u4e3b\u673a\u7684\u6620\u5c04\u7aef\u53e3</p> <p><code>-p host-port:container-port/&lt;protocol&gt; # \u6bd4\u5982\u6620\u5c04\u4e3b\u673a\u7aef\u53e3\u53f780\u5230\u5bb9\u56688080\u7aef\u53e3\uff0c\u4fa6\u542cTCP\u534f\u8bae -p 80:8080/tcp</code></p> </li> </ol>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/EXPOSE/#_3","title":"\u793a\u4f8b\u00b6","text":"<p>\u53ef\u4ee5\u540c\u65f6\u8bbe\u5b9a<code>TCP</code>\u548c<code>UDP</code>\u76d1\u542c\u7aef\u53e3\u4e3a\u540c\u4e00\u4e2a\uff0c\u56e0\u4e3a\u5bb9\u5668\u4f1a\u5c06\u5176\u6620\u5c04\u5230\u4e0d\u540c\u7684\u4e3b\u673a\u7aef\u53e3</p> <p>EXPOSE 80/tcp  EXPOSE 80/udp</p> <p>\u4f7f\u7528<code>-p</code>\u6807\u8bc6\u7b26\u6307\u5b9a\u6620\u5c04\u7aef\u53e3\u5982\u4e0b\uff1a</p> <p><code>$ docker run -it -p 10001:80/tcp -p 10002:80/udp ...</code></p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/EXPOSE/#_4","title":"\u6ce8\u610f","text":"<p><code>EXPOSE</code> \u6307\u4ee4\u672c\u8eab\u4e0d\u4f1a\u81ea\u52a8\u8fdb\u884c\u7aef\u53e3\u6620\u5c04\u3002\u5b83\u4ec5\u58f0\u660e\u5bb9\u5668\u4e2d\u670d\u52a1\u5c06\u76d1\u542c\u7684\u7aef\u53e3\uff0c\u4ee5\u4fbf\u5f00\u53d1\u8005\u6216\u81ea\u52a8\u5316\u5de5\u5177\u4e86\u89e3\u5bb9\u5668\u5185\u90e8\u7684\u670d\u52a1\u7aef\u53e3\u3002</p> <p>\u8981\u5c06\u5bbf\u4e3b\u673a\u7684\u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u5185\u90e8\u7684\u4e0d\u540c\u7aef\u53e3\uff0c\u4f8b\u5982\u5c06\u5bbf\u4e3b\u673a\u7684\u7aef\u53e3 <code>80</code> \u6620\u5c04\u5230\u5bb9\u5668\u5185\u90e8\u7684\u7aef\u53e3 <code>8080</code>\uff0c\u9700\u8981\u5728\u8fd0\u884c\u5bb9\u5668\u65f6\u4f7f\u7528 <code>docker run</code> \u547d\u4ee4\u4e2d\u7684 <code>-p</code> \u53c2\u6570\u6765\u6307\u5b9a\u7aef\u53e3\u6620\u5c04\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/EXPOSE/#80-8080","title":"\u793a\u4f8b\uff1a\u5c06\u5bbf\u4e3b\u673a\u7684\u7aef\u53e3 <code>80</code> \u6620\u5c04\u5230\u5bb9\u5668\u7684\u7aef\u53e3 <code>8080</code>","text":"<p>\u5047\u8bbe Dockerfile \u4e2d\u5b9a\u4e49\u4e86 <code>EXPOSE 8080</code>\uff0c\u5bb9\u5668\u5185\u90e8\u7684\u5e94\u7528\u76d1\u542c\u7684\u662f <code>8080</code> \u7aef\u53e3\uff0c\u4f60\u53ef\u4ee5\u8fd9\u6837\u8fd0\u884c\u5bb9\u5668\uff1a</p> <p>bash</p> <p>\u590d\u5236\u4ee3\u7801</p> <p><code>docker run -p 80:8080 my_image</code></p> <p>\u8fd9\u6761\u547d\u4ee4\u7684\u610f\u601d\u662f\uff1a</p> <ul> <li>\u5bbf\u4e3b\u673a\u7684 <code>80</code> \u7aef\u53e3\u4f1a\u6620\u5c04\u5230\u5bb9\u5668\u7684 <code>8080</code> \u7aef\u53e3\u3002</li> <li>\u5916\u90e8\u8bbf\u95ee\u5bbf\u4e3b\u673a\u7684 <code>80</code> \u7aef\u53e3\u65f6\uff0c\u5b9e\u9645\u4f1a\u8bf7\u6c42\u5bb9\u5668\u5185\u90e8\u7684 <code>8080</code> \u7aef\u53e3\u3002</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/FROM/","title":"FROM","text":"<p>\u53c2\u8003\uff1aFROM</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/FROM/#_1","title":"\u8bed\u6cd5\u00b6","text":"<p><code>FROM &lt;image&gt; [AS &lt;name&gt;] FROM &lt;image&gt;[:&lt;tag&gt;] [AS &lt;name&gt;] FROM &lt;image&gt;[@&lt;digest&gt;] [AS &lt;name&gt;]</code></p> <p><code>FROM</code>\u6307\u4ee4\u901a\u5e38\u4f5c\u4e3a<code>Dockerfile</code>\u6307\u4ee4\u7684\u5f00\u59cb\u8bed\u53e5\uff0c\u5176\u521d\u59cb\u5316\u4e00\u4e2a\u65b0\u7684\u6784\u5efa\u9636\u6bb5\uff0c\u5e76\u4e3a\u540e\u7eed\u6307\u4ee4\u8bbe\u7f6e\u57fa\u7840\u955c\u50cf</p> <ul> <li><code>ARG</code>\u6307\u4ee4\u662f\u552f\u4e00\u4e00\u4e2a\u53ef\u80fd\u5728<code>Dockerfile</code>\u4e2d\u9886\u5148\u4e8e<code>FROM</code>\u7684\u6307\u4ee4</li> <li>\u5728\u4e00\u4e2a<code>Dockerfile</code>\u6587\u4ef6\u4e2d\u53ef\u4ee5\u51fa\u73b0\u591a\u6b21<code>FROM</code>\u6307\u4ee4\u3002\u53ef\u7528\u4e8e\u6784\u5efa\u591a\u4e2a\u955c\u50cf\u6216\u8005\u4e3a\u540e\u9762\u7684\u6784\u5efa\u521b\u5efa\u4f9d\u8d56\u955c\u50cf<ul> <li>\u5bf9\u4e8e\u72ec\u7acb\u6784\u5efa\u7684\u955c\u50cf\uff0c\u53ea\u9700\u6ce8\u610f\u6bcf\u4e2a<code>FROM</code>\u6307\u4ee4\u524d\u6700\u540e\u4e00\u6b21\u63d0\u4ea4\u7684\u955c\u50cf<code>ID</code></li> <li>\u6bcf\u6b21<code>FROM</code>\u6307\u4ee4\u90fd\u4f1a\u6e05\u7406\u4e4b\u524d\u6307\u4ee4\u7684\u72b6\u6001</li> </ul> </li> <li>\u8d4b\u503c\u955c\u50cf\u522b\u540d<code>name</code>\uff0c\u53ef\u7528\u4e8e\u540e\u7eed\u7684<code>FROM</code>\u6216<code>COPY --from=&lt;name|index&gt;</code>\u6307\u4ee4</li> <li><code>tag</code>\u548c<code>digest</code>\u53ef\u9009\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u9ed8\u8ba4\u4f7f\u7528<code>latest</code>\u4f5c\u4e3a\u6807\u7b7e</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/FROM/#argfrom","title":"ARG\u548cFROM\u7684\u4ea4\u4e92\u00b6","text":"<p>\u6307\u4ee4<code>ARG</code>\u7528\u4e8e\u58f0\u660e\u952e\u503c\u5bf9\uff0c\u5176\u53ef\u58f0\u660e\u5728\u4efb\u4f55\u4f4d\u7f6e\uff0c\u5982\u679c\u58f0\u660e\u5728\u7b2c\u4e00\u4e2a<code>FROM</code>\u6307\u4ee4\u4e4b\u524d\uff0c\u5373\u53ef\u4f5c\u7528\u4e8e\u6240\u6709\u7684<code>FROM</code>\u6307\u4ee4</p> <pre><code>$ cat Dockerfile \nARG CODE_VERSION=18.04\nFROM zjzstu/ubuntu:${CODE_VERSION}\n\nRUN apt-get update &amp;&amp; apt-get install -y tree\n\nENTRYPOINT [\"/usr/bin/tree\"]\nCMD [\"-L\", \"1\"]\n</code></pre> <p>\u6bcf\u4e2a<code>FROM</code>\u6307\u4ee4\u90fd\u8868\u793a\u5f00\u59cb\u4e00\u6b21\u65b0\u7684\u6784\u5efa\uff0c\u4f1a\u6e05\u9664\u4e4b\u524d\u8bbe\u7f6e\u7684\u6307\u4ee4\uff0c\u5305\u62ec<code>ARG</code>\u3002\u5982\u679c\u60f3\u8981\u8ba9<code>FROM</code>\u6307\u4ee4\u4e4b\u540e\u7684\u6307\u4ee4\u80fd\u591f\u4f7f\u7528\u7b2c\u4e00\u4e2a<code>FROM</code>\u6307\u4ee4\u4e4b\u524d\u8bbe\u7f6e\u7684<code>ARG</code>\u503c\uff0c\u53ef\u4ee5\u5728<code>FROM</code>\u6307\u4ee4\u540e\u58f0\u660e<code>ARG</code></p> <pre><code>$ cat Dockerfile ARG CODE_VERSION=18.04 FROM zjzstu/ubuntu:${CODE_VERSION} ARG CODE_VERSION RUN echo ${CODE_VERSION}\n</code></pre> <p>\u6784\u5efa\u955c\u50cf\u8fc7\u7a0b\u4e2d\u8f93\u51fa<code>CODE_VERSION</code></p> <pre><code>$ docker build -t arg:v1 .\nSending build context to Docker daemon  81.82MB\nStep 1/4 : ARG CODE_VERSION=18.04\nStep 2/4 : FROM zjzstu/ubuntu:${CODE_VERSION}\n ---&gt; 5493327e7708\nStep 3/4 : ARG CODE_VERSION\n ---&gt; Running in 52229319295c\nRemoving intermediate container 52229319295c\n ---&gt; 047fcfd13f1b\nStep 4/4 : RUN echo ${CODE_VERSION}\n ---&gt; Running in 0f4ff5a42f32\n\n18.04  // \u8fd9\u91cc\nRemoving intermediate container 0f4ff5a42f32\n ---&gt; d729d58eb86f\nSuccessfully built d729d58eb86f\nSuccessfully tagged arg:v1\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/RUN/","title":"RUN\u00b6","text":"<p>\u53c2\u8003\uff1aRUN</p> <p><code>RUN</code>\u6307\u4ee4\u5728\u5f53\u524d\u955c\u50cf\u4e0a\u6267\u884c\u64cd\u4f5c\uff0c\u7136\u540e\u5c06\u63d0\u4ea4\u7ed3\u679c\u4e3a\u65b0\u7684\u955c\u50cf\uff0c\u4f5c\u7528\u4e8e<code>Dockerfile</code>\u7684\u4e0b\u4e00\u6b65</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/RUN/#_1","title":"\u8bed\u6cd5\u00b6","text":"<p><code>RUN</code>\u6307\u4ee4\u6709<code>2</code>\u79cd\u683c\u5f0f\uff1a</p> <ul> <li><code>RUN &lt;command&gt;</code>\uff08<code>shell</code>\u5f62\u5f0f\uff0c\u547d\u4ee4\u8fd0\u884c\u5728\u4e00\u4e2a<code>shell</code>\u4e0a\u3002\u5bf9<code>Linux</code>\u800c\u8a00\uff0c\u9ed8\u8ba4\u662f<code>/bin/sh -c</code>\uff1b\u5bf9<code>Windows</code>\u800c\u8a00\uff0c\u9ed8\u8ba4\u662f<code>cmd /S /C</code>\uff09</li> <li><code>RUN [\"executable\", \"param1\", \"param2\"]</code>\uff08<code>exec</code>\u5f62\u5f0f\uff09</li> </ul> <p>\u6ce8\u610f\u4e00\uff1a\u4f7f\u7528<code>shell</code>\u5f62\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528\u53cd\u659c\u7ebf\uff08<code>\\, backslash</code>\uff09\u5c06\u5355\u884c<code>RUN</code>\u6307\u4ee4\u6269\u5c55\u6210\u591a\u884c\uff0c\u6709\u52a9\u4e8e\u914d\u7f6e\u548c\u7406\u89e3</p> <pre><code>RUN apt-get update &amp;&amp; \\\n        apt-get install -f \\\n        pt-get install -y net-tools\n</code></pre> <p>\u6ce8\u610f\u4e8c\uff1a<code>exec</code>\u5f62\u5f0f\u5fc5\u987b\u4f7f\u7528\u53cc\u5f15\u53f7\u800c\u4e0d\u662f\u5355\u5f15\u53f7</p> <p>\u6ce8\u610f\u4e09\uff1a<code>exec</code>\u5f62\u5f0f\u7684<code>RUN</code>\u6307\u4ee4\u4e0d\u4f1a\u8c03\u7528\u547d\u4ee4<code>shell</code>\uff0c\u5fc5\u987b\u663e\u5f0f\u8c03\u7528<code>shell</code></p> <p><code>RUN [\"sh\", \"-c\", \"echo hello\"]</code></p> <p>\u5bf9\u4e8e<code>Windows</code>\u7cfb\u7edf\u800c\u8a00\uff0c\u9700\u8981\u8f6c\u4e49\u53cd\u659c\u6760\uff0c\u6bd4\u5982<code>RUN [\"c:\\\\windows\\\\system32\\\\tasklist.exe\"]</code></p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/RUN/#_2","title":"\u7f13\u5b58\u00b6","text":"<p><code>RUN</code>\u6307\u4ee4\u7684\u7f13\u5b58\u4e0d\u4f1a\u5728\u4e0b\u4e00\u4e2a\u751f\u6210\u671f\u95f4\u81ea\u52a8\u5931\u6548\uff0c\u6240\u4ee5<code>RUN apt-get dist-upgrade -y</code>\u7684\u7f13\u5b58\u5c06\u5728\u4e0b\u6b21\u6784\u5efa\u65f6\u4f7f\u7528</p> <p>\u8bbe\u7f6e\u7f13\u5b58\u5185\u5bb9\u5931\u6548\uff0c\u9700\u8981\u5728\u6784\u5efa\u65f6\u8bbe\u7f6e\u6807\u8bc6\u7b26<code>--no-cache</code>\uff0c\u6bd4\u5982<code>docker build --no-cache .</code></p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/dockerfile/%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/RUN/#shell","title":"\u4e0d\u540cshell\u00b6","text":"<p>\u5982\u679c\u8981\u4f7f\u7528\u4e0d\u540c<code>shell</code>\uff0c\u64cd\u4f5c\u5982\u4e0b\uff1a</p> <ul> <li>\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u6307\u5b9a\u65b0\u7684<code>shell</code></li> <li>\u4f7f\u7528<code>SHELL</code>\u6307\u4ee4\u66f4\u65b0</li> </ul> <p><code>RUN [\"/bin/bash\", \"-c\", \"echo hello\"]</code></p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker%E5%91%BD%E4%BB%A4/docker%E5%91%BD%E4%BB%A4%E8%AF%B4%E6%98%8E/","title":"Docker\u547d\u4ee4\u8bf4\u660e","text":"<p>\u5b98\u7f51\uff1ahttps://docs.docker.com/reference/cli/docker/</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker%E5%91%BD%E4%BB%A4/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"Docker\u5e38\u7528\u547d\u4ee4","text":"<p>\u53c2\u8003\uff1ahttps://juejin.cn/post/7245275769219203132</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker%E5%91%BD%E4%BB%A4/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_1","title":"\u955c\u50cf\u76f8\u5173","text":"<ul> <li> <p>\u641c\u7d22\u955c\u50cf</p> <ul> <li>docker search tomcat</li> </ul> </li> <li> <p>\u62c9\u53d6\u955c\u50cf(\u00a0\u9ed8\u8ba4\u62c9\u53d6\u7684\u5c31\u662f\u00a0<code>latest</code>)</p> <ul> <li>docker pull tomcat</li> </ul> </li> <li> <p>\u4f7f\u7528Dockerfile\u6784\u5efa\u955c\u50cf</p> <ul> <li>docker build -t \u955c\u50cf\u540d:\u7248\u672c\u53f7 . (\u6ce8\u610f\u6700\u540e\u8fb9\u7684\u70b9 <code>.</code> \u8868\u793a\u5f53\u524d\u76ee\u5f55, \u522b\u4e22\u4e86.)<ul> <li>docker build -t my_image:1.0 .</li> </ul> </li> <li>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>Dockerfile</code> \u6587\u4ef6\u4f4d\u4e8e\u6784\u5efa\u4e0a\u4e0b\u6587\u7684\u6839\u76ee\u5f55\u4e0b\uff0c\u56e0\u6b64 <code>docker build</code> \u547d\u4ee4\u4f1a\u81ea\u52a8\u8bfb\u53d6\u4e0a\u4e0b\u6587\u6839\u8def\u5f84\u4e0b\u540d\u4e3a <code>Dockerfile</code> \u7684\u6587\u4ef6\u3002\u5982\u679c <code>Dockerfile</code> \u6587\u4ef6\u4e0d\u5728\u6839\u76ee\u5f55\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>-f</code> \u9009\u9879\u6765\u6307\u5b9a <code>Dockerfile</code> \u6587\u4ef6\u7684\u8def\u5f84\u3002\u4f8b\u5982\uff0c\u4ee5\u4e0b\u547d\u4ee4\u5c06\u4f7f\u7528 <code>/path/to/Dockerfile</code> \u6587\u4ef6\u6784\u5efa\u955c\u50cf\uff1a<ul> <li>docker build -f /path/to/Dockerfile -t image_name:tag .</li> </ul> </li> </ul> </li> <li> <p>\u67e5\u770b\u672c\u5730\u955c\u50cf</p> <ul> <li>docker images</li> </ul> </li> <li> <p>\u5220\u9664\u672c\u5730\u955c\u50cf(&gt; \u4e3a\u4e86\u51c6\u786e\u5220\u9664\u4f60\u7684\u76ee\u6807\u955c\u50cf, \u5efa\u8bae\u5220\u9664\u6709\u591a\u4e2a\u7248\u672c\u5b58\u5728\u7684\u955c\u50cf\u65f6, \u4f7f\u7528\u955c\u50cf\u540d:\u7248\u672c\u53f7, \u5982\u679c\u4e8c\u8005\u955c\u50cf\u00a0<code>ID</code>\u00a0\u4e0d\u540c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u955c\u50cf\u00a0<code>ID</code>\u00a0\u8fdb\u884c\u5220\u9664, \u9632\u6b62\u8bef\u5220)</p> <ul> <li>docker rmi mysql:5.7</li> <li>docker rmi 2be84dd575ee</li> </ul> </li> <li> <p>\u5bfc\u51fa\u955c\u50cf</p> <ul> <li>docker save -o \u7ed9\u5bfc\u51fa\u7684\u955c\u50cf\u538b\u7f29\u5305\u8d77\u4e2a\u6587\u4ef6\u540d \u8981\u5bfc\u51fa\u7684\u955c\u50cf\u540d:\u7248\u672c\u53f7<ul> <li>docker save -o image.tar target_image:tag</li> </ul> </li> <li>tip: \u5982\u679c\u7528\u955c\u50cf\u00a0<code>ID</code>\u00a0\u5bfc\u51fa\u7684\u955c\u50cf\u5728\u5bfc\u5165\u4e4b\u540e\u662f\u6ca1\u6709\u540d\u5b57\u548c<code>tag</code>\u7684, \u8fd9\u79cd\u60c5\u51b5\u6211\u4eec\u53ef\u4ee5\u63d0\u524d\u4f7f\u7528\u00a0<code>docker tag</code>\u00a0\u7ed9\u955c\u50cf\u6539\u540d\u5b57<ul> <li>docker tag image_id new_image_name:tag</li> </ul> </li> </ul> </li> <li> <p>\u5bfc\u5165\u955c\u50cf</p> <ul> <li>docker load -i \u6307\u5b9a\u8981\u5bfc\u5165\u7684\u955c\u50cf\u538b\u7f29\u5305\u6587\u4ef6\u540d<ul> <li>docker load -i image.tar</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker%E5%91%BD%E4%BB%A4/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_2","title":"\u5bb9\u5668\u76f8\u5173\u547d\u4ee4","text":"<ul> <li> <p>\u521b\u5efa\u5bb9\u5668\uff08docker run \u955c\u50cf\u540d\u79f0\uff09</p> <ul> <li>docker run -d --name=my_container -p 8080:8080 tomcat:latest</li> <li>\u547d\u4ee4\u5e38\u7528\u53c2\u6570\u89e3\u91ca\uff1a<ul> <li><code>-d</code>: \u540e\u53f0\u8fd0\u884c\u5bb9\u5668\uff0c\u5e76\u8fd4\u56de\u5bb9\u5668<code>ID</code>\uff1b</li> <li><code>-p</code>: \u6307\u5b9a\u7aef\u53e3\u6620\u5c04\uff0c\u683c\u5f0f\u4e3a\uff1a\u4e3b\u673a(\u5bbf\u4e3b)\u7aef\u53e3:\u5bb9\u5668\u7aef\u53e3\uff1b</li> <li><code>-i</code>: \u4ee5\u4ea4\u4e92\u6a21\u5f0f\u8fd0\u884c\u5bb9\u5668\uff0c\u901a\u5e38\u4e0e <code>-t</code> \u540c\u65f6\u4f7f\u7528\uff1b</li> <li><code>-t</code>: \u4e3a\u5bb9\u5668\u91cd\u65b0\u5206\u914d\u4e00\u4e2a\u4f2a\u8f93\u5165\u7ec8\u7aef\uff0c\u901a\u5e38\u4e0e <code>-i</code> \u540c\u65f6\u4f7f\u7528\uff1b</li> <li><code>--name=my_container</code>: \u4e3a\u5bb9\u5668\u6307\u5b9a\u4e00\u4e2a\u540d\u79f0\uff1b</li> <li><code>--dns 8.8.8.8</code>: \u6307\u5b9a\u5bb9\u5668\u4f7f\u7528\u7684<code>DNS</code>\u670d\u52a1\u5668\uff0c\u9ed8\u8ba4\u548c\u5bbf\u4e3b\u4e00\u81f4\uff1b</li> </ul> </li> </ul> </li> <li> <p>\u8fdb\u5165\u5bb9\u5668(\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u624d\u53ef\u4ee5\u8fdb\u5165)</p> <ul> <li>\u4f7f\u7528\u5bb9\u5668\u540d<ul> <li>docker exec -it my_container /bin/bash</li> </ul> </li> <li>\u4f7f\u7528\u5bb9\u5668ID<ul> <li>docker exec -it container_id /bin/bash</li> </ul> </li> </ul> </li> <li> <p>\u67e5\u770b\u5bb9\u5668\u4fe1\u606f</p> <ul> <li>\u5bb9\u5668\u540d <ul> <li>docker inspect my_container</li> </ul> </li> <li>\u5bb9\u5668ID <ul> <li>docker inspect container_id</li> </ul> </li> </ul> </li> <li> <p>\u67e5\u770b\u5bb9\u5668\u5217\u8868</p> <ul> <li>\u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u5217\u8868 <ul> <li>docker ps</li> </ul> </li> <li>\u67e5\u770b\u5168\u90e8\u5bb9\u5668(\u5305\u62ec\u5df2\u7ecf\u505c\u6b62\u7684\u5bb9\u5668) <ul> <li>docker ps -a</li> </ul> </li> <li>\u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668ID\u5217\u8868 <ul> <li>docker ps -q</li> </ul> </li> </ul> </li> <li> <p>\u505c\u6b62\u8fd0\u884c\u7684\u5bb9\u5668</p> <ul> <li>\u4f7f\u7528\u5bb9\u5668\u540d\u505c\u6b62 <ul> <li>docker stop my_container</li> </ul> </li> <li>\u4f7f\u7528\u5bb9\u5668ID\u505c\u6b62 <ul> <li>docker stop container_id</li> </ul> </li> <li>\u4f7f\u7528\u5bb9\u5668ID\u505c\u6b62\u591a\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668 <ul> <li>docker stop <code>docker ps -q</code></li> </ul> </li> </ul> </li> <li> <p>\u542f\u52a8\u5df2\u505c\u6b62\u7684\u5bb9\u5668</p> <ul> <li>\u4f7f\u7528\u5bb9\u5668\u540d\u542f\u52a8<ul> <li>docker start my_container</li> </ul> </li> <li>\u4f7f\u7528\u5bb9\u5668ID\u542f\u52a8 <ul> <li>docker start container_id</li> </ul> </li> <li>\u4f7f\u7528\u5bb9\u5668ID\u542f\u52a8\u591a\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668 <ul> <li>docker start <code>docker ps -q</code></li> </ul> </li> </ul> </li> <li> <p>\u5220\u9664\u5bb9\u5668</p> <ul> <li>\u7528\u5bb9\u5668\u540d\u5220\u9664 <ul> <li>docker rm my_container</li> </ul> </li> <li>\u7528\u5bb9\u5668ID\u5220\u9664<ul> <li>docker rm container_id </li> </ul> </li> <li>\u5220\u9664\u591a\u4e2a\u672a\u8fd0\u884c\u7684\u5bb9\u5668, \u8fd0\u884c\u4e2d\u7684\u65e0\u6cd5\u5220\u9664 <ul> <li>docker rm <code>docker ps -aq</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker%E5%91%BD%E4%BB%A4/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_3","title":"\u5bb9\u5668\u4e0e\u5bbf\u4e3b\u673a\u4e4b\u95f4\u7684\u6570\u636e\u62f7\u8d1d(\u5bbf\u4e3b\u673a\u4e0a\u6267\u884c)","text":"<ul> <li>\u5c06\u5bb9\u5668\u4e2d\u76ee\u5f55\u6216\u6587\u4ef6\u62f7\u8d1d\u5230\u5bbf\u4e3b\u673a</li> </ul> <pre><code># \u5c06\u5bb9\u5668\u4e2d /app/html \u76ee\u5f55\u62f7\u8d1d\u5230\u5bbf\u4e3b\u673a /mnt/ \u76ee\u5f55\u4e2d \ndocker cp container_id:/app/html /mnt/ \n\n# \u5c06\u5bb9\u5668\u4e2d /app/html/index.html \u6587\u4ef6\u62f7\u8d1d\u5230\u5bbf\u4e3b\u673a /mnt/dist/ \u76ee\u5f55\u4e2d \ndocker cp container_id:/app/html/index.html /mnt/dist/\n\n\n</code></pre> <ul> <li>\u5c06\u5bbf\u4e3b\u673a\u76ee\u5f55\u6216\u6587\u4ef6\u62f7\u8d1d\u5230\u5bb9\u5668\u4e2d</li> </ul> <pre><code># \u5c06\u5bbf\u4e3b\u673a /mnt/dist \u76ee\u5f55\u62f7\u8d1d\u5230\u5bb9\u5668\u7684 /app \u76ee\u5f55\u4e2d\ndocker cp /mnt/dist container_id:/app/\n\n# \u5c06\u5bbf\u4e3b\u673a /mnt/dist/index.html \u6587\u4ef6\u62f7\u8d1d\u5230\u5bb9\u5668\u7684 /app/html \u76ee\u5f55\u4e2d\ndocker cp /mnt/dist/index.html container_id:/app/html/\n\n</code></pre> <ul> <li>\u5c06\u5bbf\u4e3b\u673a/mnt/dist\u76ee\u5f55\u62f7\u8d1d\u5230\u5bb9\u5668\u4e2d, \u5e76\u91cd\u547d\u540d\u4e3ahtml</li> </ul> <pre><code># \u5c06\u5bbf\u4e3b\u673a /mnt/dist \u76ee\u5f55\u62f7\u8d1d\u5230\u5bb9\u5668\u7684 /app/ \u4e2d\u91cd\u547d\u540d\u4e3a html \ndocker cp /mnt/dist container_id:/app/html \n\n# \u5c06\u5bbf\u4e3b\u673a /mnt/dist/index1.html \u6587\u4ef6\u62f7\u8d1d\u5230\u5bb9\u5668\u7684 /app/html/ \u4e2d\u91cd\u547d\u540d\u4e3a index.html docker cp /mnt/dist/index1.html container_id:/app/html/index.html\n\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker%E5%9F%BA%E7%A1%80/docker%E5%AE%89%E8%A3%85/","title":"Docker\u5b89\u88c5","text":"<ul> <li>ubuntu\u5b89\u88c5docker\uff1ahttps://www.runoob.com/docker/ubuntu-docker-install.html</li> </ul> <pre><code>\n# ### \u5378\u8f7d\u65e7\u7248\u672c\nsudo apt-get remove docker docker-engine docker.io containerd runc\n\n# ### \u8bbe\u7f6e\u4ed3\u5e93\nsudo apt-get update\nsudo\u00a0apt-get install\u00a0\\  \n\u00a0 \u00a0 apt-transport-https \\  \n\u00a0 \u00a0 ca-certificates \\  \n\u00a0 \u00a0 curl \\  \n\u00a0 \u00a0 gnupg-agent \\  \n\u00a0 \u00a0 software-properties-common\n\n#\u6dfb\u52a0 Docker \u7684\u5b98\u65b9 GPG \u5bc6\u94a5\uff1a\nmkdir -p /etc/apt/keyrings/\ncurl -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc\n\n# \u4f7f\u7528\u4ee5\u4e0b\u6307\u4ee4\u8bbe\u7f6e\u7a33\u5b9a\u7248\u4ed3\u5e93\necho\u00a0\\  \n\u00a0\u00a0\"deb [arch=$(dpkg --print-architecture)\u00a0signed-by=/etc/apt/keyrings/docker.asc] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/\u00a0\\  \n\u00a0$(. /etc/os-release &amp;&amp; echo \"$VERSION_CODENAME\")\u00a0stable\"\u00a0|\u00a0\\  \n\u00a0\u00a0sudo\u00a0tee\u00a0/etc/apt/sources.list.d/docker.list\u00a0&gt;\u00a0/dev/null\n\nsudo\u00a0apt-get update\n\n# ### \u5b89\u88c5 Docker Engine-Community\nsudo apt-get install docker-ce docker-ce-cli containerd.io\n\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker%E5%9F%BA%E7%A1%80/%E8%A7%A3%E5%86%B3docker%20pull%E5%A4%B1%E8%B4%A5/","title":"\u89e3\u51b3docker pull\u5931\u8d25","text":"<p>1. \u6253\u5f00daemon.json\u6587\u4ef6*(\u6ca1\u6709\u5c31\u521b\u5efa\u4e00\u4e2a)</p> <pre><code>vim /etc/docker/daemon.json\n</code></pre> <p>2. \u5c06\u5176\u955c\u50cf\u5730\u5740\u8fdb\u884c\u66ff\u6362</p> <pre><code>{\n\"registry-mirrors\": [\n    \"https://docker.m.daocloud.io\",\n    \"https://dockerproxy.com\",\n    \"https://registry.docker-cn.com\",\n    \"https://docker.mirrors.ustc.edu.cn\",\n    \"https://hub-mirror.c.163.com\",\n    \"https://hub.uuuadc.top\",\n    \"https://docker.anyhub.us.kg\",\n    \"https://dockerhub.jobcher.com\",\n    \"https://dockerhub.icu\",\n    \"https://docker.ckyl.me\",\n    \"https://docker.awsl9527.cn\",\n    \"https://mirror.baidubce.com\"\n  ]\n}\n\n</code></pre> <p>3.\u91cd\u542fdocker\u670d\u52a1</p> <pre><code>systemctl daemon-reload &amp;&amp; systemctl restart docker\n</code></pre> <p>\u53c2\u8003\uff1a https://juejin.cn/post/7439009350049988635  </p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker%E7%BD%91%E7%BB%9C/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3docker%20%E7%9A%84%E7%BD%91%E7%BB%9C/","title":"\u5982\u4f55\u7406\u89e3docker \u7684\u7f51\u7edc","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker%E7%BD%91%E7%BB%9C/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3docker%20%E7%9A%84%E7%BD%91%E7%BB%9C/#_1","title":"\u5bbf\u4e3b\u673a\u7684\u7f51\u7edc","text":"<ul> <li>\u4e0b\u9762\u662f\u5728\u4e00\u53f0ECS\u5185\u8d77\u4e86\u4e00\u4e2adocker\u670d\u52a1</li> </ul> <pre><code>docker ps\nCONTAINER ID   IMAGE                   COMMAND                  CREATED        STATUS             PORTS     NAMES\n272ba0e789b2   docker-python-monitor   \"sh -c 'chmod 0644 /\u2026\"   24 hours ago   Up About an hour             ens_monitor_cron\n</code></pre> <ul> <li>ECS\u7684\u7f51\u7edc\u60c5\u51b5</li> </ul> <pre><code>[root@test ~]# ip a\n1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host \n       valid_lft forever preferred_lft forever\n2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000\n    link/ether fa:16:3e:c3:f1:ad brd ff:ff:ff:ff:ff:ff\n    altname enp0s3\n    altname ens3\n    inet 10.104.68.181/25 brd 10.104.68.255 scope global dynamic noprefixroute eth0\n       valid_lft 53781sec preferred_lft 53781sec\n    inet6 fd00:4:68:128:1000::6d/128 scope global dynamic noprefixroute \n       valid_lft 63627sec preferred_lft 63627sec\n    inet6 fe80::f816:3eff:fec3:f1ad/64 scope link noprefixroute \n       valid_lft forever preferred_lft forever\n3: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN group default \n    link/ether 36:08:48:51:f5:2b brd ff:ff:ff:ff:ff:ff\n    inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::3408:48ff:fe51:f52b/64 scope link \n       valid_lft forever preferred_lft forever\n10: br-d9231d44a1ab: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default \n    link/ether 92:be:0c:03:3c:83 brd ff:ff:ff:ff:ff:ff\n    inet 172.18.0.1/16 brd 172.18.255.255 scope global br-d9231d44a1ab\n       valid_lft forever preferred_lft forever\n    inet6 fe80::90be:cff:fe03:3c83/64 scope link \n       valid_lft forever preferred_lft forever\n21: veth9780200@if2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master br-d9231d44a1ab state UP group default \n    link/ether ea:9f:57:00:bf:1d brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet6 fe80::e89f:57ff:fe00:bf1d/64 scope link \n       valid_lft forever preferred_lft forever\n\n[root@test ~]# ip r\ndefault via 10.104.68.129 dev eth0 proto dhcp src 10.104.68.181 metric 100 \n10.104.68.128/25 dev eth0 proto kernel scope link src 10.104.68.181 metric 100 \n169.254.169.254 via 10.104.68.150 dev eth0 proto dhcp src 10.104.68.181 metric 100 \n172.17.0.0/16 dev docker0 proto kernel scope link src 172.17.0.1 linkdown \n172.18.0.0/16 dev br-d9231d44a1ab proto kernel scope link src 172.18.0.1 \n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker%E7%BD%91%E7%BB%9C/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3docker%20%E7%9A%84%E7%BD%91%E7%BB%9C/#docker","title":"\u5206\u6790\u4e00\u4e0bdocker\u5bb9\u5668\u7684\u7f51\u7edc\u914d\u7f6e\uff1a","text":"<ul> <li>\u53ef\u4ee5\u770b\u5230\u5bb9\u5668\u9ed8\u8ba4\u4f7f\u7528\u7684\u662f\u6865\u63a5\u6a21\u5f0f\uff0cens_monitor_cron\u8fd9\u4e2a\u5bb9\u5668\u7684\u5185\u7f51IP\u662f172.18.0.2\uff0c\u8d77\u8bf7\u6c42\u4f1a\u90fd\u8f6c\u53d1\u5230\u9ed8\u8ba4\u7f51\u5173172.18.0.1</li> <li>\u8fd9\u4e2a\u5bb9\u5668\u4f7f\u7528\u7684\u7f51\u6865\u540d\u79f0\u662fdocker_default</li> </ul> <pre><code>[root@test ~]# docker inspect ens_monitor_cron\n[\n......\n        \"NetworkSettings\": {\n            \"SandboxID\": \"9e94059c2d3a6e47426479772375ff33a81648e7e201df3e9079f7783db68907\",\n            \"SandboxKey\": \"/var/run/docker/netns/9e94059c2d3a\",\n            \"Ports\": {},\n            \"Networks\": {\n                \"docker_default\": {\n                    \"IPAMConfig\": null,\n                    \"Links\": null,\n                    \"Aliases\": [\n                        \"ens_monitor_cron\",\n                        \"python-monitor\"\n                    ],\n                    \"DriverOpts\": null,\n                    \"GwPriority\": 0,\n                    \"NetworkID\": \"d9231d44a1ab7bc81da84032ada7a6588d30f8554cc363188d4c2c7a10cad502\",\n                    \"EndpointID\": \"9c24993596f43f74de2d44a1b1c97109c65f4f4ed1a26188c6f6bb6d59db911f\",\n                    \"Gateway\": \"172.18.0.1\",\n                    \"IPAddress\": \"172.18.0.2\",\n                    \"MacAddress\": \"96:00:76:49:ce:66\",\n                    \"IPPrefixLen\": 16,\n                    \"IPv6Gateway\": \"\",\n                    \"GlobalIPv6Address\": \"\",\n                    \"GlobalIPv6PrefixLen\": 0,\n                    \"DNSNames\": [\n                        \"ens_monitor_cron\",\n                        \"python-monitor\",\n                        \"272ba0e789b2\"\n                    ]\n                }\n            }\n        },\n......\n]\n</code></pre> <ul> <li>\u67e5\u770bdocker\u7ec4\u4ef6\u4f7f\u7528\u7684\u7f51\u7edc\u60c5\u51b5</li> </ul> <pre><code>[root@test ~]# docker network ls\nNETWORK ID     NAME             DRIVER    SCOPE\n155ece36f232   bridge           bridge    local\nd9231d44a1ab   docker_default   bridge    local\n1b235a4127d5   host             host      local\n87ee577966f0   none             null      local\n[root@test ~]# docker network inspect d9231d44a1ab\n[\n    {\n        \"Name\": \"docker_default\",\n        \"Id\": \"d9231d44a1ab7bc81da84032ada7a6588d30f8554cc363188d4c2c7a10cad502\",\n        \"Created\": \"2026-01-26T16:23:32.966499342+08:00\",\n        \"Scope\": \"local\",\n        \"Driver\": \"bridge\",\n        \"EnableIPv4\": true,\n        \"EnableIPv6\": false,\n        \"IPAM\": {\n            \"Driver\": \"default\",\n            \"Options\": null,\n            \"Config\": [\n                {\n                    \"Subnet\": \"172.18.0.0/16\",\n                    \"IPRange\": \"\",\n                    \"Gateway\": \"172.18.0.1\"\n                }\n            ]\n        },\n        \"Internal\": false,\n        \"Attachable\": false,\n        \"Ingress\": false,\n        \"ConfigFrom\": {\n            \"Network\": \"\"\n        },\n        \"ConfigOnly\": false,\n        \"Options\": {},\n        \"Labels\": {\n            \"com.docker.compose.config-hash\": \"e7869dccd0af1856c658cbabad8f131128ffb37f03d845c4244677d8b7adea0c\",\n            \"com.docker.compose.network\": \"default\",\n            \"com.docker.compose.project\": \"docker\",\n            \"com.docker.compose.version\": \"5.0.2\"\n        },\n        \"Containers\": {\n            \"272ba0e789b283f9ffa1338f0c3f35e4376dcbeb70b92d277591ef8d13a60dbc\": {\n                \"Name\": \"ens_monitor_cron\",\n                \"EndpointID\": \"9c24993596f43f74de2d44a1b1c97109c65f4f4ed1a26188c6f6bb6d59db911f\",\n                \"MacAddress\": \"96:00:76:49:ce:66\",\n                \"IPv4Address\": \"172.18.0.2/16\",\n                \"IPv6Address\": \"\"\n            }\n        },\n        \"Status\": {\n            \"IPAM\": {\n                \"Subnets\": {\n                    \"172.18.0.0/16\": {\n                        \"IPsInUse\": 4,\n                        \"DynamicIPsAvailable\": 65532\n                    }\n                }\n            }\n        }\n    }\n]\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker%E7%BD%91%E7%BB%9C/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3docker%20%E7%9A%84%E7%BD%91%E7%BB%9C/#_2","title":"\u5bb9\u5668\u7f51\u7edc\u901a\u4fe1\u7684\u6d41\u7a0b","text":"<ul> <li>\u7ed3\u5408\u5bbf\u4e3b\u673a\u7684\u7f51\u7edc\u914d\u7f6e\u4ee5\u53cadocker\u5bb9\u5668\u7684\u7f51\u7edc\u914d\u7f6e\uff0cens_monitor_cron\u8fd9\u4e2a\u5bb9\u5668\u7684\u7f51\u7edc\u901a\u4fe1\u7684\u67b6\u6784\u5982\u4e0b\uff1a<ul> <li>\u8fd9\u91cc\u7684veth9780200\u53ef\u4ee5\u628a\u5b83\u770b\u4f5c\u4e00\u6839\u865a\u62df\u7684\u53cc\u5934\u7f51\u7ebf\uff0cveth9780200 \u662f\u5bbf\u4e3b\u673a\u8fd9\u5934\u7684\u201c\u63d2\u5ea7\u201d\u3002br-d9231d44a1ab \u662f\u63d2\u5ea7\u80cc\u540e\u7684\u201c\u603b\u7ebf\u4ea4\u6362\u673a\u201d\u3002eth0 (\u5bb9\u5668\u5185) \u662f\u7f51\u7ebf\u7684\u53e6\u4e00\u5934\uff0c\u63d2\u5728\u5bb9\u5668\u7684\u201c\u4e3b\u673a\u201d\u4e0a\u3002\u5b83\u4e0d\u8d1f\u8d23\u5904\u7406\u5bbf\u4e3b\u673a\u81ea\u8eab\u7684\u8bf7\u6c42\uff0c\u5b83\u552f\u4e00\u7684\u4f5c\u7528\u5c31\u662f\u5f53\u642c\u8fd0\u5de5\u3002\u5b83\u628a\u5bb9\u5668\u53d1\u51fa\u6765\u7684\u5305\uff0c\u201c\u6f0f\u201d\u7ed9\u5bbf\u4e3b\u673a\u7684\u7f51\u6865\u63a5\u53e3\uff1b\u628a\u7f51\u6865\u8f6c\u53d1\u56de\u6765\u7684\u5305\uff0c\u201c\u6f0f\u201d\u56de\u7ed9\u5bb9\u5668\u3002</li> </ul> </li> </ul> <pre><code>[ \u5bb9\u5668 (IP: 172.18.0.2) ]\n      |\n      | (\u5185\u7f51\u5361 eth0, \u7d22\u5f15 id: 2)\n      |\n      | &lt;---- \u865a\u62df\u7f51\u7ebf (veth pair) ----&gt;\n      |\n      | (\u5bbf\u4e3b\u673a\u7aef veth9780200)\n      |\n[ \u865a\u62df\u4ea4\u6362\u673a br-d9231d44a1ab (IP: 172.18.0.1) ]\n      |\n      | (\u5bbf\u4e3b\u673a\u5185\u6838\u8def\u7531\u8f6c\u53d1 + NAT)\n      |\n[ \u7269\u7406\u7f51\u5361 eth0 (\u5bbf\u4e3b\u673a\u5916\u7f51 IP) ] ----&gt; \u4e92\u8054\u7f51\n</code></pre> <ul> <li>\u865a\u62df\u4ea4\u6362\u673a (<code>br-d9231d44a1ab</code>) \u4e0e \u7269\u7406\u7f51\u5361 (<code>eth0</code>) \u4e4b\u95f4\u7684\u5173\u7cfb<ul> <li> <p>\u7b80\u5355\u6765\u8bf4\uff1a\u5b83\u4eec\u4e4b\u95f4\u6ca1\u6709\u7269\u7406\u7ebf\u7f06\u8fde\u63a5\uff0c\u800c\u662f\u901a\u8fc7\u5bbf\u4e3b\u673a\u7684\u201c\u5185\u6838\u8def\u7531\u8868\u201d\u548c\u201ciptables \u89c4\u5219\u201d\u5728\u903b\u8f91\u4e0a\u8fdb\u884c\u63a5\u529b\u7684\u3002</p> <ul> <li> <p>\u4ece\u5185\u5411\u5916\uff1a\u5f53\u5bb9\u5668\u8bf7\u6c42 <code>baidu.com</code>\uff0c\u5305\u5230\u8fbe <code>br-d9231d44a1ab\u3002\u5185\u6838\u770b\u4e86\u4e00\u773c\u8def\u7531\u8868\uff1a\u201c\u76ee\u6807\u4e0d\u662f 172.18.0.0\uff0c\u4e5f\u4e0d\u662f\u672c\u5730\uff0c\u90a3\u5c31\u8d70</code>default<code>\u8def\u7531\u5427\u3002\u201d \u4e8e\u662f\uff0c\u5305\u88ab\u8f6c\u4ea4\u7ed9\u4e86 **</code>eth0`**\u3002</p> </li> <li> <p>\u4ece\u5916\u5411\u5185\uff1a\u5916\u9762\u56de\u5305\u7ed9\u5bbf\u4e3b\u673a IP\uff0c\u5185\u6838\u6536\u5230\u540e\u770b\u4e86\u4e00\u773c\uff1a\u201c\u5594\uff0c\u8fd9\u662f\u627e\u5bb9\u5668\u7684\uff08\u6839\u636e NAT \u8bb0\u5f55\uff09\uff0c\u76ee\u6807\u5c5e\u4e8e 172.18.0.0 \u8303\u56f4\u3002\u201d \u4e8e\u662f\uff0c\u5305\u88ab\u8f6c\u53d1\u8fdb\u4e86 <code>br-d9231d44a1ab</code>\u7684\u7f51\u5173\u5730\u5740\u3002</p> </li> </ul> </li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker%E7%BD%91%E7%BB%9C/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3docker%20%E7%9A%84%E7%BD%91%E7%BB%9C/#iptables","title":"\u5bb9\u5668\u7684iptables\u914d\u7f6e","text":"<ul> <li> <p>\u4e3b\u8981\u662f\u5305\u542b\u7684filter\u8868\u548cnat\u8868</p> </li> <li> <p>filter\u8868\uff1aFilter \u8868\u662f\u9ed8\u8ba4\u7684\u8868\uff0c\u4e3b\u8981\u8d1f\u8d23\u201c\u653e\u884c\u201d\u6216\u201c\u62e6\u622a\u201d\u6570\u636e\u5305\u3002</p> <ul> <li> <p>\u6838\u5fc3\u94fe\u5206\u6790</p> <ul> <li> <p>FORWARD \u94fe (Policy: DROP)\uff1a \u8fd9\u662f Docker \u7f51\u7edc\u7684\u5b89\u5168\u6838\u5fc3\u3002\u9ed8\u8ba4\u7b56\u7565\u662f <code>DROP</code>\uff0c\u610f\u5473\u7740\u9664\u975e\u89c4\u5219\u660e\u786e\u5141\u8bb8\uff0c\u5426\u5219\u5bb9\u5668\u95f4\u6216\u5bb9\u5668\u4e0e\u5916\u90e8\u7684\u901a\u4fe1\u6d41\u91cf\u90fd\u4f1a\u88ab\u62e6\u622a\u3002</p> <ul> <li> <p>DOCKER-USER\uff1a\u8fd9\u662f\u9884\u7559\u7ed9\u7528\u6237\u81ea\u5b9a\u4e49\u89c4\u5219\u7684\u3002\u5b83\u4f4d\u4e8e Docker \u89c4\u5219\u4e4b\u524d\uff0c\u65b9\u4fbf\u4f60\u5728\u4e0d\u7834\u574f Docker \u9ed8\u8ba4\u903b\u8f91\u7684\u60c5\u51b5\u4e0b\u6dfb\u52a0\u9632\u706b\u5899\u7b56\u7565\u3002</p> </li> <li> <p>DOCKER-FORWARD\uff1aDocker \u5185\u90e8\u903b\u8f91\u7684\u5165\u53e3\u3002</p> </li> </ul> </li> <li> <p>DOCKER-CT (Conntrack)\uff1a</p> <ul> <li><code>ctstate RELATED,ESTABLISHED</code>\uff1a\u8fd9\u4e24\u6761\u89c4\u5219\u975e\u5e38\u5173\u952e\u3002\u5b83\u5141\u8bb8\u5df2\u7ecf\u5efa\u7acb\u8fde\u63a5\u6216\u4e0e\u5df2\u6709\u8fde\u63a5\u76f8\u5173\u7684\u6570\u636e\u5305\u901a\u8fc7\u3002\u6bd4\u5982\u5bb9\u5668\u8bf7\u6c42\u8bbf\u95ee\u767e\u5ea6\uff0c\u767e\u5ea6\u56de\u4f20\u7684\u6570\u636e\u5305\u5c31\u9760\u8fd9\u4e24\u6761\u89c4\u5219\u653e\u884c\u3002</li> </ul> </li> <li> <p>DOCKER-BRIDGE\uff1a</p> <ul> <li>\u4e3b\u8981\u7528\u4e8e\u5904\u7406\u8de8\u7f51\u6865\u7684\u6d41\u91cf\u3002\u5728\u8fd9\u91cc\u5b83\u5f15\u7528\u4e86 <code>DOCKER</code> \u94fe\uff0c\u800c\u4f60\u7684 <code>DOCKER</code> \u94fe\u4e2d\u76ee\u524d\u662f <code>DROP</code>\u3002\u8fd9\u901a\u5e38\u610f\u5473\u7740\u5982\u679c\u6ca1\u6709\u5177\u4f53\u7684\u7aef\u53e3\u6620\u5c04\u89c4\u5219\uff0c\u5916\u90e8\u6d41\u91cf\u65e0\u6cd5\u4e3b\u52a8\u8fdb\u5165\u5bb9\u5668\u3002</li> </ul> </li> <li> <p>DOCKER-INTERNAL\uff1a</p> <ul> <li>\u901a\u5e38\u7528\u4e8e <code>--internal</code> \u6a21\u5f0f\u7684 Docker \u7f51\u7edc\uff0c\u9650\u5236\u5bb9\u5668\u53ea\u80fd\u5728\u5185\u90e8\u901a\u4fe1\uff0c\u4e0d\u80fd\u4e0a\u5916\u7f51\u3002<ul> <li>\u603b\u7ed3 Filter \u8868\u7684\u4f5c\u7528\uff1a</li> </ul> </li> </ul> </li> <li> <p>\u8fde\u63a5\u8ffd\u8e2a\uff1a\u5229\u7528 <code>DOCKER-CT</code> \u4fdd\u8bc1\u5bb9\u5668\u201c\u80fd\u53d1\u80fd\u6536\u201d\u3002</p> </li> <li> <p>\u9ed8\u8ba4\u9694\u79bb\uff1a\u901a\u8fc7 <code>FORWARD DROP</code> \u786e\u4fdd\u672a\u7ecf\u6388\u6743\u7684\u6d41\u91cf\u65e0\u6cd5\u7a7f\u900f\u5bbf\u4e3b\u673a\u5230\u8fbe\u5bb9\u5668\u3002</p> </li> <li> <p>\u7cbe\u786e\u63a7\u5236\uff1a\u63d0\u4f9b <code>DOCKER-USER</code> \u94a9\u5b50\uff0c\u8ba9\u7ba1\u7406\u5458\u53ef\u4ee5\u624b\u52a8\u9650\u5236\u7279\u5b9a IP \u5bf9\u5bb9\u5668\u670d\u52a1\u7684\u8bbf\u95ee\u3002</p> </li> </ul> </li> </ul> </li> </ul> <pre><code>[root@test ~]# iptables -nL -t filter\nChain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy DROP)\ntarget     prot opt source               destination         \nDOCKER-USER  all  --  0.0.0.0/0            0.0.0.0/0           \nDOCKER-FORWARD  all  --  0.0.0.0/0            0.0.0.0/0           \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain DOCKER (2 references)\ntarget     prot opt source               destination         \nDROP       all  --  0.0.0.0/0            0.0.0.0/0           \nDROP       all  --  0.0.0.0/0            0.0.0.0/0           \n\nChain DOCKER-BRIDGE (1 references)\ntarget     prot opt source               destination         \nDOCKER     all  --  0.0.0.0/0            0.0.0.0/0           \nDOCKER     all  --  0.0.0.0/0            0.0.0.0/0           \n\nChain DOCKER-CT (1 references)\ntarget     prot opt source               destination         \nACCEPT     all  --  0.0.0.0/0            0.0.0.0/0            ctstate RELATED,ESTABLISHED\nACCEPT     all  --  0.0.0.0/0            0.0.0.0/0            ctstate RELATED,ESTABLISHED\n\nChain DOCKER-FORWARD (1 references)\ntarget     prot opt source               destination         \nDOCKER-CT  all  --  0.0.0.0/0            0.0.0.0/0           \nDOCKER-INTERNAL  all  --  0.0.0.0/0            0.0.0.0/0           \nDOCKER-BRIDGE  all  --  0.0.0.0/0            0.0.0.0/0           \nACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           \nACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           \n\nChain DOCKER-INTERNAL (1 references)\ntarget     prot opt source               destination         \n\nChain DOCKER-USER (1 references)\ntarget     prot opt source               destination  \n</code></pre> <ul> <li> <p>nat\u8868\u5206\u6790\uff1aNat \u8868\u4e3b\u8981\u8d1f\u8d23\u4fee\u6539\u6570\u636e\u5305\u7684\u6e90\u5730\u5740\uff08SNAT\uff09\u6216\u76ee\u7684\u5730\u5740\uff08DNAT\uff09\uff0c\u662f\u5bb9\u5668\u201c\u4e0a\u5916\u7f51\u201d\u548c\u201c\u66b4\u9732\u7aef\u53e3\u201d\u7684\u5173\u952e\u3002</p> <ul> <li> <p>\u6838\u5fc3\u94fe\u5206\u6790</p> <ul> <li> <p>PREROUTING &amp; OUTPUT \u94fe\uff1a</p> <ul> <li> <p><code>ADDRTYPE match dst-type LOCAL</code>\uff1a\u5982\u679c\u6570\u636e\u5305\u7684\u76ee\u6807\u5730\u5740\u662f\u5bbf\u4e3b\u673a\u672c\u5730 IP\uff0c\u5219\u8df3\u8f6c\u5230 <code>DOCKER</code> \u94fe\u3002</p> </li> <li> <p>\u8fd9\u51b3\u5b9a\u4e86\u5f53\u4f60\u8bbf\u95ee\u5bbf\u4e3b\u673a\u7684 <code>8080</code> \u7aef\u53e3\u65f6\uff0c\u7cfb\u7edf\u80fd\u5426\u610f\u8bc6\u5230\u8fd9\u5176\u5b9e\u662f\u4e00\u4e2a\u8981\u53d1\u5f80\u5bb9\u5668\u7684\u8bf7\u6c42\u3002</p> </li> </ul> </li> <li> <p>POSTROUTING \u94fe (MASQUERADE)\uff1a</p> <ul> <li> <p><code>MASQUERADE all -- 172.18.0.0/16 0.0.0.0/0</code></p> </li> <li> <p><code>MASQUERADE all -- 172.17.0.0/16 0.0.0.0/0</code></p> </li> <li> <p>\u4f5c\u7528\uff1a\u8fd9\u662f\u6240\u8c13\u7684 SNAT\uff08\u6e90\u5730\u5740\u8f6c\u6362\uff09\u3002\u5f53\u5bb9\u5668\uff08\u5982 IP \u4e3a <code>172.17.0.2</code>\uff09\u60f3\u8981\u8bbf\u95ee\u4e92\u8054\u7f51\u65f6\uff0c\u5916\u7f51\u8def\u7531\u5668\u5e76\u4e0d\u8ba4\u8bc6\u79c1\u6709 IP\u3002\u5bbf\u4e3b\u673a\u4f1a\u901a\u8fc7\u8fd9\u4e24\u6761\u89c4\u5219\uff0c\u628a\u5bb9\u5668\u53d1\u51fa\u7684\u5305\u7684\u6e90 IP \u4f2a\u88c5\u6210\u5bbf\u4e3b\u673a\u7684\u516c\u7f51/\u7269\u7406 IP\u3002</p> </li> </ul> </li> <li> <p>DOCKER \u94fe (Nat)\uff1a</p> <ul> <li>\u867d\u7136\u4f60\u63d0\u4f9b\u7684\u622a\u56fe\u672b\u5c3e\u5207\u65ad\u4e86\uff0c\u4f46\u901a\u5e38\u8fd9\u91cc\u4f1a\u5b58\u653e\u5177\u4f53\u7684\u7aef\u53e3\u6620\u5c04\u89c4\u5219\uff08DNAT\uff09\u3002\u4f8b\u5982\uff0c\u4f60\u8fd0\u884c <code>docker run -p 80:80</code>\uff0c\u8fd9\u91cc\u5c31\u4f1a\u51fa\u73b0\u4e00\u6761\u5c06\u76ee\u6807\u7aef\u53e3 <code>80</code> \u4fee\u6539\u4e3a\u5bb9\u5668\u5185\u90e8 IP \u7aef\u53e3\u7684\u89c4\u5219\u3002</li> </ul> </li> </ul> </li> <li> <p>\u603b\u7ed3 Nat \u8868\u7684\u4f5c\u7528\uff1a</p> <ol> <li> <p>\u51fa\u7ad9 (Outbound)\uff1a\u901a\u8fc7 <code>MASQUERADE</code> \u8ba9\u5bb9\u5668\u53ef\u4ee5\u5171\u4eab\u5bbf\u4e3b\u673a\u7684\u7f51\u5361\u8bbf\u95ee\u5916\u90e8\u7f51\u7edc\u3002</p> </li> <li> <p>\u5165\u7ad9 (Inbound)\uff1a\u901a\u8fc7 DNAT \u89c4\u5219\u5b9e\u73b0\u201c\u7aef\u53e3\u6620\u5c04\u201d\uff0c\u8ba9\u5916\u90e8\u7528\u6237\u8bbf\u95ee\u5bbf\u4e3b\u673a\u7aef\u53e3\u65f6\uff0c\u6d41\u91cf\u80fd\u51c6\u786e\u5bfc\u5411\u5bb9\u5668\u5185\u90e8\u3002</p> </li> </ol> </li> </ul> </li> </ul> <pre><code>[root@test ~]# iptables -nL -t nat\nChain PREROUTING (policy ACCEPT)\ntarget     prot opt source               destination         \nDOCKER     all  --  0.0.0.0/0            0.0.0.0/0            ADDRTYPE match dst-type LOCAL\n\nChain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         \nDOCKER     all  --  0.0.0.0/0           !127.0.0.0/8          ADDRTYPE match dst-type LOCAL\n\nChain POSTROUTING (policy ACCEPT)\ntarget     prot opt source               destination         \nMASQUERADE  all  --  172.18.0.0/16        0.0.0.0/0           \nMASQUERADE  all  --  172.17.0.0/16        0.0.0.0/0           \n\nChain DOCKER (2 references)\ntarget     prot opt source               destination         \n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/docker%E9%95%9C%E5%83%8F%E6%BA%90/docker%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E6%BA%90/","title":"Docker\u56fd\u5185\u955c\u50cf\u6e90","text":"<pre><code>{\n    \"registry-mirrors\":[\n        \"https://do.nark.eu.org\",\n        \"https://dc.j8.work\",\n        \"https://docker.m.daocloud.io\",\n        \"https://dockerproxy.com\",\n        \"https://docker.mirrors.ustc.edu.cn\",\n        \"https://docker.nju.edu.cn\"\n    ]\n}\n</code></pre> <ul> <li>mac \u9700\u8981\u4fee\u6539 \u3010setting\u3011-&gt; \u3010docker Engine\u3011\u4e2d\u7684\u914d\u7f6e\uff0c\u518d\u91cd\u542fdocker</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/docker/hub.docker/%E5%B8%B8%E7%94%A8%E5%AE%98%E6%96%B9%E9%95%9C%E5%83%8F/","title":"\u5e38\u7528\u5b98\u65b9\u955c\u50cf","text":"<ul> <li>\u57fa\u4e8eAlpine Linux\u7684\u6700\u5c0fDocker\u955c\u50cf\uff1a https://hub.docker.com/_/alpine</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/k8s/01-minikube%20%E5%AE%89%E8%A3%85/","title":"01 minikube \u5b89\u88c5","text":"<ul> <li> <p>\u5b98\u7f51\u4e0b\u8f7d\u9875\u9762\uff1ahttps://minikube.sigs.k8s.io/docs/start/</p> </li> <li> <p>\u53c2\u8003\u6587\u6863\uff1a[gitee\u5b66\u4e60\u5730\u5740](https://gitee.com/-/ide/project/mikiweng/geek_crawler/edit/master/-/Kubernetes%E5%85%A5%E9%97%A8%E5%AE%9E%E6%88%98%E8%AF%BE/09%EF%BD%9C%E8%B5%B0%E8%BF%91%E4%BA%91%E5%8E%9F%E7%94%9F%EF%BC%9A%E5%A6%82%E4%BD%95%E5%9C%A8%E6%9C%AC%E6%9C%BA%E6%90%AD%E5%BB%BA%E5%B0%8F%E5%B7%A7%E5%AE%8C%E5%A4%87%E7%9A%84Kubernetes%E7%8E%AF%E5%A2%83.md](https://gitee.com/-/ide/project/mikiweng/geek_crawler/edit/master/-/Kubernetes%E5%85%A5%E9%97%A8%E5%AE%9E%E6%88%98%E8%AF%BE/09%EF%BD%9C%E8%B5%B0%E8%BF%91%E4%BA%91%E5%8E%9F%E7%94%9F%EF%BC%9A%E5%A6%82%E4%BD%95%E5%9C%A8%E6%9C%AC%E6%9C%BA%E6%90%AD%E5%BB%BA%E5%B0%8F%E5%B7%A7%E5%AE%8C%E5%A4%87%E7%9A%84Kubernetes%E7%8E%AF%E5%A2%83.md)</p> </li> <li> <p>Mac\u5b89\u88c5\u547d\u4ee4\uff1a\uff08M1\u9009\u62e9arm64\uff09</p> </li> </ul> <pre><code>curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-darwin-arm64\n\nsudo install minikube-darwin-arm64 /usr/local/bin/minikube\n</code></pre> <ul> <li> <p>\u53ef\u4ee5\u67e5\u770bminikube\u7248\u672c(\u9700\u8981\u5148\u542f\u52a8docker)</p> <ul> <li><code>minikube version</code></li> </ul> </li> <li> <p>kubectl\u5de5\u5177\u5b89\u88c5</p> <ul> <li>kubectl\u7684\u4f5c\u7528\u6709\u70b9\u7c7b\u4f3c\u4e4b\u524d\u6211\u4eec\u5b66\u4e60\u5bb9\u5668\u6280\u672f\u65f6\u5019\u7684\u5de5\u5177\u201cdocker\u201d\uff0c\u5b83\u4e5f\u662f\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u4f5c\u7528\u4e5f\u6bd4\u8f83\u7c7b\u4f3c\uff0c\u540c\u6837\u662f\u4e0eKubernetes\u540e\u53f0\u670d\u52a1\u901a\u4fe1\uff0c\u628a\u6211\u4eec\u7684\u547d\u4ee4\u8f6c\u53d1\u7ed9Kubernetes\uff0c\u5b9e\u73b0\u5bb9\u5668\u548c\u96c6\u7fa4\u7684\u7ba1\u7406\u529f\u80fd\u3002kubectl\u662fKubernetes\u96c6\u7fa4\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u901a\u8fc7kubectl\u80fd\u591f\u5bf9\u96c6\u7fa4\u672c\u8eab\u8fdb\u884c\u7ba1\u7406\uff0c\u5e76\u80fd\u591f\u5728\u96c6\u7fa4\u4e0a\u8fdb\u884c\u5bb9\u5668\u5316\u5e94\u7528\u7684\u5b89\u88c5\u548c\u90e8\u7f72</li> <li>Minikube \u7528\u4e8e\u5728\u672c\u5730\u8fd0\u884c kubernetes \u73af\u5883\uff0c\u7528\u6765\u5f00\u53d1\u548c\u6d4b\u8bd5</li> <li>kubectl\u662f\u4e00\u4e2a\u4e0eKubernetes\u3001minikube\u5f7c\u6b64\u72ec\u7acb\u7684\u9879\u76ee\uff0c\u6240\u4ee5\u4e0d\u5305\u542b\u5728minikube\u91cc\uff0c\u4f46minikube\u63d0\u4f9b\u4e86\u5b89\u88c5\u5b83\u7684\u7b80\u5316\u65b9\u5f0f\uff0c\u4f60\u53ea\u9700\u6267\u884c\u4e0b\u9762\u7684\u8fd9\u6761\u547d\u4ee4\uff1a<ul> <li>minikube kubectl</li> </ul> </li> <li>\u5728minikube\u73af\u5883\u91cc\uff0c\u6211\u4eec\u4f1a\u7528\u5230\u4e24\u4e2a\u5ba2\u6237\u7aef\uff1aminikube\u7ba1\u7406Kubernetes\u96c6\u7fa4\u73af\u5883\uff0ckubectl\u64cd\u4f5c\u5b9e\u9645\u7684Kubernetes\u529f\u80fd\uff0c\u548cDocker\u6bd4\u8d77\u6765\u6709\u70b9\u590d\u6742\u3002 </li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/k8s/02-k8s%E5%91%BD%E4%BB%A4%E5%AD%A6%E4%B9%A0/","title":"02 k8s\u547d\u4ee4\u5b66\u4e60","text":"<ul> <li> <p>\u542f\u52a8Kubernetes\u542f\u52a8\u96c6\u7fa4</p> <ul> <li>minikube start</li> </ul> </li> <li> <p>\u67e5\u770b\u96c6\u7fa4\u7684\u72b6\u6001</p> <ul> <li>minikube status</li> </ul> </li> <li> <p>\u67e5\u770b\u96c6\u7fa4\u8282\u70b9\u7684\u4fe1\u606f</p> <ul> <li>minikube node list</li> </ul> </li> <li> <p>\u5728Kubernetes\u91cc\u8fd0\u884c\u4e00\u4e2aNginx\u5e94\u7528</p> <ul> <li>kubectl run ngx --image=nginx:alpine</li> </ul> </li> <li> <p>\u67e5\u770bPod\u5217\u8868\u9700\u8981\u4f7f\u7528\u547d\u4ee4\uff08\u7c7b\u4f3c\u4e8edocker ps\uff09\uff0c\u52a0\u4e0a-o wide \u53c2\u6570\u53ef\u4ee5\u83b7\u53d6IP\u5730\u5740\uff0c\u9ed8\u8ba4\u662f\u67e5\u770b\u9ed8\u8ba4\u547d\u540d\u7a7a\u95f4\u7684pod\uff0c\u5982\u679c\u8981\u8981\u67e5\u770b\u6240\u6709\u547d\u540d\u7a7a\u95f4\u5185\u7684pod\u53ef\u4ee5\u67e5\u770bkubectl get pod --all-namespaces </p> <ul> <li>kubectl get pod</li> </ul> </li> <li> <p>\u67e5\u770b\u63d2\u4ef6\u5217\u8868</p> <ul> <li>minikube addons list</li> </ul> </li> <li> <p>\u5f00\u542fk8s\u4eea\u8868\u76d8web\u9875\u9762</p> <ul> <li>minikube dashboard</li> </ul> </li> <li> <p>\u542f\u52a8\u548c\u5220\u9664pod\u5bf9\u8c61</p> <ul> <li> <p>kubectl apply -f ngx-pod.yml</p> </li> <li> <p>kubectl delete -f ngx-pod.yml</p> </li> </ul> </li> <li> <p>\u8fdb\u5165\u67d0\u4e2apod\u5185\uff08\u4f8b\u5982\uff1akubectl exec -it ngx-pod -- sh\uff09</p> <ul> <li>kubectl exec -it  -- /bin/bash\u00a0 <li> <p>\u67e5\u770b\u5f53\u524dKubernetes\u7248\u672c\u652f\u6301\u7684\u6240\u6709api\u5bf9\u8c61</p> <ul> <li>kubectl api-resources</li> </ul> </li> <li> <p>\u5e38\u7528\u7684\u547d\u4ee4\u00a0kubectl explain\uff0c\u5b83\u80fd\u591f\u7ed9\u51faapi\u5bf9\u8c61\u5b57\u6bb5\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u6bd4\u5982\u67e5\u770bPod</p> <ul> <li> <p>kubectl explain pod</p> </li> <li> <p>kubectl explain pod.metadata</p> </li> <li> <p>kubectl explain pod.spec</p> </li> <li> <p>kubectl explain pod.spec.containers</p> </li> </ul> </li> <li> <p>\u67e5\u770b\u67d0\u4e2apod\u7684\u65e5\u5fd7</p> <ul> <li>kubectl logs ngx-pod</li> </ul> </li>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/KVM%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BB%8B%E7%BB%8D/","title":"KVM\u865a\u62df\u673a\u4ecb\u7ecd","text":"<p>\u53c2\u8003\uff1ahttps://docs.redhat.com/zh_hans/documentation/red_hat_enterprise_linux/8/html/configuring_and_managing_virtualization/introducing-virtualization-in-rhel_configuring-and-managing-virtualization#introducing-virtualization-in-rhel_configuring-and-managing-virtualization</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/centos7.9%E5%8D%95%E6%9C%BAkvm%E5%AE%9E%E8%B7%B5/","title":"Centos7.9\u5355\u673akvm\u5b9e\u8df5","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/centos7.9%E5%8D%95%E6%9C%BAkvm%E5%AE%9E%E8%B7%B5/#_1","title":"\u9700\u6c42\u80cc\u666f","text":"<ul> <li>\u5728centos7.9\u7269\u7406\u673a\u4e0a\u8fdb\u884ckvm\u865a\u62df\u5316\uff0c\u521b\u5efa\u4e00\u53f04C4G 50G\u7cfb\u7edf\u76d8\u7684centos7.9\u865a\u62df\u673a</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/centos7.9%E5%8D%95%E6%9C%BAkvm%E5%AE%9E%E8%B7%B5/#_2","title":"\u547d\u4ee4\u6267\u884c","text":"<pre><code>\n# \u67e5\u770b\u673a\u5668\u662f\u5426\u652f\u6301 KVM\nif ! egrep -q '(vmx|svm)' /proc/cpuinfo ; then\n    echo \"KVM is not supported on this system.\"\n    exit 1\nelse\n    echo \"KVM is supported on this system.\"\nfi\n\n\n## \u5173\u95edselinux\nsetenforce 0\nsed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config\n\n# \u66f4\u65b0yum\u6e90\ncurl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo;yum clean all;yum makecache\n\n\n## \u5b89\u88c5 KVM \u548c\u4f9d\u8d56\u7ec4\u4ef6\nsudo yum install -y qemu-kvm libvirt virt-install bridge-utils virt-manager\nsudo systemctl start libvirtd\nsudo systemctl enable libvirtd\n\n# \u4fee\u6539libvirtd\u6743\u9650\nsed -i 's/#user = \"root\"/user = \"root\"/g' /etc/libvirt/qemu.conf\nsed -i 's/#group = \"root\"/group = \"root\"/g' /etc/libvirt/qemu.conf\nsystemctl restart libvirtd\n\n\n# \u5b89\u88c5openvswitch\n### # yum install openvswitch -y \u53ef\u80fd\u627e\u4e0d\u5230\u5bf9\u5e94\u7684rpm\u5305 \u9700\u8981\u81ea\u5df1\u624b\u52a8\u7f16\u8bd1\u4e00\u4e2arpm\u5305\n### https://www.cnblogs.com/prolion/p/10867553.html \u53ef\u4ee5\u53c2\u8003\u8fd9\u4e2a\n### \u6211\u8fd9\u8fb9\u81ea\u5df1\u5df2\u7ecf\u7f16\u8bd1\u597d\u4e00\u4e2a\u4e86\ncurl -O https://ss.bscstorage.com/bms/openvswitch-2.5.0-1.x86_64.rpm\nyum install ./openvswitch-2.5.0-1.x86_64.rpm -y\nsystemctl start openvswitch.service\nsystemctl enable openvswitch.service\n/sbin/chkconfig openvswitch on\n\n# \u914d\u7f6e\u7f51\u6865\uff08\u516c\u7f51\u914d\u7f6e\u518d\u7f51\u6865\u4e0a\uff09\nnic=\"bond0\" # \u8fd9\u91cc\u9700\u8981\u6839\u636e\u5b9e\u9645\u4f7f\u7528\u7684\u516c\u7f51\u7f51\u5361\u60c5\u51b5\u4fee\u6539\u7f51\u5361\u540d\u79f0\n\n# \u521b\u5efa\u7f51\u6865\nip_config=$(cat /etc/sysconfig/network-scripts/ifcfg-$nic|egrep 'IPADDR=|GATEWAY=|NETMASK=|PREFIX')\ncat&gt;&gt; /etc/sysconfig/network-scripts/ifcfg-br-kvm &lt;&lt; EOF\nDEVICE=br-kvm\nSTP=yes\nBOOTPROTO=none\nONBOOT=yes\nTYPE=OVSBridge\nDEVICETYPE=ovs\nNAME=\"br-kvm\"\n$ip_config\nEOF\n\n# \u539f\u6765\u7f51\u5361\u8d70\u6865\u63a5\u914d\u7f6e\nsed -i 's/IPADDR/#IPADDR/g' /etc/sysconfig/network-scripts/ifcfg-$nic\nsed -i 's/GATEWAY/#GATEWAY/g' /etc/sysconfig/network-scripts/ifcfg-$nic\nsed -i 's/NETMASK/#NETMASK/g' /etc/sysconfig/network-scripts/ifcfg-$nic\nsed -i 's/PREFIX/#PREFIX/g' /etc/sysconfig/network-scripts/ifcfg-$nic\ncat &lt;&lt;EOF &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-$nic\nTYPE=OVSPort\nDEVICETYPE=ovs\nOVS_BRIDGE=\"br-kvm\"\nEOF\n\n\n# \u4e0b\u8f7d\u4e91\u955c\u50cf\n# ubuntu\u5730\u5740\uff1ahttps://cloud-images.ubuntu.com/\n### centos\u5730\u5740\uff1ahttps://cloud.centos.org/centos/7/images/\n### debian\u5730\u5740\uff089/10\uff09\uff1ahttp://cdimage.debian.org/cdimage/openstack/\n# \u6211\u8fd9\u8fb9\u4f7f\u7528\u7684\u662f\u5b98\u65b9\u7684centos7.9\u7684\u4e91\u955c\u50cf\uff0c\u8fd9\u91cc/kvm0/iso/CentOS-7.9-huawei-system50G.qcow2 \u662f\u4f60\u7684\u4e91\u955c\u50cf\u7684\u4f4d\u7f6e\ncurl -o /kvm0/iso/CentOS-7.9-huawei-system50G.qcow2 https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud-2009.qcow2\n\n\n# \u5b98\u7f51\u4e0b\u8f7d\u7684\u4e91\u955c\u50cf\u9ed8\u8ba4\u662f\u5bc6\u94a5\u767b\u5f55\uff0c\u6bd4\u8f83\u9ebb\u70e6\uff0c\u6211\u4eec\u76f4\u63a5\u8bbe\u7f6e\u5bc6\u7801\u767b\u5f55\nsudo virt-customize -a /kvm0/iso/CentOS-7.9-huawei-system50G.qcow2 --root-password password:123456\n\n# \u4e91\u955c\u50cf\u5927\u5c0f\u6269\u5bb9\nqemu-img info /kvm0/iso/CentOS-7.9-huawei-system50G.qcow2\nqemu-img resize /kvm0/iso/CentOS-7.9-huawei-system50G.qcow2 +50G\n\n# \u521b\u5efa\u4e91\u4e3b\u673a \u4f8b\u5982\u8fd9\u8fb9\u521b\u5efa4G\u5185\u5b58\u30014\u6838CPU\u300150G\u78c1\u76d8\u7684\u4e91\u4e3b\u673a\nvirt-install \\\n--name huawei-vm-1 \\\n--memory 4096 \\\n--vcpus 4 \\\n--disk path=/kvm0/iso/CentOS-7.9-huawei-system50G.qcow2,format=qcow2,bus=virtio \\\n--import \\\n--network bridge=br-kvm,virtualport_type=openvswitch,model=virtio \\\n--os-type linux \\\n--os-variant centos7.0 \\\n--noautoconsole\n\n\n# \u8fdb\u53bb\u7cfb\u7edf root/123456\nvirsh console huawei-vm-1\n\n# \u542f\u52a8\u865a\u62df\u673a\u5e76\u767b\u5f55\u540e\u6267\u884c\uff0c\u6269\u5bb9\u78c1\u76d8\nsudo growpart /dev/vda 1         # \u6269\u5c55\u5206\u533a\nsudo xfs_growfs /                # \u9ed8\u8ba4 CentOS 7+ \u662f xfs \u6216 \u5bf9\u4e8eext4\u6587\u4ef6\u7cfb\u7edf\uff1a sudo resize2fs /dev/vda1\n\n# \u5176\u4ed6\u5c31\u662f\u5b89\u88c5\u81ea\u5df1\u7684\u9700\u6c42\u914d\u7f6essh\u3001\u7f51\u7edc\u7b49\u3002\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/cloudinit%E8%AE%BE%E7%BD%AEubuntu%E5%88%9D%E5%A7%8B%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81/","title":"Cloudinit\u8bbe\u7f6eubuntu\u521d\u59cb\u8d26\u53f7\u5bc6\u7801","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/cloudinit%E8%AE%BE%E7%BD%AEubuntu%E5%88%9D%E5%A7%8B%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81/#1-hash","title":"1\ufe0f\u20e3 \u751f\u6210\u5bc6\u7801 hash\uff08\u975e\u4ea4\u4e92\uff09","text":"<pre><code>PASS_HASH=$(openssl passwd -6 '123456')\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/cloudinit%E8%AE%BE%E7%BD%AEubuntu%E5%88%9D%E5%A7%8B%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81/#2-cloud-init","title":"2\ufe0f\u20e3 \u751f\u6210 cloud-init \u914d\u7f6e\u6587\u4ef6","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/cloudinit%E8%AE%BE%E7%BD%AEubuntu%E5%88%9D%E5%A7%8B%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81/#user-data","title":"user-data","text":"<pre><code>cat &gt; user-data &lt;&lt;EOF\n#cloud-config\nhostname: ubuntu22-cloud\nmanage_etc_hosts: true\n\nusers:\n  - name: ubuntu\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    groups: sudo\n    shell: /bin/bash\n    lock_passwd: false\n    passwd: ${PASS_HASH}\n\nssh_pwauth: true\ndisable_root: false\n\nchpasswd:\n  expire: false\nEOF\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/cloudinit%E8%AE%BE%E7%BD%AEubuntu%E5%88%9D%E5%A7%8B%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81/#meta-data","title":"meta-data","text":"<pre><code>cat &gt; meta-data &lt;&lt;EOF\ninstance-id: ubuntu22-cloud-001\nlocal-hostname: ubuntu22-cloud\nEOF\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/cloudinit%E8%AE%BE%E7%BD%AEubuntu%E5%88%9D%E5%A7%8B%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81/#3-seed-isonocloud","title":"3\ufe0f\u20e3 \u751f\u6210 seed ISO\uff08NoCloud \u6570\u636e\u6e90\uff09","text":"<pre><code>genisoimage \\\n  -output seed.iso \\\n  -volid cidata \\\n  -joliet \\\n  -rock \\\n  user-data meta-data\n</code></pre> <p>\u5982\u679c\u7cfb\u7edf\u6ca1\u6709 <code>genisoimage</code>\uff1a</p> <pre><code>yum install -y genisoimage   # CentOS / Rocky\napt install -y genisoimage   # Ubuntu\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/cloudinit%E8%AE%BE%E7%BD%AEubuntu%E5%88%9D%E5%A7%8B%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81/#4","title":"4\ufe0f\u20e3 \u51c6\u5907\u4e91\u955c\u50cf\uff08\u5efa\u8bae\u590d\u5236\u4e00\u4efd\uff09","text":"<pre><code>cp ubuntu-22.04-server-cloudimg-amd64.img ubuntu22-cloud.qcow2\n</code></pre> <p>\uff08\u53ef\u9009\uff09\u6269\u5bb9\u78c1\u76d8\u5230 50G\uff1a</p> <pre><code>qemu-img resize ubuntu22-cloud.qcow2 50G\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/cloudinit%E8%AE%BE%E7%BD%AEubuntu%E5%88%9D%E5%A7%8B%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81/#5-virt-install","title":"5\ufe0f\u20e3 virt-install \u542f\u52a8\u865a\u673a\uff08\u5173\u952e\uff09","text":"<p>\u53ea\u8981\u628aseed.iso \u6302\u8f7d\u8fdb\u53bb\uff0cubutnu\u7cfb\u7edf\u7684cloudinit\u5c31\u53ef\u4ee5\u6b63\u5e38\u52a0\u8f7d\u4e86 </p> <pre><code>virt-install \\\n  --name shengwang-ubuntu22-vm \\\n  --vcpus 32 \\\n  --memory 65536 \\\n  --cpu host-passthrough \\\n  --os-variant ubuntu22.04 \\\n  --disk path=/var/lib/libvirt/images/sw-ubuntu22-sys50g.qcow2,device=disk,bus=virtio,format=qcow2 \\\n  --disk path=/var/lib/libvirt/images/sw-ubuntu22-data300g.qcow2,size=300,format=qcow2,bus=virtio,cache=none \\\n  --disk path=/var/lib/libvirt/images/seed.iso,device=cdrom,readonly=on \\\n  --network bridge=br-eth0,virtualport_type=openvswitch,model=virtio \\\n  --graphics none \\\n  --console pty,target_type=serial \\\n  --import \\\n  --noautoconsole\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/rocky8%20kvm%E8%99%9A%E6%8B%9F%E5%8C%96/","title":"Rocky8 kvm\u865a\u62df\u5316","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/rocky8%20kvm%E8%99%9A%E6%8B%9F%E5%8C%96/#_1","title":"\u9700\u6c42\u80cc\u666f","text":"<ul> <li>\u5728rocky8.6\u7269\u7406\u673a\u4e0a\u8fdb\u884ckvm\u865a\u62df\u5316\uff0c\u521b\u5efa\u4e00\u53f04C4G 50G\u7cfb\u7edf\u76d8\u7684centos7.9\u865a\u62df\u673a</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/rocky8%20kvm%E8%99%9A%E6%8B%9F%E5%8C%96/#_2","title":"\u547d\u4ee4\u6267\u884c","text":"<pre><code>\n# \u67e5\u770b\u673a\u5668\u662f\u5426\u652f\u6301 KVM\nif ! egrep -q '(vmx|svm)' /proc/cpuinfo ; then\n    echo \"KVM is not supported on this system.\"\n    exit 1\nelse\n    echo \"KVM is supported on this system.\"\nfi\n\nsudo dnf clean all\nsudo dnf update -y\nsudo dnf install -y epel-release\n\n\n## \u5b89\u88c5 KVM \u548c\u4f9d\u8d56\u7ec4\u4ef6\nsudo dnf install -y qemu-kvm libvirt virt-install  virt-manager\nsudo systemctl start libvirtd\nsudo systemctl enable libvirtd\n\n# \u4fee\u6539libvirtd\u6743\u9650\nsed -i 's/#user = \"root\"/user = \"root\"/g' /etc/libvirt/qemu.conf\nsed -i 's/#group = \"root\"/group = \"root\"/g' /etc/libvirt/qemu.conf\nsystemctl restart libvirtd\n\n\n# \u5b89\u88c5openvswitch\n### # yum install openvswitch -y \u53ef\u80fd\u627e\u4e0d\u5230\u5bf9\u5e94\u7684rpm\u5305 \u9700\u8981\u81ea\u5df1\u624b\u52a8\u7f16\u8bd1\u4e00\u4e2arpm\u5305\n### https://www.cnblogs.com/prolion/p/10867553.html \u53ef\u4ee5\u53c2\u8003\u8fd9\u4e2a\n### \u6211\u8fd9\u8fb9\u81ea\u5df1\u5df2\u7ecf\u7f16\u8bd1\u597d\u4e00\u4e2a\u4e86\ncurl -O https://ss.bscstorage.com/bms/openvswitch-2.5.0-1.x86_64.rpm\nyum install ./openvswitch-2.5.0-1.x86_64.rpm -y\nsystemctl start openvswitch.service\nsystemctl enable openvswitch.service\n/sbin/chkconfig openvswitch on\n\n# \u914d\u7f6e\u7f51\u6865\uff08\u516c\u7f51\u914d\u7f6e\u518d\u7f51\u6865\u4e0a\uff09\nnic=\"bond0\" # \u8fd9\u91cc\u9700\u8981\u6839\u636e\u5b9e\u9645\u4f7f\u7528\u7684\u516c\u7f51\u7f51\u5361\u60c5\u51b5\u4fee\u6539\u7f51\u5361\u540d\u79f0\n\n# \u521b\u5efa\u7f51\u6865\nip_config=$(cat /etc/sysconfig/network-scripts/ifcfg-$nic|egrep 'IPADDR=|GATEWAY=|NETMASK=|PREFIX')\ncat&gt;&gt; /etc/sysconfig/network-scripts/ifcfg-br-kvm &lt;&lt; EOF\nDEVICE=br-kvm\nSTP=yes\nBOOTPROTO=none\nONBOOT=yes\nTYPE=OVSBridge\nDEVICETYPE=ovs\nNAME=\"br-kvm\"\n$ip_config\nEOF\n\n# \u539f\u6765\u7f51\u5361\u8d70\u6865\u63a5\u914d\u7f6e\nsed -i 's/IPADDR/#IPADDR/g' /etc/sysconfig/network-scripts/ifcfg-$nic\nsed -i 's/GATEWAY/#GATEWAY/g' /etc/sysconfig/network-scripts/ifcfg-$nic\nsed -i 's/NETMASK/#NETMASK/g' /etc/sysconfig/network-scripts/ifcfg-$nic\nsed -i 's/PREFIX/#PREFIX/g' /etc/sysconfig/network-scripts/ifcfg-$nic\ncat &lt;&lt;EOF &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-$nic\nTYPE=OVSPort\nDEVICETYPE=ovs\nOVS_BRIDGE=\"br-kvm\"\nEOF\n\n\n# \u4e0b\u8f7d\u4e91\u955c\u50cf\n# ubuntu\u5730\u5740\uff1ahttps://cloud-images.ubuntu.com/\n### centos\u5730\u5740\uff1ahttps://cloud.centos.org/centos/7/images/\n### debian\u5730\u5740\uff089/10\uff09\uff1ahttp://cdimage.debian.org/cdimage/openstack/\n# \u6211\u8fd9\u8fb9\u4f7f\u7528\u7684\u662f\u5b98\u65b9\u7684centos7.9\u7684\u4e91\u955c\u50cf\uff0c\u8fd9\u91cc/kvm0/iso/CentOS-7.9-huawei-system50G.qcow2 \u662f\u4f60\u7684\u4e91\u955c\u50cf\u7684\u4f4d\u7f6e\ncurl -o /kvm0/iso/CentOS-7.9-huawei-system50G.qcow2 https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud-2009.qcow2\n\n\n# \u5b98\u7f51\u4e0b\u8f7d\u7684\u4e91\u955c\u50cf\u9ed8\u8ba4\u662f\u5bc6\u94a5\u767b\u5f55\uff0c\u6bd4\u8f83\u9ebb\u70e6\uff0c\u6211\u4eec\u76f4\u63a5\u8bbe\u7f6e\u5bc6\u7801\u767b\u5f55\nsudo virt-customize -a /kvm0/iso/CentOS-7.9-huawei-system50G.qcow2 --root-password password:123456\n\n# \u4e91\u955c\u50cf\u5927\u5c0f\u6269\u5bb9\nqemu-img info /kvm0/iso/CentOS-7.9-huawei-system50G.qcow2\nqemu-img resize /kvm0/iso/CentOS-7.9-huawei-system50G.qcow2 +50G\n\n# \u521b\u5efa\u4e91\u4e3b\u673a \u4f8b\u5982\u8fd9\u8fb9\u521b\u5efa4G\u5185\u5b58\u30014\u6838CPU\u300150G\u78c1\u76d8\u7684\u4e91\u4e3b\u673a\nvirt-install \\\n--name huawei-vm-1 \\\n--memory 4096 \\\n--vcpus 4 \\\n--disk path=/kvm0/iso/CentOS-7.9-huawei-system50G.qcow2,format=qcow2,bus=virtio \\\n--import \\\n--network bridge=br-kvm,virtualport_type=openvswitch,model=virtio \\\n--os-type linux \\\n--os-variant centos7.0 \\\n--noautoconsole\n\n\n# \u8fdb\u53bb\u7cfb\u7edf root/123456\nvirsh console huawei-vm-1\n\n# \u542f\u52a8\u865a\u62df\u673a\u5e76\u767b\u5f55\u540e\u6267\u884c\uff0c\u6269\u5bb9\u78c1\u76d8\nsudo growpart /dev/vda 1         # \u6269\u5c55\u5206\u533a\nsudo xfs_growfs /                # \u9ed8\u8ba4 CentOS 7+ \u662f xfs \u6216 \u5bf9\u4e8eext4\u6587\u4ef6\u7cfb\u7edf\uff1a sudo resize2fs /dev/vda1\n\n# \u5176\u4ed6\u5c31\u662f\u5b89\u88c5\u81ea\u5df1\u7684\u9700\u6c42\u914d\u7f6essh\u3001\u7f51\u7edc\u7b49\u3002\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/xml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AE%9E%E4%BE%8B/","title":"Xml\u914d\u7f6e\u6587\u4ef6\u5b9e\u4f8b","text":"<ul> <li>\u5185\u5b58\u3001CPU\u3001\u7f51\u5361\u540d\u79f0/\u6570\u91cf\u7b49\u8fd9\u4e9b\u9700\u8981\u6309\u9700\u6c42\u4fee\u6539</li> </ul> <pre><code>&lt;domain type='kvm' id='7'&gt;\n &lt;name&gt;vm_ows_16c_16g_sys500G&lt;/name&gt;\n &lt;memory unit='KiB'&gt;16777216&lt;/memory&gt;\n &lt;currentMemory unit='KiB'&gt;16777216&lt;/currentMemory&gt;\n &lt;vcpu placement='static'&gt;16&lt;/vcpu&gt;\n &lt;resource&gt;\n  &lt;partition&gt;/machine&lt;/partition&gt;\n &lt;/resource&gt;\n &lt;os&gt;\n  &lt;type arch='x86_64' machine='pc-i440fx-rhel7.0.0'&gt;hvm&lt;/type&gt;\n  &lt;boot dev='hd'/&gt;\n &lt;/os&gt;\n &lt;features&gt;\n  &lt;acpi/&gt;\n  &lt;apic/&gt;\n &lt;/features&gt;\n &lt;cpu&gt;\n  &lt;topology sockets='2' cores='8' threads='1'/&gt;\n &lt;/cpu&gt;\n &lt;clock offset='utc'&gt;\n  &lt;timer name='rtc' tickpolicy='catchup'/&gt;\n  &lt;timer name='pit' tickpolicy='delay'/&gt;\n  &lt;timer name='hpet' present='no'/&gt;\n &lt;/clock&gt;\n &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt;\n &lt;on_reboot&gt;restart&lt;/on_reboot&gt;\n &lt;on_crash&gt;destroy&lt;/on_crash&gt;\n &lt;pm&gt;\n  &lt;suspend-to-mem enabled='no'/&gt;\n  &lt;suspend-to-disk enabled='no'/&gt;\n &lt;/pm&gt;\n &lt;devices&gt;\n  &lt;emulator&gt;/usr/libexec/qemu-kvm&lt;/emulator&gt;\n  &lt;disk type='file' device='disk'&gt;\n   &lt;driver name='qemu' type='qcow2'/&gt;\n   &lt;source file='/kvm0/iso.d/ows_sys_centos7_500G.img'/&gt;\n   &lt;backingStore/&gt;\n   &lt;target dev='hda' bus='ide'/&gt;\n   &lt;alias name='ide0-0-0'/&gt;\n   &lt;address type='drive' controller='0' bus='0' target='0' unit='0'/&gt;\n  &lt;/disk&gt;\n  &lt;controller type='usb' index='0' model='ich9-ehci1'&gt;\n   &lt;alias name='usb'/&gt;\n   &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x05' function='0x7'/&gt;\n  &lt;/controller&gt;\n  &lt;controller type='usb' index='0' model='ich9-uhci1'&gt;\n   &lt;alias name='usb'/&gt;\n   &lt;master startport='0'/&gt;\n   &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x05' function='0x0' multifunction='on'/&gt;\n  &lt;/controller&gt;\n  &lt;controller type='usb' index='0' model='ich9-uhci2'&gt;\n   &lt;alias name='usb'/&gt;\n   &lt;master startport='2'/&gt;\n   &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x05' function='0x1'/&gt;\n  &lt;/controller&gt;\n  &lt;controller type='usb' index='0' model='ich9-uhci3'&gt;\n   &lt;alias name='usb'/&gt;\n   &lt;master startport='4'/&gt;\n   &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x05' function='0x2'/&gt;\n  &lt;/controller&gt;\n  &lt;controller type='pci' index='0' model='pci-root'&gt;\n   &lt;alias name='pci.0'/&gt;\n  &lt;/controller&gt;\n  &lt;controller type='ide' index='0'&gt;\n   &lt;alias name='ide'/&gt;\n   &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x01' function='0x1'/&gt;\n  &lt;/controller&gt;\n  &lt;interface type='bridge'&gt;\n   &lt;source bridge='kvm-br'/&gt;\n   &lt;virtualport type='openvswitch'&gt;\n   &lt;/virtualport&gt;\n   &lt;target dev='vnet0'/&gt;\n   &lt;model type='virtio'/&gt;\n   &lt;alias name='net0'/&gt;\n   &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x03' function='0x0'/&gt;\n  &lt;/interface&gt;\n\n  &lt;serial type='pty'&gt;\n   &lt;source path='/dev/pts/7'/&gt;\n   &lt;target type='isa-serial' port='0'&gt;\n    &lt;model name='isa-serial'/&gt;\n   &lt;/target&gt;\n   &lt;alias name='serial0'/&gt;\n  &lt;/serial&gt;\n  &lt;console type='pty' tty='/dev/pts/7'&gt;\n   &lt;source path='/dev/pts/7'/&gt;\n   &lt;target type='serial' port='0'/&gt;\n   &lt;alias name='serial0'/&gt;\n  &lt;/console&gt;\n  &lt;input type='mouse' bus='ps2'&gt;\n   &lt;alias name='input0'/&gt;\n  &lt;/input&gt;\n  &lt;input type='keyboard' bus='ps2'&gt;\n   &lt;alias name='input1'/&gt;\n  &lt;/input&gt;\n  &lt;graphics type='vnc' port='5900' autoport='yes' listen='127.0.0.1'&gt;\n   &lt;listen type='address' address='127.0.0.1'/&gt;\n  &lt;/graphics&gt;\n  &lt;video&gt;\n   &lt;model type='cirrus' vram='16384' heads='1' primary='yes'/&gt;\n   &lt;alias name='video0'/&gt;\n   &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x02' function='0x0'/&gt;\n  &lt;/video&gt;\n  &lt;memballoon model='virtio'&gt;\n   &lt;alias name='balloon0'/&gt;\n   &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x06' function='0x0'/&gt;\n  &lt;/memballoon&gt;\n &lt;/devices&gt;\n &lt;seclabel type='dynamic' model='dac' relabel='yes'&gt;\n  &lt;label&gt;+107:+107&lt;/label&gt;\n  &lt;imagelabel&gt;+107:+107&lt;/imagelabel&gt;\n &lt;/seclabel&gt;\n&lt;/domain&gt;\n\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/%E4%BF%AE%E6%94%B9%E4%BA%91%E9%95%9C%E5%83%8F%E5%AF%86%E7%A0%81/","title":"\u4fee\u6539\u4e91\u955c\u50cf\u5bc6\u7801","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/%E4%BF%AE%E6%94%B9%E4%BA%91%E9%95%9C%E5%83%8F%E5%AF%86%E7%A0%81/#_1","title":"\u4e0b\u8f7d\u5b98\u65b9\u4e91\u955c\u50cf\uff1a","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/%E4%BF%AE%E6%94%B9%E4%BA%91%E9%95%9C%E5%83%8F%E5%AF%86%E7%A0%81/#openstack","title":"openstack\u5b98\u65b9\u5730\u5740\uff1a","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/%E4%BF%AE%E6%94%B9%E4%BA%91%E9%95%9C%E5%83%8F%E5%AF%86%E7%A0%81/#ubuntuhttpscloud-imagesubuntucom","title":"ubuntu\u5730\u5740\uff1ahttps://cloud-images.ubuntu.com/","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/%E4%BF%AE%E6%94%B9%E4%BA%91%E9%95%9C%E5%83%8F%E5%AF%86%E7%A0%81/#centoshttpscloudcentosorgcentos7images","title":"centos\u5730\u5740\uff1ahttps://cloud.centos.org/centos/7/images/","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/%E4%BF%AE%E6%94%B9%E4%BA%91%E9%95%9C%E5%83%8F%E5%AF%86%E7%A0%81/#debian910httpcdimagedebianorgcdimageopenstack","title":"debian\u5730\u5740\uff089/10\uff09\uff1ahttp://cdimage.debian.org/cdimage/openstack/","text":"<p>\u6267\u884c\u547d\u4ee4\u8fdb\u884c\u4fee\u6539\u4e91\u955c\u50cf\u5bc6\u7801\uff08\u9ed8\u8ba4\u662froot\u8d26\u6237\uff09\uff1a - ubuntu\u7cfb\u5217\u4f7f\u7528apt\u8fdb\u884c\u5b89\u88c5</p> <pre><code>sudo yum install libguestfs-tools -y\n\nsudo virt-customize -a CentOS-7-x86_64-GenericCloud-2009.qcow2 --root-password password:123456\n</code></pre> <pre><code>virt-customize -a test-ubuntu22-sys.qcow2 --password ubuntu:password:'1xUKEJBrqjMd+osY+'\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/kvm/%E8%99%9A%E6%8B%9F%E6%9C%BA%20XML%20%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B%E8%AF%B4%E6%98%8E/","title":"\u865a\u62df\u673a XML \u914d\u7f6e\u793a\u4f8b\u8bf4\u660e","text":"<p>\u53c2\u8003\uff1ahttps://docs.redhat.com/zh_hans/documentation/red_hat_enterprise_linux/8/html/configuring_and_managing_virtualization/sample-virtual-machine-xml-configuration_viewing-information-about-virtual-machines</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E4%B8%8Bvlan%E5%92%8Cvxlan%E7%BD%91%E7%BB%9C%E6%B5%81/","title":"Openstack\u4e0bvlan\u548cvxlan\u7f51\u7edc\u6d41","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E4%B8%8Bvlan%E5%92%8Cvxlan%E7%BD%91%E7%BB%9C%E6%B5%81/#_1","title":"\u80cc\u666f","text":"<p>\u8bf7\u4eceopenstack\u67b6\u6784\u7684\u89d2\u5ea6\u4e0a\u6765\u8bf4\uff0c\u4e24\u4e2aVM\u4f7f\u7528VLAN\u548cVXLAN\u7684VPC\u8fdb\u884c\u5185\u7f51\u901a\u4fe1\u7684\u65f6\u5019\u6570\u636e\u5305\u7684\u6d41\u5411\u7684\u533a\u522b\u3002\u4ee5\u53caVXLAN\u4f7f\u7528\u7684\u6d6e\u52a8IP\u548cVLAN\u4f7f\u7528\u516c\u7f51\u76f4\u901a\u7684\u65b9\u5f0f\uff0c\u8bbf\u95ee\u5916\u90e8\u4e92\u8054\u7f51\u7684\u533a\u522b\u3002\u6700\u540e\u603b\u7ed3\u8fd9\u4e24\u4e2a\u6a21\u5f0f\u5728openstack\u67b6\u6784\u7684\u4e0a\u9762\u7684\u4f18\u52a3\u5bf9\u6bd4\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E4%B8%8Bvlan%E5%92%8Cvxlan%E7%BD%91%E7%BB%9C%E6%B5%81/#_2","title":"\u7ed3\u8bba","text":"<p>\u5728OpenStack\u67b6\u6784\u4e2d\uff0cVLAN\u548cVXLAN\u662f\u4e24\u79cd\u6700\u4e3b\u6d41\u7684\u7f51\u7edc\u9694\u79bb\u4e0e\u901a\u4fe1\u6a21\u5f0f\u3002\u5b83\u4eec\u5728\u5e95\u5c42\u6570\u636e\u5305\u6d41\u5411\u3001\u5916\u90e8\u8bbf\u95ee\u65b9\u5f0f\u4ee5\u53ca\u67b6\u6784\u4f18\u52a3\u52bf\u4e0a\u6709\u663e\u8457\u533a\u522b\u3002\u4ee5\u4e0b\u662f\u8be6\u7ec6\u7684\u6df1\u5ea6\u89e3\u6790\uff1a</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E4%B8%8Bvlan%E5%92%8Cvxlan%E7%BD%91%E7%BB%9C%E6%B5%81/#vm","title":"\u4e00\u3001 \u4e24\u4e2aVM\u8fdb\u884c\u5185\u7f51\u901a\u4fe1\u65f6\u7684\u6570\u636e\u5305\u6d41\u5411\u533a\u522b","text":"<p>\u5047\u8bbe\u4e24\u4e2aVM\uff08VM1\u548cVM2\uff09\u4f4d\u4e8e\u4e0d\u540c\u7684\u8ba1\u7b97\u8282\u70b9\uff08Compute Node\uff09\u4e0a\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E4%B8%8Bvlan%E5%92%8Cvxlan%E7%BD%91%E7%BB%9C%E6%B5%81/#1-vlan","title":"1. VLAN\u6a21\u5f0f\uff08\u4e8c\u5c42\u786c\u9694\u79bb\uff09","text":"<p>VLAN\u6a21\u5f0f\u4f9d\u8d56\u7269\u7406\u4ea4\u6362\u673a\u7684802.1q\u6807\u7b7e\uff0cOpenStack\u4ec5\u8d1f\u8d23\u5728\u51fa\u5bbf\u4e3b\u673a\u65f6\u6253\u4e0a\u6807\u7b7e\u3002</p> <ul> <li> <p>\u6d41\u5411\u8def\u5f84\uff1a</p> <ol> <li> <p>VM1\u53d1\u51fa\u6570\u636e\u5305\uff1a\u6570\u636e\u5305\u4eceVM1\u7684\u7f51\u5361\u53d1\u51fa\uff0c\u8fdb\u5165\u5bbf\u4e3b\u673a\u7684Tap\u8bbe\u5907\u3002</p> </li> <li> <p>Linux Bridge (\u5b89\u5168\u7ec4\u5c42)\uff1a\u7ecf\u8fc7Linux Bridge\uff08qbr\uff09\uff0c\u6b64\u5904\u5904\u7406\u5b89\u5168\u7ec4\uff08Security Group\uff09\u89c4\u5219\uff08\u5982iptables\uff09\u3002</p> </li> <li> <p>OVS Integration Bridge (br-int)\uff1a\u8fdb\u5165\u96c6\u6210\u7f51\u6865\uff0c\u6b64\u65f6\u6570\u636e\u5305\u901a\u5e38\u5e26\u6709\u5185\u90e8VLAN ID\uff08Local VLAN ID\uff09\u3002</p> </li> <li> <p>OVS Physical Bridge (br-ethx)\uff1a\u6570\u636e\u5305\u88ab\u8f6c\u53d1\u5230\u7269\u7406\u7f51\u5361\u6620\u5c04\u7684\u7f51\u6865\u3002\u5173\u952e\u70b9\uff1a\u5728\u6b64\u5904\uff0cOpenStack\u4f1a\u5c06\u5185\u90e8VLAN ID\u8f6c\u6362\u4e3a\u771f\u5b9e\u7684\u7269\u7406VLAN Tag\uff08\u4f8b\u5982 VLAN 100\uff09\u3002</p> </li> <li> <p>\u7269\u7406\u7f51\u7edc\uff1a\u5e26\u6709VLAN Tag (802.1q) \u7684\u4ee5\u592a\u7f51\u5e27\u79bb\u5f00\u7269\u7406\u7f51\u5361\uff0c\u7ecf\u8fc7\u7269\u7406\u4ea4\u6362\u673a\u3002\u4ea4\u6362\u673a\u5fc5\u987b\u914d\u7f6e\u4e3aTrunk\u6a21\u5f0f\u5e76\u5141\u8bb8\u8be5VLAN\u901a\u8fc7\u3002</p> </li> <li> <p>\u5230\u8fbe\u5bf9\u7aef\u8282\u70b9\uff1a\u5bf9\u7aef\u7269\u7406\u7f51\u5361\u63a5\u6536\u5230Tagged\u5e27\uff0c\u5265\u79bbTag\u6216\u8f6c\u6362\u56de\u5185\u90e8Tag\uff0c\u53cd\u5411\u7ecf\u8fc7br-ethx -&gt; br-int -&gt; qbr -&gt; VM2\u3002</p> </li> </ol> </li> <li> <p>\u6838\u5fc3\u7279\u5f81\uff1a\u6570\u636e\u5305\u5728\u7269\u7406\u7f51\u7edc\u4e2d\u662f\u53ef\u89c1\u7684\u4e8c\u5c42\u4ee5\u592a\u7f51\u5e27\uff0c\u5e26\u6709VLAN\u6807\u7b7e\u3002\u7269\u7406\u4ea4\u6362\u673a\u53c2\u4e0e\u4e8c\u5c42\u4ea4\u6362\u3002</p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E4%B8%8Bvlan%E5%92%8Cvxlan%E7%BD%91%E7%BB%9C%E6%B5%81/#2-vxlanoverlay","title":"2. VXLAN\u6a21\u5f0f\uff08Overlay\u96a7\u9053\uff09","text":"<p>VXLAN\u5c06\u4e8c\u5c42\u6570\u636e\u5305\u5c01\u88c5\u5728UDP\u5305\u4e2d\uff0c\u5728\u4e09\u5c42\u7f51\u7edc\u4e0a\u6784\u5efa\u865a\u62df\u4e8c\u5c42\u3002</p> <ul> <li> <p>\u6d41\u5411\u8def\u5f84\uff1a</p> <ol> <li> <p>VM1\u53d1\u51fa\u6570\u636e\u5305\uff1a\u8def\u5f84\u524d\u6bb5\u4e0eVLAN\u76f8\u540c\uff08VM -&gt; Tap -&gt; qbr -&gt; br-int\uff09\u3002</p> </li> <li> <p>OVS Tunnel Bridge (br-tun)\uff1a\u5173\u952e\u5206\u6b67\u70b9\u3002\u6570\u636e\u5305\u8fdb\u5165\u96a7\u9053\u7f51\u6865\uff0cOVS\u6839\u636e\u6d41\u8868\u5c06\u539f\u59cb\u4ee5\u592a\u7f51\u5e27\u5c01\u88c5\u3002</p> <ul> <li>\u5c01\u88c5\u52a8\u4f5c\uff1a\u6dfb\u52a0VXLAN\u5934\uff08\u5305\u542b24\u4f4dVNI\uff09\u3001UDP\u5934\u3001IP\u5934\u3002\u6e90IP\u662f\u5f53\u524d\u8ba1\u7b97\u8282\u70b9IP\uff0c\u76ee\u7684IP\u662f\u5bf9\u7aef\u8ba1\u7b97\u8282\u70b9IP\u3002</li> </ul> </li> <li> <p>\u7269\u7406\u63a5\u53e3\uff1a\u5c01\u88c5\u540e\u7684\u5305\u53d8\u6210\u4e86\u4e00\u4e2a\u6807\u51c6\u7684\u4e09\u5c42IP/UDP\u5305\uff0c\u4ece\u7269\u7406\u7f51\u5361\u53d1\u51fa\u3002</p> </li> <li> <p>\u7269\u7406\u7f51\u7edc\uff1a\u7269\u7406\u4ea4\u6362\u673a\u53ea\u770b\u5230IP\u6d41\u91cf\uff0c\u4e0d\u611f\u77e5\u5185\u90e8\u7684VM\u6570\u636e\u3002\u5b83\u53ea\u9700\u8fdb\u884c\u666e\u901a\u7684\u4e09\u5c42\u8def\u7531\u8f6c\u53d1\uff08IP Routing\uff09\u3002</p> </li> <li> <p>\u5230\u8fbe\u5bf9\u7aef\u8282\u70b9\uff1a\u5bf9\u7aef\u8ba1\u7b97\u8282\u70b9\u6536\u5230UDP\u5305\uff0c\u5728br-tun\u8fdb\u884c\u89e3\u5c01\u88c5\uff08VTEP\u89e3\u5305\uff09\uff0c\u53d6\u51fa\u539f\u59cb\u4ee5\u592a\u7f51\u5e27\uff0c\u518d\u9001\u5f80br-int -&gt; qbr -&gt; VM2\u3002</p> </li> </ol> </li> <li> <p>\u6838\u5fc3\u7279\u5f81\uff1a\u6570\u636e\u5305\u5728\u7269\u7406\u7f51\u7edc\u4e2d\u662f\u4e09\u5c42UDP\u5305\uff0c\u5185\u90e8\u7ec6\u8282\u5bf9\u7269\u7406\u8bbe\u5907\u4e0d\u53ef\u89c1\u3002</p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E4%B8%8Bvlan%E5%92%8Cvxlan%E7%BD%91%E7%BB%9C%E6%B5%81/#vxlan-ip-vs-vlan","title":"\u4e8c\u3001 \u8bbf\u95ee\u5916\u90e8\u4e92\u8054\u7f51\u7684\u533a\u522b\uff1aVXLAN (\u6d6e\u52a8IP) vs VLAN (\u516c\u7f51\u76f4\u901a)","text":"<p>\u8fd9\u91cc\u5bf9\u6bd4\u7684\u662f\u201c\u79df\u6237\u7f51\u7edc+\u6d6e\u52a8IP\u201d\u6a21\u5f0f\u4e0e\u201cProvider Network\u76f4\u901a\u201d\u6a21\u5f0f\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E4%B8%8Bvlan%E5%92%8Cvxlan%E7%BD%91%E7%BB%9C%E6%B5%81/#1-vxlan-ip-floating-ip","title":"1. VXLAN\u6a21\u5f0f + \u6d6e\u52a8IP (Floating IP)","text":"<p>\u8fd9\u662f\u5178\u578b\u7684NAT (\u7f51\u7edc\u5730\u5740\u8f6c\u6362) \u6a21\u5f0f\u3002VM\u672c\u8eab\u4e0d\u77e5\u9053\u81ea\u5df1\u6709\u516c\u7f51IP\uff0c\u53ea\u914d\u7f6e\u4e86\u5185\u7f51IP\u3002</p> <ul> <li> <p>\u673a\u5236\uff1aOpenStack\u5728\u7f51\u7edc\u8282\u70b9\uff08Network Node\uff09\u6216\u8ba1\u7b97\u8282\u70b9\uff08\u82e5\u5f00\u542fDVR\u5206\u5e03\u5f0f\u8def\u7531\uff09\u4e0a\u8fd0\u884c\u865a\u62df\u8def\u7531\u5668\u3002</p> </li> <li> <p>\u51fa\u7f51\u6d41\u7a0b (SNAT)\uff1a</p> <ul> <li> <p>VM\u53d1\u51fa\u6570\u636e\u5305\uff08\u6e90IP=\u5185\u7f51IP\uff09 -&gt; \u7ecf\u8fc7VXLAN\u96a7\u9053\u5230\u8fbe\u7f51\u7edc\u8282\u70b9/DVR\u3002</p> </li> <li> <p>\u5728\u8def\u7531\u5668\u7684\u547d\u540d\u7a7a\u95f4\uff08Namespace\uff09\u4e2d\uff0ciptables\u6267\u884cSNAT\uff08\u6e90\u5730\u5740\u8f6c\u6362\uff09\uff0c\u5c06\u6e90IP\u66ff\u6362\u4e3a\u8def\u7531\u5668\u7684\u5916\u90e8\u7f51\u5173IP\uff08\u901a\u5e38\u516c\u7528\u4e00\u4e2a\u516c\u7f51IP\u51fa\u7f51\uff09\u3002</p> </li> </ul> </li> <li> <p>\u5165\u7f51\u6d41\u7a0b (DNAT - \u6d6e\u52a8IP)\uff1a</p> <ul> <li> <p>\u516c\u7f51\u7528\u6237\u8bbf\u95ee\u6d6e\u52a8IP\u3002</p> </li> <li> <p>\u6570\u636e\u5305\u5230\u8fbe\u8def\u7531\u5668\uff0ciptables\u6267\u884cDNAT\uff08\u76ee\u6807\u5730\u5740\u8f6c\u6362\uff09\uff0c\u5c06\u76ee\u6807IP\u4ece\u6d6e\u52a8IP\u4fee\u6539\u4e3aVM\u7684\u5185\u7f51IP\u3002</p> </li> <li> <p>\u6570\u636e\u5305\u518d\u6b21\u5c01\u88c5\u8fdbVXLAN\u96a7\u9053\uff0c\u53d1\u5f80VM\u6240\u5728\u7684\u8ba1\u7b97\u8282\u70b9\u3002</p> </li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E4%B8%8Bvlan%E5%92%8Cvxlan%E7%BD%91%E7%BB%9C%E6%B5%81/#2-vlan-provider-network-flat","title":"2. VLAN\u6a21\u5f0f + \u516c\u7f51\u76f4\u901a (Provider Network / Flat)","text":"<p>\u8fd9\u662f\u65e0NAT (No-NAT) \u6216 \u4e8c\u5c42\u5ef6\u4f38\u6a21\u5f0f\u3002VM\u76f4\u63a5\u8fde\u63a5\u5230\u7269\u7406\u7f51\u7edc\u7684\u67d0\u4e2a\u7f51\u6bb5\u3002</p> <ul> <li> <p>\u673a\u5236\uff1aVM\u7684\u865a\u62df\u7f51\u5361\u76f4\u63a5\u201c\u6865\u63a5\u201d\u5230\u4e86\u5916\u90e8\u7269\u7406\u7f51\u7edc\u6240\u5728\u7684VLAN\u6216\u5e73\u9762\u7f51\u7edc\u4e2d\u3002</p> </li> <li> <p>\u914d\u7f6e\uff1a</p> <ul> <li> <p>VM\u4e0d\u4ec5\u62e5\u6709\u5185\u7f51IP\uff0c\u5728\u8fd9\u4e2a\u573a\u666f\u4e0b\uff0cOpenStack\u901a\u5e38\u76f4\u63a5\u7ed9VM\u5206\u914d\u4e00\u4e2a\u53ef\u8def\u7531\u7684\u516c\u7f51IP\uff08\u6216\u8005\u7269\u7406\u7f51\u7edc\u6bb5\u7684IP\uff09\u3002</p> </li> <li> <p>\u6ca1\u6709\u865a\u62df\u8def\u7531\u5668\u505aNAT\u3002</p> </li> </ul> </li> <li> <p>\u51fa\u7f51\u6d41\u7a0b\uff1a</p> <ul> <li> <p>VM\u53d1\u51fa\u6570\u636e\u5305\uff08\u6e90IP=\u516c\u7f51IP\uff09\u3002</p> </li> <li> <p>\u6570\u636e\u5305\u6253\u4e0aVLAN Tag\u76f4\u63a5\u51fa\u7269\u7406\u7f51\u5361\u3002</p> </li> <li> <p>\u7269\u7406\u4ea4\u6362\u673a/\u7269\u7406\u8def\u7531\u5668\u76f4\u63a5\u63a5\u6536\u5e76\u8def\u7531\u5230\u4e92\u8054\u7f51\u3002</p> </li> </ul> </li> <li> <p>\u6838\u5fc3\u533a\u522b\uff1a\u6d41\u91cf\u4e0d\u7ecf\u8fc7OpenStack\u7684\u865a\u62df\u8def\u7531\u5668\u547d\u540d\u7a7a\u95f4\uff0c\u6027\u80fd\u635f\u8017\u6781\u4f4e\uff0c\u5b8c\u5168\u4f9d\u8d56\u7269\u7406\u7f51\u7edc\u8bbe\u65bd\u7684\u8def\u7531\u80fd\u529b\u3002</p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E4%B8%8Bvlan%E5%92%8Cvxlan%E7%BD%91%E7%BB%9C%E6%B5%81/#openstack","title":"\u4e09\u3001 \u603b\u7ed3\uff1aOpenStack\u67b6\u6784\u4e0b\u7684\u4f18\u52a3\u5bf9\u6bd4","text":"\u7279\u6027 VLAN\u6a21\u5f0f (Provider/Direct) VXLAN\u6a21\u5f0f (Overlay/Tenant) \u9694\u79bb\u80fd\u529b \u8f83\u5dee\u3002\u53d7\u9650\u4e8e4094\u4e2aVLAN ID\u4e0a\u9650\uff0c\u4e14\u9700\u8981\u5728\u7269\u7406\u4ea4\u6362\u673a\u4e0a\u914d\u7f6e\u3002 \u6781\u5f3a\u3002\u652f\u63011600\u4e07\u4e2aVNI (24-bit)\uff0c\u4e14\u4e0e\u7269\u7406\u7f51\u7edc\u89e3\u8026\u3002 \u7269\u7406\u7f51\u7edc\u8981\u6c42 \u9ad8\u3002\u9700\u8981\u7269\u7406\u4ea4\u6362\u673a\u914d\u7f6eTrunk\uff0c\u5fc5\u987b\u662f\u5927\u4e8c\u5c42\u4e92\u901a\u6216\u4f9d\u8d56\u590d\u6742\u8def\u7531\u3002 \u4f4e\u3002\u7269\u7406\u7f51\u7edc\u53ea\u9700IP\u53ef\u8fbe\uff08\u4e09\u5c42\u4e92\u901a\uff09\u5373\u53ef\uff0c\u652f\u6301\u8de8\u673a\u623f/\u8de8\u7f51\u6bb5\u3002 \u6027\u80fd (\u541e\u5410/\u5ef6\u8fdf) \u9ad8\u3002\u63a5\u8fd1\u7269\u7406\u7f51\u5361\u901f\u5ea6\uff0c\u7531\u786c\u4ef6\u4ea4\u6362\u673a\u8f6c\u53d1\u3002 \u4e2d\u3002\u6709\u5c01\u88c5/\u89e3\u5c01\u88c5\u5f00\u9500\uff08CPU\u8d1f\u8f7d\uff09\uff0c\u4e14MTU\u53d8\u5c0f\uff08\u9700\u51cf\u53bb\u7ea650\u5b57\u8282\u5934\u90e8\uff09\u3002\u4f46\u73b0\u4ee3\u7f51\u5361\u652f\u6301VXLAN Offload\u53ef\u7f13\u89e3\u6b64\u95ee\u9898\u3002 \u7075\u6d3b\u6027 \u4f4e\u3002\u521b\u5efa\u65b0\u7f51\u7edc\u5f80\u5f80\u9700\u8981\u7f51\u7edc\u5de5\u7a0b\u5e08\u4ecb\u5165\u4fee\u6539\u7269\u7406\u4ea4\u6362\u673a\u914d\u7f6e\u3002 \u9ad8\u3002\u5b8c\u5168\u8f6f\u4ef6\u5b9a\u4e49\uff08SDN\uff09\uff0c\u79df\u6237\u53ef\u79d2\u7ea7\u81ea\u52a9\u521b\u5efa\u9694\u79bb\u7f51\u7edc\u3002 \u516c\u7f51\u8bbf\u95ee\u573a\u666f \u9002\u5408\u56fa\u5b9a\u4e1a\u52a1\u3002\u5982\u6570\u636e\u5e93\u3001\u9ad8\u6027\u80fd\u8ba1\u7b97\uff0c\u76f4\u63a5\u66b4\u9732IP\uff0c\u65e0NAT\u635f\u8017\u3002 \u9002\u5408\u516c\u6709\u4e91/\u591a\u79df\u6237\u3002\u901a\u8fc7\u6d6e\u52a8IP\u7075\u6d3b\u7ed1\u5b9a/\u89e3\u7ed1\uff0c\u4fdd\u62a4\u540e\u7aefVM\u771f\u5b9eIP\u3002 MTU\u95ee\u9898 \u65e0\u989d\u5916\u5f00\u9500\uff0c\u901a\u5e38\u8bbe\u4e3a1500\u3002 \u6709\u5927\u5751\u3002\u56e0\u5c01\u88c5\u5934\u90e8\uff0cVM\u5185MTU\u901a\u5e38\u9700\u8bbe\u4e3a1450\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u5927\u5305\u4e22\u5f03\u3002 <p>\u4e00\u53e5\u8bdd\u5efa\u8bae\uff1a</p> <p>\u5982\u679c\u4f60\u7684\u73af\u5883\u662f\u79c1\u6709\u4e91\u3001\u7269\u7406\u7f51\u7edc\u53ef\u63a7\u4e14\u89c4\u6a21\u4e0d\u5927\uff08&lt;4000\u79df\u6237\uff09\uff0c\u8ffd\u6c42\u6781\u81f4\u6027\u80fd\uff0c\u9009 VLAN\u3002</p> <p>\u5982\u679c\u4f60\u662f\u516c\u6709\u4e91\u3001\u6216\u662f\u5927\u89c4\u6a21\u591a\u79df\u6237\u73af\u5883\uff0c\u7f51\u7edc\u62d3\u6251\u590d\u6742\uff0c\u9700\u8981\u79df\u6237\u81ea\u52a9\u670d\u52a1\uff0c\u9009 VXLAN\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E5%AE%98%E7%BD%91/","title":"Openstack\u5b98\u7f51","text":"<p>OpenStack\u5b98\u65b9\uff1ahttps://www.openstack.org/software/ OpenStack\u5b98\u65b9\u6587\u6863\uff1ahttps://docs.openstack.org/ </p> <p>OpenStack\u662f\u4e00\u4e2a\u4e91\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5b83\u63a7\u5236\u7740\u6574\u4e2a\u6570\u636e\u4e2d\u5fc3\u7684\u5927\u578b\u8ba1\u7b97\u3001\u5b58\u50a8\u548c\u7f51\u7edc\u8d44\u6e90\u6c60\uff0c\u6240\u6709\u8fd9\u4e9b\u8d44\u6e90\u90fd\u901a\u8fc7\u5177\u6709\u901a\u7528\u8eab\u4efd\u9a8c\u8bc1\u673a\u5236\u7684API\u8fdb\u884c\u7ba1\u7406\u548c\u914d\u7f6e\u3002</p> <p>\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4eea\u8868\u677f\uff0c\u8ba9\u7ba1\u7406\u5458\u53ef\u4ee5\u63a7\u5236\uff0c\u540c\u65f6\u6388\u6743\u7528\u6237\u901a\u8fc7web\u754c\u9762\u914d\u7f6e\u8d44\u6e90\u3002</p> <p>\u9664\u4e86\u6807\u51c6\u7684\u57fa\u7840\u8bbe\u65bd\u5373\u670d\u52a1\u529f\u80fd\u5916\uff0c\u5176\u4ed6\u7ec4\u4ef6\u8fd8\u63d0\u4f9b\u7f16\u6392\u3001\u6545\u969c\u7ba1\u7406\u548c\u670d\u52a1\u7ba1\u7406\u7b49\u670d\u52a1\uff0c\u4ee5\u786e\u4fdd\u7528\u6237\u5e94\u7528\u7a0b\u5e8f\u7684\u9ad8\u53ef\u7528\u6027\u3002</p> <p></p> <p>OpenStack\u88ab\u5206\u89e3\u4e3a\u670d\u52a1\uff0c\u5141\u8bb8\u60a8\u6839\u636e\u9700\u8981\u5373\u63d2\u5373\u7528\u7ec4\u4ef6\u3002openstack\u5730\u56fe\u4e3a\u60a8\u63d0\u4f9b\u4e86openstack\u73af\u5883\u7684\u201c\u6982\u89c8\u201d\u89c6\u56fe\uff0c\u4ee5\u4e86\u89e3\u8fd9\u4e9b\u670d\u52a1\u9002\u5408\u7684\u4f4d\u7f6e\u4ee5\u53ca\u5b83\u4eec\u5982\u4f55\u534f\u540c\u5de5\u4f5c\u3002</p> <p></p> <p>\u5b98\u7f51\uff1a</p> <ul> <li>OpenStack \u865a\u62df\u673a\u6620\u50cf\u6307\u5357\uff1ahttps://docs.openstack.org/image-guide/</li> <li>OpenStack \u7f51\u7edc\u6307\u5357\uff1ahttps://docs.openstack.org/neutron/latest/admin/index.html</li> <li>OpenStack \u670d\u52a1\u7528\u6237\u6307\u5357 https://docs.openstack.org/2025.2/user/</li> <li>OpenStack \u64cd\u4f5c\u6307\u5357 https://docs.openstack.org/operations-guide/</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E6%A1%86%E6%9E%B6/","title":"Openstack\u6846\u67b6","text":"<p>\u53c2\u8003\u5b98\u65b9\uff1ahttps://docs.openstack.org/install-guide/get-started-conceptual-architecture.html </p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E6%A1%86%E6%9E%B6/#_1","title":"\u67b6\u6784","text":"<p>Openstack\u7684\u6838\u5fc3\u7531\u4e09\u5927\u90e8\u5206\u6784\u6210\uff1a\u8ba1\u7b97\u3001\u7f51\u7edc\u3001\u5b58\u50a8\u3002\u800cOpenstack\u5305\u542b\u5f88\u591a\u4e2a\u7ec4\u4ef6\uff0c\u6700\u4e3b\u8981\u662f7\u4e2a\u7ec4\u4ef6\uff1aHorizon\u3001Nova\u3001Glance\u3001Keystone\u3001Neutron\u3001Cinder\u3001Swift \u6bcf\u4e2a\u7ec4\u4ef6\u5728Openstack\u4e2d\u5145\u5f53\u4ec0\u4e48\u89d2\u8272\u4ee5\u53ca\u5404\u4e2a\u7ec4\u4ef6\u662f\u5982\u4f55\u5173\u8054\u7684\u5462\uff0c\u5728\u6211\u770b\u6765\uff0c\u865a\u62df\u673a\u662f\u4e2d\u5fc3\uff0c\u5176\u4ed6\u7684\u7ec4\u4ef6\u76f8\u4e92\u534f\u8c03\uff0c\u4e3a\u865a\u62df\u673a\u670d\u52a1     - \u5b98\u65b9\u7684\u7ec4\u4ef6\u8bf4\u660e\uff1ahttps://www.openstack.org/software/project-navigator/openstack-components</p> <p>\u6838\u5fc3\u7ec4\u4ef6\uff1a </p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E6%A1%86%E6%9E%B6/#_2","title":"\u7ec4\u4ef6\u8bf4\u660e","text":"<ul> <li>Horizon\u662f\u64cd\u4f5c\u9762\u677f\uff0c\u5176\u4ed6\u7ec4\u4ef6\u7684\u4fe1\u606f\u90fd\u53ef\u4ee5\u901a\u8fc7\u64cd\u4f5c\u9762\u677f\u8fdb\u884c\u6216\u8bb8\u548c\u8bbe\u7f6e\uff0c\u8ddf\u6211\u4eec\u7684WINDOWS\u7684\u754c\u9762\u5f88\u50cf\u3002</li> <li>Keystone\u662f\u8ba4\u8bc1\u670d\u52a1\uff0c\u5176\u4ed6\u6240\u6709\u7ec4\u4ef6\u7684\u4fe1\u606f\u6d41\u52a8\u90fd\u8981\u9760\u5b83\u6765\u8fdb\u884c\u5206\u6790\u548c\u51b3\u7b56\u3002</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E6%A1%86%E6%9E%B6/#11","title":"1.1 \u8ba1\u7b97\u670d\u52a1","text":"<ul> <li>Nova\u865a\u62df\u673a\u58f0\u660e\u5468\u671f\u7684\u7ba1\u7406\uff0c\u53ef\u4ee5\u521b\u5efa\u3001\u7ba1\u7406\u865a\u62df\u673a\u3002 \u521b\u5efa\u5b8c\u865a\u62df\u673a\uff0c\u5f97\u9700\u8981\u64cd\u4f5c\u7cfb\u7edf\u5427\uff0c\u8fd9\u6d3b\u513f\u5c31\u6709Glance\u5b8c\u6210\u3002</li> <li>Glance\u63d0\u4f9b\u955c\u50cf\u7ba1\u7406\u670d\u52a1\uff0c\u76f8\u5f53\u4e8e\u4e3a\u865a\u62df\u673a\u589e\u52a0\u4e86\u64cd\u4f5c\u7cfb\u7edf\u3002 \u6240\u4ee5\uff0cNova\u548cGlance\u6709\u914d\u5408\uff0c\u5e76\u90fd\u76f4\u63a5\u4e0eVM\u8fde\u63a5\u3002</li> <li>Ceilometer\u63d0\u4f9b\u76d1\u63a7\u670d\u52a1\uff08\u53ef\u9009\uff09\uff0c\u5b83\u5c31\u50cf\u6709\u4e2a\u6f0f\u6597\uff0c\u80fd\u628aOpenstack\u5185\u90e8\u53d1\u751f\u7684\u6240\u6709\u7684\u4e8b\u4ef6\u6536\u96c6\u8d77\u6765\uff0c\u7136\u540e\u4e3a\u8ba1\u8d39\u548c\u76d1\u63a7\u4ee5\u53ca\u5176\u4ed6\u7a0b\u5e8f\u63d0\u4f9b\u6570\u636e\u652f\u6491\u3002</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E6%A1%86%E6%9E%B6/#12","title":"1.2 \u7f51\u7edc\u670d\u52a1","text":"<ul> <li>Neutron\u63d0\u4f9b\u7f51\u7edc\u670d\u52a1\uff0c\u7528\u4e8e\u5916\u90e8\u7f51\u7edc\u4ee5\u53ca\u5404\u7ec4\u4ef6\u4e4b\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\u3002</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E6%A1%86%E6%9E%B6/#13","title":"1.3 \u5b58\u50a8\u670d\u52a1","text":"<ul> <li>Cinder\u5757\u5b58\u50a8\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u865a\u62df\u7684\u78c1\u76d8\uff0c\u53ef\u5b9e\u73b0\u6302\u8f7d\uff0c\u57fa\u4e8e\u6587\u4ef6\u7cfb\u7edf\u7684\u5b58\u50a8\u3002</li> <li>Swift\u5bf9\u8c61\u5b58\u50a8\uff0c\u6587\u4ef6\u53ef\u4ee5\u770b\u6210\u662f\u5bf9\u8c61\uff0c\u4ee5\u5757\u4e3a\u57fa\u672c\u5355\u5143\uff0c\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u5b58\u5728\u6253\u5305\u548c\u89e3\u5305\u7684\u8fc7\u7a0b\uff0c\u56e0\u6b64\u4f1a\u5b9e\u73b0\u66f4\u9ad8\u901f\u7387\u7684\u4f20\u8f93\u3002</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E6%A1%86%E6%9E%B6/#_3","title":"\u5176\u4ed6\u53c2\u8003\uff1a","text":"<ul> <li>https://blog.csdn.net/daydayup8888/article/details/72911635</li> <li>https://governance.openstack.org/tc/reference/projects/</li> <li>openstack\u9879\u76ee\u4ee3\u7801\u4ed3\u5e93\uff1ahttps://opendev.org/openstack</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack-AIO/%E6%95%99%E7%A8%8B/","title":"\u6559\u7a0b","text":"<ul> <li>\u5b98\u7f51\u8bf4\u660e\uff1a https://docs.openstack.org/openstack-ansible/2024.1/user/aio/quickstart.html</li> <li>\u6398\u91d1AIO\uff1ahttps://juejin.cn/post/7106305833469739022</li> <li>\u5b98\u65b9\uff1a DevStack\uff1ahttps://docs.openstack.org/devstack/latest/</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E6%9C%80%E5%B0%8F%E5%8C%96%E5%AE%89%E8%A3%85/01-%E6%A6%82%E8%BF%B0/","title":"01 \u6982\u8ff0","text":"<ul> <li>\u53c2\u8003\u5b98\u65b9\uff1a<ul> <li>https://docs.openstack.org/install-guide/overview.html</li> </ul> </li> </ul> <p>\u672c\u6307\u5357\u5e76\u975e\u7528\u4e8e\u751f\u4ea7\u7cfb\u7edf\u5b89\u88c5\uff0c\u800c\u662f\u4e3a\u4e86\u5b66\u4e60OpenStack\u800c\u521b\u5efa\u6700\u4f4e\u9650\u5ea6\u7684\u6982\u5ff5\u9a8c\u8bc1\u3002</p> <p>\u793a\u4f8b\u67b6\u6784\u9700\u8981\u81f3\u5c11\u4e24\u4e2a\u8282\u70b9\uff08\u4e3b\u673a\uff09\u6765\u542f\u52a8\u57fa\u672c\u865a\u62df\u673a\u6216\u5b9e\u4f8b\u3002\u5757\u5b58\u50a8\u548c\u5bf9\u8c61\u5b58\u50a8\u7b49\u53ef\u9009\u670d\u52a1\u9700\u8981\u989d\u5916\u7684\u8282\u70b9\u3002</p> <p>\u6b64\u793a\u4f8b\u67b6\u6784\u4e0e\u6700\u5c0f\u751f\u4ea7\u67b6\u6784\u7684\u4e0d\u540c\u4e4b\u5904\u5982\u4e0b\uff1a</p> <pre><code>- \u7f51\u7edc\u4ee3\u7406\u9a7b\u7559\u5728\u63a7\u5236\u5668\u8282\u70b9\u4e0a\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u6216\u591a\u4e2a\u4e13\u7528\u7f51\u7edc\u8282\u70b9\u4e0a\u3002\n- \u81ea\u52a9\u670d\u52a1\u7f51\u7edc\u7684\u53e0\u52a0\uff08\u96a7\u9053\uff09\u6d41\u91cf\u7a7f\u8fc7\u7ba1\u7406\u7f51\u7edc\uff0c\u800c\u4e0d\u662f\u4e13\u7528\u7f51\u7edc\u3002\n</code></pre> <p> \u4ee5\u4e0b\u6700\u4f4e\u8981\u6c42\u5e94\u652f\u6301\u5177\u6709\u6838\u5fc3\u670d\u52a1\u548c\u591a\u4e2aCirrOS\u5b9e\u4f8b\u7684\u6982\u5ff5\u9a8c\u8bc1\u73af\u5883\uff1a</p> <ul> <li> <p>Controller Node: 1 processor, 4 GB memory, and 5 GB storage     \u63a7\u5236\u5668\u8282\u70b9\uff1a1\u4e2a\u5904\u7406\u5668\u30014 GB\u5185\u5b58\u548c5 GB\u5b58\u50a8</p> </li> <li> <p>Compute Node: 1 processor, 2 GB memory, and 10 GB storage     \u8ba1\u7b97\u8282\u70b9\uff1a1\u4e2a\u5904\u7406\u5668\u30012 GB\u5185\u5b58\u548c10 GB\u5b58\u50a8</p> </li> </ul> <p>\u4f7f\u7528\u5728\u81ea\u52a9\u670d\u52a1\uff08\u4e13\u7528\uff09\u7f51\u7edc\u67b6\u6784\u4e2d\uff0c\u5b9e\u4f8b\u53ef\u4ee5\u8fde\u63a5\u5230\u81ea\u52a9\u670d\u52a1\u6216\u63d0\u4f9b\u5546\u7f51\u7edc\u3002\u81ea\u52a9\u670d\u52a1\u7f51\u7edc\u53ef\u4ee5\u5b8c\u5168\u9a7b\u7559\u5728 OpenStack \u4e2d\uff0c\u6216\u8005\u901a\u8fc7\u63d0\u4f9b\u5546\u7f51\u7edc\u4f7f\u7528 NAT \u63d0\u4f9b\u67d0\u79cd\u7ea7\u522b\u7684\u5916\u90e8\u7f51\u7edc\u8bbf\u95ee\u3002</p> <p></p> <p>\u793a\u4f8b\u67b6\u6784\u5047\u8bbe\u4f7f\u7528\u4ee5\u4e0b\u7f51\u7edc\uff1a</p> <ul> <li>\u7f51\u5173 10.0.0.110.0.0.0/24 \u7ba1\u7406</li> <li>\u6b64\u7f51\u7edc\u9700\u8981\u7f51\u5173\u4e3a\u6240\u6709\u8282\u70b9\u63d0\u4f9b Internet \u8bbf\u95ee\uff0c\u4ee5\u7528\u4e8e\u7ba1\u7406\u76ee\u7684\uff0c\u4f8b\u5982\u5305\u5b89\u88c5\u3001\u5b89\u5168\u66f4\u65b0\u3001DNS \u548c NTP\u3002</li> <li>\u63d0\u4f9b\u5546 203.0.113.0/24 \u7f51\u5173 203.0.113.1</li> <li>\u6b64\u7f51\u7edc\u9700\u8981\u7f51\u5173\u6765\u63d0\u4f9b\u5bf9 OpenStack \u73af\u5883\u4e2d\u5b9e\u4f8b\u7684 Internet \u8bbf\u95ee\u3002</li> </ul> <p>\u9664\u975e\u60a8\u6253\u7b97\u4f7f\u7528\u672c\u793a\u4f8b\u67b6\u6784\u4e2d\u63d0\u4f9b\u7684\u786e\u5207\u914d\u7f6e\uff0c\u5426\u5219\u60a8\u5fc5\u987b\u5728\u6b64\u8fc7\u7a0b\u4e2d\u4fee\u6539\u7f51\u7edc\u4ee5\u5339\u914d\u60a8\u7684\u73af\u5883\u3002\u6bcf\u4e2a\u8282\u70b9\u9664\u4e86 IP \u5730\u5740\u4e4b\u5916\uff0c\u8fd8\u5fc5\u987b\u901a\u8fc7\u540d\u79f0\u89e3\u6790\u5176\u4ed6\u8282\u70b9\u3002\u4f8b\u5982\uff0c\u00a0<code>controller</code>\u00a0\u540d\u79f0\u5fc5\u987b\u89e3\u6790\u4e3a\u00a0<code>10.0.0.11</code>\u00a0\uff0c\u63a7\u5236\u5668\u8282\u70b9\u4e0a\u7ba1\u7406\u63a5\u53e3\u7684 IP \u5730\u5740\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E6%9C%80%E5%B0%8F%E5%8C%96%E5%AE%89%E8%A3%85/02-%E5%AE%89%E8%A3%85%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/","title":"02 \u5b89\u88c5\u57fa\u7840\u670d\u52a1","text":"<ul> <li> <p>\u53c2\u8003\u5b98\u65b9\uff1a</p> <ul> <li>https://docs.openstack.org/install-guide/environment.html</li> </ul> </li> <li> <p>\u4e3b\u8981\u5305\u542b\u670d\u52a1\uff1a</p> <ul> <li>Security\u00a0\u00a0\u00a0\u5b89\u5168</li> <li>Host networking\u00a0\u00a0\u00a0\u4e3b\u673a\u8054\u7f51</li> <li>Network Time Protocol (NTP)  \u7f51\u7edc\u65f6\u95f4\u534f\u8bae\uff08NTP\uff09</li> <li>OpenStack packages\u00a0\u00a0\u00a0OpenStack \u5305</li> <li>SQL database\u00a0\u00a0\u00a0SQL \u6570\u636e\u5e93</li> <li>Message queue\u00a0\u00a0\u00a0\u6d88\u606f\u961f\u5217</li> <li>Memcached</li> <li>Etcd</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openstack/openstack%E6%9C%80%E5%B0%8F%E5%8C%96%E5%AE%89%E8%A3%85/03-%E5%AE%89%E8%A3%85openstack%E6%9C%8D%E5%8A%A1/","title":"03 \u5b89\u88c5openstack\u670d\u52a1","text":"<ul> <li> <p>\u53c2\u8003\u5b98\u65b9\uff1a</p> <ul> <li>https://docs.openstack.org/install-guide/openstack-services.html</li> </ul> </li> <li> <p>\u60a8\u81f3\u5c11\u9700\u8981\u6309\u4ee5\u4e0b\u987a\u5e8f\u5b89\u88c5\u4ee5\u4e0b\u670d\u52a1\uff1a</p> <ul> <li> <p>Identity service \u2013\u00a0keystone installation for 2025.2 (Flamingo) </p> </li> <li> <p>Image service \u2013\u00a0glance installation for 2025.2 (Flamingo) </p> </li> <li> <p>Placement service \u2013\u00a0placement installation for 2025.2 (Flamingo) </p> </li> <li> <p>Compute service \u2013\u00a0nova installation for 2025.2 (Flamingo) </p> </li> <li> <p>Networking service \u2013\u00a0neutron installation for 2025.2 (Flamingo) </p> </li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openvswitch/CentOS7%E7%BC%96%E8%AF%91RPM%E5%8C%85%E5%AE%89%E8%A3%85Openvswitch/","title":"CentOS7\u7f16\u8bd1RPM\u5305\u5b89\u88c5Openvswitch","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openvswitch/CentOS7%E7%BC%96%E8%AF%91RPM%E5%8C%85%E5%AE%89%E8%A3%85Openvswitch/#1","title":"1. \u5b89\u88c5\u7f16\u8bd1\u5de5\u5177","text":"<pre><code>yum -y install wget openssl-devel gcc make python-devel openssl-devel kernel-devel kernel-debug-devel autoconf automake rpm-build redhat-rpm-config libtool\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openvswitch/CentOS7%E7%BC%96%E8%AF%91RPM%E5%8C%85%E5%AE%89%E8%A3%85Openvswitch/#2","title":"2. \u7f16\u8bd1\u73af\u5883\u51c6\u5907","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openvswitch/CentOS7%E7%BC%96%E8%AF%91RPM%E5%8C%85%E5%AE%89%E8%A3%85Openvswitch/#_1","title":"\u521b\u5efa\u7f16\u8bd1\u7528\u6237","text":"<pre><code>adduser ovs\nsu - ovs\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openvswitch/CentOS7%E7%BC%96%E8%AF%91RPM%E5%8C%85%E5%AE%89%E8%A3%85Openvswitch/#openvswitch","title":"\u521b\u5efa\u7f16\u8bd1\u76ee\u5f55\uff0c\u4e0b\u8f7dopenvswitch\u6e90\u7801\u5305","text":"<pre><code>$mkdir -p ~/rpmbuild/SOURCES\n$wget http://openvswitch.org/releases/openvswitch-2.5.0.tar.gz\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openvswitch/CentOS7%E7%BC%96%E8%AF%91RPM%E5%8C%85%E5%AE%89%E8%A3%85Openvswitch/#_2","title":"\u51c6\u5907\u7f16\u8bd1\u73af\u5883","text":"<pre><code>$cp openvswitch-2.5.0.tar.gz ~/rpmbuild/SOURCES/\n$tar xfz openvswitch-2.5.0.tar.gz\n$ sed 's/openvswitch-kmod, //g' openvswitch-2.5.0/rhel/openvswitch.spec &gt; openvswitch-2.5.0/rhel/openvswitch_no_kmod.spec\n$rpmbuild -bb --nocheck ~/openvswitch-2.5.0/rhel/openvswitch_no_kmod.spec\n$exit\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openvswitch/CentOS7%E7%BC%96%E8%AF%91RPM%E5%8C%85%E5%AE%89%E8%A3%85Openvswitch/#openvswitch_1","title":"\u5b89\u88c5openvswitch","text":"<pre><code>#yum localinstall /home/ovs/rpmbuild/RPMS/x86_64/openvswitch-2.5.0-1.x86_64.rpm\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openvswitch/CentOS7%E7%BC%96%E8%AF%91RPM%E5%8C%85%E5%AE%89%E8%A3%85Openvswitch/#_3","title":"\u9a8c\u8bc1\u5b89\u88c5","text":"<pre><code># ovs-vsctl -V\novs-vsctl (Open vSwitch) 2.5.0\nCompiled Apr 13 2016 06:52:00\nDB Schema 7.12.1\n\n</code></pre> <p>\u542f\u52a8 openvswitch</p> <pre><code>#systemctl start openvswitch.service\n#chkconfig openvswitch on  \n\n</code></pre> <p>\u67e5\u770b\u670d\u52a1\u72b6\u6001</p> <pre><code>systemctl -l status openvswitch.service\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/openvswitch/openvswitch%E8%AF%B4%E6%98%8E/","title":"Openvswitch\u8bf4\u660e","text":"<ul> <li> <p>\u5b98\u7f51\u8bf4\u660e\uff1a</p> <ul> <li>https://www.openvswitch.org/</li> </ul> </li> <li> <p>git\u4ed3\u5e93\uff1a</p> <ul> <li>https://github.com/openvswitch/ovs</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/pve/pve%E4%BB%8B%E7%BB%8D/","title":"Pve\u4ecb\u7ecd","text":"<ul> <li>\u5b98\u65b9\u6587\u6863\uff1ahttps://pve.proxmox.com/wiki/Installation</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/pve/qm%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8/","title":"Qm\u547d\u4ee4\u4f7f\u7528","text":"<p>\u5728 Proxmox VE (PVE) \u4e2d\uff0c\u547d\u4ee4\u884c\u64cd\u4f5c\u865a\u62df\u673a\u7684\u6838\u5fc3\u5de5\u5177\u662f <code>qm</code> (Qemu/KVM Virtual Machine Manager)\u3002</p> <p>\u6240\u6709\u7684\u64cd\u4f5c\u90fd\u9700\u8981\u6307\u5b9a\u865a\u62df\u673a\u7684 VMID\uff08\u4f8b\u5982 100, 101 \u7b49\uff09\u3002\u4ee5\u4e0b\u662f\u5e38\u7528\u64cd\u4f5c\u7684\u547d\u4ee4\u6c47\u603b\uff1a</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/pve/qm%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8/#1","title":"1. \u57fa\u7840\u5f00\u5173\u673a\u64cd\u4f5c","text":"\u52a8\u4f5c \u547d\u4ee4 \u8bf4\u660e \u542f\u52a8 <code>qm start &lt;VMID&gt;</code> \u5f00\u542f\u865a\u62df\u673a \u5173\u673a <code>qm shutdown &lt;VMID&gt;</code> \u53d1\u9001\u5173\u673a\u4fe1\u53f7\uff08\u9700\u8981\u865a\u62df\u673a\u5185\u5b89\u88c5\u4e86 Guest Agent\uff09 \u5f3a\u5236\u505c\u6b62 <code>qm stop &lt;VMID&gt;</code> \u76f8\u5f53\u4e8e\u76f4\u63a5\u62d4\u7535\u6e90\uff0c\u7528\u4e8e\u865a\u62df\u673a\u5361\u6b7b\u65f6 \u91cd\u542f <code>qm reboot &lt;VMID&gt;</code> \u91cd\u542f\u865a\u62df\u673a \u6682\u505c <code>qm suspend &lt;VMID&gt;</code> \u6682\u505c\u5230\u5185\u5b58 \u6062\u590d <code>qm resume &lt;VMID&gt;</code> \u6062\u590d\u8fd0\u884c"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/pve/qm%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8/#2","title":"2. \u9500\u6bc1\u4e0e\u5220\u9664","text":"<p>\u9500\u6bc1\u64cd\u4f5c\u662f\u4e0d\u53ef\u9006\u7684\uff0c\u8bf7\u52a1\u5fc5\u786e\u8ba4 VMID\u3002</p> <ul> <li>\u5b8c\u5168\u9500\u6bc1\uff1a</li> </ul> <pre><code>qm destroy &lt;VMID&gt;\n</code></pre> <pre><code>&gt; **\u6ce8\u610f\uff1a** \u5982\u679c\u865a\u62df\u673a\u6b63\u5728\u8fd0\u884c\uff0c\u8be5\u547d\u4ee4\u4f1a\u62a5\u9519\u3002\u4f60\u9700\u8981\u5148\u6267\u884c `qm stop &lt;VMID&gt;`\u3002\n</code></pre> <ul> <li>\u9500\u6bc1\u5e76\u6e05\u7406\u76f8\u5173\u6570\u636e\uff08\u5982\u78c1\u76d8\uff09\uff1a \u901a\u5e38 <code>destroy</code> \u9ed8\u8ba4\u4f1a\u5220\u9664\u5173\u8054\u7684\u865a\u62df\u78c1\u76d8\uff0c\u4f46\u5982\u679c\u4f60\u60f3\u786e\u4fdd\u6e05\u9664\u6240\u6709\u914d\u7f6e\uff0c\u53ef\u4ee5\u52a0\u4e0a\u53c2\u6570\uff1a</li> </ul> <pre><code>qm destroy &lt;VMID&gt; --purge\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/pve/qm%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8/#3","title":"3. \u67e5\u770b\u72b6\u6001\u4e0e\u5217\u8868","text":"<p>\u5728\u64cd\u4f5c\u4e4b\u524d\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u786e\u8ba4\u865a\u62df\u673a\u7684 ID \u6216\u5f53\u524d\u72b6\u6001\uff1a</p> <ul> <li>\u67e5\u770b\u6240\u6709\u865a\u62df\u673a\u5217\u8868\uff1a</li> </ul> <pre><code>qm list\n</code></pre> <ul> <li>\u67e5\u770b\u7279\u5b9a\u865a\u62df\u673a\u7684\u8be6\u7ec6\u72b6\u6001\uff1a</li> </ul> <pre><code>qm status &lt;VMID&gt;\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/pve/qm%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8/#4","title":"4. \u8fdb\u9636\u6280\u5de7","text":"<ul> <li>\u514b\u9686\u865a\u62df\u673a\uff1a</li> </ul> <pre><code>qm clone &lt;\u6e90VMID&gt; &lt;\u65b0VMID&gt; --name &lt;\u65b0\u540d\u79f0&gt;\n</code></pre> <ul> <li>\u4fee\u6539\u914d\u7f6e\uff08\u5982\u8bbe\u7f6e\u5185\u5b58\u4e3a 4G\uff09\uff1a</li> </ul> <pre><code>qm set &lt;VMID&gt; --memory 4096\n</code></pre> <ul> <li>\u89e3\u9501\u865a\u62df\u673a\uff1a \u5982\u679c\u865a\u62df\u673a\u56e0\u4e3a\u4e4b\u524d\u7684\u4efb\u52a1\u4e2d\u65ad\u88ab\u9501\u5b9a\uff08Status \u51fa\u73b0 <code>lock: backup</code> \u7b49\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528\uff1a</li> </ul> <pre><code>qm unlock &lt;VMID&gt;\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9B%B8%E5%85%B3/pve/qm%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8/#_1","title":"\ud83d\udca1 \u63d0\u793a","text":"<p>\u5982\u679c\u4f60\u64cd\u4f5c\u7684\u662f LXC \u5bb9\u5668 \u800c\u4e0d\u662f\u865a\u62df\u673a\uff0c\u8bf7\u5c06\u547d\u4ee4\u5f00\u5934\u7684 <code>qm</code> \u66ff\u6362\u4e3a <code>pct</code>\uff08\u4f8b\u5982 <code>pct start 100</code>\uff09\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/code-server/centos7%E5%AE%89%E8%A3%85code-server%E6%9C%8D%E5%8A%A1/","title":"Centos7\u5b89\u88c5code server\u670d\u52a1","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/code-server/centos7%E5%AE%89%E8%A3%85code-server%E6%9C%8D%E5%8A%A1/#1","title":"1\u3001\u4e0b\u8f7d","text":"<p>\u5728github\u4e0a\u8fdb\u884c\u4e0b\u8f7d https://github.com/coder/code-server/releases \uff0c\u9009\u62e9\u5bf9\u5e94\u67b6\u6784\u7684\u5b89\u88c5\u5305(\u6211\u6bd4\u8f83\u559c\u6b22\u4e0b\u8f7dtar.gz\u5305\uff0c\u56e0\u4e3a\u5b9a\u5236\u5316\u7a0b\u5ea6\u9ad8\u4e00\u4e9b)\uff0c\u89e3\u538b</p> <pre><code># \u4e0b\u8f7d\nwget https://github.com/coder/code-server/releases/download/v4.101.2/code-server-4.101.2-linux-amd64.tar.gz\n\n# \u89e3\u538b\ntar -zxvf code-server-4.101.2-linux-amd64.tar.gz\n\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/code-server/centos7%E5%AE%89%E8%A3%85code-server%E6%9C%8D%E5%8A%A1/#2","title":"2\u3001\u914d\u7f6e","text":"<p>\u65b0\u5efa\u914d\u7f6e\u6587\u4ef6 ~/.config/code-server/config.yaml \uff0c\u586b\u5165\u4ee5\u4e0b\u5185\u5bb9</p> <pre><code>bind-addr: 0.0.0.0:8888\nauth: password\npassword: 123456\ncert: false\n</code></pre> <p>\u7aef\u53e3\u81ea\u5b9a\uff0c\u5bc6\u7801\u53ef\u4fee\u6539</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/code-server/centos7%E5%AE%89%E8%A3%85code-server%E6%9C%8D%E5%8A%A1/#3","title":"3\u3001\u6267\u884c","text":"<p>\u8fdb\u5165code-server\u6587\u4ef6\u5939\uff0c\u76f4\u63a5\u6267\u884c./code-server\u5373\u53ef</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/code-server/centos7%E5%AE%89%E8%A3%85code-server%E6%9C%8D%E5%8A%A1/#4systemctl","title":"4\u3001\u4f7f\u7528systemctl\u7ba1\u7406","text":"<p>\u65b0\u5efa code-server.service\uff0c\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9</p> <pre><code>[Unit]\nDescription=code-server\nAfter=network.target\n\n[Service]\nType=exec\nExecStart=${code-server\u76ee\u5f55}/code-server\nRestart=always\nUser=${\u914d\u7f6e\u6587\u4ef6\u6240\u5728\u76ee\u5f55\u6240\u5c5e\u7528\u6237}\n\n[Install]\nWantedBy=default.target\n</code></pre> <p>\u590d\u5236\u6587\u4ef6\u5230 /etc/systemd/system/</p> <pre><code>\n#\u542f\u52a8\nsudo systemctl start code-server\n#\u505c\u6b62\nsudo systemctl stop code-server\n#\u5f00\u673a\u81ea\u542f\nsudo systemctl enable code-server\n\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/frp/01-frp%E5%AE%98%E7%BD%91%E8%AF%B4%E6%98%8E/","title":"01 frp\u5b98\u7f51\u8bf4\u660e","text":"<ul> <li>\u4e2d\u6587\u8bf4\u660e\u6587\u6863\uff1a https://gofrp.org/zh-cn/docs/overview/</li> <li>github\uff1ahttps://github.com/fatedier/frp?tab=readme-ov-file</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/frp/01-frp%E5%AE%98%E7%BD%91%E8%AF%B4%E6%98%8E/#frp","title":"frp \u662f\u4ec0\u4e48\uff1f","text":"<p>frp \u662f\u4e00\u6b3e\u9ad8\u6027\u80fd\u7684\u53cd\u5411\u4ee3\u7406\u5e94\u7528\uff0c\u4e13\u6ce8\u4e8e\u5185\u7f51\u7a7f\u900f\u3002\u5b83\u652f\u6301\u591a\u79cd\u534f\u8bae\uff0c\u5305\u62ec TCP\u3001UDP\u3001HTTP\u3001HTTPS \u7b49\uff0c\u5e76\u4e14\u5177\u5907 P2P \u901a\u4fe1\u529f\u80fd\u3002\u4f7f\u7528 frp\uff0c\u60a8\u53ef\u4ee5\u5b89\u5168\u3001\u4fbf\u6377\u5730\u5c06\u5185\u7f51\u670d\u52a1\u66b4\u9732\u5230\u516c\u7f51\uff0c\u901a\u8fc7\u62e5\u6709\u516c\u7f51 IP \u7684\u8282\u70b9\u8fdb\u884c\u4e2d\u8f6c\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/frp/01-frp%E5%AE%98%E7%BD%91%E8%AF%B4%E6%98%8E/#frp_1","title":"\u4e3a\u4ec0\u4e48\u9009\u62e9 frp\uff1f","text":"<p>\u901a\u8fc7\u5728\u5177\u6709\u516c\u7f51 IP \u7684\u8282\u70b9\u4e0a\u90e8\u7f72 frp \u670d\u52a1\u7aef\uff0c\u60a8\u53ef\u4ee5\u8f7b\u677e\u5730\u5c06\u5185\u7f51\u670d\u52a1\u7a7f\u900f\u5230\u516c\u7f51\uff0c\u5e76\u4eab\u53d7\u4ee5\u4e0b\u4e13\u4e1a\u7279\u6027\uff1a</p> <ul> <li>\u591a\u79cd\u534f\u8bae\u652f\u6301\uff1a\u5ba2\u6237\u7aef\u670d\u52a1\u7aef\u901a\u4fe1\u652f\u6301 TCP\u3001QUIC\u3001KCP \u548c Websocket \u7b49\u591a\u79cd\u534f\u8bae\u3002</li> <li>TCP \u8fde\u63a5\u6d41\u5f0f\u590d\u7528\uff1a\u5728\u5355\u4e2a\u8fde\u63a5\u4e0a\u627f\u8f7d\u591a\u4e2a\u8bf7\u6c42\uff0c\u51cf\u5c11\u8fde\u63a5\u5efa\u7acb\u65f6\u95f4\uff0c\u964d\u4f4e\u8bf7\u6c42\u5ef6\u8fdf\u3002</li> <li>\u4ee3\u7406\u7ec4\u95f4\u7684\u8d1f\u8f7d\u5747\u8861\u3002</li> <li>\u7aef\u53e3\u590d\u7528\uff1a\u591a\u4e2a\u670d\u52a1\u53ef\u4ee5\u901a\u8fc7\u540c\u4e00\u4e2a\u670d\u52a1\u7aef\u7aef\u53e3\u66b4\u9732\u3002</li> <li>P2P \u901a\u4fe1\uff1a\u6d41\u91cf\u4e0d\u5fc5\u7ecf\u8fc7\u670d\u52a1\u5668\u4e2d\u8f6c\uff0c\u5145\u5206\u5229\u7528\u5e26\u5bbd\u8d44\u6e90\u3002</li> <li>\u5ba2\u6237\u7aef\u63d2\u4ef6\uff1a\u63d0\u4f9b\u591a\u4e2a\u539f\u751f\u652f\u6301\u7684\u5ba2\u6237\u7aef\u63d2\u4ef6\uff0c\u5982\u9759\u6001\u6587\u4ef6\u67e5\u770b\u3001HTTPS/HTTP \u534f\u8bae\u8f6c\u6362\u3001HTTP\u3001SOCKS5 \u4ee3\u7406\u7b49\uff0c\u4ee5\u4fbf\u6ee1\u8db3\u5404\u79cd\u9700\u6c42\u3002</li> <li>\u670d\u52a1\u7aef\u63d2\u4ef6\u7cfb\u7edf\uff1a\u9ad8\u5ea6\u53ef\u6269\u5c55\u7684\u670d\u52a1\u7aef\u63d2\u4ef6\u7cfb\u7edf\uff0c\u4fbf\u4e8e\u6839\u636e\u81ea\u8eab\u9700\u6c42\u8fdb\u884c\u529f\u80fd\u6269\u5c55\u3002</li> <li>\u7528\u6237\u53cb\u597d\u7684 UI \u9875\u9762\uff1a\u63d0\u4f9b\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u7684\u7528\u6237\u754c\u9762\uff0c\u4f7f\u914d\u7f6e\u548c\u76d1\u63a7\u53d8\u5f97\u66f4\u52a0\u65b9\u4fbf\u3002</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/frp/02-%E5%8A%9E%E5%85%AC%E7%BD%91frp%E7%A9%BF%E9%80%8F%E7%A4%BA%E4%BE%8B/","title":"02 \u529e\u516c\u7f51frp\u7a7f\u900f\u793a\u4f8b","text":"<ul> <li>\u53c2\u8003\u5b98\u7f51\uff1ahttps://gofrp.org/zh-cn/docs/overview/</li> <li>\u5b89\u88c5\uff1ahttps://github.com/fatedier/frp/releases/tag/v0.59.0<ul> <li>\u6bcf\u4e2a\u5305\u90fd\u6709\u5305\u542bclient\u7aef\u548cserver\u7aef\uff0c\u6ce8\u610f\u4f60\u7684cpu\u578b\u53f7</li> </ul> </li> <li>server \u7aef\u914d\u7f6e\uff1a<ul> <li>\u89e3\u538b\u540e\u6267\u884c\uff1a./frps -c frps.toml</li> </ul> </li> </ul> <pre><code>$ cat ./frps.toml\nbindPort = 7000\nauth.token = \"kkkkkkk\"\n</code></pre> <ul> <li>client\u7aef\u914d\u7f6e\uff08\u9700\u8981\u88ab\u8bbf\u95ee\u7684\u5185\u7f51\u8bbe\u5907\uff09<ul> <li>\u89e3\u538b\u540e\u6267\u884c\uff1a./frpc -c frpc.toml</li> </ul> </li> </ul> <pre><code>$ cat frpc.toml\nserverAddr = \"150.158.120.220\"\nserverPort = 7000\n# \u8fd9\u91cc\u7684auth.token\u9700\u8981\u548cserver\u7aef\u4e00\u81f4\nauth.token = \"kkkkkkk\" \n[[proxies]]\nname = \"wengmq_ssh\"\ntype = \"stcp\"\n# \u53ea\u6709\u4e0e\u6b64\u5904\u8bbe\u7f6e\u7684 secretKey \u4e00\u81f4\u7684\u7528\u6237\u624d\u80fd\u8bbf\u95ee\u6b64\u670d\u52a1\nsecretKey = \"xxxxxx\"\nlocalIP = \"127.0.0.1\"\nlocalPort = 22\n</code></pre> <ul> <li>\u4f60\u672c\u5730\u9700\u8981\u8fde\u63a5\u5230\u5185\u7f51\u8bbe\u5907\u7684\u673a\u5668\uff1a<ul> <li>\u89e3\u538b\u540e\u6267\u884c\uff1a./frpc -c frpc.toml</li> <li>\u7136\u540e\u5c31\u53ef\u4ee5\u8fdc\u7a0bssh\u767b\u5f55\u5230\u5185\u7f51\u8bbe\u5907\uff1assh yelingjie@127.0.0.1 -p 6000</li> </ul> </li> </ul> <pre><code>$ cat ./frpc.toml\nserverAddr = \"150.158.120.220\"\nserverPort = 7000\n# \u8fd9\u91cc\u7684auth.token\u9700\u8981\u548cserver\u7aef\u4e00\u81f4\nauth.token = \"kkkkkkk\" \n[[visitors]]\n name = \"wengmq_ssh\"\n type = \"stcp\"\n# \u8981\u8bbf\u95ee\u7684 stcp \u4ee3\u7406\u7684\u540d\u5b57\nserverName = \"wengmq_ssh\"\nsecretKey = \"xxxxxx\"\n#  \u7ed1\u5b9a\u672c\u5730\u7aef\u53e3\u4ee5\u8bbf\u95ee SSH \u670d\u52a1\n bindAddr = \"127.0.0.1\"\n bindPort = 6000\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/iperf3/iperf3%E4%BB%8B%E7%BB%8D/","title":"Iperf3\u4ecb\u7ecd","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/iperf3/iperf3%E4%BB%8B%E7%BB%8D/#iperf3","title":"iperf3\u4ecb\u7ecd","text":"<p>iperf3\u662f\u57fa\u4e8eClient/Server\u7684\u7f51\u7edc\u6027\u80fd\u6d4b\u8bd5\u5de5\u5177\uff0c\u901a\u5e38\u7528\u4e8e\u6d4b\u8bd5\u7f51\u7edc\u4e0a\u53ef\u8fbe\u5230\u7684\u6700\u5927\u5e26\u5bbd\uff0c\u5b83\u80fd\u591f\u6d4b\u8bd5TCP\u3001UDP\u53caSCTP\u7684\u5e26\u5bbd\u8d28\u91cf\uff0c\u53ef\u4ee5\u63d0\u4f9b\u7f51\u7edc\u541e\u5410\u91cf\u3001\u7f51\u7edc\u6ce2\u52a8\u3001\u7f51\u7edc\u4e22\u5305\u7387\u4ee5\u53ca\u6700\u5927\u4f20\u8f93\u5355\u5143\u5927\u5c0f\u7b49\u4fe1\u606f\uff0c\u80fd\u591f\u5e2e\u52a9\u6211\u4eec\u6d4b\u8bd5\u7f51\u7edc\u6027\u80fd\uff0c\u5b9a\u4f4d\u7f51\u7edc\u74f6\u9888\u3002\u53ef\u5728Linux\u3001MacOS\u3001FreeBSD\u3001Window\u3001Android\u3001iOS\u3001Docker\u7b49\u5e73\u53f0\u4f7f\u7528\uff0c\u662f\u4e00\u4e2a\u7b80\u5355\u4f7f\u7528\u7684\u5c0f\u5de5\u5177</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/iperf3/iperf3%E4%BB%8B%E7%BB%8D/#iperf3_1","title":"iperf3\u5e38\u7528\u53c2\u6570","text":"<ol> <li> <p>\u901a\u7528\u53c2\u6570\uff1a</p> <p><code>shell -v  # \u67e5\u770b\u7248\u672c\u4fe1\u606f -p  # \u7aef\u53e3 -f  # \u6307\u5b9a\u5e26\u5bbd\u8f93\u51fa\u683c\u5f0f\uff1a Kbits\u3001Mbits\u3001Gbits\u3001Tbits -i  # \u76d1\u63a7\u62a5\u544a\u65f6\u95f4\u95f4\u9694\uff0c\u5355\u4f4d\u79d2(s) -J  # Json\u683c\u5f0f\u8f93\u51fa\u7ed3\u679c --logfile   # \u5c06\u7ed3\u679c\u8f93\u51fa\u5230\u6307\u5b9a\u6587\u4ef6\u4e2d</code></p> </li> <li> <p>\u670d\u52a1\u7aef\u53c2\u6570\uff1a</p> <p><code>shell -s  # \u4ee5\u670d\u52a1\u5668\u6a21\u5f0f\u8fd0\u884c -D  # \u540e\u53f0\u8fd0\u884c\u670d\u52a1\u5668\u6a21\u5f0f</code></p> </li> <li> <p>\u5ba2\u6237\u7aef\u53c2\u6570\uff1a</p> <p><code>shell -c  # \u4ee5\u5ba2\u6237\u7aef\u6a21\u5f0f\u8fd0\u884c\uff0c\u8fde\u63a5\u5230\u670d\u52a1\u7aef -t  # \u4f20\u8f93\u65f6\u95f4\uff0c\u9ed8\u8ba410\u79d2 -n  # \u4f20\u8f93\u5185\u5bb9\u5927\u5c0f\uff0c\u4e0d\u80fd\u4e0e-t\u540c\u65f6\u4f7f\u7528 -b  # \u76ee\u6807\u6bd4\u7279\u7387(0\u8868\u793a\u65e0\u9650)(UDP\u9ed8\u8ba41Mbit/sec\uff0cTCP\u4e0d\u53d7\u9650\u5236) -l  # \u8981\u8bfb\u53d6\u6216\u5199\u5165\u7684\u7f13\u51b2\u533a\u957f\u5ea6(TCP\u9ed8\u8ba4128 KB\uff0cUDP\u9ed8\u8ba41460) -O  # \u5ffd\u7565\u524d\u51e0\u79d2 -R  # \u53cd\u5411\u6a21\u5f0f\u8fd0\u884c\uff0c\u5373\u670d\u52a1\u7aef\u53d1\u9001\uff0c\u5ba2\u6237\u7aef\u63a5\u6536 -u  # \u4f7f\u7528UDP\u534f\u8bae\uff0c\u9ed8\u8ba4\u4f7f\u7528TCP\u534f\u8bae --get-server-output #\u8f93\u51fa\u670d\u52a1\u7aef\u7684\u7ed3\u679c</code></p> <p>\u66f4\u591a\u53c2\u6570\u8bf7\u901a\u8fc7\u5e2e\u52a9\u547d\u4ee4<code>iperf3 --help</code>\u67e5\u770b</p> </li> </ol> <p>iperf3\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740\uff1a\u70b9\u51fb\u8fdb\u5165\u5b98\u7f51\u4e0b\u8f7d</p> <p>iperf3\u6e90\u7801GitHub\u5730\u5740\uff1a\u70b9\u51fb\u8fdb\u5165GitHub</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/iperf3/iperf3%E4%BB%8B%E7%BB%8D/#iperf3_2","title":"iPerf3 \u7684\u5b89\u88c5","text":"<p>\u5728\u5927\u591a\u6570\u00a0Linux\u00a0\u53d1\u884c\u7248\u4e2d\uff0ciPerf3\u00a0\u53ef\u4ee5\u901a\u8fc7\u5305\u7ba1\u7406\u5668\u76f4\u63a5\u5b89\u88c5\u3002\u4f8b\u5982\uff0c - \u5728\u00a0Ubuntu\u00a0\u6216\u00a0Debian\u00a0\u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>sudo apt update\nsudo apt install iperf3\n</code></pre> <ul> <li>\u5728 CentOS \u6216 RHEL \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</li> </ul> <pre><code>sudo yum install epel-release\nsudo yum install iperf3\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/iperf3/iperf3%E4%BB%8B%E7%BB%8D/#_1","title":"\u53c2\u8003","text":"<ul> <li>https://www.cnblogs.com/dyd168/p/14778138.html</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/iperf3/iperf3%E4%BD%BF%E7%94%A8/","title":"Iperf3\u4f7f\u7528","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/iperf3/iperf3%E4%BD%BF%E7%94%A8/#iperf3","title":"iperf3\u8bf4\u660e\u6587\u6863","text":"<pre><code>Usage: iperf3 [-s|-c host] [options]\n       iperf3 [-h|--help] [-v|--version]\n\nServer or Client:\n  -p, --port      #         server port to listen on/connect to\n  -f, --format   [kmgtKMGT] format to report: Kbits, Mbits, Gbits, Tbits\n  -i, --interval  #         seconds between periodic throughput reports\n  -F, --file name           xmit/recv the specified file\n  -A, --affinity n/n,m      set CPU affinity\n  -B, --bind      &lt;host&gt;    bind to the interface associated with the address &lt;host&gt;\n  -V, --verbose             more detailed output\n  -J, --json                output in JSON format\n  --logfile f               send output to a log file\n  --forceflush              force flushing output at every interval\n  -d, --debug               emit debugging output\n  -v, --version             show version information and quit\n  -h, --help                show this message and quit\nServer specific:\n  -s, --server              run in server mode\n  -D, --daemon              run the server as a daemon\n  -I, --pidfile file        write PID file\n  -1, --one-off             handle one client connection then exit\n  --rsa-private-key-path    path to the RSA private key used to decrypt\n                            authentication credentials\n  --authorized-users-path   path to the configuration file containing user\n                            credentials\nClient specific:\n  -c, --client    &lt;host&gt;    run in client mode, connecting to &lt;host&gt;\n  --sctp                    use SCTP rather than TCP\n  -X, --xbind &lt;name&gt;        bind SCTP association to links\n  --nstreams      #         number of SCTP streams\n  -u, --udp                 use UDP rather than TCP\n  --connect-timeout #       timeout for control connection setup (ms)\n  -b, --bitrate #[KMG][/#]  target bitrate in bits/sec (0 for unlimited)\n                            (default 1 Mbit/sec for UDP, unlimited for TCP)\n                            (optional slash and packet count for burst mode)\n  --pacing-timer #[KMG]     set the timing for pacing, in microseconds (default 1000)\n  --fq-rate #[KMG]          enable fair-queuing based socket pacing in\n                            bits/sec (Linux only)\n  -t, --time      #         time in seconds to transmit for (default 10 secs)\n  -n, --bytes     #[KMG]    number of bytes to transmit (instead of -t)\n  -k, --blockcount #[KMG]   number of blocks (packets) to transmit (instead of -t or -n)\n  -l, --length    #[KMG]    length of buffer to read or write\n                            (default 128 KB for TCP, dynamic or 1460 for UDP)\n  --cport         &lt;port&gt;    bind to a specific client port (TCP and UDP, default: ephemeral port)\n  -P, --parallel  #         number of parallel client streams to run\n  -R, --reverse             run in reverse mode (server sends, client receives)\n  --bidir                   run in bidirectional mode.\n                            Client and server send and receive data.\n  -w, --window    #[KMG]    set window size / socket buffer size\n  -C, --congestion &lt;algo&gt;   set TCP congestion control algorithm (Linux and FreeBSD only)\n  -M, --set-mss   #         set TCP/SCTP maximum segment size (MTU - 40 bytes)\n  -N, --no-delay            set TCP/SCTP no delay, disabling Nagle's Algorithm\n  -4, --version4            only use IPv4\n  -6, --version6            only use IPv6\n  -S, --tos N               set the IP type of service, 0-255.\n                            The usual prefixes for octal and hex can be used,\n                            i.e. 52, 064 and 0x34 all specify the same value.\n  --dscp N or --dscp val    set the IP dscp value, either 0-63 or symbolic.\n                            Numeric values can be specified in decimal,\n                            octal and hex (see --tos above).\n  -L, --flowlabel N         set the IPv6 flow label (only supported on Linux)\n  -Z, --zerocopy            use a 'zero copy' method of sending data\n  -O, --omit N              omit the first n seconds\n  -T, --title str           prefix every output line with this string\n  --extra-data str          data string to include in client and server JSON\n  --get-server-output       get results from server\n  --udp-counters-64bit      use 64-bit counters in UDP test packets\n  --repeating-payload       use repeating pattern in payload, instead of\n                            randomized payload (like in iperf2)\n  --username                username for authentication\n  --rsa-public-key-path     path to the RSA public key used to encrypt\n                            authentication credentials\n\n[KMG] indicates options that support a K/M/G suffix for kilo-, mega-, or giga-\n\niperf3 homepage at: https://software.es.net/iperf/\nReport bugs to:     https://github.com/esnet/iperf\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/iperf3/iperf3%E4%BD%BF%E7%94%A8/#iperf3_1","title":"iperf3\u5b9e\u8df5","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/iperf3/iperf3%E4%BD%BF%E7%94%A8/#tcp","title":"TCP\u6d4b\u8bd5","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u9ed8\u8ba4\u4f7f\u7528TCP\u534f\u8bae\u8fdb\u884c\u6d4b\u8bd5</p> <ul> <li>\u9009\u62e9\u4e00\u53f0\u673a\u5668\u505a\u4e3a\u670d\u52a1\u7aef\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u9ed8\u8ba4\u65f6\u95f41\u79d2\uff0c\u9ed8\u8ba4\u7aef\u53e35201</li> </ul> <pre><code># \u4ee5\u670d\u52a1\u7aef\u6a21\u5f0f\u8fd0\u884c\uff0c\u8bbe\u7f6e\u76d1\u63a7\u65f6\u95f41\u79d2\uff0c\u5e76\u6307\u5b9a\u7aef\u53e3\u4e3a8888\niperf3 -s -i 1 -p 8888\n</code></pre> <ul> <li>\u9009\u62e9\u53e6\u4e00\u53f0\u673a\u5668\u505a\u4e3a\u5ba2\u6237\u7aef\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u5e26\u5bbd\u6d4b\u901f\uff0c\u8fd9\u91cc\u7684192.168.1.96\u5373\u4f60\u8981\u8fde\u63a5\u7684\u4e0a\u9762\u7684\u670d\u52a1\u7aef\u7684IP</li> </ul> <pre><code># \u4ee5\u5ba2\u6237\u7aef\u6a21\u5f0f\u8fd0\u884c\uff0c\u76ee\u6807host\uff1aport\u4e3a\u670d\u52a1\u7aef\u4fe1\u606f\uff0c\u8f93\u51fa\u7ed3\u679c\u4ee5MB\u663e\u793a\uff0c\u6bcf\u4e2a1\u79d2\u6253\u5370\u4e00\u6b21\uff0c\u5171\u8ba110\u79d2\uff0c\u5ffd\u7565\u524d3\u79d2\u7684\u7ed3\u679c\uff0c\u53cd\u5411\u6a21\u5f0f\u8fd0\u884c\uff08\u5373\u670d\u52a1\u5668\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u6570\u636e\u3002\uff09\niperf3 -c 192.168.1.96 -p 8888 -f m -i 1 -t 10 -O 3 -R\n</code></pre> <p></p> <p>\u4e0a\u8ff0\u62a5\u544a\u89e3\u8bfb \uff1a</p> <p>[!NOTE] \u8fd9\u4e2a <code>iperf3</code> \u62a5\u544a\u5c55\u793a\u4e86\u4e00\u4e2a\u7f51\u7edc\u6027\u80fd\u6d4b\u8bd5\u7684\u7ed3\u679c\uff0c\u8fde\u63a5\u7684\u76ee\u6807\u4e3b\u673a\u662f <code>192.168.1.96</code>\uff0c\u5e76\u4f7f\u7528\u4e86\u53cd\u5411\u6a21\u5f0f\uff08<code>-R</code>\uff09\uff0c\u5373\u76ee\u6807\u4e3b\u673a\u53d1\u9001\u6570\u636e\u5230\u5ba2\u6237\u7aef\uff08<code>192.168.1.53</code>\uff09\u3002\u4ee5\u4e0b\u662f\u5bf9\u62a5\u544a\u7684\u9010\u9879\u89e3\u8bfb\uff1a</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/iperf3/iperf3%E4%BD%BF%E7%94%A8/#_1","title":"\u4e3b\u8981\u53c2\u6570\u89e3\u91ca\uff1a","text":"<ul> <li><code>-c 192.168.1.96</code>\uff1a\u5ba2\u6237\u7aef\u8fde\u63a5\u5230 IP \u5730\u5740\u4e3a <code>192.168.1.96</code> \u7684\u76ee\u6807\u4e3b\u673a\u3002</li> <li><code>-p 8888</code>\uff1a\u76ee\u6807\u4e3b\u673a\u76d1\u542c\u7684\u7aef\u53e3\u662f <code>8888</code>\u3002</li> <li><code>-f m</code>\uff1a\u8f93\u51fa\u7684\u5355\u4f4d\u4e3a\u5146\u5b57\u8282\uff08MB\uff09\u548c\u5146\u6bd4\u7279\uff08Mbits\uff09\u3002</li> <li><code>-i 1</code>\uff1a\u6bcf\u9694 1 \u79d2\u8f93\u51fa\u4e00\u6b21\u7ed3\u679c\u3002</li> <li><code>-t 10</code>\uff1a\u6d4b\u8bd5\u6301\u7eed\u65f6\u95f4\u4e3a 10 \u79d2\u3002</li> <li><code>-O 3</code>\uff1a\u6d4b\u8bd5\u5f00\u59cb\u524d\u6709 3 \u79d2\u7684\u5ef6\u8fdf\uff0c\u5141\u8bb8\u7f51\u7edc\u7a33\u5b9a\u3002</li> <li><code>-R</code>\uff1a\u53cd\u5411\u6a21\u5f0f\uff0c\u5373\u76ee\u6807\u4e3b\u673a <code>192.168.1.96</code> \u4f5c\u4e3a\u53d1\u9001\u65b9\uff0c\u5ba2\u6237\u7aef\u4f5c\u4e3a\u63a5\u6536\u65b9\u3002</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/iperf3/iperf3%E4%BD%BF%E7%94%A8/#_2","title":"\u5173\u952e\u7ed3\u679c\u5206\u6790\uff1a","text":"<ol> <li> <p>\u6bcf\u79d2\u4f20\u8f93\u91cf\uff1a</p> <ul> <li>\u62a5\u544a\u663e\u793a\u5728 10 \u79d2\u5185\u7684\u6570\u636e\u4f20\u8f93\u60c5\u51b5\u3002\u6bcf\u4e00\u79d2\u7684\u4f20\u8f93\u91cf\u57fa\u672c\u4fdd\u6301\u4e00\u81f4\uff0c\u6bcf\u79d2\u5927\u7ea6\u4f20\u8f93 116 MB\uff0c\u7ea6 974-975 Mbps\u3002</li> <li>\u4f8b\u5982\uff0c\u7b2c 0 \u5230 1 \u79d2\u7684\u4f20\u8f93\u91cf\u4e3a 116 MB\uff08975 Mbps\uff09\uff0c\u7b2c\u4e8c\u79d2\u4e3a 116 MB\uff08974 Mbps\uff09\uff0c\u4e00\u76f4\u4fdd\u6301\u7a33\u5b9a\u3002</li> <li> <p>\u603b\u4f20\u8f93\u91cf\uff1a</p> </li> <li> <p>\u5728 10 \u79d2\u7684\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\uff0c\u603b\u4f20\u8f93\u4e86 1.13 GB \u7684\u6570\u636e\u3002</p> </li> <li>\u603b\u7684\u5e73\u5747\u541e\u5410\u91cf\u4e3a 973 Mbps\uff08\u8fd9\u4e0e\u6bcf\u79d2\u7684\u541e\u5410\u91cf\u4e00\u81f4\uff0c\u8868\u660e\u7f51\u7edc\u6027\u80fd\u975e\u5e38\u7a33\u5b9a\uff09\u3002</li> <li> <p>\u65e0\u4e22\u5305\uff1a</p> </li> <li> <p>\u5728\u6574\u4e2a\u6d4b\u8bd5\u671f\u95f4\uff0c\u6ca1\u6709\u53d1\u751f\u4efb\u4f55\u4e22\u5305\uff08<code>Retr</code> \u4e3a 0\uff09\uff0c\u8868\u793a\u7f51\u7edc\u8fde\u63a5\u975e\u5e38\u53ef\u9760\uff0c\u4f20\u8f93\u6ca1\u6709\u4e22\u5931\u6570\u636e\u5305\u3002</p> </li> <li> <p>\u6d4b\u8bd5\u6a21\u5f0f\uff1a</p> </li> <li> <p>\u7531\u4e8e\u4f7f\u7528\u4e86\u53cd\u5411\u6a21\u5f0f\uff08<code>-R</code>\uff09\uff0c\u6240\u6709\u6570\u636e\u90fd\u662f\u4ece <code>192.168.1.96</code>\uff08\u76ee\u6807\u4e3b\u673a\uff09\u53d1\u9001\u5230 <code>192.168.1.53</code>\uff08\u5ba2\u6237\u7aef\uff09\uff0c\u53ef\u4ee5\u770b\u51fa\u76ee\u6807\u4e3b\u673a\u7684\u7f51\u7edc\u4f20\u8f93\u6027\u80fd\u3002</p> </li> </ul> </li> </ol> <p>\u7ed3\u8bba\uff1a</p> <ul> <li>\u7f51\u7edc\u8fde\u63a5\u975e\u5e38\u7a33\u5b9a\uff0c\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u6ca1\u6709\u51fa\u73b0\u4efb\u4f55\u4e22\u5305\u3002</li> <li>\u541e\u5410\u91cf\u5728 10 \u79d2\u7684\u6d4b\u8bd5\u4e2d\u4fdd\u6301\u5728 973 Mbps \u5de6\u53f3\uff0c\u5c5e\u4e8e\u975e\u5e38\u9ad8\u7684\u7f51\u7edc\u6027\u80fd\u3002</li> <li>\u8be5\u6d4b\u8bd5\u57fa\u672c\u6ca1\u6709\u51fa\u73b0\u6ce2\u52a8\uff0c\u53cd\u6620\u51fa\u7f51\u7edc\u94fe\u8def\u6ca1\u6709\u53d7\u5230\u660e\u663e\u5e72\u6270\u6216\u62e5\u585e\u3002</li> </ul> <p>\u8fd9\u4e2a\u6d4b\u8bd5\u7ed3\u679c\u663e\u793a\u4e86\u76ee\u6807\u4e3b\u673a\u548c\u5ba2\u6237\u7aef\u4e4b\u95f4\u7684\u9ad8\u6548\u6570\u636e\u4f20\u8f93\u80fd\u529b\uff0c\u9002\u5408\u9ad8\u5e26\u5bbd\u9700\u6c42\u7684\u5e94\u7528\u573a\u666f\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/iperf3/iperf3%E4%BD%BF%E7%94%A8/#udp","title":"UDP\u6d4b\u8bd5","text":"<p>UDP\u6d4b\u8bd5\u53ea\u9700\u52a0\u4e0a-u\u53c2\u6570</p> <ul> <li>\u9009\u62e9\u4e00\u53f0\u673a\u5668\u505a\u4e3a\u670d\u52a1\u7aef\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u9ed8\u8ba4\u65f6\u95f41\u79d2\uff0c\u9ed8\u8ba4\u7aef\u53e35201</li> </ul> <pre><code># \u4ee5\u670d\u52a1\u7aef\u6a21\u5f0f\u8fd0\u884c\uff0c\u8bbe\u7f6e\u76d1\u63a7\u65f6\u95f41\u79d2\uff0c\u5e76\u6307\u5b9a\u7aef\u53e3\u4e3a8888\niperf3 -s -i 1 -p 8888\n</code></pre> <ul> <li>\u9009\u62e9\u53e6\u4e00\u53f0\u673a\u5668\u505a\u4e3a\u5ba2\u6237\u7aef\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u5e26\u5bbd\u6d4b\u901f\uff0c\u8fd9\u91cc\u7684192.168.1.96\u5373\u4f60\u8981\u8fde\u63a5\u7684\u4e0a\u9762\u7684\u670d\u52a1\u7aef\u7684IP</li> </ul> <pre><code># \u4ee5\u5ba2\u6237\u7aef\u6a21\u5f0f\u8fd0\u884c\uff0c\u76ee\u6807host\uff1aport\u4e3a\u670d\u52a1\u7aef\u4fe1\u606f\uff0c\u8f93\u51fa\u7ed3\u679c\u4ee5MB\u663e\u793a\uff0c\u6bcf\u4e2a1\u79d2\u6253\u5370\u4e00\u6b21\uff0c\u5171\u8ba110\u79d2\uff0c\niperf3 -c 192.168.1.96 -u -p 8888 -b 0 -t 10\n</code></pre> <p></p> <p>[!NOTE] \u8fd9\u6bb5 <code>iperf3</code> \u6d4b\u8bd5\u62a5\u544a\u663e\u793a\u4e86 UDP \u6d4b\u8bd5\u7684\u7ed3\u679c\uff0c\u5177\u4f53\u60c5\u51b5\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u57fa\u672c\u8fde\u63a5\u4fe1\u606f\uff1a</p> </li> <li> <p>\u672c\u5730 IP \u5730\u5740\uff1a192.168.1.53</p> </li> <li>\u8fdc\u7a0b\u670d\u52a1\u5668 IP \u5730\u5740\uff1a192.168.1.96</li> <li>\u7aef\u53e3\u53f7\uff1a8888</li> <li>\u6d4b\u8bd5\u534f\u8bae\uff1aUDP\uff08<code>-u</code>\uff09</li> <li>\u5e26\u5bbd\u8bbe\u7f6e\uff1a<code>-b 0</code> \u8868\u793a\u4e0d\u9650\u5e26\u5bbd</li> <li> <p>\u6d4b\u8bd5\u6301\u7eed\u65f6\u95f4\uff1a10\u79d2\uff08<code>-t 10</code>\uff09</p> </li> <li> <p>\u6bcf\u79d2\u7684\u6570\u636e\u4f20\u8f93\u60c5\u51b5\uff1a</p> </li> </ol> <p>\u62a5\u544a\u4e2d\u5217\u51fa\u4e86\u6bcf\u79d2\u7684\u4f20\u8f93\u60c5\u51b5\uff0c\u5305\u62ec\uff1a</p> <ul> <li>Transfer\uff08\u4f20\u8f93\u91cf\uff09\uff1a\u6bcf\u79d2\u4f20\u8f93\u7684\u6570\u636e\u91cf\u3002</li> <li>Bitrate\uff08\u6bd4\u7279\u7387\uff09\uff1a\u6bcf\u79d2\u7684\u5e73\u5747\u4f20\u8f93\u901f\u7387\u3002</li> <li>Total Datagrams\uff08\u603b\u6570\u636e\u62a5\u6587\u6570\uff09\uff1a\u6bcf\u79d2\u4f20\u8f93\u7684\u6570\u636e\u62a5\u6587\u6570\u3002</li> </ul> <p>\u5404\u79d2\u7684\u6570\u636e\u4f20\u8f93\uff1a</p> <ul> <li>0.00-1.00 \u79d2\uff1a\u4f20\u8f93\u91cf\u4e3a 174 MB\uff0c\u4f20\u8f93\u901f\u7387\u4e3a 1.46 Gbits/sec\uff0c\u4f20\u8f93\u4e86 130,870 \u4e2a\u6570\u636e\u62a5\u3002</li> <li>1.00-2.00 \u79d2\uff1a\u4f20\u8f93\u91cf\u4e3a 174 MB\uff0c\u4f20\u8f93\u901f\u7387\u4e3a 1.46 Gbits/sec\uff0c\u4f20\u8f93\u4e86 130,630 \u4e2a\u6570\u636e\u62a5\u3002</li> <li> <p>\u5728\u63a5\u4e0b\u6765\u7684\u51e0\u79d2\u91cc\uff0c\u6570\u636e\u4f20\u8f93\u901f\u7387\u548c\u6bcf\u79d2\u7684\u6570\u636e\u62a5\u6587\u6570\u76f8\u5bf9\u7a33\u5b9a\uff0c\u7565\u6709\u6ce2\u52a8\u3002</p> </li> <li> <p>\u6700\u7ec8\u7edf\u8ba1\uff1a</p> </li> <li> <p>\u53d1\u9001\u7aef\u7edf\u8ba1\uff1a\u5728 10 \u79d2\u5185\uff0c\u603b\u5171\u4f20\u8f93\u4e86 1.69 GB \u6570\u636e\uff0c\u5e73\u5747\u901f\u7387\u4e3a 1.46 Gbits/sec\u3002\u53d1\u9001\u7aef\u7684\u6296\u52a8\uff08jitter\uff09\u4e3a 0 ms\uff0c\u4e22\u5305\u7387\u4e3a 0%\uff08\u5373\u6ca1\u6709\u4e22\u5305\uff09\u3002</p> </li> <li> <p>\u63a5\u6536\u7aef\u7edf\u8ba1\uff1a\u63a5\u6536\u7aef\u63a5\u6536\u7684\u603b\u6570\u636e\u91cf\u4e3a 1.59 GB\uff0c\u63a5\u6536\u901f\u7387\u4e3a 1.37 Gbits/sec\uff0c\u4e22\u5305\u7387\u4e3a 6.2%\uff0880124/1301748 \u6570\u636e\u62a5\u4e22\u5931\uff09\u3002</p> </li> <li> <p>\u5173\u952e\u95ee\u9898\u5206\u6790\uff1a</p> </li> <li> <p>\u4e22\u5305\u7387\uff1a\u4e22\u5305\u7387\u4e3a 6.2%\uff0c\u8fd9\u610f\u5473\u7740\u5728 10 \u79d2\u7684\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\uff0c\u5927\u7ea6 6.2% \u7684\u6570\u636e\u62a5\u6587\u672a\u80fd\u6210\u529f\u5230\u8fbe\u63a5\u6536\u7aef\u3002UDP \u534f\u8bae\u672c\u8eab\u662f\u4e0d\u53ef\u9760\u7684\uff0c\u4e22\u5305\u662f\u5e38\u89c1\u73b0\u8c61\uff0c\u4f46\u5728\u9ad8\u4e22\u5305\u7387\u4e0b\u53ef\u80fd\u4f1a\u5f71\u54cd\u5e94\u7528\u7684\u7a33\u5b9a\u6027\u6216\u6027\u80fd\u3002\u53ef\u80fd\u7684\u539f\u56e0\u5305\u62ec\u7f51\u7edc\u62e5\u585e\u3001\u8def\u7531\u5668\u6216\u4ea4\u6362\u673a\u7684\u7f13\u51b2\u533a\u6ea2\u51fa\u7b49\u3002</p> </li> <li> <p>\u5e26\u5bbd\u4e0e\u901f\u7387\uff1a\u53d1\u9001\u7aef\u7684\u5e73\u5747\u5e26\u5bbd\uff081.46 Gbits/sec\uff09\u7565\u9ad8\u4e8e\u63a5\u6536\u7aef\u7684\u5e26\u5bbd\uff081.37 Gbits/sec\uff09\uff0c\u8fd9\u53ef\u80fd\u8868\u660e\u7f51\u7edc\u4e2d\u7684\u67d0\u4e9b\u74f6\u9888\u6216\u4e22\u5305\u5bfc\u81f4\u4e86\u63a5\u6536\u7aef\u901f\u7387\u7684\u4e0b\u964d\u3002</p> </li> </ul> <p>\u603b\u7ed3\uff1a</p> <ul> <li>\u5e26\u5bbd\u5229\u7528\u7387\uff1a\u603b\u4f53\u6765\u8bf4\uff0c\u5e26\u5bbd\u5229\u7528\u7387\u8f83\u9ad8\uff0c\u53d1\u9001\u7aef\u4f20\u8f93\u901f\u7387\u63a5\u8fd1 1.46 Gbits/sec\uff0c\u800c\u63a5\u6536\u7aef\u7684\u901f\u7387\u7565\u4f4e\uff081.37 Gbits/sec\uff09\u3002</li> <li>\u4e22\u5305\u95ee\u9898\uff1a\u63a5\u6536\u7aef\u4e22\u5305\u8f83\u9ad8\uff0c6.2% \u4e22\u5305\u7387\u662f\u4e00\u4e2a\u503c\u5f97\u5173\u6ce8\u7684\u95ee\u9898\uff0c\u53ef\u80fd\u9700\u8981\u8fdb\u4e00\u6b65\u4f18\u5316\u7f51\u7edc\u73af\u5883\u6216\u6392\u67e5\u5e26\u5bbd\u74f6\u9888\u3002</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7/vnc/VNC%E5%8F%AF%E8%A7%86%E5%8C%96Docker%E5%AE%B9%E5%99%A8/","title":"VNC\u53ef\u89c6\u5316Docker\u5bb9\u5668","text":"<p>https://duckgle.in/posts/Docker%E5%AE%89%E8%A3%85vnc%E5%AE%B9%E5%99%A8/</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3/metabase/metabase%E5%AE%98%E7%BD%91/","title":"Metabase\u5b98\u7f51","text":"<ul> <li> <ol> <li>Metabase\u4e2d\u6587\u64cd\u4f5c\u624b\u518c </li> </ol> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3/mysql/workbench%E8%BF%9E%E6%8E%A5%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8mysql/","title":"Workbench\u8fde\u63a5\u8fdc\u7a0b\u670d\u52a1\u5668mysql","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3/mysql/workbench%E8%BF%9E%E6%8E%A5%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8mysql/#_1","title":"\u4e00\u3001\u521b\u5efa\u8fdc\u7a0b\u767b\u9646\u7528\u6237\u5e76\u6388\u6743","text":"<p>\u53c2\u8003\uff1ahttps://blog.csdn.net/qq_44249833/article/details/106362650</p> <p>\u9996\u5148\u5728\u4f60\u7684\u8fdc\u7a0b\u670d\u52a1\u5668\u8fdb\u5165\u4f60\u7684mysql\u7ec8\u7aef</p> <pre><code>[aliyun@root@00:14:36@ ~] mysql -uroot -p\n</code></pre> <p>\u67e5\u770b\u76ee\u524d\u6743\u9650\uff0cuser\u4e3a\u767b\u5f55\u7528\u6237\uff0chost\u4e3a\u5141\u8bb8\u767b\u5f55\u7684ip\u5730\u5740</p> <pre><code>mysql&gt; select user, host from mysql.user;\n+---------------+-----------+\n| user          | host      |\n+---------------+-----------+\n| djangoblog    | localhost |\n| mysql.session | localhost |\n| mysql.sys     | localhost |\n| root          | localhost |\n+---------------+-----------+\n5 rows in set (0.00 sec)\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u81ea\u5df1\u521b\u5efa\u4e00\u4e2a\u7528\u6237\uff1a\u8fd9\u91cc\u8d26\u53f7\u662fwengmq\uff0c\u5bc6\u7801\u662f1112334acb.</p> <pre><code>mysql&gt; CREATE USER 'wengmq'@'%' IDENTIFIED BY '1112334acb.';\n</code></pre> <p>\u8bbe\u7f6eroot\u7528\u6237\u767b\u5f55\u6743\u9650\uff0c\u4e5f\u53ef\u4ee5\u662f\u522b\u7684\u7528\u6237 </p> <p>root\u4e3amysql\u4e2d\u7528\u6237\u540d '@' \u540e\u8ddf\u7684 '%' \u4ee3\u8868\u4efb\u4f55IP </p> <p>\u5728 '111 \u4e2d\u8868\u793a\u7528\u6237\u5bc6\u7801\uff0c\u8fd9\u8fb9\u6539\u6210\u4f60\u81ea\u5df1\u7684\u5bc6\u7801</p> <pre><code>mysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY '111' WITH GRANT OPTION;\n\n\nmysql&gt; flush privileges;\n\n\nmysql&gt; exit\n</code></pre> <p>\u4e4b\u524d\u5728CentOS\u5b89\u88c5\u5b8cMySQL\u8bbe\u7f6e\u5bc6\u7801\u65f6\u51fa\u73b0\u4e86\u5982\u4e0b\u9519\u8bef:</p> <pre><code>ERROR 1819 (HY000): Your password does not satisfy the current policy requirements\n</code></pre> <p>\u539f\u56e0\u662f\u56e0\u4e3a\u5bc6\u7801\u8bbe\u7f6e\u7684\u8fc7\u4e8e\u7b80\u5355\u4f1a\u62a5\u9519,MySQL\u6709\u5bc6\u7801\u8bbe\u7f6e\u7684\u89c4\u8303\uff0c\u5177\u4f53\u662f\u4e0evalidate_password_policy\u7684\u503c\u6709\u5173,\u4e0b\u56fe\u8868\u660e\u8be5\u503c\u89c4\u5219</p> <p>\u5982\u679c\u60f3\u8981\u67e5\u770bMySQL\u5b8c\u6574\u7684\u521d\u59cb\u5bc6\u7801\u89c4\u5219,\u767b\u9646\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4</p> <pre><code>SHOW VARIABLES LIKE 'validate_password%';\n</code></pre> <p>\u5bc6\u7801\u7684\u957f\u5ea6\u662f\u7531validate_password_length\u51b3\u5b9a\u7684,\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u4fee\u6539</p> <p>validate_password_policy\u51b3\u5b9a\u5bc6\u7801\u7684\u9a8c\u8bc1\u7b56\u7565,\u9ed8\u8ba4\u7b49\u7ea7\u4e3aMEDIUM(\u4e2d\u7b49),\u53ef\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u4fee\u6539\u4e3aLOW(\u4f4e)</p> <pre><code>mysql&gt; set global validate_password_length=4;\n\n\nmysql&gt; set global validate_password_policy=0;\n\n</code></pre> <p>\u8fd9\u65f6\u518d\u67e5\u770b\u7528\u6237\u4fe1\u606f\u5c31\u5df2\u7ecf\u591a\u4e86\u4e00\u884c| root          | %         |</p> <pre><code>mysql&gt; select user, host from mysql.user;\n+---------------+-----------+\n| user          | host      |\n+---------------+-----------+\n| root          | %         |\n| djangoblog    | localhost |\n| mysql.session | localhost |\n| mysql.sys     | localhost |\n| root          | localhost |\n+---------------+-----------+\n5 rows in set (0.00 sec)\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3/mysql/workbench%E8%BF%9E%E6%8E%A5%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8mysql/#workbenchmysql","title":"\u4e8c\u3001\u4f7f\u7528workbench\u8fde\u63a5\u8fdc\u7a0bmysql","text":"<p>1.\u4e0b\u8f7d\u5b89\u88c5workbench \uff0c\u5e76\u6253\u5f00workbench</p> <p>2.\u70b9\u51fb\u52a0\u53f7\uff0c\u521b\u5efa\u8fde\u63a5 </p> <p>3.\u8bbe\u7f6e\u8fde\u63a5 </p> <p>4.\u6210\u529f\u8fde\u63a5\uff08\u8fde\u63a5\u5931\u8d25\u53ef\u80fd\u662f\u4f60\u6ca1\u6709\u521b\u5efa\u8fdc\u7a0b\u767b\u9646\u7528\u6237\u5e76\u6388\u6743\uff09 </p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/01-elk%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/","title":"01 elk\u7ec4\u4ef6\u4ecb\u7ecd","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/01-elk%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/#_1","title":"\u7b80\u4ecb","text":"<ul> <li>\u8bf4\u660e\uff1a<ul> <li>ELK \u67b6\u6784\u7531 Elasticsearch\u3001Logstash\u3001Kibana \u4e09\u5927\u6838\u5fc3\u7ec4\u4ef6\u7ec4\u6210\uff0c\u901a\u5e38\u8fd8\u4f1a\u7ed3\u5408 Beats\uff08\u8f7b\u91cf\u65e5\u5fd7/\u6570\u636e\u91c7\u96c6\u5668\uff09\u4e00\u8d77\u4f7f\u7528\uff0c\u88ab\u79f0\u4e3a Elastic Stack\u3002</li> </ul> </li> <li>\u5b98\u65b9\u6587\u6863\uff1a<ul> <li>https://www.elastic.co/docs/get-started/</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/01-elk%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/#_2","title":"\u67b6\u6784\u603b\u89c8","text":"<pre><code>[ \u6570\u636e\u6e90 ] \u2192 [ Beats / Logstash ] \u2192 [ Elasticsearch ] \u2192 [ Kibana ]\n</code></pre> <ul> <li> <p>\u6570\u636e\u6e90\uff1a\u5e94\u7528\u65e5\u5fd7\u3001\u7cfb\u7edf\u65e5\u5fd7\u3001\u4e1a\u52a1\u6307\u6807\u3001\u7f51\u7edc\u6d41\u91cf\u3001\u6570\u636e\u5e93\u6570\u636e\u7b49\u3002</p> </li> <li> <p>Beats / Logstash\uff1a\u8d1f\u8d23\u91c7\u96c6\u3001\u8fc7\u6ee4\u3001\u8f6c\u6362\u6570\u636e\u3002</p> </li> <li> <p>Elasticsearch (ES)\uff1a\u8d1f\u8d23\u5b58\u50a8\u3001\u7d22\u5f15\u548c\u641c\u7d22\u6570\u636e\u3002</p> </li> <li> <p>Kibana\uff1a\u8d1f\u8d23\u53ef\u89c6\u5316\u5c55\u793a\u548c\u4ea4\u4e92\u67e5\u8be2\u3002</p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/01-elk%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/#_3","title":"\u7ec4\u4ef6\u8bf4\u660e","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/01-elk%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/#1-elasticsearch","title":"(1) Elasticsearch","text":"<ul> <li> <p>\u529f\u80fd\uff1a\u6838\u5fc3\u5b58\u50a8\u4e0e\u641c\u7d22\u5f15\u64ce\uff0c\u57fa\u4e8e Apache Lucene\u3002</p> </li> <li> <p>\u4f5c\u7528\uff1a</p> <ul> <li> <p>\u5b58\u50a8\u7ed3\u6784\u5316\u3001\u534a\u7ed3\u6784\u5316\u3001\u975e\u7ed3\u6784\u5316\u6570\u636e\uff08JSON \u6587\u6863\u5f62\u5f0f\uff09\u3002</p> </li> <li> <p>\u63d0\u4f9b\u5206\u5e03\u5f0f\u5168\u6587\u641c\u7d22\u3001\u9ad8\u901f\u67e5\u8be2\u548c\u805a\u5408\u5206\u6790\u3002</p> </li> </ul> </li> <li> <p>\u7279\u6027\uff1a</p> <ul> <li> <p>\u5206\u5e03\u5f0f\u67b6\u6784\uff08\u591a\u8282\u70b9\u96c6\u7fa4\uff0c\u4e3b\u5206\u7247\u3001\u526f\u672c\u5206\u7247\uff09\u3002</p> </li> <li> <p>RESTful API \u64cd\u4f5c\uff08HTTP/JSON\uff09\u3002</p> </li> <li> <p>\u652f\u6301\u590d\u6742\u67e5\u8be2\uff08\u5168\u6587\u68c0\u7d22\u3001\u6761\u4ef6\u8fc7\u6ee4\u3001\u805a\u5408\u5206\u6790\uff09\u3002</p> </li> </ul> </li> <li> <p>\u8282\u70b9\u89d2\u8272\uff1a</p> <ul> <li> <p>Master \u8282\u70b9\uff1a\u8d1f\u8d23\u96c6\u7fa4\u5143\u6570\u636e\u7ba1\u7406\uff08\u7d22\u5f15\u4fe1\u606f\u3001\u8282\u70b9\u72b6\u6001\uff09\u3002</p> </li> <li> <p>Data \u8282\u70b9\uff1a\u5b58\u50a8\u5b9e\u9645\u6570\u636e\u5e76\u5904\u7406\u67e5\u8be2\u3002</p> </li> <li> <p>Ingest \u8282\u70b9\uff1a\u8d1f\u8d23\u6570\u636e\u9884\u5904\u7406\uff08\u4e5f\u53ef\u7531 Logstash \u5b8c\u6210\uff09\u3002</p> </li> <li> <p>Coordinating \u8282\u70b9\uff1a\u8d1f\u8d23\u8bf7\u6c42\u8def\u7531\u548c\u7ed3\u679c\u5408\u5e76\u3002</p> </li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/01-elk%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/#2-logstash","title":"(2) Logstash","text":"<ul> <li> <p>\u529f\u80fd\uff1a\u6570\u636e\u6536\u96c6\u3001\u89e3\u6790\u3001\u8f6c\u6362\u548c\u8f6c\u53d1\u3002</p> </li> <li> <p>\u4f5c\u7528\uff1a</p> <ul> <li> <p>\u4ece\u591a\u4e2a\u6570\u636e\u6e90\u91c7\u96c6\u6570\u636e\uff08\u6587\u4ef6\u3001\u6570\u636e\u5e93\u3001\u6d88\u606f\u961f\u5217\u3001API \u7b49\uff09\u3002</p> </li> <li> <p>\u901a\u8fc7 filter \u63d2\u4ef6 \u8fdb\u884c\u89e3\u6790\u548c\u6e05\u6d17\uff08grok\u3001mutate\u3001date\u3001geoip \u7b49\uff09\u3002</p> </li> <li> <p>\u8f93\u51fa\u5230\u591a\u4e2a\u76ee\u7684\u5730\uff08Elasticsearch\u3001Kafka\u3001\u6587\u4ef6\u7b49\uff09\u3002</p> </li> </ul> </li> <li> <p>\u7279\u6027\uff1a</p> <ul> <li> <p>\u652f\u6301\u591a\u79cd\u8f93\u5165\uff08input\uff09\u3001\u8fc7\u6ee4\uff08filter\uff09\u3001\u8f93\u51fa\uff08output\uff09\u63d2\u4ef6\u3002</p> </li> <li> <p>\u53ef\u4e0e Beats \u914d\u5408\uff0cBeats \u5c06\u8f7b\u91cf\u6570\u636e\u53d1\u9001\u5230 Logstash\uff0cLogstash \u505a\u590d\u6742\u5904\u7406\u3002</p> </li> </ul> </li> <li> <p>\u4f18\u7f3a\u70b9\uff1a</p> <ul> <li>\u529f\u80fd\u5f3a\u5927\u4f46\u5360\u7528\u8d44\u6e90\u8f83\u591a\uff0c\u590d\u6742\u573a\u666f\u9002\u5408\u7528 Logstash\uff0c\u7b80\u5355\u91c7\u96c6\u53ef\u76f4\u63a5\u7528 Beats\u3002</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/01-elk%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/#3-kibana","title":"(3) Kibana","text":"<ul> <li> <p>\u529f\u80fd\uff1a\u53ef\u89c6\u5316\u4e0e\u7ba1\u7406\u63a7\u5236\u53f0\u3002</p> </li> <li> <p>\u4f5c\u7528\uff1a</p> <ul> <li> <p>\u8fde\u63a5 Elasticsearch\uff0c\u63d0\u4f9b\u4eea\u8868\u76d8\uff08Dashboard\uff09\u3001\u53ef\u89c6\u5316\u5206\u6790\u3001\u67e5\u8be2\u5de5\u5177\uff08Discover\uff09\u3002</p> </li> <li> <p>\u652f\u6301\u6570\u636e\u63a2\u7d22\u3001\u544a\u8b66\u3001\u673a\u5668\u5b66\u4e60\u6a21\u5757\uff08\u9700 Elastic \u4ed8\u8d39\u7248\uff09\u3002</p> </li> <li> <p>\u7ba1\u7406 Elasticsearch\uff08\u7d22\u5f15\u6a21\u677f\u3001\u6620\u5c04\u3001\u96c6\u7fa4\u72b6\u6001\uff09\u3002</p> </li> </ul> </li> <li> <p>\u7279\u6027\uff1a</p> <ul> <li> <p>\u4e0e Elasticsearch \u7d27\u5bc6\u8026\u5408\u3002</p> </li> <li> <p>\u652f\u6301\u4ea4\u4e92\u5f0f\u67e5\u8be2\uff08Lucene Query Syntax / Kibana Query Language\uff09\u3002</p> </li> <li> <p>\u56fe\u8868\u7c7b\u578b\u591a\uff08\u67f1\u72b6\u3001\u6298\u7ebf\u3001\u997c\u56fe\u3001\u5730\u7406\u5730\u56fe\u7b49\uff09\u3002</p> </li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/01-elk%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/#4-beats","title":"(4) Beats\uff08\u53ef\u9009\uff09","text":"<ul> <li> <p>\u529f\u80fd\uff1a\u8f7b\u91cf\u7ea7\u6570\u636e\u91c7\u96c6\u5668\u3002</p> </li> <li> <p>\u5e38\u89c1\u7c7b\u578b\uff1a</p> <ul> <li> <p>Filebeat\uff1a\u91c7\u96c6\u6587\u4ef6\u65e5\u5fd7\u3002</p> </li> <li> <p>Metricbeat\uff1a\u91c7\u96c6\u7cfb\u7edf/\u670d\u52a1\u76d1\u63a7\u6307\u6807\u3002</p> </li> <li> <p>Packetbeat\uff1a\u91c7\u96c6\u7f51\u7edc\u6d41\u91cf\u6570\u636e\u3002</p> </li> <li> <p>Heartbeat\uff1a\u91c7\u96c6\u53ef\u7528\u6027\u68c0\u6d4b\u6570\u636e\uff08Ping/HTTP/TCP\uff09\u3002</p> </li> <li> <p>Winlogbeat\uff1a\u91c7\u96c6 Windows \u4e8b\u4ef6\u65e5\u5fd7\u3002</p> </li> </ul> </li> <li> <p>\u4f5c\u7528\uff1a</p> <ul> <li> <p>\u90e8\u7f72\u5728\u6570\u636e\u6e90\u673a\u5668\u4e0a\uff0c\u8d44\u6e90\u5360\u7528\u6781\u4f4e\u3002</p> </li> <li> <p>\u76f4\u63a5\u53d1\u9001\u6570\u636e\u5230 Elasticsearch \u6216 Logstash\u3002</p> </li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/01-elk%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/#3","title":"3. \u6570\u636e\u6d41\u5411","text":"<ol> <li> <p>\u6570\u636e\u91c7\u96c6</p> <ul> <li> <p>Beats \u76f4\u63a5\u91c7\u96c6\uff08\u8f7b\u91cf\u573a\u666f\uff09\u3002</p> </li> <li> <p>Logstash \u91c7\u96c6\uff08\u590d\u6742\u6570\u636e\u5904\u7406\uff09\u3002</p> </li> </ul> </li> <li> <p>\u6570\u636e\u4f20\u8f93</p> <ul> <li>Beats \u2192 Logstash \u2192 ES     \u6216     Beats \u2192 ES</li> </ul> </li> <li> <p>\u6570\u636e\u5b58\u50a8\u4e0e\u7d22\u5f15</p> <ul> <li>ES \u5c06\u6570\u636e\u5b58\u50a8\u4e3a JSON \u6587\u6863\u5e76\u5efa\u7acb\u5012\u6392\u7d22\u5f15\u3002</li> </ul> </li> <li> <p>\u6570\u636e\u67e5\u8be2\u4e0e\u53ef\u89c6\u5316</p> <ul> <li>Kibana \u8fde\u63a5 ES\uff0c\u63d0\u4f9b\u641c\u7d22\u3001\u805a\u5408\u3001\u56fe\u5f62\u5316\u5c55\u793a\u3002</li> </ul> </li> </ol>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/01-elk%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/#4","title":"4. \u5178\u578b\u90e8\u7f72\u67b6\u6784","text":"<pre><code>                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                \u2502  Beats   \u2502 (Filebeat / Metricbeat ...)\n                \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n               \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\n               \u2502 Logstash  \u2502 (\u53ef\u9009\uff1a\u590d\u6742\u89e3\u6790/\u6e05\u6d17)\n               \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502   Elasticsearch     \u2502 (\u96c6\u7fa4)\n          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n               \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\n               \u2502  Kibana   \u2502 (\u53ef\u89c6\u5316)\n               \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/01-elk%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/#5","title":"5. \u4f18\u7f3a\u70b9","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/01-elk%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/#_4","title":"\u4f18\u70b9","text":"<ul> <li> <p>\u9ad8\u6027\u80fd\u641c\u7d22\u548c\u5b9e\u65f6\u5206\u6790\u3002</p> </li> <li> <p>\u7075\u6d3b\u7684\u6570\u636e\u63a5\u5165\u4e0e\u5904\u7406\u80fd\u529b\u3002</p> </li> <li> <p>\u4e30\u5bcc\u7684\u53ef\u89c6\u5316\u548c\u4ea4\u4e92\u529f\u80fd\u3002</p> </li> <li> <p>\u6c34\u5e73\u6269\u5c55\u80fd\u529b\u5f3a\uff08\u652f\u6301\u5927\u89c4\u6a21\u96c6\u7fa4\uff09\u3002</p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/01-elk%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/#_5","title":"\u7f3a\u70b9","text":"<ul> <li> <p>\u8d44\u6e90\u6d88\u8017\u5927\uff08\u7279\u522b\u662f Logstash \u548c ES\uff09\u3002</p> </li> <li> <p>\u96c6\u7fa4\u7ba1\u7406\u590d\u6742\uff08\u9700\u8981\u6ce8\u610f\u5206\u7247\u3001\u526f\u672c\u3001\u5185\u5b58\u3001GC \u8c03\u4f18\uff09\u3002</p> </li> <li> <p>\u5bf9\u786c\u4ef6\u8981\u6c42\u9ad8\uff08IOPS\u3001\u5185\u5b58\u3001CPU\uff09\u3002</p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/02-Elasticsearch/","title":"02 Elasticsearch","text":"<ul> <li>Elasticsearch\u4e2d\u6587\u6587\u6863<ul> <li>https://learnku.com/docs/elasticsearch73/7.3/data-in-documents-and-indices/6446</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/03-logstach/","title":"03 logstach","text":"<ul> <li>\u4e2d\u6587\u6307\u5357\uff1a<ul> <li>https://elkguide.elasticsearch.cn/logstash/</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/elk/04-kibana/","title":"04 kibana","text":"<ul> <li>\u5b98\u65b9\u6587\u6863\uff1a<ul> <li>https://www.elastic.co/docs/explore-analyze/</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/goaccess/goaccess%E4%BB%8B%E7%BB%8D/","title":"Goaccess\u4ecb\u7ecd","text":"<ul> <li>\u5b98\u7f51\uff1ahttps://goaccess.io/</li> <li>\u4ecb\u7ecd\uff1a\u00a0\u00a0\u00a0\u00a0\u00a0<ul> <li>GoAccess \u662f\u4e00\u6b3e\u5f00\u6e90\u7684\u4e14\u5177\u6709\u4ea4\u4e92\u89c6\u56fe\u754c\u9762\u7684\u5b9e\u65f6 Web \u65e5\u5fd7\u5206\u6790\u5de5\u5177\uff0c\u80fd\u591f\u5b9e\u65f6\u5feb\u901f\u5206\u6790\u548c\u67e5\u770bWeb\u670d\u52a1\u5668\u7edf\u8ba1\u4fe1\u606f\uff0c\u53ef\u4ee5\u5bf9\u6307\u5b9a\u7684 Web \u65e5\u5fd7\u6587\u4ef6\u8fdb\u884c\u89e3\u6790\uff0c\u5f62\u6210html\u6216\u8005json\u6587\u4ef6\uff0c\u66f4\u6e05\u6670\u76f4\u89c2\u7684\u67e5\u770b\u65e5\u5fd7\u4fe1\u606f</li> </ul> </li> <li>\u53c2\u8003\uff1a<ul> <li>https://juejin.cn/post/7092381708799967263</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/goaccess/goaccess%E7%94%9F%E6%88%90%E6%8A%A5%E5%91%8Ahtml/","title":"Goaccess\u751f\u6210\u62a5\u544ahtml","text":"<p>\u547d\u4ee4\uff1a     - -f\u6307\u5b9anginx\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84\uff08\u9ed8\u8ba4\u65e5\u5fd7\u683c\u5f0f\uff09     - -o\u6307\u5b9a\u751f\u6210\u7684\u8def\u5f84\u4f4d\u7f6e  ``` goaccess -f /usr/local/openresty/nginx/logs/access.log \\          --log-format='%h %^ %^ [%d:%t %^] \"%r\" %s %b \"%R\" \"%u\"' \\          --date-format='%d/%b/%Y' \\          --time-format='%T' \\          -o /usr/local/openresty/nginx/html/goc.html</p> <p>```</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/000-grafana%E5%85%A5%E9%97%A8/","title":"000 grafana\u5165\u95e8","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/000-grafana%E5%85%A5%E9%97%A8/#_1","title":"\u3010\u5165\u95e8\u6559\u7a0b\u8d44\u6e90\u3011","text":"<ul> <li> <p>Grafana\u5b98\u65b9\u6587\u6863:\u00a0https://grafana.com/docs/grafana/latest/panels/</p> </li> <li> <p>Grafana\u5e38\u7528\u4f7f\u7528\u6280\u5de7:\u00a0https://juejin.cn/post/6844903570593038344</p> </li> <li> <p>Grafana\u5168\u9762\u74e6\u89e3:\u00a0https://www.jianshu.com/p/7e7e0d06709b</p> </li> <li> <p>\u5728\u7ebfDemo\u6f14\u793a:\u00a0https://play.grafana.org/d/000000012/grafana-play-home?orgId=1</p> </li> <li> <p>\u65f6\u95f4\u5e8f\u5217\u7c7b\u578b\u56fe\u8868Demo\u6f14\u793a:\u00a0https://play.grafana.org/d/000000002/influxdb-templated?orgId=1&amp;var-datacenter=America&amp;var-host=All&amp;var-summarize=1m&amp;editPanel=1</p> </li> <li> <p>PromQL \u4ece\u5165\u95e8\u5230\u5b66\u5e9f\uff1a https://download.flashcat.cloud/promql-learning.pdf</p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/000-grafana%E5%85%A5%E9%97%A8/#_2","title":"\u3010\u76f8\u5173\u540d\u8bcd\u3011","text":"<ul> <li>\u6570\u636e\u6e90\uff1a\u53c2\u8003\u5b98\u65b9 https://grafana.com/docs/grafana/latest/datasources/<ul> <li>\u5e95\u5c42\u5b58\u50a8\u7684\u6570\u636e\u6765\u6e90\uff0c\u652f\u6301\u5e38\u89c1\u7684\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u5e93\uff0c\u5982prometheus\u3001influxdb</li> </ul> </li> <li>\u4eea\u8868\u76d8\uff1a\u53c2\u8003\u5b98\u65b9 https://grafana.com/docs/grafana/latest/dashboards/<ul> <li>\u5373Dashboards\uff0c\u4e00\u4e2a\u4eea\u8868\u76d8\u5373\u4e00\u4e2a\u72ec\u7acb\u7684\u9875\u9762</li> <li>\u4e00\u4e2a\u4eea\u8868\u76d8\u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u4e2aRow\uff0c\u70b9\u51fbRow\u5373\u53ef\u5c55\u5f00\u591a\u4e2a\u9762\u677f</li> </ul> </li> <li>\u53d8\u91cf\uff1a\u53c2\u8003\u5b98\u65b9 https://grafana.com/docs/grafana/latest/dashboards/variables/<ul> <li>\u6bcf\u4e2a\u4eea\u8868\u76d8\u53ef\u4ee5\u652f\u6301\u5b9a\u4e49\u591a\u4e2a\u53d8\u91cf\uff0c\u53d8\u91cf\u6570\u636e\u53ef\u4ee5\u6765\u81ea\u4e8e\u5176\u4ed6\u6570\u636e\u6e90\u6216\u8005\u81ea\u5df1\u624b\u52a8\u8f93\u5165\u7684\u5217\u8868\u3002\u53d8\u91cf\u53ef\u4ee5\u5728\u9762\u677f\u4e2d\u5f15\u7528\uff0c\u901a\u5e38\u53ef\u4ee5\u7528\u4e8e\u505a\u8fc7\u6ee4\u6761\u4ef6\u3002</li> </ul> </li> <li>\u9762\u677f\uff1a\u53c2\u8003\u5b98\u65b9 https://grafana.com/docs/grafana/latest/panels-visualizations/<ul> <li>\u5373Panels\uff0c\u9762\u677f\u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u79cd\u7c7b\u578b\u5982\u6700\u5e38\u89c1\u7684\u6298\u7ebf\u56fe\u3001\u997c\u56fe\u3001\u76f4\u65b9\u56fe\u7b49</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/000-grafana%E5%85%A5%E9%97%A8/#grafana","title":"\u3010grafana\u90e8\u7f72\u3011","text":"<pre><code>docker run -d -p 3000:3000 -it grafana/grafana\n</code></pre> <pre><code>sudo apt-get install -y adduser libfontconfig1 musl\nwget https://dl.grafana.com/enterprise/release/grafana-enterprise_12.1.0_amd64.deb\nsudo dpkg -i grafana-enterprise_12.1.0_amd64.deb\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/000-grafana%E5%85%A5%E9%97%A8/#docker","title":"docker\u90e8\u7f72\uff1a","text":"<ul> <li>\u8d26\u53f7\u5bc6\u7801\u9ed8\u8ba4\uff08admin/admin\uff09</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/000-grafana%E5%85%A5%E9%97%A8/#_3","title":"\u672c\u5730\u4e8c\u8fdb\u5236\u90e8\u7f72\uff1a","text":"<ul> <li>\u53c2\u8003\u5730\u5740\uff1ahttps://grafana.com/grafana/download</li> <li>\u5df2ubuntu\u7684\u90e8\u7f72\u4e3a\u4f8b\uff1a</li> <li><code>systemctl status grafana-server.service</code> \u542f\u52a8\u670d\u52a1\u9ed8\u8ba4\u76d1\u542c3000\u7aef\u53e3\u3002</li> <li>\u8d26\u53f7\u5bc6\u7801\u9ed8\u8ba4\uff08admin/admin\uff09</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/010-grafana%E4%BB%AA%E8%A1%A8%E7%9B%98%E6%A6%82%E8%A7%88/","title":"010 grafana\u4eea\u8868\u76d8\u6982\u89c8","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/010-grafana%E4%BB%AA%E8%A1%A8%E7%9B%98%E6%A6%82%E8%A7%88/#_1","title":"\u7b80\u4ecb","text":"<ul> <li> <p>\u5b98\u65b9\u4ecb\u7ecd</p> <ul> <li>https://grafana.com/docs/grafana/latest/dashboards/use-dashboards/</li> </ul> </li> <li> <p>grafana\u6bd4\u8f83\u6838\u5fc3\u7684\u51e0\u4e2a\u6982\u5ff5\uff1a</p> <ul> <li><code>dashboard</code>\uff1a\u4eea\u8868\u76d8\uff0c\u6bcf\u4e2a\u4eea\u8868\u76d8\u5bf9\u5e94\u4e00\u4e2aweb\u9875\u9762\uff0c\u4f60\u53ef\u4ee5\u5728\u4eea\u8868\u76d8\u5217\u8868\u4e2d\u8fdb\u884c\u7b5b\u9009</li> <li><code>row</code>\uff1a\u6bcf\u4e2a\u4eea\u8868\u76d8\u53ef\u4ee5\u5305\u542b\u591a\u4e2arow\uff0c\u8fd9\u91cc\u7684row\u53ef\u4ee5\u7406\u89e3\u4e3a\u53ef\u4ee5\u6298\u53e0\u7684\u884c</li> <li><code>panel</code>\uff1a\u6bcf\u4e2arow\u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u4e2apanel\uff08\u9762\u677f\uff09\uff0c\u9762\u677f\u662f\u5c55\u793a\u7684\u56fe\u8868\uff0c\u4f8b\u5982\u6298\u7ebf\u56fe\u3001\u6247\u56fe\u3001\u8868\u683c\u7b49\uff0c\u53ef\u4ee5\u8fdb\u5165\u9762\u677f\u7684\u8bbe\u7f6e\u9875\u9762\uff0c\u8bbe\u7f6e\u4e0d\u540c\u7684sql\uff08\u53d6\u51b3\u4e8e\u4f60\u7684\u6570\u636e\u6e90\u7c7b\u578b\uff09\u6765\u5c55\u793a\u4f60\u60f3\u8981\u7684\u6548\u679c\u3002</li> </ul> </li> <li> <p>\u4eea\u8868\u76d8\u53f3\u4e0a\u89d2\u53ef\u4ee5\u8f93\u5165\u65f6\u95f4\u8fdb\u884c\u7b5b\u9009\uff0c\u65f6\u95f4\u53d8\u91cf\u53ef\u4ee5\u4f5c\u7528\u4f60\u7684\u4eea\u8868\u76d8\u4e0b\u7684\u6240\u6709\u9762\u677f</p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/010-grafana%E4%BB%AA%E8%A1%A8%E7%9B%98%E6%A6%82%E8%A7%88/#_2","title":"\u4eea\u8868\u76d8\u6982\u89c8","text":"<ol> <li> <p>Grafana\u4e3b\u9875-\u5355\u51fbgrafan\u4e2d\u7684\u4e3b\u9875\uff0c\u8f6c\u5230Grafana\u5b9e\u4f8b\u4e2d\u914d\u7f6e\u7684\u4e3b\u9875\u3002</p> </li> <li> <p>\u4eea\u8868\u677f\u6587\u4ef6\u5939-\u5f53\u60a8\u5355\u51fb\u4eea\u8868\u677f\u6587\u4ef6\u5939\u540d\u79f0\u65f6\uff0c\u60a8\u53ef\u4ee5\u641c\u7d22\u8be5\u6587\u4ef6\u5939\u4e2d\u5305\u542b\u7684\u5176\u4ed6\u4eea\u8868\u677f\u5e76\u6267\u884c\u5176\u4ed6\u6587\u4ef6\u5939\u7ba1\u7406\u4efb\u52a1\u3002</p> </li> <li> <p>\u4eea\u8868\u677f\u6807\u9898-\u60a8\u53ef\u4ee5\u521b\u5efa\u81ea\u5df1\u7684\u4eea\u8868\u677f\u6807\u9898\uff0c\u4e5f\u53ef\u4ee5\u8ba9Grafana\u4f7f\u7528\u751f\u6210\u5f0fAI\u529f\u80fd\u4e3a\u60a8\u521b\u5efa\u3002</p> </li> <li> <p>\u6807\u8bb0\u4e3a\u6536\u85cf\u5939-\u5c06\u4eea\u8868\u677f\u6807\u8bb0\u4e3a\u60a8\u7684\u6536\u85cf\u5939\u4e4b\u4e00\uff0c\u4ee5\u4fbf\u5c06\u5176\u5305\u542b\u5728\u4e3b\u83dc\u5355\u4e2d\u7684\u661f\u53f7\u4eea\u8868\u677f\u5217\u8868\u4e2d\u3002</p> </li> <li> <p>\u4eea\u8868\u677f\u89c1\u89e3-\u5355\u51fb\u67e5\u770b\u6709\u5173\u4eea\u8868\u677f\u7684\u5206\u6790\uff0c\u5305\u62ec\u6709\u5173\u7528\u6237\u3001\u6d3b\u52a8\u3001\u67e5\u8be2\u8ba1\u6570\u7684\u4fe1\u606f\u3002\u4e86\u89e3\u6709\u5173\u4eea\u8868\u677f\u5206\u6790\u7684\u66f4\u591a\u4fe1\u606f\u3002</p> </li> <li> <p>\u5171\u4eab\u4eea\u8868\u677f-\u8bbf\u95ee\u591a\u4e2a\u4eea\u8868\u677f\u5171\u4eab\u9009\u9879\u3002</p> </li> <li> <p>\u7f16\u8f91-\u5355\u51fb\u4ee5\u79bb\u5f00\u4ec5\u67e5\u770b\u6a21\u5f0f\u5e76\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f\uff0c\u5728\u8be5\u6a21\u5f0f\u4e0b\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u5bf9\u4eea\u8868\u677f\u8fdb\u884c\u66f4\u6539\u5e76\u8bbf\u95ee\u4eea\u8868\u677f\u8bbe\u7f6e\uff0c\u4ee5\u53ca\u51e0\u4e2a\u9762\u677f\u7f16\u8f91\u529f\u80fd\u3002</p> </li> <li> <p>\u4fe1\u606f\u4ead\u6a21\u5f0f-\u5355\u51fb\u53ef\u5728\u7535\u89c6\u6216\u4fe1\u606f\u4ead\u7b49\u5927\u5c4f\u5e55\u4e0a\u663e\u793a\u4eea\u8868\u677f\u3002\u4fe1\u606f\u4ead\u6a21\u5f0f\u9690\u85cf\u4e86\u5bfc\u822a\u83dc\u5355\u7b49\u5143\u7d20\u3002\u5728\u6211\u4eec\u7684\u201c\u5982\u4f55\u521b\u5efa\u4fe1\u606f\u4ead\u4ee5\u5728\u7535\u89c6\u535a\u5ba2\u4e0a\u663e\u793a\u4eea\u8868\u677f\u201d\u4e2d\u4e86\u89e3\u6709\u5173\u4fe1\u606f\u4ead\u6a21\u5f0f\u7684\u66f4\u591a\u4fe1\u606f\u3002\u6309\u00a0<code>Enter</code>\u00a0\u9000\u51fa\u4fe1\u606f\u4ead\u6a21\u5f0f\u3002</p> </li> <li> <p>\u53d8\u91cf-\u4f7f\u7528\u53d8\u91cf\u521b\u5efa\u66f4\u5177\u4ea4\u4e92\u6027\u548c\u52a8\u6001\u6027\u7684\u4eea\u8868\u677f\u3002</p> </li> <li> <p>\u4eea\u8868\u677f\u94fe\u63a5-\u94fe\u63a5\u5230\u5176\u4ed6\u4eea\u8868\u677f\u3001\u9762\u677f\u548c\u5916\u90e8\u7f51\u7ad9\u3002\u4e86\u89e3\u6709\u5173\u4eea\u8868\u677f\u94fe\u63a5\u7684\u66f4\u591a\u4fe1\u606f\u3002</p> </li> <li> <p>\u5f53\u524d\u4eea\u8868\u677f\u65f6\u95f4\u8303\u56f4\u548c\u65f6\u95f4\u9009\u62e9\u5668-\u5355\u51fb\u4ee5\u9009\u62e9\u76f8\u5bf9\u65f6\u95f4\u8303\u56f4\u9009\u9879\u5e76\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7edd\u5bf9\u65f6\u95f4\u8303\u56f4\u3002</p> <ul> <li>\u901a\u8fc7\u5355\u51fb\u66f4\u6539\u65f6\u95f4\u8bbe\u7f6e\u6309\u94ae\uff0c\u60a8\u53ef\u4ee5\u4ece\u65f6\u95f4\u8303\u56f4\u63a7\u4ef6\u66f4\u6539\u65f6\u533a\u548c\u4f1a\u8ba1\u5e74\u5ea6\u8bbe\u7f6e\u3002</li> <li>\u65f6\u95f4\u8bbe\u7f6e\u6309\u6bcf\u4e2a\u4eea\u8868\u677f\u4fdd\u5b58\u3002</li> </ul> </li> <li> <p>\u65f6\u95f4\u8303\u56f4\u7f29\u5c0f-\u5355\u51fb\u53ef\u7f29\u5c0f\u65f6\u95f4\u8303\u56f4\u3002\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u5982\u4f55\u4f7f\u7528\u5e38\u89c1\u65f6\u95f4\u8303\u56f4\u63a7\u4ef6\u7684\u4fe1\u606f\u3002</p> </li> <li> <p>\u5237\u65b0\u4eea\u8868\u677f-\u5355\u51fb\u53ef\u7acb\u5373\u89e6\u53d1\u67e5\u8be2\u5e76\u5237\u65b0\u4eea\u8868\u677f\u6570\u636e\u3002</p> </li> <li> <p>\u81ea\u52a8\u5237\u65b0\u63a7\u5236-\u5355\u51fb\u4ee5\u9009\u62e9\u4eea\u8868\u677f\u81ea\u52a8\u5237\u65b0\u65f6\u95f4\u95f4\u9694\u3002</p> </li> <li> <p>\u4eea\u8868\u677f\u884c-\u4eea\u8868\u677f\u884c\u662f\u4eea\u8868\u677f\u4e2d\u5c06\u9762\u677f\u5206\u7ec4\u5728\u4e00\u8d77\u7684\u903b\u8f91\u5206\u9694\u7b26\u3002</p> <ul> <li>\u884c\u53ef\u4ee5\u6298\u53e0\u6216\u5c55\u5f00\uff0c\u5141\u8bb8\u60a8\u9690\u85cf\u4eea\u8868\u677f\u7684\u90e8\u5206\u5185\u5bb9\u3002</li> <li>\u6298\u53e0\u884c\u5185\u7684\u9762\u677f\u4e0d\u4f1a\u53d1\u51fa\u67e5\u8be2\u3002</li> <li>\u4f7f\u7528\u91cd\u590d\u884c\u6839\u636e\u6a21\u677f\u53d8\u91cf\u52a8\u6001\u521b\u5efa\u884c\u3002</li> </ul> </li> <li> <p>\u4eea\u8868\u677f\u9762\u677f-\u8be5\u9762\u677f\u662f\u4eea\u8868\u677f\u7684\u4e3b\u8981\u6784\u5efa\u5757\u3002</p> </li> <li> <p>\u9762\u677f\u56fe\u4f8b-\u76f4\u63a5\u4ece\u56fe\u4f8b\u4e2d\u66f4\u6539\u7cfb\u5217\u989c\u8272\u4ee5\u53cay\u8f74\u548c\u7cfb\u5217\u53ef\u89c1\u6027\u3002</p> </li> </ol>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/010-grafana%E4%BB%AA%E8%A1%A8%E7%9B%98%E6%A6%82%E8%A7%88/#_3","title":"\u65f6\u95f4\u8303\u56f4\u8f93\u5165","text":"<ul> <li>\u4eea\u8868\u677f\u548c\u9762\u677f\u65f6\u95f4\u63a7\u4ef6\u6709\u4e00\u4e2a\u5171\u540c\u7684UI\u3002<ul> <li>\u5c06\u5149\u6807\u60ac\u505c\u5728\u5b57\u6bb5\u4e0a\uff0c\u67e5\u770b\u8303\u56f4\u5185\u7684\u786e\u5207\u65f6\u95f4\u6233\u53ca\u5176\u6765\u6e90</li> </ul> </li> </ul> <ul> <li>\u4ee5\u4e0b\u90e8\u5206\u5b9a\u4e49\u4e86\u5e38\u89c1\u7684\u65f6\u95f4\u8303\u56f4\u63a7\u4ef6\u3002<ul> <li>\u5355\u51fb\u5f53\u524d\u65f6\u95f4\u8303\u56f4\u8fdb\u884c\u66f4\u6539\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u65f6\u95f4\u8303\u56f4\uff08\u5982\u6700\u540e15\u5206\u949f\uff09\u6216\u7edd\u5bf9\u65f6\u95f4\u8303\u56f4\uff08\u4f8b\u5982\u00a0<code>2020-05-14 00:00:00 to 2020-05-15 23:59:59</code>\u00a0\uff09\u66f4\u6539\u5f53\u524d\u65f6\u95f4\u3002</li> <li></li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/020-grafan%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%88%9B%E5%BB%BA/","title":"020 grafan\u4eea\u8868\u76d8\u521b\u5efa","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/020-grafan%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%88%9B%E5%BB%BA/#_1","title":"\u7b80\u4ecb","text":"<ul> <li>\u5b98\u65b9\u8bf4\u660e\uff1a<ul> <li>https://grafana.com/docs/grafana/latest/dashboards/build-dashboards/create-dashboard/</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/020-grafan%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%88%9B%E5%BB%BA/#_2","title":"\u6dfb\u52a0\u6570\u636e\u6e90","text":"<ul> <li>\u5728\u521b\u5efa\u4eea\u8868\u4e4b\u524d\uff0c\u4f60\u9700\u8981\u5148\u6dfb\u52a0\u6570\u636e\uff0c\u4f8b\u5982prometheus\u3001influxDB\u8fd9\u4e9b\u65f6\u5e8f\u6570\u636e\u5e93 </li> <li>\u4f8b\u5982\u6211\u8fd9\u8fb9\u6dfb\u52a0\u4e86\u4e00\u4e2aprometheus\u6570\u636e\u5e93 </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/020-grafan%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%88%9B%E5%BB%BA/#_3","title":"\u521b\u5efa\u4eea\u8868\u677f","text":"<p>- \u8981\u521b\u5efa\u4eea\u8868\u677f\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <pre><code>1. \u5355\u51fb\u4e3b\u83dc\u5355\u4e2d\u7684\u4eea\u8868\u677f\u3002\n\n2. \u5355\u51fb\u65b0\u5efa\uff0c\u7136\u540e\u9009\u62e9\u65b0\u5efa\u4eea\u8868\u677f\u3002\n\n3. \u5728\u7a7a\u767d\u7684\u4eea\u8868\u677f\u4e0a\uff0c\u5355\u51fb+\u6dfb\u52a0\u53ef\u89c6\u5316\u3002\n</code></pre> <p></p> <p></p> <ol> <li> <p>\u5728\u6253\u5f00\u7684\u5bf9\u8bdd\u6846\u4e2d\uff0c\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\u4e4b\u4e00\uff1a</p> <ul> <li>\u9009\u62e9\u4e00\u4e2a\u73b0\u6709\u6570\u636e\u6e90\u3002</li> <li>\u9009\u62e9Grafana\u5185\u7f6e\u7684\u7279\u6b8a\u6570\u636e\u6e90\u4e4b\u4e00\u3002</li> <li>\u5355\u51fb\u201c\u914d\u7f6e\u65b0\u6570\u636e\u6e90\u201d\u4ee5\u8bbe\u7f6e\u65b0\u6570\u636e\u6e90\uff08\u4ec5\u9650\u7ba1\u7406\u5458\uff09\u3002  \u201c\u7f16\u8f91\u201d\u9762\u677f\u89c6\u56fe\u6253\u5f00\uff0c\u6570\u636e\u6e90\u5df2\u9009\u5b9a\u3002\u5982\u679c\u9700\u8981\uff0c\u60a8\u53ef\u4ee5\u7a0d\u540e\u4f7f\u7528\u9762\u677f\u7f16\u8f91\u5668\u7684\u201c\u67e5\u8be2\u201d\u9009\u9879\u5361\u4e2d\u7684\u4e0b\u62c9\u83dc\u5355\u66f4\u6539\u9762\u677f\u6570\u636e\u6e90\u3002</li> </ul> </li> <li> <p>\u7528\u6570\u636e\u6e90\u7684\u67e5\u8be2\u8bed\u8a00\u7f16\u5199\u6216\u6784\u9020\u67e5\u8be2\u3002 </p> </li> <li> <p>\u5355\u51fb\u201c\u5237\u65b0\u201d\u4ee5\u67e5\u8be2\u6570\u636e\u6e90\u3002</p> </li> <li> <p>\u5728\u53ef\u89c6\u5316\u5217\u8868\u4e2d\uff0c\u9009\u62e9\u53ef\u89c6\u5316\u7c7b\u578b\u3002</p> <p></p> </li> <li> <p>\u5728\u9762\u677f\u9009\u9879\u4e0b\uff0c\u4e3a\u9762\u677f\u8f93\u5165\u6807\u9898\u548c\u63cf\u8ff0</p> </li> <li> <p>\u6709\u5173\u8c03\u6574\u9762\u677f\u8bbe\u7f6e\u7684\u65b9\u6cd5\uff0c\u8bf7\u53c2\u9605\u4ee5\u4e0b\u6587\u6863\u3002</p> <p>\u867d\u7136\u4e0d\u662f\u5fc5\u9700\u7684\uff0c\u4f46\u5927\u591a\u6570\u53ef\u89c6\u5316\u5728\u6b63\u786e\u663e\u793a\u6240\u9700\u4fe1\u606f\u4e4b\u524d\u90fd\u9700\u8981\u4e00\u4e9b\u8c03\u6574\u3002</p> <ul> <li>\u914d\u7f6e\u503c\u6620\u5c04</li> <li>\u53ef\u89c6\u5316\u7279\u5b9a\u9009\u9879</li> <li>\u8986\u76d6\u5b57\u6bb5\u503c</li> <li>\u914d\u7f6e\u9608\u503c</li> <li>\u914d\u7f6e\u6807\u51c6\u9009\u9879</li> <li>\u7f16\u8f91\u5b8c\u9762\u677f\u540e\uff0c\u5355\u51fb\u201c\u4fdd\u5b58\u4eea\u8868\u677f\u201d\u3002</li> </ul> <p>\u6216\u8005\uff0c\u5982\u679c\u60a8\u60f3\u5148\u770b\u5230\u60a8\u7684\u66f4\u6539\u5e94\u7528\u4e8e\u4eea\u8868\u677f\uff0c\u8bf7\u5355\u51fb\u201c\u8fd4\u56de\u4eea\u8868\u677f\u201d\u3002\u51c6\u5907\u5c31\u7eea\u540e\uff0c\u5355\u51fb\u201c\u4fdd\u5b58\u4eea\u8868\u677f\u201d\u3002</p> </li> <li> <p>\u4e3a\u60a8\u7684\u4eea\u8868\u677f\u8f93\u5165\u6807\u9898\u548c\u63cf\u8ff0\uff0c\u6216\u8005\u8ba9Grafana\u4f7f\u7528\u751f\u6210\u5f0fAI\u529f\u80fd\u521b\u5efa\u5b83\u4eec\u3002</p> </li> <li> <p>\u5982\u679c\u9002\u7528\uff0c\u8bf7\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\u5939\u3002</p> </li> <li> <p>\u5355\u51fb\u201c\u4fdd\u5b58\u201d\u3002</p> </li> <li> <p>\u8981\u5411\u4eea\u8868\u677f\u6dfb\u52a0\u66f4\u591a\u9762\u677f\uff0c\u8bf7\u5355\u51fb\u201c\u8fd4\u56de\u4eea\u8868\u677f\u201d\u3002\u7136\u540e\u5355\u51fb\u4eea\u8868\u677f\u6807\u9898\u4e2d\u7684\u201c\u6dfb\u52a0\u201d\uff0c\u5e76\u5728\u4e0b\u62c9\u5217\u8868\u4e2d\u9009\u62e9\u201c\u53ef\u89c6\u5316\u201d\u3002</p> </li> </ol> <p></p> <pre><code>\u5f53\u60a8\u5411\u4eea\u8868\u677f\u6dfb\u52a0\u5176\u4ed6\u9762\u677f\u65f6\uff0c\u60a8\u5c06\u76f4\u63a5\u8fdb\u5165\u7f16\u8f91\u9762\u677f\u89c6\u56fe\u3002\n</code></pre> <ol> <li> <p>\u4fdd\u5b58\u8981\u5bf9\u4eea\u8868\u677f\u6240\u505a\u7684\u6240\u6709\u66f4\u6539\u540e\uff0c\u5355\u51fb\u201c\u9000\u51fa\u7f16\u8f91\u201d\u3002</p> <p>\u73b0\u5728\uff0c\u5f53\u60a8\u60f3\u5bf9\u5df2\u4fdd\u5b58\u7684\u4eea\u8868\u677f\u8fdb\u884c\u66f4\u591a\u66f4\u6539\u65f6\uff0c\u8bf7\u5355\u51fb\u53f3\u4e0a\u89d2\u7684\u201c\u7f16\u8f91\u201d\u3002</p> </li> </ol>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/020-grafan%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%88%9B%E5%BB%BA/#row","title":"\u914d\u7f6e\u3010row\u3011","text":"<ul> <li>\u4f60\u53ef\u4ee5\u5728\u4eea\u8868\u76d8\u4e2d\u589e\u52a0\u3010row\u3011\uff0c\u6bcf\u4e2a\u3010row\u3011\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u3010panel\u3011\u9762\u677f\uff0c\u53ef\u4ee5\u901a\u8fc7row\u6765\u5b9e\u73b0\u6298\u53e0\u591a\u4e2a\u9762\u677f\u7684\u6548\u679c\u3002</li> </ul> <ul> <li>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5145\u5206\u4f7f\u7528row\u53ef\u4ee5\u4f7f\u4f60\u7684\u9875\u9762\u66f4\u52a0\u7b80\u6d01   </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/020-grafan%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%88%9B%E5%BB%BA/#_4","title":"\u79fb\u52a8\u9762\u677f","text":"<ul> <li> <p>\u60a8\u53ef\u4ee5\u5728\u4efb\u4f55\u4f4d\u7f6e\u7684\u4eea\u8868\u677f\u4e0a\u653e\u7f6e\u9762\u677f\u3002</p> <ol> <li>\u5355\u51fb\u4e3b\u83dc\u5355\u4e2d\u7684\u4eea\u8868\u677f\u3002</li> <li>\u5bfc\u822a\u5230\u8981\u5904\u7406\u7684\u4eea\u8868\u677f\u3002</li> <li>\u5355\u51fb\u53f3\u4e0a\u89d2\u7684\u201c\u7f16\u8f91\u201d\u3002</li> <li>\u5355\u51fb\u9762\u677f\u6807\u9898\u5e76\u5c06\u9762\u677f\u62d6\u52a8\u5230\u65b0\u4f4d\u7f6e\u3002</li> <li>\u5355\u51fb\u4fdd\u5b58\u4eea\u8868\u677f\u3002</li> <li>\uff08\u53ef\u9009\uff09\u8f93\u5165\u60a8\u6240\u505a\u66f4\u6539\u7684\u63cf\u8ff0\u3002</li> <li>\u5355\u51fb\u201c\u4fdd\u5b58\u201d\u3002</li> <li>\u5355\u51fb\u201c\u9000\u51fa\u7f16\u8f91\u201d\u3002</li> </ol> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/020-grafan%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%88%9B%E5%BB%BA/#_5","title":"\u8c03\u6574\u9762\u677f\u5927\u5c0f","text":"<ul> <li> <p>\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8c03\u6574\u4eea\u8868\u677f\u9762\u677f\u7684\u5927\u5c0f\u3002</p> <ol> <li>\u5355\u51fb\u4e3b\u83dc\u5355\u4e2d\u7684\u4eea\u8868\u677f\u3002</li> <li>\u5bfc\u822a\u5230\u8981\u5904\u7406\u7684\u4eea\u8868\u677f\u3002</li> <li>\u5355\u51fb\u53f3\u4e0a\u89d2\u7684\u201c\u7f16\u8f91\u201d\u3002</li> <li>\u8981\u8c03\u6574\u9762\u677f\u7684\u5927\u5c0f\uff0c\u8bf7\u5355\u51fb\u5e76\u62d6\u52a8\u9762\u677f\u7684\u53f3\u4e0b\u89d2\u3002</li> <li>\u5355\u51fb\u4fdd\u5b58\u4eea\u8868\u677f\u3002</li> <li>\uff08\u53ef\u9009\uff09\u8f93\u5165\u60a8\u6240\u505a\u66f4\u6539\u7684\u63cf\u8ff0\u3002</li> <li>\u5355\u51fb\u201c\u4fdd\u5b58\u201d\u3002</li> <li>\u5355\u51fb\u201c\u9000\u51fa\u7f16\u8f91\u201d\u3002</li> </ol> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/020-grafan%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%88%9B%E5%BB%BA/#_6","title":"\u590d\u5236\u4eea\u8868\u677f","text":"<ul> <li> <p>\u8981\u590d\u5236\u4eea\u8868\u677f\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li> <p>\u5355\u51fb\u4e3b\u83dc\u5355\u4e2d\u7684\u4eea\u8868\u677f\u3002</p> </li> <li> <p>\u6253\u5f00\u8981\u590d\u5236\u7684\u4eea\u8868\u677f\u3002</p> </li> <li> <p>\u5355\u51fb\u53f3\u4e0a\u89d2\u7684\u201c\u7f16\u8f91\u201d\u3002</p> </li> <li> <p>\u5355\u51fb\u201c\u4fdd\u5b58\u4eea\u8868\u677f\u201d\u4e0b\u62c9\u83dc\u5355\uff0c\u7136\u540e\u9009\u62e9\u201c\u53e6\u5b58\u4e3a\u526f\u672c\u201d\u3002</p> </li> <li> <p>\uff08\u53ef\u9009\uff09\u6307\u5b9a\u540d\u79f0\u3001\u6587\u4ef6\u5939\u3001\u63cf\u8ff0\uff0c\u4ee5\u53ca\u662f\u5426\u4e3a\u590d\u5236\u7684\u4eea\u8868\u677f\u590d\u5236\u539f\u59cb\u4eea\u8868\u677f\u6807\u8bb0\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u590d\u5236\u7684\u4eea\u8868\u677f\u4e0e\u539f\u59cb\u4eea\u8868\u677f\u540c\u540d\uff0c\u5e76\u9644\u52a0\u201c\u590d\u5236\u201d\u4e00\u8bcd\uff0c\u4e14\u4f4d\u4e8e\u540c\u4e00\u6587\u4ef6\u5939\u4e2d\u3002</p> </li> <li> <p>\u5355\u51fb\u201c\u4fdd\u5b58\u201d\u3002 </p> </li> </ol> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/030-grafana%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%AF%BC%E5%85%A5/","title":"030 grafana\u4eea\u8868\u76d8\u5bfc\u5165","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/030-grafana%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%AF%BC%E5%85%A5/#_1","title":"\u7b80\u4ecb","text":"<ul> <li>\u5b98\u65b9\u8bf4\u660e\uff1a<ul> <li>https://grafana.com/docs/grafana/latest/dashboards/build-dashboards/import-dashboards/</li> </ul> </li> <li>\u4e00\u4e9b\u5e38\u7528\u7684\u91c7\u96c6\u8f6f\u4ef6\uff08\u4f8b\u5982promethrus\u7684\u5404\u79cdexport\uff09\uff0cgranafa\u5b98\u65b9\u901a\u5e38\u5df2\u7ecf\u6709\u5927\u4f6c\u505a\u4e00\u4e9b\u5bf9\u5e94\u7684\u4eea\u8868\u76d8\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u4e0d\u7528\u81ea\u5df1\u4ece\u5934\u5f00\u59cb\u8f9b\u82e6\u505a\u4e00\u4e2a\u65b0\u7684\u4eea\u8868\u76d8</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/030-grafana%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%AF%BC%E5%85%A5/#_2","title":"\u5bfc\u5165\u4eea\u8868\u76d8","text":"<ul> <li> <p>\u8981\u5bfc\u5165\u4eea\u8868\u677f\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li> <p>\u5355\u51fb\u4e3b\u83dc\u5355\u4e2d\u7684\u4eea\u8868\u677f\u3002</p> </li> <li> <p>\u5355\u51fb\u65b0\u5efa\uff0c\u7136\u540e\u5728\u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9\u5bfc\u5165\u3002</p> </li> <li> <p>\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\u4e4b\u4e00\uff1a\uff08\u5927\u90e8\u5206\u5176\u5b9e\u8f93\u5165\u4eea\u8868\u76d8\u7684uuid\u5c31\u884c\u4e86\uff09</p> <ul> <li>\u4e0a\u4f20\u4eea\u8868\u677fJSON\u6587\u4ef6\u3002</li> <li>\u5c06Grafana.com\u4eea\u8868\u677fURL\u6216ID\u7c98\u8d34\u5230\u63d0\u4f9b\u7684\u5b57\u6bb5\u4e2d\u3002</li> <li>\u5c06\u4eea\u8868\u677fJSON\u6587\u672c\u76f4\u63a5\u7c98\u8d34\u5230\u6587\u672c\u533a\u57df\u3002</li> </ul> </li> <li> <p>\uff08\u53ef\u9009\uff09\u66f4\u6539\u4eea\u8868\u677f\u540d\u79f0\u3001\u6587\u4ef6\u5939\u6216UID\uff0c\u5e76\u6307\u5b9a\u5ea6\u91cf\u524d\u7f00\uff08\u5982\u679c\u4eea\u8868\u677f\u4f7f\u7528\u4efb\u4f55\u524d\u7f00\uff09\u3002</p> </li> <li> <p>\u5982\u679c\u9700\u8981\uff0c\u8bf7\u9009\u62e9\u6570\u636e\u6e90\u3002</p> </li> <li> <p>\u5355\u51fb\u201c\u5bfc\u5165\u201d\u3002  </p> </li> </ol> </li> </ul> <p>grafana.com\u4e0a\u7684\u4eea\u8868\u677f\u9875\u9762\u4e3a\u60a8\u63d0\u4f9b\u4e86\u5e38\u89c1\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\u7684\u4eea\u8868\u677f\u3002\u6d4f\u89c8\u6211\u4eec\u7684\u5b98\u65b9\u548c\u793e\u533a\u6784\u5efa\u7684\u4eea\u8868\u677f\u5e93\uff0c\u5e76\u5bfc\u5165\u5b83\u4eec\u4ee5\u5feb\u901f\u542f\u52a8\u548c\u8fd0\u884c\u3002</p> <p></p> <p>\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5bfc\u51fa\u81ea\u5df1\u7684\u4eea\u8868\u677f\u4e4b\u4e00\u6765\u6dfb\u52a0\u5230\u6b64\u5e93\u4e2d\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u5171\u4eab\u4eea\u8868\u677f\u548c\u9762\u677f\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/030-grafana%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%AF%BC%E5%85%A5/#grafanacom","title":"\u5728grafana.com\u4e0a\u53d1\u73b0\u4eea\u8868\u76d8","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/030-grafana%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%AF%BC%E5%85%A5/#_3","title":"\u66f4\u591a\u793a\u4f8b","text":"<p>Grafana Cloud\u5806\u6808\u5728dashboards\u4e2d\u7684Grafana Cloud\u6587\u4ef6\u5939\u4e2d\u9644\u5e26\u4e86\u51e0\u4e2a\u9ed8\u8ba4\u4eea\u8868\u677f\u3002\u5982\u679c\u60a8\u6b63\u5728\u8fd0\u884c\u81ea\u5df1\u7684Grafana\u5b89\u88c5\uff0c\u60a8\u53ef\u4ee5\u5728\u00a0<code>public/dashboards/</code>\u00a0\u76ee\u5f55\u4e2d\u627e\u5230\u66f4\u591a\u793a\u4f8b\u4eea\u8868\u677f\u3002 - https://grafana.com/docs/grafana/latest/dashboards/build-dashboards/import-dashboards/#more-examples</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/040-grafana%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE/","title":"040 grafana\u53d8\u91cf\u8bbe\u7f6e","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/040-grafana%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE/#grafana","title":"grafana\u53d8\u91cf\u7b80\u8ff0","text":"<ul> <li> <p>\u5b98\u65b9\u8bf4\u660e\uff1a</p> <ul> <li>https://grafana.com/docs/grafana/latest/dashboards/variables/add-template-variables/</li> </ul> </li> <li> <p>\u53d8\u91cf\u662f\u503c\u7684\u5360\u4f4d\u7b26\u3002\u60a8\u53ef\u4ee5\u5728\u5ea6\u91cf\u67e5\u8be2\u548c\u9762\u677f\u6807\u9898\u4e2d\u4f7f\u7528\u53d8\u91cf\u3002\u56e0\u6b64\uff0c\u5f53\u60a8\u4f7f\u7528\u4eea\u8868\u677f\u9876\u90e8\u7684\u4e0b\u62c9\u83dc\u5355\u66f4\u6539\u503c\u65f6\uff0c\u9762\u677f\u7684\u6307\u6807\u67e5\u8be2\u5c06\u66f4\u6539\u4ee5\u53cd\u6620\u65b0\u503c\u3002</p> </li> <li>\u53d8\u91cf\u5141\u8bb8\u60a8\u521b\u5efa\u66f4\u5177\u4ea4\u4e92\u6027\u548c\u52a8\u6001\u6027\u7684\u4eea\u8868\u677f\u3002\u60a8\u53ef\u4ee5\u5728\u5ea6\u91cf\u67e5\u8be2\u4e2d\u4f7f\u7528\u53d8\u91cf\u4ee3\u66ff\u670d\u52a1\u5668\u3001\u5e94\u7528\u7a0b\u5e8f\u548c\u4f20\u611f\u5668\u540d\u79f0\u7b49\u786c\u7f16\u7801\u3002\u53d8\u91cf\u663e\u793a\u4e3a\u4eea\u8868\u677f\u9876\u90e8\u7684\u4e0b\u62c9\u5217\u8868\u3002\u8fd9\u4e9b\u4e0b\u62c9\u83dc\u5355\u4f7f\u66f4\u6539\u4eea\u8868\u677f\u4e2d\u663e\u793a\u7684\u6570\u636e\u53d8\u5f97\u5bb9\u6613\u3002 </li> <li>\u6a21\u677f\u662f\u5305\u542b\u53d8\u91cf\u7684\u4efb\u4f55\u67e5\u8be2\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u7ba1\u7406\u4e00\u4e2a\u4eea\u8868\u677f\u6765\u76d1\u63a7\u591a\u53f0\u670d\u52a1\u5668\uff0c\u60a8\u53ef\u4ee5\u4e3a\u6bcf\u53f0\u670d\u52a1\u5668\u5236\u4f5c\u4e00\u4e2a\u4eea\u8868\u76d8\u3002\u6216\u8005\uff0c\u60a8\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u4eea\u8868\u677f\uff0c\u5e76\u4f7f\u7528\u5e26\u6709\u6a21\u677f\u67e5\u8be2\u7684\u9762\u677f\uff0c\u5982\u4e0b\u6240\u793a\uff1a</li> </ul> <pre><code>wmi_system_threads{instance=~\"$server\"}\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/040-grafana%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE/#grafana_1","title":"grafana\u53d8\u91cf\u521b\u5efa","text":"<ul> <li>\u70b9\u51fb\u7f16\u8f91\u3002\u7136\u540e\u8fdb\u5165\u8bbe\u7f6e</li> </ul> <ul> <li> <p>\u6dfb\u52a0\u53d8\u91cf </p> </li> <li> <p>\u53d8\u91cf\u8bbe\u7f6e </p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/040-grafana%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE/#grafan","title":"grafan\u53d8\u91cf\u8be6\u7ec6\u8bf4\u660e","text":"<ul> <li>\u53d8\u91cf\u7c7b\u578b</li> </ul> Variable type\u00a0\u00a0\u53d8\u91cf\u7c7b\u578b Description\u00a0\u00a0\u8bf4\u660e Query\u00a0\u00a0\u67e5\u8be2 Query-generated list of values such as metric names, server names, sensor IDs, data centers, and so on.\u00a0Add a query variable.  \u67e5\u8be2\u751f\u6210\u7684\u503c\u5217\u8868\uff0c\u5982\u5ea6\u91cf\u540d\u79f0\u3001\u670d\u52a1\u5668\u540d\u79f0\u3001\u4f20\u611f\u5668ID\u3001\u6570\u636e\u4e2d\u5fc3\u7b49\u3002\u6dfb\u52a0\u67e5\u8be2\u53d8\u91cf\u3002 Custom\u00a0\u00a0\u81ea\u5b9a\u4e49 Define the variable options manually using a comma-separated list.\u00a0Add a custom variable.  \u4f7f\u7528\u9017\u53f7\u5206\u9694\u7684\u5217\u8868\u624b\u52a8\u5b9a\u4e49\u53d8\u91cf\u9009\u9879\u3002\u6dfb\u52a0\u81ea\u5b9a\u4e49\u53d8\u91cf\u3002 Text box\u00a0\u00a0\u6587\u672c\u6846 Display a free text input field with an optional default value.\u00a0Add a text box variable.  \u663e\u793a\u5177\u6709\u53ef\u9009\u9ed8\u8ba4\u503c\u7684\u81ea\u7531\u6587\u672c\u8f93\u5165\u5b57\u6bb5\u3002\u6dfb\u52a0\u6587\u672c\u6846\u53d8\u91cf\u3002 Constant\u00a0\u00a0\u5e38\u6570 Define a hidden constant.\u00a0Add a constant variable.  \u5b9a\u4e49\u4e00\u4e2a\u9690\u85cf\u5e38\u6570\u3002\u6dfb\u52a0\u4e00\u4e2a\u5e38\u91cf\u53d8\u91cf\u3002 Data source\u00a0\u00a0\u6570\u636e\u6765\u6e90 Quickly change the data source for an entire dashboard.\u00a0Add a data source variable.  \u5feb\u901f\u66f4\u6539\u6574\u4e2a\u4eea\u8868\u677f\u7684\u6570\u636e\u6e90\u3002\u6dfb\u52a0\u6570\u636e\u6e90\u53d8\u91cf\u3002 Interval\u00a0\u00a0\u65f6\u95f4\u95f4\u9694 Interval variables represent time spans.\u00a0Add an interval variable.  \u533a\u95f4\u53d8\u91cf\u8868\u793a\u65f6\u95f4\u8de8\u5ea6\u3002\u6dfb\u52a0\u4e00\u4e2a\u533a\u95f4\u53d8\u91cf\u3002 Ad hoc filters\u00a0\u00a0\u7279\u6b8a\u8fc7\u6ee4\u5668 Key/value filters that are automatically added to all metric queries for a data source (Prometheus, Loki, InfluxDB, and Elasticsearch only).\u00a0Add ad hoc filters.  \u81ea\u52a8\u6dfb\u52a0\u5230\u6570\u636e\u6e90\u7684\u6240\u6709\u5ea6\u91cf\u67e5\u8be2\u4e2d\u7684\u952e/\u503c\u8fc7\u6ee4\u5668\uff08\u4ec5\u9650Prometheus\u3001Loki\u3001InfluxDB\u548cElasticsearch\uff09\u3002\u6dfb\u52a0\u4e34\u65f6\u8fc7\u6ee4\u5668\u3002 Global variables\u00a0\u00a0\u5168\u5c40\u53d8\u91cf Built-in variables that can be used in expressions in the query editor. Refer to\u00a0Global variables.  \u53ef\u5728\u67e5\u8be2\u7f16\u8f91\u5668\u4e2d\u7684\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528\u7684\u5185\u7f6e\u53d8\u91cf\u3002\u8bf7\u53c2\u9605\u5168\u5c40\u53d8\u91cf\u3002 Chained variables\u00a0\u00a0\u94fe\u5f0f\u53d8\u91cf Variable queries can contain other variables. Refer to\u00a0Chained variables.  \u53d8\u91cf\u67e5\u8be2\u53ef\u4ee5\u5305\u542b\u5176\u4ed6\u53d8\u91cf\u3002\u8bf7\u53c2\u9605\u94fe\u5f0f\u53d8\u91cf\u3002"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/040-grafana%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE/#grafan_1","title":"grafan\u53d8\u91cf\u4e3e\u4f8b","text":"<ul> <li>\u6bd4\u8f83\u5e38\u7528\u7684\u662fQuery \u8fd9\u79cd\u7c7b\u578b\u7684\uff0c\u53ef\u4ee5\u4ece\u5176\u4ed6\u7684\u6570\u636e\u6e90\u4e2d\u901a\u8fc7SQL\u8fdb\u884c\u8fc7\u6ee4</li> <li>\u4f8b\u5982\u6211\u8fd9\u8fb9\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\uff1a$testvar</li> <li> </li> <li> <p>\u4ece\u6570\u636e\u6e90\u4e2d\u7684metric\u67e5\u8be2\u53d8\u91cf\u7684\u503c</p> </li> </ul> <p></p> <ul> <li> <p>\u6700\u7ec8\u7684\u6548\u679c </p> </li> <li> <p>\u5728\u9762\u677f\u4e2d\u5f15\u7528\u8fd9\u4e2a\u53d8\u91cf \uff0c\u4f7f\u7528$testvar \u8fdb\u884c\u83b7\u53d6 </p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/050-grafan%E9%9D%A2%E6%9D%BF%E8%AE%BE%E7%BD%AE/","title":"050 grafan\u9762\u677f\u8bbe\u7f6e","text":"<ul> <li>\u5b98\u65b9\u8bf4\u660e\uff1a<ul> <li>https://grafana.com/docs/grafana/latest/dashboards/variables/add-template-variables/</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/050-grafan%E9%9D%A2%E6%9D%BF%E8%AE%BE%E7%BD%AE/#grafan","title":"grafan\u9762\u677f\u7b80\u4ecb","text":"<ul> <li>\u9762\u677f\u7684\u8bbe\u7f6e\u53ef\u4ee5\u8bf4\u662fgrafana\u6700\u6838\u5fc3\u7684\u90e8\u5206\uff0c\u4f60\u53ef\u4ee5\u5728\u9762\u677f\u8bbe\u7f6e\u9875\u9762\u901a\u8fc7\u67e5\u8be2SQL\u8bed\u6cd5\u8fdb\u884c\u8fc7\u6ee4\u3001\u805a\u5408\u6700\u7ec8\u5c55\u793a\u6210\u4f60\u559c\u6b22\u7684\u9875\u9762\u3002</li> <li>\u6700\u5e38\u7528\u7684\u4e00\u822c\u662fTime series\u7c7b\u578b\u7684\u9762\u677f\uff0c\u6a2a\u5750\u6807\u56fa\u5b9a\u4e3a\u65f6\u95f4\uff0c\u7eb5\u5750\u6807\u4e3a\u5bf9\u5e94\u70b9\u4f4d\u7684\u503c\u3002\u5982\u679c\u5305\u542b\u591a\u4e2alabel\u5373\u4f1a\u5c55\u793a\u6210\u591a\u6761\u6570\u636e\u7ebf\u3002</li> <li>\u53f3\u4fa7\u662f\u9762\u677f\u7684\u4e00\u4e9b\u9762\u677f\u7684\u914d\u7f6e\u9009\u9879\uff0c\u5982\u6807\u9898\u8bbe\u7f6e\u3001\u5355\u4f4d\u8bbe\u7f6e\u3001\u989c\u8272\u8bbe\u7f6e\u7b49\uff0c\u4e0b\u65b9\u7684Queries\u5373\u53ef\u8f93\u5165\u4f60\u5bf9\u5e94\u67e5\u8be2\u8bed\u53e5\u3002 </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/050-grafan%E9%9D%A2%E6%9D%BF%E8%AE%BE%E7%BD%AE/#grafana","title":"grafana\u914d\u7f6e\u9009\u9879","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/050-grafan%E9%9D%A2%E6%9D%BF%E8%AE%BE%E7%BD%AE/#panel-options","title":"Panel options \uff08\u9762\u677f\u9009\u9879\uff09","text":"<ul> <li>\u53c2\u8003\uff1a https://grafana.com/docs/grafana/latest/panels-visualizations/configure-panel-options/</li> <li>\u8bf4\u660e\uff1a<ul> <li>Title\uff1a\u8bbe\u7f6e\u9762\u677f\u7684\u7684\u6807\u9898\uff0c\u53ef\u4ee5\u5728\u9762\u677f\u4e2d\u4f7f\u7528<code>$</code>\u5f15\u7528\u53d8\u91cf\uff0c\u4f8b\u5982 \u3010CPU\u7528\u91cf-$hostname\u3011</li> <li>Description: \u9762\u677f\u7684\u63cf\u8ff0\u6216\u4e8b\u8bf4\u660e\uff0c\u6700\u597d\u8981\u8bbe\u7f6e\uff0c\u8ba9\u5176\u4ed6\u4eba\u77e5\u9053\u4f60\u8fd9\u4e2a\u9762\u677f\u4f7f\u7528\u7684\u6307\u6807\u7684\u542b\u4e49</li> <li>Transparent background\uff1a\u662f\u5426\u8981\u8bbe\u7f6e\u80cc\u666f\u900f\u660e</li> <li>Panel links\uff1a\u8bbe\u7f6e\u4f60\u9762\u5305\u8981\u5173\u8054\u7684URL\u5730\u5740</li> <li>Repeat options\uff1a<ul> <li>\u8fd9\u4e2a\u662f\u6bd4\u8f83\u9ad8\u7ea7\u7684\u7528\u6cd5\uff0c\u4f8b\u5982\u4f60\u6709\u4e2a\u53d8\u91cfendpoint\u5305\u542b\u503c[server1, server2, server3]\uff0c\u5f00\u542fRepeat options\uff0c\u5e76\u4e14\u8bbe\u7f6e\u3010Repeat by variable\u3011\u7684\u503c\u4e3a\u8fd9\u4e2aendpoint\u53d8\u91cf\u5219\u4f1a\u751f\u6210\u4e09\u4e2a\u9762\u677f\u3002</li> </ul> </li> </ul> </li> <li></li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/050-grafan%E9%9D%A2%E6%9D%BF%E8%AE%BE%E7%BD%AE/#configure-tooltips","title":"Configure tooltips \uff08\u914d\u7f6e\u5de5\u5177\u63d0\u793a\uff09","text":"<ul> <li>\u53c2\u8003\uff1a https://grafana.com/docs/grafana/latest/panels-visualizations/configure-tooltips/</li> <li>\u8bf4\u660e\uff1a\u5f53\u5c06\u5149\u6807\u60ac\u505c\u5728\u53ef\u89c6\u5316\u56fe\u8868\u4e0a\u65f6\uff0cGrafana\u53ef\u4ee5\u663e\u793a\u5de5\u5177\u63d0\u793a\u3002\u9009\u62e9\u5de5\u5177\u63d0\u793a\u7684\u884c\u4e3a\u65b9\u5f0f\u3002<ul> <li>Single -\u00a0\u5355\u4e00-\u60ac\u505c\u5de5\u5177\u63d0\u793a\u4ec5\u663e\u793a\u4e00\u4e2a\u7cfb\u5217\uff0c\u5373\u60a8\u5728\u53ef\u89c6\u5316\u4e0a\u60ac\u505c\u7684\u90a3\u4e2a\u7cfb\u5217\u3002</li> <li>All -\u00a0 \u5168\u90e8-\u60ac\u505c\u5de5\u5177\u63d0\u793a\u663e\u793a\u53ef\u89c6\u5316\u4e2d\u7684\u6240\u6709\u7cfb\u5217\u3002Grafana\u5728\u5de5\u5177\u63d0\u793a\u7684\u7cfb\u5217\u5217\u8868\u4e2d\u4ee5\u7c97\u4f53\u7a81\u51fa\u663e\u793a\u60a8\u60ac\u505c\u7684\u7cfb\u5217\u3002</li> <li>Hidden -\u00a0\u9690\u85cf-\u4e0e\u53ef\u89c6\u5316\u4ea4\u4e92\u65f6\u4e0d\u663e\u793a\u5de5\u5177\u63d0\u793a\u3002</li> <li>\u8fd8\u53ef\u4ee5\u8bbe\u7f6e\u3010\u60ac\u6d6e\u8ddd\u79bb\u3011\u3001\u63d0\u793a\u6846\u7684\u5bbd\u5ea6\u7b49\uff0c\u8fd9\u4e9b\u901a\u5e38\u6309\u7167\u9ed8\u8ba4\u5373\u53ef</li> </ul> </li> <li></li> <li>\u4f8b\u5982\u6211\u8fd9\u8fb9\u5c55\u793a\u591a\u4e2a\u6307\u6807\u7684\u503c\uff0c\u5e76\u4e14\u6309\u7167\u503c\u7684\u964d\u5e8f\u6392\u5e8f\uff1a</li> <li></li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/050-grafan%E9%9D%A2%E6%9D%BF%E8%AE%BE%E7%BD%AE/#legend","title":"Legend \uff08\u56fe\u4f8b\uff09","text":"<ul> <li>\u53c2\u8003\uff1a https://grafana.com/docs/grafana/latest/panels-visualizations/configure-legend/</li> <li>\u4ecb\u7ecd\uff1a<ul> <li>\u5728 Grafana \u7684\u56fe\u8868\u9762\u677f\u4e2d\uff0cLegend\uff08\u56fe\u4f8b\uff09\u914d\u7f6e\u662f\u7528\u6765\u63a7\u5236\u56fe\u8868\u4e0b\u65b9\u663e\u793a\u7684\u7cfb\u5217\uff08Series\uff09\u540d\u79f0\u3001\u7edf\u8ba1\u503c\uff08\u5982 avg\u3001min\u3001max \u7b49\uff09\u548c\u6837\u5f0f\u7684\u91cd\u8981\u8bbe\u7f6e\u3002</li> <li>\u56fe\u8868\u4e0b\u65b9\u6216\u53f3\u4fa7\u663e\u793a\u7684\u6570\u636e\u7ebf\u6216\u67f1\u72b6\u56fe\u7b49\u7684\u8bf4\u660e\u6587\u5b57\u3002Legend\u5b83\u544a\u8bc9\u4f60\u6bcf\u6761\u7ebf\u6216\u6bcf\u4e2a\u7cfb\u5217\u4ee3\u8868\u4ec0\u4e48\u6570\u636e\u3002</li> </ul> </li> <li>\u8bf4\u660e\uff1a<ul> <li>Visibility\u00a0\u00a0\u53ef\u89c1\u6027<ul> <li>\u8bbe\u7f6e\u662f\u5426\u663e\u793a\u56fe\u4f8b\u3002\u4f7f\u7528\u5f00\u5173\u6253\u5f00\u6216\u5173\u95ed\u56fe\u4f8b\u3002</li> </ul> </li> <li>Mode\u00a0\u00a0\u6a21\u5f0f<ul> <li>\u8bbe\u7f6e\u663e\u793a\u56fe\u4f8b\u7684\u683c\u5f0f\u3002\u4ece\u4ee5\u4e0b\u9009\u9879\u4e2d\u9009\u62e9\uff1a<ul> <li>List\u00a0\u00a0\u5217\u8868</li> <li>Table\u00a0\u00a0\u8868\u683c</li> </ul> </li> <li>\u5f53\u60a8\u5c06\u56fe\u4f8b\u683c\u5f0f\u5316\u4e3a\u8868\u683c\u65f6\uff0c\u4e5f\u53ef\u80fd\u663e\u793a\u6709\u5173\u56fe\u4f8b\u7684\u5176\u4ed6\u4fe1\u606f\uff0c\u4f8b\u5982\u5173\u8054\u503c\u6216\u56fe\u4f8b\u5728\u53ef\u89c6\u5316\u4e2d\u7684\u4f4d\u7f6e\u3002</li> </ul> </li> <li>Placement\u00a0\u00a0\u5b89\u7f6e<ul> <li>\u8bbe\u7f6e\u56fe\u4f8b\u5728\u53ef\u89c6\u5316\u4e2d\u7684\u663e\u793a\u4f4d\u7f6e\u3002\u4ece\u4ee5\u4e0b\u9009\u9879\u4e2d\u9009\u62e9\uff1a<ul> <li>Bottom\u00a0\u00a0\u5e95\u90e8</li> <li>Right\u00a0\u00a0\u6b63\u786e\u7684</li> </ul> </li> </ul> </li> <li>Width\u00a0\u00a0\u5bbd\u5ea6<ul> <li>\u5982\u679c\u5c06\u56fe\u4f8b\u653e\u7f6e\u8bbe\u7f6e\u4e3a\u201c\u53f3\u201d\uff0c\u5219\u201c\u5bbd\u5ea6\u201d\u9009\u9879\u5c06\u53ef\u7528\u3002\u5c06\u8be5\u5b57\u6bb5\u7559\u7a7a\uff0c\u4ee5\u4fbfGrafana\u81ea\u52a8\u8bbe\u7f6e\u56fe\u4f8b\u5bbd\u5ea6\u6216\u5728\u5b57\u6bb5\u4e2d\u8f93\u5165\u503c\u3002</li> </ul> </li> <li>Values\u00a0\u00a0\u503c<ul> <li>\u901a\u8fc7\u5411\u56fe\u4f8b\u6dfb\u52a0\u7cfb\u5217\u6570\u636e\u503c\u6216\u8ba1\u7b97\uff0c\u53ef\u4ee5\u5411\u53ef\u89c6\u5316\u6dfb\u52a0\u66f4\u591a\u4e0a\u4e0b\u6587\u3002\u60a8\u53ef\u4ee5\u6dfb\u52a0\u4efb\u610f\u6570\u91cf\u7684\u503c\u3002\u5e94\u7528\u66f4\u6539\u540e\uff0c\u60a8\u53ef\u4ee5\u6eda\u52a8\u56fe\u4f8b\u4ee5\u67e5\u770b\u6240\u6709\u503c\u3002</li> </ul> </li> </ul> </li> <li> </li> <li> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff1a\uff08tips\uff1a\u8fd9\u91cc\u70b9\u51fb\u67d0\u4e2a\u6307\u6807\u5982Max\uff0c\u53ef\u4ee5\u5bf9\u8fd9\u5217\u7684\u6570\u636e\u8fdb\u884c\u201c\u964d\u5e8f/\u5347\u5e8f\u201d\u6392\u5e8f\uff09</p> </li> <li></li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/050-grafan%E9%9D%A2%E6%9D%BF%E8%AE%BE%E7%BD%AE/#standard-options","title":"Standard options \uff08\u6807\u51c6\u9009\u9879\uff09","text":"<ul> <li>\u53c2\u8003 https://grafana.com/docs/grafana/latest/panels-visualizations/configure-standard-options/</li> <li>\u8bf4\u660e<ul> <li>Unit\u00a0\u00a0\u5355\u4f4d<ul> <li>\u6b64\u9009\u9879\u5141\u8bb8\u60a8\u9009\u62e9\u5b57\u6bb5\u5e94\u4f7f\u7528\u7684\u5355\u4f4d\u3002\u5355\u51fb\u201c\u5355\u4f4d\u201d\u5b57\u6bb5\uff0c\u7136\u540e\u5411\u4e0b\u641c\u7d22\uff0c\u76f4\u5230\u627e\u5230\u6240\u9700\u7684\u5355\u4f4d\u3002\u60a8\u9009\u62e9\u7684\u5355\u4f4d\u5c06\u5e94\u7528\u4e8e\u9664\u65f6\u95f4\u5916\u7684\u6240\u6709\u5b57\u6bb5\u3002</li> </ul> </li> <li>Min\u00a0\u00a0\u6700\u5c0f\u503c<ul> <li>\u8bbe\u7f6e\u767e\u5206\u6bd4\u9608\u503c\u8ba1\u7b97\u4e2d\u4f7f\u7528\u7684\u6700\u5c0f\u503c\u3002\u5c06\u6b64\u5b57\u6bb5\u7559\u7a7a\u4ee5\u81ea\u52a8\u8ba1\u7b97\u6700\u5c0f\u503c\u3002</li> </ul> </li> <li>Max \u6700\u5927\u503c<ul> <li>\u8bbe\u7f6e\u767e\u5206\u6bd4\u9608\u503c\u8ba1\u7b97\u4e2d\u4f7f\u7528\u7684\u6700\u5927\u503c\u3002\u5c06\u6b64\u5b57\u6bb5\u7559\u7a7a\u4ee5\u81ea\u52a8\u8ba1\u7b97\u6700\u5927\u503c\u3002</li> </ul> </li> <li>Field min/max\u00a0\u00a0\u5b57\u6bb5\u6700\u5c0f\u503c/\u6700\u5927\u503c<ul> <li>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8ba1\u7b97\u7684\u201c\u6700\u5c0f\u503c\u201d\u548c\u201c\u6700\u5927\u503c\u201d\u57fa\u4e8e\u6240\u6709\u7cfb\u5217\u548c\u5b57\u6bb5\u7684\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u3002\u5f53\u60a8\u542f\u7528\u5b57\u6bb5\u6700\u5c0f\u503c/\u6700\u5927\u503c\u65f6\uff0cGrafana\u4f1a\u6839\u636e\u5b57\u6bb5\u7684\u6700\u5c0f\u503c\u6216\u6700\u5927\u503c\u5355\u72ec\u8ba1\u7b97\u6bcf\u4e2a\u5b57\u6bb5\u7684\u6700\u5c0f\u6216\u6700\u5927\u503c\u3002</li> </ul> </li> <li>Decimals \u5c0f\u6570<ul> <li>\u6307\u5b9aGrafana\u5728\u6e32\u67d3\u503c\u4e2d\u9700\u8981\u4fdd\u7559\u7684\u5c0f\u6570\u4f4d\u6570\u3002\u5982\u679c\u5c06\u6b64\u5b57\u6bb5\u7559\u7a7a\uff0cGrafana\u4f1a\u6839\u636e\u503c\u81ea\u52a8\u622a\u65ad\u5c0f\u6570\u4f4d\u6570\u3002\u4f8b\u5982\uff0c1.1234\u663e\u793a\u4e3a1.12\uff0c100.456\u663e\u793a\u4e3a100\u3002</li> <li>\u8981\u663e\u793a\u6240\u6709\u5c0f\u6570\uff0c\u8bf7\u5c06\u5355\u4f4d\u8bbe\u7f6e\u4e3a\u5b57\u7b26\u4e32\u3002</li> </ul> </li> <li>Display name\u00a0\u00a0\u663e\u793a\u540d\u79f0<ul> <li>\u8bbe\u7f6e\u6240\u6709\u5b57\u6bb5\u7684\u663e\u793a\u6807\u9898\u3002\u60a8\u53ef\u4ee5\u5728\u5b57\u6bb5\u6807\u9898\u4e2d\u4f7f\u7528\u53d8\u91cf\u3002</li> <li>\u5f53\u663e\u793a\u591a\u4e2a\u7edf\u8ba1\u6570\u636e\u3001\u5b57\u6bb5\u6216\u7cfb\u5217\u65f6\uff0c\u6b64\u5b57\u6bb5\u63a7\u5236\u6bcf\u4e2a\u7edf\u8ba1\u6570\u636e\u4e2d\u7684\u6807\u9898\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u00a0<code>${__field.name}</code>\u00a0\u7b49\u8868\u8fbe\u5f0f\u5728\u6807\u9898\u4e2d\u4ec5\u4f7f\u7528\u7cfb\u5217\u540d\u79f0\u6216\u5b57\u6bb5\u540d\u79f0\u3002</li> <li>\u793a\u4f8b 1\uff1aPrometheus \u67e5\u8be2<ul> <li>\u5047\u8bbe\u67e5\u8be2\u662f\uff1a<code>rate(node_cpu_seconds_total{mode!=\"idle\"}[5m])</code></li> <li>Prometheus \u4f1a\u8fd4\u56de\u6bcf\u4e2a <code>instance</code> \u548c <code>mode</code> \u7684\u5e8f\u5217\u3002\u4f60\u53ef\u4ee5\u5728 Display name \u4e2d\u8bbe\u7f6e\uff1a<code>{{instance}} - {{mode}}</code></li> <li>\u663e\u793a\u6548\u679c\u5c31\u53d8\u6210\u4e86\uff1a</li> <li>192.168.0.1:9100 - user</li> <li>192.168.0.1:9100 - system</li> </ul> </li> </ul> </li> </ul> </li> <li></li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/050-grafan%E9%9D%A2%E6%9D%BF%E8%AE%BE%E7%BD%AE/#configure-value-mappings","title":"Configure value mappings\u00a0\u00a0(\u914d\u7f6e\u503c\u6620\u5c04)","text":"<ul> <li>\u53c2\u8003\uff1ahttps://grafana.com/docs/grafana/latest/panels-visualizations/configure-value-mappings/#configure-value-mappings</li> <li>\u4ecb\u7ecd<ul> <li>\u503c\u6620\u5c04\u7ed5\u8fc7\u9762\u677f\u7f16\u8f91\u5668\u201c\u6807\u51c6\u9009\u9879\u201d\u90e8\u5206\u4e2d\u8bbe\u7f6e\u7684\u5355\u4f4d\u683c\u5f0f\uff0c\u5982\u663e\u793a\u7684\u989c\u8272\u6216\u5c0f\u6570\u4f4d\u6570\u3002\u5f53\u9762\u677f\u4e2d\u5b58\u5728\u503c\u6620\u5c04\u65f6\uff0cGrafana \u4f1a\u5728\u7f16\u8f91\u5668\u9762\u677f\u7684\u503c\u6620\u5c04\u90e8\u5206\u663e\u793a\u5b83\u4eec\u7684\u6458\u8981\u3002</li> <li></li> <li></li> </ul> </li> <li>\u8bf4\u660e\uff1a<ul> <li>Value\uff1a<ul> <li>\u503c\u6620\u5c04\u5c06\u7279\u5b9a\u503c\u6620\u5c04\u5230\u6587\u672c\u548c\u989c\u8272\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u914d\u7f6e\u6620\u5c04\uff0c\u4f7f\u503c\u00a0<code>10</code>\u00a0\u7684\u6240\u6709\u5b9e\u4f8b\u90fd\u663e\u793a\u4e3a Perfection\uff01\u800c\u4e0d\u662f\u6570\u5b57\u3002\u5f53\u60a8\u60f3\u683c\u5f0f\u5316\u5355\u4e2a\u503c\u65f6\uff0c\u8bf7\u4f7f\u7528\u503c\u6620\u5c04\u3002</li> <li></li> </ul> </li> <li>Range\uff1a<ul> <li>\u8303\u56f4\u6620\u5c04\u5c06\u6570\u503c\u8303\u56f4\u6620\u5c04\u5230\u6587\u672c\u548c\u989c\u8272\u3002\u4f8b\u5982\uff0c\u5982\u679c\u67d0\u4e2a\u503c\u5728\u67d0\u4e2a\u8303\u56f4\u5185\uff0c\u5219\u53ef\u4ee5\u914d\u7f6e\u8303\u56f4\u503c\u6620\u5c04\u4ee5\u663e\u793a\u4f4e\u6216\u9ad8\uff0c\u800c\u4e0d\u662f\u6570\u5b57\u3002\u5f53\u60a8\u60f3\u683c\u5f0f\u5316\u591a\u4e2a\u8fde\u7eed\u503c\u65f6\uff0c\u8bf7\u4f7f\u7528\u8303\u56f4\u6620\u5c04\u3002</li> <li></li> </ul> </li> <li>Regex\uff1a<ul> <li>\u6b63\u5219\u8868\u8fbe\u5f0f\u6620\u5c04\u5c06\u6b63\u5219\u8868\u8fbe\u5f0f\u6620\u5c04\u5230\u6587\u672c\u548c\u989c\u8272\u3002\u4f8b\u5982\uff0c\u5982\u679c\u503c\u4e3a\u00a0<code>www.example.com</code>\u00a0\uff0c\u5219\u53ef\u4ee5\u914d\u7f6e\u6b63\u5219\u8868\u8fbe\u5f0f\u503c\u6620\u5c04\uff0c\u4ee5\u4fbf Grafana \u663e\u793a www \u5e76\u622a\u65ad\u57df\u3002\u5f53\u60a8\u60f3\u683c\u5f0f\u5316\u6b63\u5219\u8868\u8fbe\u5f0f\u503c\u7684\u6587\u672c\u548c\u989c\u8272\u65f6\uff0c\u8bf7\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u6620\u5c04\u3002</li> <li></li> </ul> </li> <li>Special\uff1a<ul> <li>\u7279\u6b8a\u6620\u5c04\u5c06\u7279\u6b8a\u503c\uff08\u5982\u00a0<code>Null</code>\u00a0\u3001\u00a0<code>NaN</code>\u00a0\uff08\u4e0d\u662f\u6570\u5b57\uff09\uff09\u548c\u5e03\u5c14\u503c\uff08\u5982\u00a0<code>true</code>\u00a0\u548c\u00a0<code>false</code>\u00a0\uff09\u6620\u5c04\u5230\u6587\u672c\u548c\u989c\u8272\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u914d\u7f6e\u4e00\u4e2a\u7279\u6b8a\u7684\u503c\u6620\u5c04\uff0c\u4f7f\u00a0<code>null</code>\u00a0\u503c\u663e\u793a\u4e3a N/a\u3002\u5f53\u60a8\u60f3\u683c\u5f0f\u5316\u4e0d\u5e38\u89c1\u3001\u5e03\u5c14\u503c\u6216\u7a7a\u503c\u65f6\uff0c\u8bf7\u4f7f\u7528\u7279\u6b8a\u6620\u5c04\u3002</li> <li></li> </ul> </li> </ul> </li> <li></li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/050-grafan%E9%9D%A2%E6%9D%BF%E8%AE%BE%E7%BD%AE/#configure-thresholds","title":"Configure thresholds\u00a0\u00a0\u914d\u7f6e\u9608\u503c","text":"<ul> <li>\u53c2\u8003\uff1a[https://grafana.com/docs/grafana/latest/panels-visualizations/configure-thresholds/#configure-thresholds](https://grafana.com/docs/grafana/latest/panels-visualizations/configure-thresholds/#configure-thresholds</li> <li>\u4ecb\u7ecd\uff1a<ul> <li>\u5728\u4eea\u8868\u677f\u4e2d\uff0c\u9608\u503c\u662f\u60a8\u4e3a\u6307\u6807\u8bbe\u7f6e\u7684\u503c\u6216\u9650\u5236\uff0c\u5f53\u8fbe\u5230\u6216\u8d85\u8fc7\u8be5\u503c\u6216\u9650\u5236\u65f6\uff0c\u4f1a\u76f4\u89c2\u5730\u53cd\u6620\u51fa\u6765\u3002\u9608\u503c\u662f\u4e00\u79cd\u53ef\u4ee5\u6839\u636e\u67e5\u8be2\u7ed3\u679c\u6709\u6761\u4ef6\u5730\u8bbe\u7f6e\u53ef\u89c6\u5316\u6837\u5f0f\u548c\u989c\u8272\u7684\u65b9\u6cd5\u3002</li> </ul> </li> <li>\u8bf4\u660e<ul> <li>threshold value  \u9608\u503c<ul> <li>\u8fd9\u4e2a\u6570\u5b57\u662f\u89e6\u53d1\u9608\u503c\u7684\u503c\u3002\u53ef\u4ee5\u5728\u6b64\u5b57\u6bb5\u4e2d\u8bbe\u7f6e\u4e0e\u9608\u503c\u5173\u8054\u7684\u989c\u8272\u3002</li> <li>Base \u503c\u8868\u793a\u8d1f\u65e0\u7a77\u5927\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u88ab\u8bbe\u7f6e\u4e3a\u7eff\u8272\uff0c\u8fd9\u901a\u5e38\u662f\u201c\u597d\u201d\u7684\u989c\u8272\u3002</li> </ul> </li> <li>thresholds mode  \u9608\u503c\u6a21\u5f0f<ul> <li>Absolute\uff1a<ul> <li>\u7edd\u5bf9\u9608\u503c\u7531\u4e00\u4e2a\u6570\u5b57\u5b9a\u4e49\u3002\u4f8b\u5982\uff0c\u5728 1 \u5230 150 \u7684\u8303\u56f4\u5185\u4e3a 80\u3002</li> </ul> </li> <li>Percentage\uff1a<ul> <li>\u767e\u5206\u6bd4\u9608\u503c\u8868\u793a\u5f53\u524d\u503c\u5728\u6700\u5927\u503c\u4e0e\u6700\u5c0f\u503c\u4e4b\u95f4\u7684\u76f8\u5bf9\u4f4d\u7f6e</li> </ul> </li> </ul> </li> <li>show thresholds  \u663e\u793a\u9608\u503c<ul> <li>As lines  \u4f5c\u4e3a\u5b9e\u7ebf    </li> <li>As lines (dashed)  \u4f5c\u4e3a\u7ebf\u6761\uff08\u865a\u7ebf\uff09</li> <li>As filled regions  \u586b\u5145\u533a\u57df</li> <li>As filled regions and lines \u586b\u5145\u533a\u57df\u548c\u5b9e\u7ebf</li> <li>As filled regions and lines (dashed) \u586b\u5145\u533a\u57df\u548c\u7ebf\u6761\uff08\u865a\u7ebf\uff09</li> </ul> </li> <li></li> <li></li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/grafana/050-grafan%E9%9D%A2%E6%9D%BF%E8%AE%BE%E7%BD%AE/#configure-field-overrides","title":"Configure field overrides \uff08\u914d\u7f6e\u5b57\u6bb5\u8986\u76d6\uff09","text":"<ul> <li>\u53c2\u8003\uff1ahttps://grafana.com/docs/grafana/latest/panels-visualizations/configure-overrides/</li> <li>\u4ecb\u7ecd\uff1a<ul> <li>\u201cConfigure field overrides\u201d\uff08\u914d\u7f6e\u5b57\u6bb5\u8986\u76d6\uff09\u529f\u80fd\u5141\u8bb8\u4f60\u5bf9\u56fe\u8868\u4e2d\u7684\u7279\u5b9a\u5b57\u6bb5\uff08\u4e5f\u5c31\u662f\u6570\u636e\u7cfb\u5217\uff09\u5355\u72ec\u8fdb\u884c\u6837\u5f0f\u6216\u683c\u5f0f\u4e0a\u7684\u81ea\u5b9a\u4e49\u914d\u7f6e\uff0c\u5373\u4fbf\u5176\u4ed6\u5b57\u6bb5\u4f7f\u7528\u7684\u662f\u9ed8\u8ba4\u8bbe\u7f6e\u3002</li> <li>\u4f8b\u5982\uff1a\u56fe\u8868\u4e2d\u6709\u591a\u4e2a\u7f51\u5361\u7684\u5e26\u5bbd\u60c5\u51b5\uff08\u6309\u7167\u7f51\u5361\u533a\u5206\u6570\u636e\uff09\uff0c\u4f60\u60f3\u7ed9\u67d0\u4e2a\u7f51\u5361\u7684\u5c55\u793a\u8fdb\u884c\u5355\u72ec\u7684\u8bbe\u7f6e\u3002</li> </ul> </li> <li>\u8bf4\u660e\uff1a<ul> <li>Add override \u9009\u62e9\u4f60\u8981\u201c\u8986\u76d6\u201d\u7684\u5b57\u6bb5\uff0c\u652f\u6301\u4ee5\u4e0b\u51e0\u79cd\u5339\u914d\u65b9\u5f0f\uff1a<ul> <li>By name\uff1a\u6309\u5b57\u6bb5\u540d\u7cbe\u786e\u5339\u914d</li> <li>By regex\uff1a\u4f7f\u7528\u6b63\u5219\u5339\u914d\u5b57\u6bb5\u540d</li> <li>By field type\uff1a\u6309\u5b57\u6bb5\u7c7b\u578b\uff08number, string, etc.\uff09</li> <li>By ID\uff1a\u6839\u636e\u5b57\u6bb5\u7684\u552f\u4e00 ID \u5339\u914d\uff08\u901a\u5e38\u7528\u4e8e\u66f4\u9ad8\u7ea7\u7684\u7528\u6cd5\uff09</li> </ul> </li> <li>Add override property \u9009\u62e9\u4f60\u8981\u8bbe\u7f6e\u7684\u5177\u4f53\u5c5e\u6027\uff08\u8fd9\u91cc\u6709\u5f88\u591a\uff0c\u53ef\u4ee5\u6839\u636e\u4f60\u7684\u9700\u8981\u8fdb\u884c\u7279\u6b8a\u914d\u7f6e\uff09<ul> <li>Display name  \u8bbe\u7f6e\u8be5\u5b57\u6bb5\u5728\u56fe\u4f8b/\u8868\u683c\u4e2d\u663e\u793a\u7684\u540d\u79f0</li> <li>Unit  \u8bbe\u7f6e\u5b57\u6bb5\u7684\u5355\u4f4d\uff0c\u4f8b\u5982 bytes, bps, ms, %</li> <li>Min / Max \u8bbe\u5b9a\u8be5\u5b57\u6bb5\u7684\u6700\u5c0f/\u6700\u5927\u503c</li> <li>Decimals  \u63a7\u5236\u5c0f\u6570\u70b9\u4f4d\u6570</li> <li>Color scheme / color  \u4e3a\u8be5\u5b57\u6bb5\u8bbe\u5b9a\u989c\u8272</li> <li>Thresholds    \u8bbe\u7f6e\u8b66\u6212\u7ebf\uff08\u914d\u5408\u989c\u8272/\u56fe\u5f62\u9ad8\u4eae\uff09</li> <li>No value  \u6ca1\u6709\u503c\u65f6\u663e\u793a\u4ec0\u4e48</li> <li>Custom    \u9488\u5bf9\u7279\u5b9a\u56fe\u8868\u7c7b\u578b\u7684\u81ea\u5b9a\u4e49\u5c5e\u6027\uff0c\u5982\u201c\u7ebf\u578b\u201d\u3001\u201c\u6298\u70b9\u201d\u3001\u201c\u533a\u57df\u586b\u5145\u201d\u7b49</li> </ul> </li> <li>\u4f8b\u5982\u8fd9\u91cc\u7ed9 Busy User\u8fd9\u4e2a\u7ec4\u7684\u6570\u636e\u8fdb\u884c\u7279\u6b8a\u914d\u7f6e\uff0c\u8ba9\u5176\u7ebf\u7684\u989c\u8272\u53d8\u6210\u7ea2\u8272<ul> <li></li> </ul> </li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/n9e/n9e/n9e%E9%83%A8%E7%BD%B2/","title":"N9e\u90e8\u7f72","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/n9e/n9e/n9e%E9%83%A8%E7%BD%B2/#_1","title":"\u7b80\u4ecb","text":"<ul> <li>\u53c2\u8003\u5b98\u65b9\u6587\u6863\uff1ahttps://n9e.github.io/zh/docs/install/binary/</li> <li>https://flashcat.cloud/docs/content/flashcat-monitor/nightingale-v7/introduction/</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/n9e/n9e/n9e%E9%83%A8%E7%BD%B2/#_2","title":"\u4e0b\u8f7d","text":"<p>\u4ece\u00a0GitHub\u00a0\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\uff0c\u7136\u540e\u4f60\u4f1a\u5f97\u5230\u4e00\u4e2a\u7c7b\u4f3c\u00a0<code>n9e-${version}-linux-amd64.tar.gz</code>\u00a0\u7684\u538b\u7f29\u5305\u3002\u8fd9\u662f X86 CPU \u67b6\u6784\u7684\u53d1\u5e03\u5305\uff0c\u5982\u679c\u4f60\u9700\u8981 ARM \u67b6\u6784\u7684\u5c31\u4e0b\u8f7d\u90a3\u4e2a arm64 \u7684\u5305\uff0c\u6ca1\u6709\u63d0\u4f9b Windows \u7248\u672c\u7684\u53d1\u5e03\u5305\uff0c\u56e0\u4e3a\u591c\u83ba\u76d1\u63a7\u662f\u4e00\u4e2a\u670d\u52a1\u7aef\u9879\u76ee\uff0c\u901a\u5e38\u8fd0\u884c\u5728 Linux \u7cfb\u7edf\u4e0a\u3002</p> <p>\u5982\u679c\u4f60\u60f3\u5728 Windows \u548c Mac \u4e0a\u8fd0\u884c\u591c\u83ba\u4e5f\u662f OK \u7684\uff0c\u53ea\u662f\u9700\u8981\u4f60\u81ea\u884c\u7f16\u8bd1\u4e86\uff0c\u7f16\u8bd1\u4e5f\u6bd4\u8f83\u7b80\u5355\uff0c\u53ef\u4ee5\u53c2\u8003\u9879\u76ee\u4ee3\u7801\u4ed3\u5e93\u4e0b\u7684\u00a0<code>Makefile</code>\u00a0\u6587\u4ef6\u5185\u7684\u903b\u8f91\u3002</p> <p>\u5c06\u4e0b\u8f7d\u7684\u538b\u7f29\u5305\u89e3\u538b\u7f29\u5230\u00a0<code>/opt/n9e</code>\u00a0\u76ee\u5f55\u4e0b\u3002</p> <pre><code>mkdir /opt/n9e &amp;&amp; tar zxvf n9e-${version}-linux-amd64.tar.gz -C /opt/n9e\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/n9e/n9e/n9e%E9%83%A8%E7%BD%B2/#_3","title":"\u5b89\u88c5","text":"<ul> <li>\u63a8\u8350\u4e0b\u8f7d\u538b\u7f29\u5305\u540e\u89e3\u538b\u76f4\u63a5\u901a\u8fc7sysytemd\u8fdb\u884c\u7ba1\u7406</li> </ul> <pre><code>[Unit]\nDescription=Nightingale Monitoring Service\nAfter=network.target\n[Service]\nType=simple\nExecStart=/opt/n9e/n9e\nWorkingDirectory=/opt/n9e\nRestart=always\nRestartSec=5\nStandardOutput=syslog\nStandardError=syslog\nSyslogIdentifier=n9e\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>\u5c06\u4e0a\u8ff0\u5185\u5bb9\u4fdd\u5b58\u4e3a\u00a0<code>/etc/systemd/system/n9e.service</code>\uff0c\u7136\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>## \u8bbe\u7f6e\u591c\u83ba\u8fdb\u7a0b\u5f00\u673a\u81ea\u542f\u52a8\nsudo systemctl enable n9e\n\n## \u542f\u52a8\u591c\u83ba\u8fdb\u7a0b\nsudo systemctl start n9e\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/n9e/n9e/n9e%E9%83%A8%E7%BD%B2/#_4","title":"\u767b\u5f55","text":"<p>\u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee\u00a0http://localhost:17000\u3002\u9ed8\u8ba4\u7528\u6237\u540d\u662f\u00a0<code>root</code>\uff0c\u9ed8\u8ba4\u5bc6\u7801\u662f\u00a0<code>root.2020</code>\u3002</p> <p>\u8bf7\u628a localhost \u66ff\u6362\u6210\u4f60\u7684\u670d\u52a1\u5668 IP \u5730\u5740\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/010-prometheus%E9%83%A8%E7%BD%B2/","title":"010 prometheus\u90e8\u7f72","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/010-prometheus%E9%83%A8%E7%BD%B2/#_1","title":"\u5bb9\u5668\u90e8\u7f72","text":"<ul> <li>\u5c06\u672c\u57309090\u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u76849090</li> </ul> <pre><code>docker run -d -p 9090:9090 -it prom/prometheus\n</code></pre> <ul> <li> <p>\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95eehttp://$ip:9090\u8fdb\u5165IPMI\u754c\u9762</p> </li> <li> <p>\u7ed9prometheus\u914d\u7f6eBasic Auth \u914d\u7f6eBasic Auth\u53ef\u4ee5\u9632\u6b62\u5176\u4ed6\u5916\u90e8\u6076\u610f\u8bf7\u6c42</p> </li> </ul> <pre><code># \u8fdb\u5165\u5bb9\u5668\ndocker exec -it relaxed_fermat sh\n\n# \u4fee\u6539\u5bb9\u5668\u5185\u914d\u7f6e\u6587\u4ef6\n/prometheus $ vi /etc/prometheus/prometheus.yml\n\n#\u9000\u51fa\u5bb9\u5668\u540e\u91cd\u542f\u5bb9\u5668\ndocker restart relaxed_fermat\n\n</code></pre> <ul> <li>/etc/prometheus/prometheus.yml \u4e2dscrape_configs\u52a0\u5165\u4e0b\u5185\u5bb9 \uff08\u548cstatic_configs\u540c\u7ea7\uff09</li> </ul> <pre><code>    basic_auth:\n      username: 'your-username'\n      password: 'your-password'\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/010-prometheus%E9%83%A8%E7%BD%B2/#_2","title":"\u4e8c\u8fdb\u5236\u90e8\u7f72","text":"<ul> <li>\u53c2\u8003\uff1ahttps://flashcat.cloud/docs/content/flashcat-monitor/nightingale-v7/install/prometheus/</li> <li>\u2b07\ufe0f\u9762\u662f\u4e00\u6bb5\u5c0f\u811a\u672c\uff0c\u7528\u4e8e\u5b89\u88c5 Prometheus\uff0c\u4f9b\u53c2\u8003\uff1a</li> </ul> <pre><code>version=2.45.3\nfilename=prometheus-${version}.linux-amd64\nmkdir -p /opt/prometheus\nwget https://github.com/prometheus/prometheus/releases/download/v${version}/${filename}.tar.gz\ntar xf ${filename}.tar.gz\ncp -far ${filename}/*  /opt/prometheus/\n\n# service \ncat &lt;&lt;EOF &gt;/etc/systemd/system/prometheus.service\n[Unit]\nDescription=\"prometheus\"\nDocumentation=https://prometheus.io/\nAfter=network.target\n\n[Service]\nType=simple\n\nExecStart=/opt/prometheus/prometheus --config.file=/opt/prometheus/prometheus.yml --storage.tsdb.path=/opt/prometheus/data --web.enable-lifecycle --web.enable-remote-write-receiver\n\nRestart=on-failure\nSuccessExitStatus=0\nLimitNOFILE=65536\nStandardOutput=syslog\nStandardError=syslog\nSyslogIdentifier=prometheus\n\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsystemctl enable prometheus\nsystemctl restart prometheus\nsystemctl status prometheus\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/020-p8s%E5%B8%B8%E7%94%A8api%E5%91%BD%E4%BB%A4/","title":"020 p8s\u5e38\u7528api\u547d\u4ee4","text":"<ul> <li>\u67e5\u770b\u67d0\u4e2ametric\u67d0\u4e2a\u65f6\u95f4\u6bb5\u5185\u7684\u6570\u636e</li> </ul> <pre><code>curl -sk -u 'admin:xxxxx'  https://prometheus.openstack.svc.shenzhen-a.com/api/v1/query_range \\\n--data-urlencode \"query=node_load1\" \\\n--data-urlencode \"start=1725120000\" \\\n--data-urlencode \"end=1725121800\" \\\n--data-urlencode \"step=5m\" 2&gt;&amp;1| jq .|less\n</code></pre> <ul> <li>\u67e5\u770b\u5f53\u524dprometheus\u4e0b\u7684\u5168\u90e8metric\u5217\u8868</li> </ul> <pre><code>curl -sk -u 'admin:xxxxxx'  https://prometheus.openstack.svc.shenzhen-a.com/api/v1/label/__name__/values 2&gt;&amp;1|jq .|less\n</code></pre> <ul> <li>\u67e5\u770b\u5f53\u524d\u670d\u52a1\u76f8\u5173\u7684metric\u5217\u8868\uff08prometheus\u81ea\u5e26\u7684\u76d1\u63a7\u81ea\u8eab\u670d\u52a1\u60c5\u51b5\u7684metric\uff09</li> </ul> <pre><code>curl -sk -u 'admin:xxxxx'  'https://prometheus.openstack.svc.shenzhen-a.com/metrics'\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/030-metric%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F/","title":"030 metric\u6570\u636e\u683c\u5f0f","text":"<p>Prometheus \u539f\u59cb\u6570\u636e\u683c\u5f0f\u57fa\u4e8e\u65f6\u95f4\u5e8f\u5217\uff0c\u6838\u5fc3\u6982\u5ff5\u662f \u6307\u6807\uff08metrics\uff09 \u548c \u6807\u7b7e\uff08labels\uff09\uff0c\u5e76\u4f7f\u7528\u4e00\u4e2a\u53eb\u505a Prometheus TSDB\uff08Time Series Database\uff09\u7684\u5b58\u50a8\u5f15\u64ce\u6765\u5b58\u50a8\u548c\u68c0\u7d22\u8fd9\u4e9b\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/030-metric%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F/#prometheus","title":"Prometheus \u539f\u59cb\u6570\u636e\u7684\u7ed3\u6784","text":"<ol> <li> <p>\u65f6\u95f4\u5e8f\u5217\uff1a</p> <ul> <li>\u6bcf\u4e2a\u65f6\u95f4\u5e8f\u5217\u5305\u542b\u4e00\u7ec4 \u6807\u7b7e \u548c\u4e00\u4e2a\u6307\u6807\u540d\u79f0\u3002</li> <li>\u6807\u7b7e\u662f\u952e\u503c\u5bf9\uff0c\u7528\u4e8e\u5bf9\u540c\u4e00\u4e2a\u6307\u6807\u7684\u4e0d\u540c\u5b9e\u4f8b\u8fdb\u884c\u6807\u8bc6\uff08\u4f8b\u5982\u533a\u5206\u4e0d\u540c\u7684\u4e3b\u673a\u3001\u7aef\u53e3\u3001\u5b9e\u4f8b\u7b49\uff09\u3002</li> <li>\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u7531 \u65f6\u95f4\u6233 \u548c\u5bf9\u5e94\u7684 \u503c \u7ec4\u6210\u3002</li> <li> <p>\u6307\u6807\uff08Metric\uff09\uff1a</p> </li> <li> <p>\u4e00\u4e2a\u6307\u6807\u7531\u5176 \u540d\u79f0 \u548c \u6807\u7b7e\u96c6\u5408 \u552f\u4e00\u6807\u8bc6\u3002</p> </li> <li>\u6bcf\u4e2a\u6307\u6807\u540d\u79f0\u8868\u793a\u4e00\u7c7b\u76d1\u63a7\u6570\u636e\uff0c\u4f8b\u5982 <code>http_requests_total</code> \u8868\u793a HTTP \u8bf7\u6c42\u7684\u603b\u6570\u3002</li> <li> <p>\u6807\u7b7e\uff08Labels\uff09\uff1a</p> </li> <li> <p>\u6bcf\u4e2a\u65f6\u95f4\u5e8f\u5217\u53ef\u4ee5\u6709\u591a\u4e2a\u6807\u7b7e\uff0c\u6807\u7b7e\u662f\u952e\u503c\u5bf9\uff0c\u7528\u6765\u4e3a\u65f6\u95f4\u5e8f\u5217\u6253\u4e0a\u4e0d\u540c\u7684\u6807\u8bc6\u3002</p> </li> <li>\u4f8b\u5982\uff1a\u5bf9\u4e8e <code>http_requests_total</code> \u6307\u6807\uff0c\u4f60\u53ef\u4ee5\u6709\u6807\u7b7e <code>instance=\"localhost:9090\"</code> \u548c <code>job=\"prometheus\"</code> \u6765\u6807\u8bc6\u662f\u54ea\u4e00\u4e2a Prometheus \u5b9e\u4f8b\u751f\u6210\u7684\u8fd9\u4e2a\u6570\u636e\u3002</li> <li> <p>\u6837\u672c\uff08Sample\uff09\uff1a</p> </li> <li> <p>\u6837\u672c\u7531\u4e00\u4e2a\u65f6\u95f4\u6233\u548c\u4e00\u4e2a\u6570\u503c\u7ec4\u6210\u3002\u6bcf\u4e2a\u65f6\u95f4\u5e8f\u5217\u90fd\u4f1a\u968f\u7740\u65f6\u95f4\u63a8\u79fb\u4e0d\u65ad\u5730\u8bb0\u5f55\u6837\u672c\u6570\u636e\u3002</p> </li> <li>\u65f6\u95f4\u6233\u662f Unix \u65f6\u95f4\u683c\u5f0f\uff0c\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u3002</li> </ul> </li> </ol> <pre><code>[root@node01 ~]# curl -sk -u 'admin:xxxxx' --resolve prometheus.openstack.svc.shenzhen-a.com:443:38.175.42.221 https://prometheus.openstack.svc.shenzhen-a.com/api/v1/query_range --data-urlencode \"query=node_load1\" --data-urlencode \"start=1725120000\" --data-urlencode \"end=1725121800\" --data-urlencode \"step=5m\" 2&gt;&amp;1| jq .\n{\n  \"status\": \"success\",\n  \"data\": {\n    \"resultType\": \"matrix\",\n    \"result\": [\n      {\n        \"metric\": {\n          \"__name__\": \"node_load1\",\n          \"hostname\": \"node01.shenzhen-a.com\",\n          \"instance\": \"38.175.42.197:9100\",\n          \"job\": \"node-exporter\"\n        },\n        \"values\": [\n          [\n            1725120000,\n            \"18.44\"\n          ],\n          [\n            1725120300,\n            \"14.2\"\n          ],\n          [\n            1725120600,\n            \"7.68\"\n          ],\n          [\n            1725120900,\n            \"4.83\"\n          ],\n          [\n            1725121200,\n            \"5.94\"\n          ],\n          [\n            1725121500,\n            \"5.72\"\n          ],\n          [\n            1725121800,\n            \"3.76\"\n          ]\n        ]\n      },\n      {\n        \"metric\": {\n          \"__name__\": \"node_load1\",\n          \"hostname\": \"node02.shenzhen-a.com\",\n          \"instance\": \"38.175.42.198:9100\",\n          \"job\": \"node-exporter\"\n        },\n        \"values\": [\n          [\n            1725120000,\n            \"9.33\"\n          ],\n          [\n            1725120300,\n            \"20.99\"\n          ],\n          [\n            1725120600,\n            \"13.91\"\n          ],\n          [\n            1725120900,\n            \"5.63\"\n          ],\n          [\n            1725121200,\n            \"6.47\"\n          ],\n          [\n            1725121500,\n            \"9.13\"\n          ],\n          [\n            1725121800,\n            \"2.3\"\n          ]\n        ]\n      },\n      {\n        \"metric\": {\n          \"__name__\": \"node_load1\",\n          \"hostname\": \"node03.shenzhen-a.com\",\n          \"instance\": \"38.175.42.199:9100\",\n          \"job\": \"node-exporter\"\n        },\n        \"values\": [\n          [\n            1725120000,\n            \"3.8\"\n          ],\n          [\n            1725120300,\n            \"4.83\"\n          ],\n          [\n            1725120600,\n            \"6.08\"\n          ],\n          [\n            1725120900,\n            \"9.77\"\n          ],\n          [\n            1725121200,\n            \"6.45\"\n          ],\n          [\n            1725121500,\n            \"17.59\"\n          ],\n          [\n            1725121800,\n            \"18.13\"\n          ]\n        ]\n      }\n    ]\n  }\n}\n\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/040-PromQL%E6%93%8D%E4%BD%9C%E7%AC%A6/","title":"040 PromQL\u64cd\u4f5c\u7b26","text":"<p>\u4f7f\u7528PromQL\u9664\u4e86\u80fd\u591f\u65b9\u4fbf\u7684\u6309\u7167\u67e5\u8be2\u548c\u8fc7\u6ee4\u65f6\u95f4\u5e8f\u5217\u4ee5\u5916\uff0cPromQL\u8fd8\u652f\u6301\u4e30\u5bcc\u7684\u64cd\u4f5c\u7b26\uff0c\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u64cd\u4f5c\u7b26\u5bf9\u8fdb\u4e00\u6b65\u7684\u5bf9\u4e8b\u4ef6\u5e8f\u5217\u8fdb\u884c\u4e8c\u6b21\u52a0\u5de5\u3002\u8fd9\u4e9b\u64cd\u4f5c\u7b26\u5305\u62ec\uff1a\u6570\u5b66\u8fd0\u7b97\u7b26\uff0c\u903b\u8f91\u8fd0\u7b97\u7b26\uff0c\u5e03\u5c14\u8fd0\u7b97\u7b26\u7b49\u7b49\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/040-PromQL%E6%93%8D%E4%BD%9C%E7%AC%A6/#_1","title":"\u6570\u5b66\u8fd0\u7b97","text":"<p>\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6307\u6807node_memory_free_bytes_total\u83b7\u53d6\u5f53\u524d\u4e3b\u673a\u53ef\u7528\u7684\u5185\u5b58\u7a7a\u95f4\u5927\u5c0f\uff0c\u5176\u6837\u672c\u5355\u4f4d\u4e3aBytes\u3002\u8fd9\u662f\u5982\u679c\u5ba2\u6237\u7aef\u8981\u6c42\u4f7f\u7528MB\u4f5c\u4e3a\u5355\u4f4d\u54cd\u5e94\u6570\u636e\uff0c\u90a3\u53ea\u9700\u8981\u5c06\u67e5\u8be2\u5230\u7684\u65f6\u95f4\u5e8f\u5217\u7684\u6837\u672c\u503c\u8fdb\u884c\u5355\u4f4d\u6362\u7b97\u5373\u53ef\uff1a</p> <pre><code>node_memory_free_bytes_total / (1024 * 1024)\n</code></pre> <p>node_memory_free_bytes_total\u8868\u8fbe\u5f0f\u4f1a\u67e5\u8be2\u51fa\u6240\u6709\u6ee1\u8db3\u8868\u8fbe\u5f0f\u6761\u4ef6\u7684\u65f6\u95f4\u5e8f\u5217\uff0c\u6211\u4eec\u79f0\u8be5\u8868\u8fbe\u5f0f\u4e3a\u77ac\u65f6\u5411\u91cf\u8868\u8fbe\u5f0f\uff0c\u800c\u8fd4\u56de\u7684\u7ed3\u679c\u6210\u4e3a\u77ac\u65f6\u5411\u91cf\u3002</p> <p>\u5f53\u77ac\u65f6\u5411\u91cf\u4e0e\u6807\u91cf\u4e4b\u95f4\u8fdb\u884c\u6570\u5b66\u8fd0\u7b97\u65f6\uff0c\u6570\u5b66\u8fd0\u7b97\u7b26\u4f1a\u4f9d\u6b21\u4f5c\u7528\u57df\u77ac\u65f6\u5411\u91cf\u4e2d\u7684\u6bcf\u4e00\u4e2a\u6837\u672c\u503c\uff0c\u4ece\u800c\u5f97\u5230\u4e00\u7ec4\u65b0\u7684\u65f6\u95f4\u5e8f\u5217\u3002</p> <p>\u800c\u5982\u679c\u662f\u77ac\u65f6\u5411\u91cf\u4e0e\u77ac\u65f6\u5411\u91cf\u4e4b\u95f4\u8fdb\u884c\u6570\u5b66\u8fd0\u7b97\u65f6\uff0c\u8fc7\u7a0b\u4f1a\u76f8\u5bf9\u590d\u6742\u4e00\u70b9\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u6211\u4eec\u60f3\u6839\u636enode_disk_bytes_written\u548cnode_disk_bytes_read\u83b7\u53d6\u4e3b\u673a\u78c1\u76d8IO\u7684\u603b\u91cf\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u8868\u8fbe\u5f0f\uff1a</p> <pre><code>node_disk_bytes_written + node_disk_bytes_read\n</code></pre> <p>\u90a3\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u5462\uff1f\u4f9d\u6b21\u627e\u5230\u4e0e\u5de6\u8fb9\u5411\u91cf\u5143\u7d20\u5339\u914d\uff08\u6807\u7b7e\u5b8c\u5168\u4e00\u81f4\uff09\u7684\u53f3\u8fb9\u5411\u91cf\u5143\u7d20\u8fdb\u884c\u8fd0\u7b97\uff0c\u5982\u679c\u6ca1\u627e\u5230\u5339\u914d\u5143\u7d20\uff0c\u5219\u76f4\u63a5\u4e22\u5f03\u3002\u540c\u65f6\u65b0\u7684\u65f6\u95f4\u5e8f\u5217\u5c06\u4e0d\u4f1a\u5305\u542b\u6307\u6807\u540d\u79f0\u3002 \u8be5\u8868\u8fbe\u5f0f\u8fd4\u56de\u7ed3\u679c\u7684\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>{device=\"sda\",instance=\"localhost:9100\",job=\"node_exporter\"}=&gt;1634967552@1518146427.807 + 864551424@1518146427.807\n{device=\"sdb\",instance=\"localhost:9100\",job=\"node_exporter\"}=&gt;0@1518146427.807 + 1744384@1518146427.807\n</code></pre> <p>PromQL\u652f\u6301\u7684\u6240\u6709\u6570\u5b66\u8fd0\u7b97\u7b26\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li> <p><code>+</code> (\u52a0\u6cd5)</p> </li> <li> <p><code>-</code> (\u51cf\u6cd5)</p> </li> <li> <p><code>*</code> (\u4e58\u6cd5)</p> </li> <li> <p><code>/</code> (\u9664\u6cd5)</p> </li> <li> <p><code>%</code> (\u6c42\u4f59)</p> </li> <li> <p><code>^</code> (\u5e42\u8fd0\u7b97)</p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/040-PromQL%E6%93%8D%E4%BD%9C%E7%AC%A6/#_2","title":"\u4f7f\u7528\u5e03\u5c14\u8fd0\u7b97\u8fc7\u6ee4\u65f6\u95f4\u5e8f\u5217","text":"<p>\u5728PromQL\u901a\u8fc7\u6807\u7b7e\u5339\u914d\u6a21\u5f0f\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u65f6\u95f4\u5e8f\u5217\u7684\u7279\u5f81\u7ef4\u5ea6\u5bf9\u5176\u8fdb\u884c\u67e5\u8be2\u3002\u800c\u5e03\u5c14\u8fd0\u7b97\u5219\u652f\u6301\u7528\u6237\u6839\u636e\u65f6\u95f4\u5e8f\u5217\u4e2d\u6837\u672c\u7684\u503c\uff0c\u5bf9\u65f6\u95f4\u5e8f\u5217\u8fdb\u884c\u8fc7\u6ee4\u3002</p> <p>\u4f8b\u5982\uff0c\u901a\u8fc7\u6570\u5b66\u8fd0\u7b97\u7b26\u6211\u4eec\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u8ba1\u7b97\u51fa\uff0c\u5f53\u524d\u6240\u6709\u4e3b\u673a\u8282\u70b9\u7684\u5185\u5b58\u4f7f\u7528\u7387\uff1a</p> <pre><code>(node_memory_bytes_total - node_memory_free_bytes_total) / node_memory_bytes_total\n</code></pre> <p>\u800c\u7cfb\u7edf\u7ba1\u7406\u5458\u5728\u6392\u67e5\u95ee\u9898\u7684\u65f6\u5019\u53ef\u80fd\u53ea\u60f3\u77e5\u9053\u5f53\u524d\u5185\u5b58\u4f7f\u7528\u7387\u8d85\u8fc795%\u7684\u4e3b\u673a\u5462\uff1f\u901a\u8fc7\u4f7f\u7528\u5e03\u5c14\u8fd0\u7b97\u7b26\u53ef\u4ee5\u65b9\u4fbf\u7684\u83b7\u53d6\u5230\u8be5\u7ed3\u679c\uff1a</p> <pre><code>(node_memory_bytes_total - node_memory_free_bytes_total) / node_memory_bytes_total &gt; 0.95\n</code></pre> <p>\u77ac\u65f6\u5411\u91cf\u4e0e\u6807\u91cf\u8fdb\u884c\u5e03\u5c14\u8fd0\u7b97\u65f6\uff0cPromQL\u4f9d\u6b21\u6bd4\u8f83\u5411\u91cf\u4e2d\u7684\u6240\u6709\u65f6\u95f4\u5e8f\u5217\u6837\u672c\u7684\u503c\uff0c\u5982\u679c\u6bd4\u8f83\u7ed3\u679c\u4e3atrue\u5219\u4fdd\u7559\uff0c\u53cd\u4e4b\u4e22\u5f03\u3002</p> <p>\u77ac\u65f6\u5411\u91cf\u4e0e\u77ac\u65f6\u5411\u91cf\u76f4\u63a5\u8fdb\u884c\u5e03\u5c14\u8fd0\u7b97\u65f6\uff0c\u540c\u6837\u9075\u5faa\u9ed8\u8ba4\u7684\u5339\u914d\u6a21\u5f0f\uff1a\u4f9d\u6b21\u627e\u5230\u4e0e\u5de6\u8fb9\u5411\u91cf\u5143\u7d20\u5339\u914d\uff08\u6807\u7b7e\u5b8c\u5168\u4e00\u81f4\uff09\u7684\b\u53f3\u8fb9\u5411\u91cf\u5143\u7d20\u8fdb\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\uff0c\u5982\u679c\u6ca1\u627e\u5230\u5339\u914d\u5143\u7d20\uff0c\u5219\u76f4\u63a5\u4e22\u5f03\u3002</p> <p>\u76ee\u524d\uff0cPrometheus\u652f\u6301\u4ee5\u4e0b\u5e03\u5c14\u8fd0\u7b97\u7b26\u5982\u4e0b\uff1a</p> <ul> <li> <p><code>==</code> (\u76f8\u7b49)</p> </li> <li> <p><code>!=</code> (\u4e0d\u76f8\u7b49)</p> </li> <li> <p><code>&gt;</code> (\u5927\u4e8e)</p> </li> <li> <p><code>&lt;</code> (\u5c0f\u4e8e)</p> </li> <li> <p><code>&gt;=</code> (\u5927\u4e8e\u7b49\u4e8e)</p> </li> <li> <p><code>&lt;=</code> (\u5c0f\u4e8e\u7b49\u4e8e)</p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/040-PromQL%E6%93%8D%E4%BD%9C%E7%AC%A6/#bool","title":"\u4f7f\u7528bool\u4fee\u9970\u7b26\u6539\u53d8\u5e03\u5c14\u8fd0\u7b97\u7b26\u7684\u884c\u4e3a","text":"<p>\u5e03\u5c14\u8fd0\u7b97\u7b26\u7684\u9ed8\u8ba4\u884c\u4e3a\u662f\u5bf9\u65f6\u5e8f\u6570\u636e\u8fdb\u884c\u8fc7\u6ee4\u3002\u800c\u5728\u5176\u5b83\u7684\u60c5\u51b5\u4e0b\u6211\u4eec\u53ef\u80fd\u9700\u8981\u7684\u662f\u771f\u6b63\u7684\u5e03\u5c14\u7ed3\u679c\u3002\u4f8b\u5982\uff0c\u53ea\u9700\u8981\u77e5\u9053\u5f53\u524d\u6a21\u5757\u7684HTTP\u8bf7\u6c42\u91cf\u662f\u5426&gt;=1000\uff0c\u5982\u679c\u5927\u4e8e\u7b49\u4e8e1000\u5219\u8fd4\u56de1\uff08true\uff09\u5426\u5219\u8fd4\u56de0\uff08false\uff09\u3002\u8fd9\u65f6\u53ef\u4ee5\u4f7f\u7528bool\u4fee\u9970\u7b26\u6539\u53d8\u5e03\u5c14\u8fd0\u7b97\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002 \u4f8b\u5982\uff1a</p> <pre><code>http_requests_total &gt; bool 1000\n</code></pre> <p>\u4f7f\u7528bool\u4fee\u6539\u7b26\u540e\uff0c\u5e03\u5c14\u8fd0\u7b97\u4e0d\u4f1a\u5bf9\u65f6\u95f4\u5e8f\u5217\u8fdb\u884c\u8fc7\u6ee4\uff0c\u800c\u662f\u76f4\u63a5\u4f9d\u6b21\u77ac\u65f6\u5411\u91cf\u4e2d\u7684\u5404\u4e2a\u6837\u672c\u6570\u636e\u4e0e\u6807\u91cf\u7684\u6bd4\u8f83\u7ed3\u679c0\u6216\u80051\u3002\u4ece\u800c\u5f62\u6210\u4e00\u6761\u65b0\u7684\u65f6\u95f4\u5e8f\u5217\u3002</p> <pre><code>http_requests_total{code=\"200\",handler=\"query\",instance=\"localhost:9090\",job=\"prometheus\",method=\"get\"}  1\nhttp_requests_total{code=\"200\",handler=\"query_range\",instance=\"localhost:9090\",job=\"prometheus\",method=\"get\"}  0\n</code></pre> <p>\u540c\u65f6\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u662f\u5728\u4e24\u4e2a\u6807\u91cf\u4e4b\u95f4\u4f7f\u7528\u5e03\u5c14\u8fd0\u7b97\uff0c\u5219\u5fc5\u987b\u4f7f\u7528bool\u4fee\u9970\u7b26</p> <pre><code>2 == bool 2 # \u7ed3\u679c\u4e3a1\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/040-PromQL%E6%93%8D%E4%BD%9C%E7%AC%A6/#_3","title":"\u4f7f\u7528\u96c6\u5408\u8fd0\u7b97\u7b26","text":"<p>\u4f7f\u7528\u77ac\u65f6\u5411\u91cf\u8868\u8fbe\u5f0f\u80fd\u591f\u83b7\u53d6\u5230\u4e00\u4e2a\u5305\u542b\u591a\u4e2a\u65f6\u95f4\u5e8f\u5217\u7684\u96c6\u5408\uff0c\u6211\u4eec\u79f0\u4e3a\u77ac\u65f6\u5411\u91cf\u3002 \u901a\u8fc7\u96c6\u5408\u8fd0\u7b97\uff0c\u53ef\u4ee5\u5728\u4e24\u4e2a\u77ac\u65f6\u5411\u91cf\u4e0e\u77ac\u65f6\u5411\u91cf\u4e4b\u95f4\u8fdb\u884c\u76f8\u5e94\u7684\u96c6\u5408\u64cd\u4f5c\u3002\u76ee\u524d\uff0cPrometheus\u652f\u6301\u4ee5\u4e0b\u96c6\u5408\u8fd0\u7b97\u7b26\uff1a</p> <ul> <li> <p><code>and</code> (\u5e76\u4e14)</p> </li> <li> <p><code>or</code> (\u6216\u8005)</p> </li> <li> <p><code>unless</code> (\u6392\u9664)</p> </li> </ul> <p>vector1 and vector2 \u4f1a\u4ea7\u751f\u4e00\u4e2a\u7531vector1\u7684\u5143\u7d20\u7ec4\u6210\u7684\u65b0\u7684\u5411\u91cf\u3002\u8be5\u5411\u91cf\u5305\u542bvector1\u4e2d\u5b8c\u5168\u5339\u914dvector2\u4e2d\u7684\u5143\u7d20\u7ec4\u6210\u3002</p> <p>vector1 or vector2 \u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u5411\u91cf\uff0c\u8be5\u5411\u91cf\u5305\u542bvector1\u4e2d\u6240\u6709\u7684\b\u6837\u672c\u6570\u636e\uff0c\u4ee5\u53cavector2\u4e2d\u6ca1\u6709\u4e0evector1\u5339\u914d\u5230\u7684\u6837\u672c\u6570\u636e\u3002</p> <p>vector1 unless vector2 \u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u5411\u91cf\uff0c\u65b0\u5411\u91cf\u4e2d\u7684\u5143\u7d20\u7531vector1\u4e2d\u6ca1\u6709\u4e0evector2\u5339\u914d\u7684\u5143\u7d20\u7ec4\u6210\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/040-PromQL%E6%93%8D%E4%BD%9C%E7%AC%A6/#_4","title":"\u64cd\u4f5c\u7b26\u4f18\u5148\u7ea7","text":"<p>\u5bf9\u4e8e\u590d\u6742\u7c7b\u578b\u7684\u8868\u8fbe\u5f0f\uff0c\u9700\u8981\u4e86\u89e3\u8fd0\u7b97\u64cd\u4f5c\u7684\u8fd0\u884c\u4f18\u5148\u7ea7</p> <p>\u4f8b\u5982\uff0c\u67e5\u8be2\u4e3b\u673a\u7684CPU\u4f7f\u7528\u7387\uff0c\u53ef\u4ee5\u4f7f\u7528\u8868\u8fbe\u5f0f\uff1a</p> <pre><code>100 * (1 - avg (irate(node_cpu{mode='idle'}[5m])) by(job) )\n</code></pre> <p>\u5176\u4e2dirate\u662fPromQL\u4e2d\u7684\u5185\u7f6e\u51fd\u6570\uff0c\u7528\u4e8e\u8ba1\u7b97\u533a\u95f4\u5411\u91cf\u4e2d\u65f6\u95f4\u5e8f\u5217\u6bcf\u79d2\u7684\u5373\u65f6\u589e\u957f\u7387\u3002\u5173\u4e8e\u5185\u7f6e\u51fd\u6570\u7684\u90e8\u5206\uff0c\u4f1a\u5728\u4e0b\u4e00\u8282\u8be6\u7ec6\u4ecb\u7ecd\u3002</p> <p>\u5728PromQL\u64cd\u4f5c\u7b26\u4e2d\u4f18\u5148\u7ea7\u7531\u9ad8\u5230\u4f4e\u4f9d\u6b21\u4e3a\uff1a</p> <ol> <li> <p><code>^</code></p> </li> <li> <p><code>*, /, %</code></p> </li> <li> <p><code>+, -</code></p> </li> <li> <p><code>==, !=, &lt;=, &lt;, &gt;=, &gt;</code></p> </li> <li> <p><code>and, unless</code></p> </li> <li> <p><code>or</code></p> </li> </ol>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/040-PromQL%E6%93%8D%E4%BD%9C%E7%AC%A6/#_5","title":"\u5339\u914d\u6a21\u5f0f\u8be6\u89e3","text":"<p>\u5411\u91cf\u4e0e\u5411\u91cf\u4e4b\u95f4\u8fdb\u884c\u8fd0\u7b97\u64cd\u4f5c\u65f6\u4f1a\u57fa\u4e8e\u9ed8\u8ba4\u7684\u5339\u914d\u89c4\u5219\uff1a\u4f9d\u6b21\u627e\u5230\u4e0e\u5de6\u8fb9\u5411\u91cf\u5143\u7d20\u5339\u914d\uff08\u6807\u7b7e\u5b8c\u5168\u4e00\u81f4\uff09\u7684\u53f3\u8fb9\u5411\u91cf\u5143\u7d20\u8fdb\u884c\u8fd0\u7b97\uff0c\u5982\u679c\u6ca1\u627e\u5230\u5339\u914d\u5143\u7d20\uff0c\u5219\u76f4\u63a5\u4e22\u5f03\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/040-PromQL%E6%93%8D%E4%BD%9C%E7%AC%A6/#_6","title":"\u53c2\u8003","text":"<ul> <li>https://yunlzheng.gitbook.io/prometheus-book/parti-prometheus-ji-chu/promql/prometheus-promql-operators-v2</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/050-%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%93%8D%E4%BD%9C/","title":"050 \u5411\u91cf\u4e4b\u95f4\u7684\u64cd\u4f5c","text":"<p>\u7cfb\u7edf\u5730\u68b3\u7406\u4e00\u4e0b PromQL \u4e2d\u5411\u91cf\uff08vector\uff09\u4e0e\u5411\u91cf\u4e4b\u95f4\u7684\u8fd0\u7b97\uff0c\u4ee5\u53ca <code>on</code>\u3001<code>ignoring</code>\u3001<code>group_left</code>\u3001<code>group_right</code> \u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u7279\u522b\u662f <code>group_left/group_right</code>\uff0c\u5e76\u9644\u4e0a\u4f8b\u5b50\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/050-%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%93%8D%E4%BD%9C/#1-prometheus","title":"1\ufe0f\u20e3 Prometheus \u4e2d\u7684\u5411\u91cf\u7c7b\u578b","text":"<p>PromQL \u4e2d\u6709\u51e0\u79cd\u4e3b\u8981\u6570\u636e\u7c7b\u578b\uff0c\u4f46\u5411\u91cf\uff08vector\uff09\u662f\u6700\u5e38\u7528\u7684\uff1a</p> <ol> <li> <p>Instant Vector\uff08\u77ac\u65f6\u5411\u91cf\uff09</p> <ul> <li> <p>\u4ee3\u8868\u67d0\u4e2a\u65f6\u95f4\u70b9\u7684\u82e5\u5e72\u6307\u6807\u96c6\u5408\u3002</p> </li> <li> <p>\u6bcf\u4e2a\u5143\u7d20\u662f <code>{metric_name, labels, value}</code>\u3002</p> </li> <li> <p>\u4f8b\u5b50\uff1a</p> <p><code>promql cpu_usage{instance=\"node1\"}</code></p> <p>\u8fd4\u56de node1 \u8282\u70b9\u7684 CPU \u4f7f\u7528\u7387\uff08\u5355\u4e2a\u65f6\u95f4\u70b9\uff09\u3002</p> </li> </ul> </li> <li> <p>Range Vector\uff08\u533a\u95f4\u5411\u91cf\uff09</p> <ul> <li> <p>\u4ee3\u8868\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u6570\u636e\u5e8f\u5217\u3002</p> </li> <li> <p>\u6bcf\u4e2a\u5143\u7d20\u5305\u542b <code>{metric_name, labels, [value1, value2, ...]}</code>\u3002</p> </li> <li> <p>\u5e38\u7528\u4e8e\u805a\u5408\u51fd\u6570\uff0c\u6bd4\u5982 <code>avg_over_time(cpu_usage[5m])</code>\u3002</p> </li> </ul> </li> </ol> <p>\u5411\u91cf\u7684\u8fd0\u7b97\uff1aPromQL \u5141\u8bb8\u5bf9 Instant Vector \u4e4b\u95f4\u505a\u7b97\u672f\u8fd0\u7b97\uff08+\u3001-\u3001*\u3001/\u3001%\u7b49\uff09\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/050-%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%93%8D%E4%BD%9C/#2","title":"2\ufe0f\u20e3 \u5411\u91cf\u4e0e\u5411\u91cf\u4e4b\u95f4\u7684\u7b97\u672f\u8fd0\u7b97","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/050-%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%93%8D%E4%BD%9C/#21","title":"2.1 \u57fa\u672c\u8fd0\u7b97","text":"<p>\u5982\u679c\u4f60\u6709\u4e24\u4e2a\u5411\u91cf\uff1a</p> <pre><code>v1 = cpu_usage{instance=\"node1\", core=\"0\"}\nv2 = cpu_usage{instance=\"node1\", core=\"1\"}\n</code></pre> <p>\u76f4\u63a5\u505a\uff1a</p> <pre><code>v1 + v2\n</code></pre> <p>Prometheus \u4f1a \u6839\u636e\u76f8\u540c\u7684 label \u96c6\u5408\u5339\u914d\uff0c\u9ed8\u8ba4\u5339\u914d \u6240\u6709 label \u5b8c\u5168\u76f8\u540c\u7684\u6307\u6807\u3002 \u5982\u679c\u6ca1\u6709\u5b8c\u5168\u5339\u914d\u7684 label\uff0c\u5219\u7ed3\u679c\u4e2d\u4e0d\u4f1a\u51fa\u73b0\u8be5\u5143\u7d20\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/050-%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%93%8D%E4%BD%9C/#22-label","title":"2.2 \u81ea\u5b9a\u4e49 label \u5339\u914d","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/050-%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%93%8D%E4%BD%9C/#on","title":"<code>on(...)</code>","text":"<p>\u6307\u5b9a\u54ea\u4e9b label \u7528\u6765\u5339\u914d\uff1a</p> <pre><code>v1 + on(instance) v2\n</code></pre> <ul> <li> <p>\u53ea\u6bd4\u8f83 <code>instance</code> label\u3002</p> </li> <li> <p>\u5ffd\u7565\u5176\u4ed6 label\uff0c\u6bd4\u5982 <code>core</code>\u3002</p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/050-%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%93%8D%E4%BD%9C/#ignoring","title":"<code>ignoring(...)</code>","text":"<p>\u6307\u5b9a\u54ea\u4e9b label \u5ffd\u7565\uff1a</p> <pre><code>v1 + ignoring(core) v2\n</code></pre> <ul> <li>\u5ffd\u7565 <code>core</code> label\uff0c\u5176\u4ed6 label \u5fc5\u987b\u5339\u914d\u3002</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/050-%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%93%8D%E4%BD%9C/#23","title":"2.3 \u793a\u4f8b","text":"<p>\u5047\u8bbe\u6709\u6307\u6807\uff1a</p> <pre><code>v1:\n{instance=\"node1\", core=\"0\"}  5\n{instance=\"node1\", core=\"1\"}  6\n\nv2:\n{instance=\"node1\", core=\"0\"}  10\n{instance=\"node1\", core=\"1\"}  20\n</code></pre> <ul> <li><code>v1 + v2</code> \u2192 \u6bcf\u4e2a\u5143\u7d20\u6309 \u5b8c\u5168 label \u5339\u914d\uff1a</li> </ul> <pre><code>{instance=\"node1\", core=\"0\"}  15\n{instance=\"node1\", core=\"1\"}  26\n</code></pre> <ul> <li><code>v1 + on(instance) v2</code> \u2192 \u53ea\u5339\u914d <code>instance</code>\uff1a</li> </ul> <pre><code>{instance=\"node1\", core=\"0\"}  ?\n{instance=\"node1\", core=\"1\"}  ?\n</code></pre> <p>\u8fd9\u91cc\u4f1a\u53d1\u751f \u591a\u5bf9\u591a\u5339\u914d\uff0c\u6bcf\u4e2a v1 \u5143\u7d20\u4f1a\u5339\u914d v2 \u4e2d\u76f8\u540c <code>instance</code> \u7684\u6240\u6709\u5143\u7d20\u3002 \u7ed3\u679c\u53ef\u80fd\u51fa\u73b0\u91cd\u590d\u6216\u591a\u503c\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/050-%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%93%8D%E4%BD%9C/#3-group_left-group_right","title":"3\ufe0f\u20e3 <code>group_left</code> / <code>group_right</code> \u7684\u4f5c\u7528","text":"<p>\u5f53\u4f60\u505a \u591a\u5bf9\u591a\u5339\u914d \u65f6\uff0cPrometheus \u9ed8\u8ba4\u53ea\u5141\u8bb8\u4e00\u5bf9\u4e00\u5339\u914d\u3002\u5982\u679c\u5339\u914d\u7ed3\u679c\u662f\u4e00\u5bf9\u591a\uff08\u6216\u8005\u591a\u5bf9\u4e00\uff09\uff0c\u5c31\u9700\u8981\u4f7f\u7528 <code>group_left</code> \u6216 <code>group_right</code>\u3002</p> <ul> <li>\u8bed\u6cd5\uff1a</li> </ul> <pre><code>v1 &lt;op&gt; on(labels) group_left(extra_labels) v2\n</code></pre> <p>\u6216</p> <pre><code>v1 &lt;op&gt; on(labels) group_right(extra_labels) v2\n</code></pre> <ul> <li> <p>\u4f5c\u7528\uff1a</p> <ul> <li> <p><code>group_left</code>\uff1a\u5de6\u8fb9\u662f\u4e00\u5bf9\u591a\u65f6\uff0c\u628a\u53f3\u8fb9\u7684\u989d\u5916 label \u52a0\u5165\u5de6\u8fb9\u3002</p> </li> <li> <p><code>group_right</code>\uff1a\u53f3\u8fb9\u662f\u4e00\u5bf9\u591a\u65f6\uff0c\u628a\u5de6\u8fb9\u7684\u989d\u5916 label \u52a0\u5165\u53f3\u8fb9\u3002</p> </li> </ul> </li> <li> <p>\u89c4\u5219\uff1a</p> <ul> <li> <p><code>group_left(xxx)</code>\uff1a\u5141\u8bb8\u53f3\u8fb9\u5339\u914d\u591a\u6761\uff0c\u5de6\u8fb9\u4e00\u6761\u3002</p> </li> <li> <p><code>group_right(xxx)</code>\uff1a\u5141\u8bb8\u5de6\u8fb9\u5339\u914d\u591a\u6761\uff0c\u53f3\u8fb9\u4e00\u6761\u3002</p> </li> <li> <p><code>xxx</code> \u662f\u989d\u5916\u4fdd\u7559\u7684 label\u3002</p> </li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/050-%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%93%8D%E4%BD%9C/#31","title":"3.1 \u4f8b\u5b50","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/050-%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%93%8D%E4%BD%9C/#_1","title":"\u573a\u666f\uff1a","text":"<ol> <li><code>cpu_usage</code>\uff1a</li> </ol> <pre><code>{instance=\"node1\", core=\"0\"} 5\n{instance=\"node1\", core=\"1\"} 6\n</code></pre> <ol> <li><code>node_info</code>\uff1a</li> </ol> <pre><code>{instance=\"node1\", region=\"us-east\"} 1\n</code></pre> <p>\u5982\u679c\u4f60\u60f3\u628a\u6bcf\u4e2a CPU \u4f7f\u7528\u7387\u52a0\u4e0a\u6240\u5728 region\uff0c\u53ef\u4ee5\u5199\uff1a</p> <pre><code>cpu_usage * on(instance) group_left(region) node_info\n</code></pre> <ul> <li> <p>\u89e3\u91ca\uff1a</p> <ul> <li> <p><code>on(instance)</code> \u2192 \u53ea\u5339\u914d <code>instance</code> label\u3002</p> </li> <li> <p><code>group_left(region)</code> \u2192 \u53f3\u8fb9 <code>node_info</code> \u53ef\u80fd\u6709\u591a\u6761\uff08\u591a region\uff09\uff0c\u4f46\u662f\u5de6\u8fb9\u53ea\u6709\u4e00\u6761 CPU\u3002</p> </li> <li> <p>\u5339\u914d\u5b8c\u6210\u540e\uff0c\u7ed3\u679c\u4fdd\u7559 <code>region</code> label\u3002</p> </li> </ul> </li> <li> <p>\u7ed3\u679c\uff1a</p> </li> </ul> <pre><code>{instance=\"node1\", core=\"0\", region=\"us-east\"} 5\n{instance=\"node1\", core=\"1\", region=\"us-east\"} 6\n</code></pre> <ul> <li>\u6ce8\u610f\uff1a<ul> <li>\u8fd9\u79cd\u60c5\u51b5\u4e0b\u9700\u8981\u4fdd\u8bc1node_info\u4e2d\u7684\u540c\u4e00\u4e2ainstance\u4e2d\u53ea\u80fd\u6709\u4e00\u6761\u65f6\u95f4\u5e8f\u5217\u6570\u636e\uff0c\u624d\u80fd\u6ee1\u8db3\u591a\u5bf9\u4e00\u7684\u60c5\u51b5\uff0c\u5982\u679cnode_info\u4e2d\u7684\u540c\u4e00\u4e2ainstance\u6709\u591a\u4e2a\u5e8f\u5217\uff0c\u6709\u53d8\u6210\u591a\u5bf9\u591a\u7684\u60c5\u51b5\uff08\u5219\u67e5\u8be2\u7684\u65f6\u5019\u4f1a\u62a5\u9519\uff09\u3002Prometheus \u7684\u5411\u91cf\u8fd0\u7b97\u4e2d\u4e0d\u652f\u6301\u300c\u591a\u5bf9\u591a\u300d\u5339\u914d\uff0c\u5b83\u53ea\u5141\u8bb8\uff1a<ul> <li>\u4e00\u5bf9\u4e00 (1:1)</li> <li>\u4e00\u5bf9\u591a (1:n) \u6216 \u591a\u5bf9\u4e00 (n:1)</li> </ul> </li> <li>\u800c\u4e14\u4e00\u5bf9\u591a\u3001\u591a\u5bf9\u4e00\u9700\u8981\u901a\u8fc7 group_left \u6216 group_right \u663e\u5f0f\u58f0\u660e\u3002</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/050-%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%93%8D%E4%BD%9C/#group_right","title":"<code>group_right</code> \u7684\u4f8b\u5b50\uff1a","text":"<p>\u5982\u679c\u60f3\u4ece CPU \u4f7f\u7528\u7387\u91cc\u83b7\u53d6\u67d0\u4e2a core \u7684\u603b\u548c\u7ed9\u53f3\u8fb9\u591a\u6761\u6307\u6807\u7528\uff1a</p> <pre><code>sum(cpu_usage) by(instance) * on(instance) group_right(core) cpu_usage\n</code></pre> <ul> <li><code>group_right(core)</code> \u2192 \u5de6\u8fb9\u4e00\u6761 sum \u7684\u6307\u6807\u4e58\u53f3\u8fb9\u6bcf\u4e2a core \u7684\u6307\u6807\uff0c\u4fdd\u7559\u53f3\u8fb9 <code>core</code> \u6807\u7b7e\u3002</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/050-%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%93%8D%E4%BD%9C/#32","title":"3.2 \u603b\u7ed3\uff1a","text":"\u64cd\u4f5c \u4f5c\u7528 \u9ed8\u8ba4\u8fd0\u7b97 label \u5b8c\u5168\u5339\u914d\uff0c\u4e00\u5bf9\u4e00\u5339\u914d <code>on(label1,label2)</code> \u53ea\u6bd4\u8f83\u6307\u5b9a label \u8fdb\u884c\u5339\u914d <code>ignoring(label)</code> \u5ffd\u7565\u6307\u5b9a label\uff0c\u5176\u4ed6 label \u5339\u914d <code>group_left(extra)</code> \u5de6\u8fb9\u4e00\u6761\u5339\u914d\u53f3\u8fb9\u591a\u6761\uff0c\u4fdd\u7559\u53f3\u8fb9\u7684 <code>extra</code> label <code>group_right(extra)</code> \u53f3\u8fb9\u4e00\u6761\u5339\u914d\u5de6\u8fb9\u591a\u6761\uff0c\u4fdd\u7559\u5de6\u8fb9\u7684 <code>extra</code> label <p>\u2705 \u5173\u952e\u70b9\uff1a</p> <ol> <li> <p><code>on/ignoring</code> \u662f\u63a7\u5236\u5339\u914d\u7684 label\u3002</p> </li> <li> <p><code>group_left/group_right</code> \u662f\u89e3\u51b3\u4e00\u5bf9\u591a\u3001\u591a\u5bf9\u4e00\u95ee\u9898\uff0c\u5e76\u51b3\u5b9a\u989d\u5916 label \u7684\u4fdd\u7559\u3002</p> </li> <li> <p>\u4e0d\u52a0 <code>group_left/group_right</code> \u65f6\uff0cPrometheus \u5bf9\u4e00\u5bf9\u591a\u6216\u591a\u5bf9\u4e00\u4f1a\u62a5\u9519\u3002</p> </li> </ol>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/ipmi_export/","title":"Ipmi export","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/ipmi_export/#_1","title":"\u7b80\u4ecb","text":"<p>Prometheus Exporters\u00a0\u6709\u4e00\u4e2a\u5b98\u65b9\u00a0<code>ipmi_exporter</code>\u00a0\u53ef\u4ee5\u57fa\u4e8e\u00a0IPMI\u00a0\u8f93\u51fa\u00a0Metrics\u00a0\u3002\u5e76\u4e14\u6709\u4e00\u4e2a\u975e\u5e38\u5b8c\u7f8e\u7684\u00a0Grafana\u901a\u7528\u53ef\u89c6\u5206\u6790\u5e73\u53f0 Grafana Dashboard 15765: IPMI Exporter\u00a0\u3002\u8fd9\u6837\u53ef\u4ee5\u7528\u6765\u76d1\u63a7\u5927\u89c4\u6a21\u670d\u52a1\u5668\u96c6\u7fa4\uff0c\u5e76\u4e14\u751f\u6210\u544a\u8b66\u3002</p> <p><code>ipmi_exporter</code>\u00a0\u8f93\u51fa\u672c\u5730IPMI metrics\u5230\u6807\u51c6\u7684\u00a0<code>/metrics</code>\u00a0\uff0c\u65e0\u9700\u7279\u6b8a\u914d\u7f6e\u3002\u5bf9\u4e8e\u8fdc\u7a0bmetrics\uff0c\u901a\u7528\u914d\u7f6e\u65b9\u6cd5\u975e\u5e38\u7c7b\u4f3c\u00a0Blackbox Exporter\u00a0(\u9ed1\u76d2\u6d4b\u8bd5HTTP,HTTPS,DNS,TCP,ICMP\u548cgRPC)\uff0c\u53ea\u9700\u8981\u7b80\u5355\u4f7f\u7528\u00a0<code>target</code>\u00a0\u548c\u00a0<code>module</code>\u00a0URL\u53c2\u6570\u544a\u77e5IPMI\u8bbe\u5907\u5165\u53e3\u5373\u53ef\u3002\u53ef\u4ee5\u5bf9\u6570\u4ee5\u5343\u8ba1\u7684IPMI\u8bbe\u5907\u8fdb\u884cmetrics\u8f93\u51fa\u3002</p> <p>\u5bf9\u4e8e\u672c\u5730ipmi\u65e0\u9700\u5bc6\u7801\u8d26\u53f7\uff0c\u5bf9\u4e8e\u8fdc\u7a0bipmi\uff0c\u5219\u8981\u63d0\u4f9bIPMI\u8bbe\u5907\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002\u6b64\u5916\uff0c\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u00a0<code>blacklist</code>\u00a0\u5c4f\u853d\u6389 FreeIPMI \u4e0d\u652f\u6301\u7684\u7279\u6b8aOEM\u4f20\u611f\u5668\u3002</p> <ul> <li>\u53c2\u8003\uff1a<ul> <li>https://cloud-atlas.readthedocs.io/zh-cn/latest/kubernetes/monitor/prometheus/prometheus_exporters/ipmi_exporter.html</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/ipmi_export/#ipmi-export","title":"\u5b89\u88c5IPMI export","text":"<ul> <li>\u9700\u8981\u5148\u5b89\u88c5go\u73af\u5883\u548cgit\u5de5\u5177\uff08\u8fc7\u7a0b\u5ffd\u7565\uff09</li> <li>\u4e0b\u8f7dIPMI export\u4ed3\u5e93\uff1a<ul> <li>git clone https://github.com/prometheus-community/ipmi_exporter.git</li> </ul> </li> <li>\u5b89\u88c5README\u8fdb\u884c\u7f16\u8bd1\u4e8c\u8fdb\u5236\u6587\u4ef6</li> <li>\u542f\u52a8docker\u5bb9\u5668\uff1a<ul> <li>\u53ef\u4ee5\u4ece\u770b\u4e0bDockerfile\u548c</li> <li>\u9700\u8981\u628a\u7f16\u8bd1\u597d\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 .build/${OS}-${ARCH}/ipmi_exporter<ul> <li>amd64 linux\u7cfb\u7edf\u901a\u5e38\u5728.build/linux-amd64/</li> </ul> </li> <li>\u4fee\u6539docker-compose.yml</li> </ul> </li> </ul> <pre><code># version: '3.7'\nservices:\n  ipmi_exporter:\n    build:\n      context: .\n    command: --config.file /config.yml\n    volumes:\n      - ./ipmi_local.yml:/config.yml:ro    # replace with your own config\n    ports:\n      - 9289:9290                           # bind on 0.0.0.0\n      # - 127.0.0.1:9290:9290               # or bind to specific interface\n    hostname: ipmi_exporter_docker\n    restart: always\n    user: root\n    privileged: true\n</code></pre> <pre><code>- \u4fee\u6539./ipmi_local.yml\n</code></pre> <pre><code>modules:\n  default:\n    collectors:\n      - bmc\n      - bmc-watchdog\n      - ipmi\n      - chassis\n      - dcmi\n      - sel\n      - sel-events\n      - sm-lan-mode\n    sel_events:\n      - name: correctable_memory_error\n        regex: Correctable memory error.*\n</code></pre> <ul> <li>\u542f\u52a8\u5bb9\u5668IPMI export\uff1a</li> </ul> <pre><code>docker compose -f ./docker-compose.yml up -d\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/ipmi_export/#prometheus","title":"\u52a0\u5165prometheus","text":"<ul> <li>prometheus\u5b89\u88c5\uff1a<ul> <li>docker run -d -p 9090:9090 -it prom/prometheus</li> </ul> </li> <li>\u4fee\u6539prometheus\u914d\u7f6e/etc/prometheus/prometheus.yml<ul> <li>\u52a0\u5165\u914d\u7f6e(\u66ff\u6362\u6210\u81ea\u5df1\u7684IP)</li> </ul> </li> </ul> <pre><code>  - job_name: \"ipmi_export\"\n    static_configs:\n      - targets: [\"38.175.45.22:9289\"]\n</code></pre> <ul> <li>\u91cd\u542fprometheus\u5bb9\u5668</li> <li>\u9a8c\u8bc1\u6307\u6807\u91c7\u96c6\uff1a<ul> <li>curl -s 'http://localhost:9090/api/v1/label/name/values' 2&gt;&amp;1|jq .|grep ipmi</li> </ul> </li> </ul> <pre><code>[root@localhost ipmi_exporter]# curl -s 'http://localhost:9090/api/v1/label/__name__/values' 2&gt;&amp;1|jq .|grep ipmi\n    \"ipmi_bmc_info\",\n    \"ipmi_bmc_watchdog_current_countdown_seconds\",\n    \"ipmi_bmc_watchdog_initial_countdown_seconds\",\n    \"ipmi_bmc_watchdog_logging_state\",\n    \"ipmi_bmc_watchdog_pretimeout_interrupt_state\",\n    \"ipmi_bmc_watchdog_pretimeout_interval_seconds\",\n    \"ipmi_bmc_watchdog_timeout_action_state\",\n    \"ipmi_bmc_watchdog_timer_state\",\n    \"ipmi_bmc_watchdog_timer_use_state\",\n    \"ipmi_chassis_cooling_fault_state\",\n    \"ipmi_chassis_drive_fault_state\",\n    \"ipmi_chassis_power_state\",\n    \"ipmi_dcmi_power_consumption_watts\",\n    \"ipmi_exporter_build_info\",\n    \"ipmi_fan_speed\",\n    \"ipmi_fan_speed_rpm\",\n    \"ipmi_fan_speed_state\",\n    \"ipmi_power_state\",\n    \"ipmi_power_supply_status\",\n    \"ipmi_power_watts\",\n    \"ipmi_scrape_duration_seconds\",\n    \"ipmi_sel_events_count_by_name\",\n    \"ipmi_sel_events_count_by_state\",\n    \"ipmi_sel_events_latest_timestamp\",\n    \"ipmi_sel_free_space_bytes\",\n    \"ipmi_sel_logs_count\",\n    \"ipmi_sensor_state\",\n    \"ipmi_sensor_value\",\n    \"ipmi_temperature_celsius\",\n    \"ipmi_temperature_state\",\n    \"ipmi_temperatures\",\n    \"ipmi_up\",\n    \"ipmi_voltage_state\",\n    \"ipmi_voltage_volts\",\n    \"ipmi_voltages\",\n</code></pre> <ul> <li>\u53ef\u4ee5\u8bbf\u95eelocalhost:9090\u8fdb\u5165prometheus\u9875\u9762</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/ipmi_export/#grafana","title":"grafana\u5c55\u793a","text":"<ul> <li>grafana \u90e8\u7f72:<ul> <li>docker run -d -p 3000:3000 -it grafana/grafana</li> </ul> </li> <li>\u8bbf\u95ee$ip:3000 \u5373\u53ef\u8fdb\u5165grafan\u7684web\u9875\u9762\uff0c\u9ed8\u8ba4\u767b\u5f55 admin/admin<ul> <li>\u3010connection\u3011-&gt; \u3010Data source\u3011\u4e2d\u6dfb\u52a0\u4f60\u7684promethues</li> </ul> </li> <li>grafana\u793e\u533a\u5bf9\u4e8eipmi export \u6709\u4e2a\u9ed8\u8ba4\u7684dashboard\uff0c\u53c2\u8003\uff1a<ul> <li>https://grafana.com/grafana/dashboards/15765-ipmi-exporter/</li> </ul> </li> <li>\u5bfc\u5165dashboard<ul> <li>\u590d\u5236\u5176dashboard ID \uff0c\u5728\u3010Dashboard\u3011-&gt; \u3010import\u3011\u4e2d\u8f93\u5165\u5373\u53ef\u5bfc\u5165</li> </ul> </li> <li>\u53ef\u4ee5\u67e5\u770b\u5b98\u65b9\u7684\u793a\u4f8b\uff1a<ul> <li>https://grafana.com/api/dashboards/15765/images/11665/image</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/node_export/010-node_export%E5%AE%89%E8%A3%85/","title":"010 node export\u5b89\u88c5","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/node_export/010-node_export%E5%AE%89%E8%A3%85/#node_exporter","title":"\u4e00\u3001\u4e0b\u8f7d\u5e76\u5b89\u88c5 node_exporter","text":"<ol> <li>\u524d\u5f80 Prometheus \u5b98\u7f51\u4e0b\u8f7d\u5730\u5740\uff1a</li> </ol> <pre><code>https://prometheus.io/download/#node_exporter\n</code></pre> <pre><code>\u9009\u62e9\u4f60\u9700\u8981\u7684\u7248\u672c\u3002\u4f8b\u5982\uff1a\n</code></pre> <pre><code>wget https://github.com/prometheus/node_exporter/releases/download/v1.8.1/node_exporter-1.8.1.linux-amd64.tar.gz\n</code></pre> <ol> <li>\u89e3\u538b\u5e76\u79fb\u52a8\u5230\u7cfb\u7edf\u76ee\u5f55\uff1a</li> </ol> <pre><code>tar -xvf node_exporter-1.8.1.linux-amd64.tar.gz\ncd node_exporter-1.8.1.linux-amd64\nsudo mv node_exporter /usr/local/bin/\n</code></pre> <ol> <li>\u68c0\u67e5\u662f\u5426\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\uff1a</li> </ol> <pre><code>/usr/local/bin/node_exporter --version\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/node_export/010-node_export%E5%AE%89%E8%A3%85/#systemd","title":"\u4e8c\u3001\u521b\u5efa systemd \u7ba1\u7406\u914d\u7f6e","text":"<ol> <li>\u521b\u5efa <code>node_exporter</code> \u7528\u6237\uff08\u53ef\u9009\uff09\uff1a</li> </ol> <pre><code>sudo useradd -rs /bin/false node_exporter\n</code></pre> <ol> <li>\u521b\u5efa systemd \u670d\u52a1\u6587\u4ef6\uff1a</li> </ol> <pre><code>sudo tee /etc/systemd/system/node_exporter.service &gt; /dev/null &lt;&lt;EOF\n[Unit]\nDescription=Node Exporter\nAfter=network.target\n\n[Service]\nUser=node_exporter\nGroup=node_exporter\nType=simple\nExecStart=/usr/local/bin/node_exporter\nRestart=on-failure\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/node_export/010-node_export%E5%AE%89%E8%A3%85/#_1","title":"\u4e09\u3001\u542f\u52a8\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f","text":"<pre><code># \u91cd\u65b0\u52a0\u8f7d systemd\nsudo systemctl daemon-reexec\nsudo systemctl daemon-reload\n\n# \u542f\u52a8\u670d\u52a1\nsudo systemctl start node_exporter\n\n# \u8bbe\u7f6e\u5f00\u673a\u542f\u52a8\nsudo systemctl enable node_exporter\n\n# \u67e5\u770b\u72b6\u6001\nsudo systemctl status node_exporter\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/node_export/010-node_export%E5%AE%89%E8%A3%85/#_2","title":"\u56db\u3001\u9a8c\u8bc1\u662f\u5426\u8fd0\u884c\u6210\u529f","text":"<pre><code>curl http://localhost:9100/metrics\n</code></pre> <p>\u9ed8\u8ba4\u7aef\u53e3\u662f <code>9100</code>\uff0c\u53ef\u5728\u6d4f\u89c8\u5668\u6216 Prometheus \u4e2d\u914d\u7f6e\u8bbf\u95ee\u8be5\u8282\u70b9\u6307\u6807\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/node_export/020-p8s%E9%85%8D%E7%BD%AE%E9%87%87%E9%9B%86node_export/","title":"020 p8s\u914d\u7f6e\u91c7\u96c6node export","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/node_export/020-p8s%E9%85%8D%E7%BD%AE%E9%87%87%E9%9B%86node_export/#_1","title":"\u4e00\u3001\u57fa\u672c\u914d\u7f6e\u65b9\u6cd5","text":"<p>\u4ee5\u9ed8\u8ba4 <code>node_exporter</code> \u76d1\u542c <code>9100</code> \u7aef\u53e3\u4e3a\u4f8b\uff1a</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/node_export/020-p8s%E9%85%8D%E7%BD%AE%E9%87%87%E9%9B%86node_export/#prometheusyml","title":"\ud83d\udd27 \u7f16\u8f91 <code>prometheus.yml</code>","text":"<pre><code>scrape_configs:\n  - job_name: 'node_exporter'\n    static_configs:\n      - targets: ['localhost:9100']\n</code></pre> <p>\u5982\u679c\u4f60\u91c7\u96c6\u7684\u662f\u5176\u4ed6\u673a\u5668\u7684 <code>node_exporter</code>\uff0c\u53ea\u9700\u8981\u5c06 <code>localhost</code> \u66ff\u6362\u6210\u5bf9\u5e94 IP \u6216\u4e3b\u673a\u540d\uff0c\u4f8b\u5982\uff1a</p> <pre><code>- targets: ['192.168.1.100:9100', '192.168.1.101:9100']\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/node_export/020-p8s%E9%85%8D%E7%BD%AE%E9%87%87%E9%9B%86node_export/#_2","title":"\u4e8c\u3001\u652f\u6301\u6807\u7b7e\uff08\u53ef\u9009\uff09","text":"<p>\u53ef\u4ee5\u52a0\u4e0a\u6807\u7b7e\u6807\u8bc6\u6765\u6e90\u673a\u5668\uff1a</p> <pre><code>scrape_configs:\n  - job_name: 'node_exporter'\n    static_configs:\n      - targets: ['192.168.1.100:9100']\n        labels:\n          instance: 'node-1'\n      - targets: ['192.168.1.101:9100']\n        labels:\n          instance: 'node-2'\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/node_export/020-p8s%E9%85%8D%E7%BD%AE%E9%87%87%E9%9B%86node_export/#prometheus","title":"\u4e09\u3001Prometheus \u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e","text":"<ol> <li>\u65b9\u5f0f\u4e00\uff1a\u91cd\u542f Prometheus \u670d\u52a1</li> </ol> <pre><code>sudo systemctl restart prometheus\n</code></pre> <ol> <li>\u65b9\u5f0f\u4e8c\uff1a\u70ed\u52a0\u8f7d\u914d\u7f6e</li> </ol> <p>\u5982\u679c\u542f\u7528\u4e86 web \u7ba1\u7406 API\uff08<code>--web.enable-lifecycle</code>\uff09\uff0c\u53ef\u4ee5\u901a\u8fc7 HTTP \u89e6\u53d1\u914d\u7f6e\u70ed\u52a0\u8f7d\uff1a</p> <pre><code>curl -X POST http://localhost:9090/-/reload\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/node_export/020-p8s%E9%85%8D%E7%BD%AE%E9%87%87%E9%9B%86node_export/#_3","title":"\u56db\u3001\u9a8c\u8bc1\u662f\u5426\u6210\u529f\u91c7\u96c6","text":"<p>\u6253\u5f00 Prometheus Web UI\uff1a<code>http://&lt;your-prometheus-ip&gt;:9090</code></p> <ul> <li> <p>\u5728 \"Targets\" \u9875\u9762\u67e5\u770b\u662f\u5426\u91c7\u96c6\u6210\u529f\uff1a</p> <ul> <li>\u6d4f\u89c8\u5668\u8bbf\u95ee\uff1a<code>http://localhost:9090/targets</code></li> </ul> </li> <li> <p>\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728 Prometheus \u7684\u641c\u7d22\u680f\u4e2d\u8f93\u5165\uff1a</p> <p><code>text node_cpu_seconds_total</code></p> </li> <li> <p>\u67e5\u770b\u662f\u5426\u6709\u6570\u636e\u8fd4\u56de\u3002</p> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/prometheus/export/node_export/030-grafana%E5%AF%BC%E5%85%A5node_export%E4%BB%AA%E8%A1%A8%E7%9B%98/","title":"030 grafana\u5bfc\u5165node export\u4eea\u8868\u76d8","text":"<ul> <li> <p>grafana\u5b98\u65b9\u7684node_export\u4eea\u8868\u76d8\u8bf4\u660e\uff1a</p> <ul> <li>https://grafana.com/grafana/dashboards/1860-node-exporter-full/</li> </ul> </li> <li> <p>\u5bfc\u5165\uff1a </p> </li> <li> <p>\u8f93\u5165\u4eea\u8868\u76d8id 1860</p> </li> </ul> <p> - \u5f97\u5230\u9ed8\u8ba4\u7684\u4eea\u8868\u76d8 </p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix/zabbix%20%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/","title":"Zabbix \u76d1\u63a7\u7cfb\u7edf\u539f\u7406","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix/zabbix%20%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/#zabbix","title":"Zabbix \u7b80\u4ecb","text":"<p>Zabbix \u662f\u4e00\u4e2a\u57fa\u4e8e Web \u754c\u9762\u7684\u4f01\u4e1a\u7ea7\u5f00\u6e90\u76d1\u63a7\u89e3\u51b3\u65b9\u6848\uff0c\u5b83\u80fd\u76d1\u63a7\u5404\u79cd\u7f51\u7edc\u53c2\u6570\uff0c\u4fdd\u8bc1\u670d\u52a1\u5668\u7cfb\u7edf\u7684\u5b89\u5168\u8fd0\u8425\uff1b\u5e76\u63d0\u4f9b\u7075\u6d3b\u7684\u901a\u77e5\u673a\u5236\u4ee5\u8ba9\u7cfb\u7edf\u7ba1\u7406\u5458\u5feb\u901f\u5b9a\u4f4d\u5e76\u89e3\u51b3\u5b58\u5728\u7684\u95ee\u9898\u3002</p> <p>Zabbix \u5728\u670d\u52a1\u5668\u548c\u7f51\u7edc\u8bbe\u5907\u76d1\u63a7\u65b9\u5411\u6df1\u8015\u591a\u5e74\uff0c\u5176\u7528\u6237\u4ea7\u54c1\u4f53\u9a8c\u548c\u793e\u533a\u751f\u6001\u90fd\u975e\u5e38\u5b8c\u5584\uff0c\u662f\u76ee\u524d\u56fd\u5185\u5916\u4f01\u4e1a IT \u8fd0\u7ef4\u56e2\u961f\u7684\u9996\u9009\u76d1\u63a7\u5de5\u5177\u4e4b\u4e00\u3002\u7531\u4e8e Zabbix \u7684\u8bbe\u8ba1\u662f\u8d44\u4ea7\u7ba1\u7406\u5f0f\u7684\u8bbe\u8ba1\uff0c\u6240\u4ee5\u65e0\u6cd5\u5e94\u5bf9 Kubernetes \u8fd9\u79cd\u52a8\u6001\u73af\u5883\u7684\u76d1\u63a7\uff0c\u4f46\u662f\u5728\u4f20\u7edf\u7684\u670d\u52a1\u5668\u3001\u7f51\u7edc\u8bbe\u5907\u3001\u6570\u636e\u5e93\u7b49\u76d1\u63a7\u65b9\u5411\uff0cZabbix \u4ecd\u7136\u662f\u4e00\u4e2a\u975e\u5e38\u597d\u7684\u9009\u62e9\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix/zabbix%20%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/#zabbix_1","title":"Zabbix \u67b6\u6784","text":"<p>Zabbix \u7684\u67b6\u6784\u901a\u5e38\u5305\u62ec\u4ee5\u4e0b\u7ec4\u4ef6\uff1a</p> <ul> <li>Zabbix Server\uff1a\u6838\u5fc3\u7ec4\u4ef6\uff0c\u8d1f\u8d23\u6570\u636e\u63a5\u6536\u3001\u5904\u7406\u548c\u5b58\u50a8\u3002\u5b83\u4ece\u4ee3\u7406\u548c\u76f4\u63a5\u76d1\u63a7\u7684\u8bbe\u5907\u6536\u96c6\u6570\u636e\uff0c\u5e76\u6267\u884c\u62a5\u8b66\u903b\u8f91\u3002</li> <li>Zabbix Agent\uff1a\u5b89\u88c5\u5728\u88ab\u76d1\u63a7\u4e3b\u673a\u4e0a\u7684\u4ee3\u7406\uff0c\u8d1f\u8d23\u6536\u96c6\u4e3b\u673a\u7684\u6027\u80fd\u548c\u72b6\u6001\u6570\u636e\uff0c\u5e76\u5c06\u5176\u53d1\u9001\u5230 Zabbix Server\u3002</li> <li>\u6570\u636e\u5e93\uff1a\u7528\u4e8e\u5b58\u50a8 Zabbix \u6536\u96c6\u5230\u7684\u6240\u6709\u76d1\u63a7\u6570\u636e\u3001\u914d\u7f6e\u548c\u62a5\u8b66\u4fe1\u606f\u3002\u652f\u6301 MySQL\u3001PostgreSQL\u3001SQLite \u7b49\u6570\u636e\u5e93\u3002</li> <li>Web \u754c\u9762\uff1a\u7528\u4e8e\u7528\u6237\u4e0e Zabbix \u670d\u52a1\u5668\u4ea4\u4e92\u7684\u754c\u9762\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u5b83\u67e5\u770b\u76d1\u63a7\u6570\u636e\u3001\u914d\u7f6e\u76d1\u63a7\u9879\u548c\u8bbe\u7f6e\u544a\u8b66\u3002</li> <li>Zabbix Proxy\uff1a\u53ef\u9009\u7ec4\u4ef6\uff0c\u901a\u5e38\u7528\u4e8e\u5206\u5e03\u5f0f\u76d1\u63a7\u3002\u5b83\u53ef\u4ee5\u5728\u7f51\u7edc\u8fb9\u7f18\u6536\u96c6\u6570\u636e\uff0c\u7136\u540e\u5c06\u6570\u636e\u53d1\u9001\u5230 Zabbix Server\uff0c\u9002\u5408\u5927\u89c4\u6a21\u548c\u590d\u6742\u73af\u5883\u3002</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix/zabbix%20%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/#zabbix_2","title":"Zabbix \u76d1\u63a7\u6570\u636e\u91c7\u96c6","text":"<p>Zabbix \u652f\u6301\u591a\u79cd\u6570\u636e\u6536\u96c6\u65b9\u5f0f\uff0c\u5305\u62ec\uff1a</p> <ul> <li>PUSH\uff1aZabbix Agent \u4e3b\u52a8\u5411 Zabbix Server \u53d1\u9001\u6570\u636e\u3002</li> <li>PULL\uff1aZabbix Server \u4e3b\u52a8\u8bf7\u6c42 Zabbix Agent \u63d0\u4f9b\u6570\u636e\u3002</li> <li>\u65e0\u4ee3\u7406\u76d1\u63a7\uff1aZabbix \u53ef\u4ee5\u901a\u8fc7 SNMP\u3001IPMI\u3001JMX \u7b49\u534f\u8bae\u76f4\u63a5\u4ece\u8bbe\u5907\u6536\u96c6\u6570\u636e\uff0c\u65e0\u9700\u5b89\u88c5\u4ee3\u7406\u3002\u672c\u8d28\u53ef\u4ee5\u770b\u5230\u662f\u4e00\u79cd PULL \u65b9\u5f0f\u3002</li> </ul> <p>\u76d1\u63a7\u9886\u57df\uff0c\u5173\u4e8e\u6570\u636e\u91c7\u96c6\u6709\u4e24\u79cd\u5178\u578b\u65b9\u5f0f\uff0c\u4e00\u4e2a\u662f PULL\uff0c\u4e00\u4e2a\u662f PUSH\u3002</p> <ul> <li>PUSH\uff1aAgent \u4e3b\u52a8\u63a8\u9001\u6570\u636e\u5230 Server\uff0cServer \u88ab\u52a8\u63a5\u6536\u6570\u636e\u3002\u5bf9\u7f51\u7edc ACL \u53cb\u597d\uff0c\u5f88\u591a\u516c\u53f8\u4f1a\u6709\u4e00\u4e9b\u7279\u6b8a\u7684\u7684\u7f51\u7edc\u9694\u79bb\u533a\uff0c\u8fd9\u4e9b\u9694\u79bb\u533a\u53ef\u4ee5\u8c03\u7528\u5916\u90e8\u7684\u670d\u52a1\uff0c\u4f46\u662f\u5916\u90e8\u7684\u670d\u52a1\u65e0\u6cd5\u8c03\u7528\u9694\u79bb\u533a\u7684\u670d\u52a1\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cPUSH \u7684\u65b9\u5f0f\u5c31\u6bd4\u8f83\u9002\u5408\u3002</li> <li>PULL\uff1aServer \u4e3b\u52a8\u62c9\u53d6 Agent \u7684\u6570\u636e\u3002\u5728\u4e00\u4e9b\u8c03\u8bd5\u7684\u573a\u666f\u4e0b\uff0c\u7531\u4e8e\u64cd\u4f5c\u662f\u540c\u6b65\u5b8c\u6210\u7684\u4f53\u9a8c\u66f4\u597d\u3002PULL \u7684\u65b9\u5f0f\u9700\u8981\u77e5\u9053 Agent \u7684 IP \u5730\u5740\uff0cZabbix \u53ef\u4ee5\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u662f\u56e0\u4e3a Zabbix \u9762\u5411\u7684\u573a\u666f\u76f8\u5bf9\u8001\u4e00\u4e9b\uff0c\u4e3b\u8981\u662f\u9762\u5411\u56fa\u5b9a\u7684\u670d\u52a1\u5668\u3001\u7f51\u7edc\u8bbe\u5907\uff0c\u4f46\u662f\u5982\u679c\u662f\u9762\u5411 Kubernetes \u8fd9\u79cd\u52a8\u6001\u73af\u5883\uff0cPULL \u7684\u65b9\u5f0f\u5c31\u4e0d\u592a\u9002\u5408\u4e86\u3002</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix/zabbix%20%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/#zabbix-server","title":"Zabbix Server","text":"<p>Zabbix Server \u662f Zabbix \u76d1\u63a7\u7cfb\u7edf\u6700\u6838\u5fc3\u7684\u7ec4\u4ef6\uff0c\u8d1f\u8d23\u6570\u636e\u7684\u63a5\u6536\u3001\u5904\u7406\u3001\u5b58\u50a8\u548c\u7ba1\u7406\u3002\u5b83\u5728\u6574\u4e2a Zabbix \u76d1\u63a7\u67b6\u6784\u4e2d\u53d1\u6325\u7740\u81f3\u5173\u91cd\u8981\u7684\u4f5c\u7528\u3002\u4ee5\u4e0b\u662f\u5bf9 Zabbix Server \u7684\u8be6\u7ec6\u4ecb\u7ecd\uff1a</p> <ul> <li>\u6570\u636e\u63a5\u6536\uff1aZabbix Server \u4ece Zabbix Agent\u3001Zabbix Proxy \u548c\u76f4\u63a5\u76d1\u63a7\u7684\u8bbe\u5907\uff08\u5982 SNMP \u8bbe\u5907\uff09\u63a5\u6536\u76d1\u63a7\u6570\u636e\u3002</li> <li>\u6570\u636e\u5b58\u50a8\uff1a\u5c06\u6536\u96c6\u5230\u7684\u6570\u636e\u5b58\u50a8\u5728\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\uff08\u5982 MySQL\u3001PostgreSQL\u3001SQLite \u7b49\uff09\uff0c\u4fbf\u4e8e\u540e\u7eed\u67e5\u8be2\u548c\u5206\u6790\u3002</li> <li>\u6570\u636e\u5904\u7406\uff1a\u6839\u636e\u5b9a\u4e49\u7684\u76d1\u63a7\u9879\u548c\u89e6\u53d1\u5668\uff0c\u5bf9\u6536\u96c6\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\uff0c\u5982\u8ba1\u7b97\u8d8b\u52bf\u3001\u751f\u6210\u544a\u8b66\u7b49\u3002</li> <li>\u544a\u8b66\u7ba1\u7406\uff1a\u6839\u636e\u89e6\u53d1\u5668\u7684\u6761\u4ef6\u751f\u6210\u544a\u8b66\uff0c\u5e76\u901a\u8fc7\u914d\u7f6e\u7684\u901a\u77e5\u65b9\u5f0f\uff08\u5982\u7535\u5b50\u90ae\u4ef6\u3001\u77ed\u4fe1\u3001Webhook \u7b49\uff09\u53d1\u9001\u7ed9\u76f8\u5173\u4eba\u5458\u3002</li> </ul> <p>\u5373\uff1aZabbix Server \u8d1f\u8d23\u51e0\u4e4e\u6240\u6709\u6838\u5fc3\u903b\u8f91\uff0c\u9875\u9762\u4e0a\u7684\u914d\u7f6e\u662f\u901a\u8fc7 PHP \u7684 WEB \u5199\u5165 DB\uff0c\u7136\u540e Zabbix Server \u8bfb\u53d6 DB\uff0c\u7136\u540e\u6267\u884c\u76d1\u63a7\u903b\u8f91\u3002\u5982\u679c\u662f\u901a\u8fc7 JMX\u3001SNMP \u7b49\u65b9\u5f0f\uff0cZabbix Server \u81ea\u5df1\u5c31\u641e\u5b9a\u4e86\uff0c\u5982\u679c\u8981\u91c7\u96c6\u76ee\u6807\u673a\u5668\u7684 CPU\u3001\u5185\u5b58\u7b49\u6307\u6807\uff0c\u5219\u9700\u8981 Zabbix agent \u914d\u5408\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix/zabbix%20%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/#zabbix-agent","title":"Zabbix Agent","text":"<p>Zabbix agent \u6838\u5fc3\u4f5c\u7528\u5c31\u662f\u91c7\u96c6\u6570\u636e\uff0c\u7136\u540e\u53d1\u9001\u7ed9 Zabbix Server\u3002\u4f46\u662f Zabbix agent \u4e0d\u53ef\u80fd\u6240\u6709\u6570\u636e\uff0c\u6240\u4ee5 Zabbix agent \u652f\u6301\u6269\u5c55\u673a\u5236\uff0c\u6269\u5c55\u673a\u5236\u5c31\u662f\u4e00\u5806\u811a\u672c\uff0c\u6574\u4f53\u611f\u89c9\uff0c\u4e0d\u5982 Prometheus \u7684 exporter \u673a\u5236\u66f4\u52a0\u89c4\u6574\u548c\u7075\u6d3b\u3002</p> <p>Zabbix agent \u6709\u4e24\u4e2a\u7248\u672c\uff0c\u4e00\u4e2a\u662f Zabbix agent\uff0c\u4e00\u4e2a\u662f Zabbix agent 2\u3002Zabbix agent 2 \u662f\u4e00\u4e2a\u5168\u65b0\u7684 agent\uff0cagent 2 \u4e3b\u8981\u91c7\u7528 Go \u8bed\u8a00\u7f16\u5199\uff0c\u8001\u7684 agent \u662f C \u7f16\u5199\uff0c\u8001\u7684 agent \u76f8\u5bf9\u6765\u8bb2\u66f4\u7a33\u5b9a\uff0c\u4f46\u662f\u672a\u6765\u4e3b\u529b\u8981\u53d1\u5c55\u7684\u5e94\u8be5\u8fd8\u662f agent 2\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix/zabbix%20%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/#zabbix-proxy","title":"Zabbix Proxy","text":"<p>Zabbix Proxy \u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u4e0d\u8fc7\u5728\u4e00\u4e9b\u573a\u666f\u4e0b\u6709\u5176\u91cd\u8981\u6027\uff0cZabbix Proxy \u4e3b\u8981\u89e3\u51b3\u5982\u4e0b\u95ee\u9898\u573a\u666f\uff1a</p> <ol> <li> <p>\u5206\u5e03\u5f0f\u76d1\u63a7</p> </li> <li> <p>\u5730\u7406\u5206\u5e03\uff1a\u5728\u5927\u578b\u4f01\u4e1a\u6216\u591a\u5730\u70b9\u7684\u73af\u5883\u4e2d\uff0cZabbix Proxy \u53ef\u4ee5\u90e8\u7f72\u5728\u5404\u4e2a\u5730\u7406\u4f4d\u7f6e\uff0c\u6536\u96c6\u672c\u5730\u7684\u76d1\u63a7\u6570\u636e\u5e76\u5c06\u5176\u53d1\u9001\u5230 Zabbix Server\u3002\u8fd9\u79cd\u65b9\u5f0f\u51cf\u5c11\u4e86\u8de8\u7f51\u7edc\u7684\u5ef6\u8fdf\uff0c\u63d0\u9ad8\u4e86\u6570\u636e\u6536\u96c6\u7684\u6548\u7387\u3002</p> </li> <li> <p>\u7f51\u7edc\u5e26\u5bbd\u7ba1\u7406</p> </li> <li> <p>\u51cf\u5c11\u5e26\u5bbd\u5360\u7528\uff1a\u901a\u8fc7\u5728\u672c\u5730\u6536\u96c6\u6570\u636e\u5e76\u7f13\u51b2\uff0cZabbix Proxy \u53ef\u4ee5\u51cf\u5c11\u5bf9 Zabbix Server \u7684\u76f4\u63a5\u7f51\u7edc\u8bf7\u6c42\uff0c\u51cf\u5c11\u5e26\u5bbd\u4f7f\u7528\u3002\u5b83\u53ef\u4ee5\u5b9a\u671f\u5c06\u6536\u96c6\u7684\u6570\u636e\u6279\u91cf\u53d1\u9001\u5230 Zabbix Server\uff0c\u800c\u4e0d\u662f\u5b9e\u65f6\u53d1\u9001\u3002</p> </li> <li> <p>\u5b89\u5168\u6027</p> </li> <li> <p>\u9632\u706b\u5899\u548cNAT\uff1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0cZabbix Agent \u53ef\u80fd\u65e0\u6cd5\u76f4\u63a5\u4e0e Zabbix Server \u8fdb\u884c\u901a\u4fe1\uff08\u4f8b\u5982\uff0c\u51fa\u4e8e\u5b89\u5168\u539f\u56e0\u88ab\u9632\u706b\u5899\u963b\u6b62\u6216\u5728 NAT \u540e\u9762\uff09\u3002Zabbix Proxy \u53ef\u4ee5\u5728\u5141\u8bb8\u7684\u7f51\u7edc\u73af\u5883\u4e2d\u8fd0\u884c\uff0c\u4f5c\u4e3a\u4e2d\u4ecb\uff0c\u6536\u96c6\u6570\u636e\u5e76\u5b89\u5168\u5730\u5c06\u5176\u8f6c\u53d1\u5230 Zabbix Server\u3002</p> </li> <li> <p>\u6545\u969c\u5bb9\u9519</p> </li> <li> <p>\u6570\u636e\u7f13\u51b2\uff1a\u5982\u679c Zabbix Server \u4e34\u65f6\u4e0d\u53ef\u7528\uff0cZabbix Proxy \u53ef\u4ee5\u5728\u672c\u5730\u7f13\u5b58\u6570\u636e\uff0c\u5f85\u670d\u52a1\u5668\u6062\u590d\u540e\u518d\u53d1\u9001\u3002\u8fd9\u786e\u4fdd\u4e86\u6570\u636e\u4e0d\u4f1a\u56e0\u4e3a\u670d\u52a1\u5668\u7684\u77ed\u6682\u6545\u969c\u800c\u4e22\u5931\u3002</p> </li> <li> <p>\u76d1\u63a7\u8d1f\u8f7d\u5206\u62c5</p> </li> <li> <p>\u964d\u4f4e Zabbix Server \u8d1f\u8f7d\uff1a\u901a\u8fc7\u5c06\u76d1\u63a7\u6570\u636e\u7684\u6536\u96c6\u548c\u9884\u5904\u7406\u5206\u6563\u5230\u591a\u4e2a Zabbix Proxy\uff0cZabbix Server \u7684\u8d1f\u8f7d\u53ef\u4ee5\u663e\u8457\u964d\u4f4e\u3002\u8fd9\u5bf9\u4e8e\u9ad8\u5bc6\u5ea6\u76d1\u63a7\u73af\u5883\u5c24\u5176\u91cd\u8981\uff0c\u80fd\u63d0\u5347\u6574\u4f53\u6027\u80fd\u3002</p> </li> </ol>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix/zabbix%20%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/#zabbix_3","title":"Zabbix \u6570\u636e\u5b58\u50a8","text":"<p>Zabbix \u4f5c\u4e3a\u4e00\u6b3e\u76d1\u63a7\u7cfb\u7edf\uff0c\u4e3b\u8981\u6709\u4e24\u7c7b\u6570\u636e\u8981\u5b58\uff0c\u4e00\u7c7b\u662f\u914d\u7f6e\u7c7b\u6570\u636e\uff0c\u4f7f\u7528 RDBMS \u5b58\u50a8\uff0c\u53e6\u4e00\u7c7b\u662f\u76d1\u63a7\u65f6\u5e8f\u6570\u636e\uff0c\u8fd8\u662f\u4f7f\u7528\u00a0RDBMS\u00a0\u5b58\u50a8\u3002\u65f6\u5e8f\u6570\u636e\u901a\u5e38\u91cf\u5f88\u5927\uff0c\u4f7f\u7528 RDBMS \u5e76\u4e0d\u592a\u5408\u9002\uff0c\u65b0\u7684\u793e\u533a\u65b9\u6848\uff0c\u4e00\u822c\u90fd\u662f\u901a\u8fc7\u4e13\u95e8\u7684\u65f6\u5e8f\u5e93\u6765\u5b58\u50a8\u65f6\u5e8f\u6570\u636e\u3002</p> <p>\u4e0d\u8fc7\u540e\u6765 Zabbix \u53ef\u4ee5\u4f7f\u7528 TimeScaleDB \u5b58\u50a8\u65f6\u5e8f\u6570\u636e\uff0c\u4f46\u662f TimeScaleDB \u8fd8\u662f\u6784\u5efa\u5728 PG \u4e4b\u4e0a\u7684\uff0c\u6bd4 VictoriaMetrics \u4e4b\u7c7b\u7684\u8fd8\u662f\u5dee\u70b9\u610f\u601d\u3002\u6240\u4ee5\u5f88\u591a Zabbix \u7684\u7528\u6237\uff0c\u4e00\u822c\u91c7\u96c6\u9891\u7387\u90fd\u8bbe\u7f6e\u7684\u76f8\u5bf9\u5927\u4e00\u4e9b\uff0c\u6bd4\u5982 1m \u91c7\u96c6\u4e00\u6b21\uff0c\u800c Prometheus \u751f\u6001\u4e00\u822c\u662f 15s \u91c7\u96c6\u4e00\u6b21\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix/zabbix%20%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/#_1","title":"\u603b\u7ed3","text":"<p>Zabbix \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684\u76d1\u63a7\u7cfb\u7edf\uff0c\u5177\u6709\u4e30\u5bcc\u7684\u529f\u80fd\u548c\u7075\u6d3b\u7684\u914d\u7f6e\u9009\u9879\uff0c\u9002\u7528\u4e8e\u5404\u79cd\u89c4\u6a21\u7684 IT \u73af\u5883\u3002\u901a\u8fc7 Zabbix\uff0c\u7528\u6237\u53ef\u4ee5\u76d1\u63a7\u670d\u52a1\u5668\u3001\u7f51\u7edc\u8bbe\u5907\u3001\u6570\u636e\u5e93\u3001\u5e94\u7528\u7a0b\u5e8f\u7b49\u5404\u79cd\u8d44\u6e90\uff0c\u5e76\u5b9e\u65f6\u4e86\u89e3\u5176\u6027\u80fd\u548c\u72b6\u6001\u3002\u540c\u65f6\uff0cZabbix \u8fd8\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u544a\u8b66\u529f\u80fd\uff0c\u53ef\u4ee5\u5e2e\u52a9\u7528\u6237\u53ca\u65f6\u53d1\u73b0\u548c\u89e3\u51b3\u95ee\u9898\uff0c\u786e\u4fdd\u7cfb\u7edf\u7684\u7a33\u5b9a\u8fd0\u884c\u3002</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix/zabbix%20%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/#_2","title":"\u53c2\u8003","text":"<p>https://flashcat.cloud/blog/zabbix-arch/</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix/zabbix%E5%AE%89%E8%A3%85/","title":"Zabbix\u5b89\u88c5","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix/zabbix%E5%AE%89%E8%A3%85/#_1","title":"\u7b80\u4ecb","text":"<ul> <li> <p>\u53c2\u8003\u5b98\u65b9\u7684\u5b89\u88c5\u8fc7\u7a0b\uff1a</p> <ul> <li>https://www.zabbix.com/cn/download?zabbix=7.4&amp;os_distribution=ubuntu&amp;os_version=22.04&amp;components=server_frontend_agent&amp;db=mysql&amp;ws=nginx</li> </ul> </li> <li> <p>\u5176\u4ed6\u53c2\u8003\uff1a</p> <ul> <li>https://flashcat.cloud/blog/zabbix-install/</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix/zabbix%E5%AE%89%E8%A3%85/#_2","title":"\u8fc7\u7a0b","text":"<ul> <li>\u6211\u8fd9\u8fb9\u4ee5\u672c\u5730\u7684wsl\u7684ubuntu22\u4e3a\u4f8b\uff0c\u5b89\u88c5\uff1a </li> <li>\u8fd9\u8fb9\u9700\u8981\u4f60\u81ea\u5df1\u672c\u5730\u5b89\u88c5\u4e00\u4e2amysql\uff0c \u6309\u7167\u6210\u529f\u540e\u9ed8\u8ba4\u662f\u514d\u5bc6\u767b\u5f55</li> </ul> <pre><code>sudo apt install mysql-server -y\nsudo systemctl start mysql\nsudo systemctl enable mysql\n</code></pre> <ul> <li>\u5176\u4ed6\u7684\u6309\u7167\u6587\u6863\u6309\u7167\u5373\u53ef\uff0c\u5b89\u88c5\u540e\u8bbf\u95ee\u53ef\u4ee5\u901a\u8fc7web\u8bbf\u95eeUI\uff0c \u5b89\u88c5UI\u63d0\u793a\u8fdb\u5165\u9875\u9762\u5b89\u88c5\u5373\u53ef\u4ee5\uff0c\u5982\u679c\u51fa\u73b0\u7c7b\u4f3c Locale for language \"en_US\" is not found on the web server. \u63d0\u793a\u53ef\u4ee5\u6267\u884c\u4e0b\u9762\u547d\u4ee4\u6765\u66f4\u65b0\u672c\u5730\u7684\u8bed\u8a00\u5305</li> </ul> <pre><code>dpkg-reconfigure locales\n</code></pre> <ul> <li>\u66f4\u65b0\u540e\u518d\u91cd\u542f\u670d\u52a1\u5373\u53ef</li> </ul> <pre><code>systemctl restart zabbix-server zabbix-agent nginx php8.1-fpm\n</code></pre> <ul> <li>\u6b63\u5e38\u540e\u5c31\u53ef\u4ee5\u8bbf\u95eezabbix\u7684web ui\u4e86\uff0c\u9ed8\u8ba4\u7684\u8d26\u53f7\u5bc6\u7801\u662fAdmin/zabbix</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/ansible/01-ansible%E8%B5%84%E6%96%99/","title":"01 ansible\u8d44\u6599","text":"<ul> <li>ansible\u5b98\u65b9\u8bf4\u660e\uff1ahttp://www.ansible.com.cn/docs/intro.html</li> <li>ansible-playbook\u5b98\u65b9\u8bf4\u660e\uff1ahttp://www.ansible.com.cn/docs/playbooks_intro.html</li> <li>ansible\u6a21\u5757\u4ecb\u7ecd\uff1ahttp://www.ansible.com.cn/docs/modules_intro.html</li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/ansible/03-ansible%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"03 ansible\u5e38\u7528\u547d\u4ee4","text":"<ul> <li> <p>\u67e5\u770bansible \u7248\u672c\u7b49\u4fe1\u606f\uff1a</p> <ul> <li>ansible --version</li> </ul> </li> <li> <p>ansible\u8fdc\u7a0b\u6267\u884c\u547d\u4ee4</p> <ul> <li>ansible yd-anhui-huainan-23-112-29-218-144 -m command -a 'df -h'</li> </ul> </li> <li> <p>Ansible \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u4f4d\u7f6e</p> <p>export ANSIBLE_CONFIG=/etc/ansible/ansible-wengmq.cfg</p> <p>eg:</p> <p>export ANSIBLE_CONFIG=/etc/ansible/ansible-wengmq.cfg &amp;&amp; ansible aliyun -m shell -a 'df -h'</p> </li> <li> <p>ansible \u6307\u5b9ahost\u6587\u4ef6\u4f4d\u7f6e</p> <ul> <li>export ANSIBLE_INVENTORY=/etc/ansible/wengmq.hosts</li> <li>\u4e5f\u53ef\u4ee5\u5728\u6267\u884c\u7684\u65f6\u5019-i\u6307\u5b9ahost\u6587\u4ef6\u4f4d\u7f6e<ul> <li>ansible -i ./ecs.ini tx_server -m ping</li> </ul> </li> </ul> </li> <li> <p>\u6bcf\u4e2a\u6a21\u5757\u7684\u6587\u6863\u80fd\u591f\u901a\u8fc7\u547d\u4ee4\u884c\u7684 ansible-doc \u5de5\u5177\u6765\u83b7\u53d6</p> <ul> <li>ansible-doc yum</li> </ul> </li> <li> <p>\u5217\u51fa\u6240\u6709\u5df2\u5b89\u88c5\u7684\u6a21\u5757\u6587\u6863 :\u00a0</p> <ul> <li>ansible-doc -l</li> </ul> </li> </ul>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/ansible/04-ansible-playbook%E5%AE%9E%E4%BE%8B/","title":"04 ansible playbook\u5b9e\u4f8b","text":"<pre><code>#!/usr/bin/env ansible-playbook\n- hosts:\n    - 47.102.98.58\n  gather_facts: False\n  become: True\n\n  tasks:\n    - name: copy config\n      copy:\n        src: ./test20210609.txt\n        dest: /tmp\n      register: update_config\n</code></pre> <pre><code>#!/usr/bin/env ansible-playbook\n- hosts:\n    - 47.102.98.58\n  gather_facts: False\n  become: True\n  tasks:\n    - name: \"deploy_aresagent\"\n      shell: | \n        df -h\n        lsblk\n      register: shell_result\n    - debug:\n        var: shell_result.stdout_lines\n</code></pre> <ul> <li>\u6267\u884c\u7ed3\u679c\u5982\u4e0b:iiiii</li> </ul> <pre><code>$ ansible-playbook ./playbook/test.yml\n\nPLAY [tx] *************************************************************************************************************************************\n\nTASK [test df] ********************************************************************************************************************************\nchanged: [150.158.120.220]\n\nTASK [debug] **********************************************************************************************************************************\nok: [150.158.120.220] =&gt; {\n    \"shell_result.stdout_lines\": [\n        \"Filesystem      Size  Used Avail Use% Mounted on\",\n        \"udev            937M     0  937M   0% /dev\",\n        \"tmpfs           198M  732K  197M   1% /run\",\n        \"/dev/vda2        40G  8.1G   30G  22% /\",\n        \"tmpfs           986M   48K  986M   1% /dev/shm\",\n        \"tmpfs           5.0M     0  5.0M   0% /run/lock\",\n        \"tmpfs           986M     0  986M   0% /sys/fs/cgroup\",\n        \"tmpfs           198M     0  198M   0% /run/user/0\"\n    ]\n}\n\nPLAY RECAP ************************************************************************************************************************************\n150.158.120.220            : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0\n\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/ansible/04-ansible-playbook%E5%AE%9E%E4%BE%8B/#test20210609txt-471029858-tmp","title":"\u5c06\u5f53\u524d\u76ee\u5f55\u4e0b\u7684./test20210609.txt \u590d\u5236\u5230\u4e3b\u673a47.102.98.58 \u7684/tmp \u76ee\u5f55\u4e0b","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/ansible/04-ansible-playbook%E5%AE%9E%E4%BE%8B/#palybookshell","title":"palybook\u6267\u884cshell\u547d\u4ee4\uff0c\u5e76\u4e14\u8fd4\u56de\u6267\u884c\u7ed3\u679c","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/ansible/05-ansbible%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AE%9E%E4%BE%8B/","title":"05 ansbible\u914d\u7f6e\u6587\u4ef6\u5b9e\u4f8b","text":""},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/ansible/05-ansbible%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AE%9E%E4%BE%8B/#ansible","title":"ansible\u57fa\u7840\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e\u548c\u793a\u4f8b","text":"<ul> <li>\u914d\u7f6e\u6587\u4ef6\u89c4\u8303\u8bf4\u660e\uff1ahttp://www.ansible.com.cn/docs/intro_configuration.html#getting-the-latest-configuration</li> </ul> <pre><code>$ cat /etc/ansible/ecs/ansible.cfg\n\n[defaults]\ninventory = ./hosts/ecs.ini\nforks = 32\nremote_user = root \ngathering = explicit\nhost_key_checking = False\nmodule_name = shell\ninterpreter_python = /usr/bin/python3\nprivate_key_file = /Users/wengmq/.ssh/id_rsa\nforce_valid_group_names = ignore\ntimeout = 600\n\n[ssh_connection]\ntransfer_method =  piped\n</code></pre> <p>[!NOTE]</p>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/ansible/05-ansbible%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AE%9E%E4%BE%8B/#defaults","title":"[defaults] \u90e8\u5206","text":"<ol> <li> <p>inventory:</p> <ul> <li>\u8bf4\u660e\uff1a\u6307\u5b9a\u4e3b\u673a\u6e05\u5355\u6587\u4ef6\u7684\u4f4d\u7f6e\uff0c\u8fd9\u91cc\u662f <code>./hosts/ecs.ini</code>\u3002</li> <li>\u7528\u9014\uff1a\u5b9a\u4e49 Ansible \u5728\u6267\u884c\u4efb\u52a1\u65f6\u4f7f\u7528\u7684\u76ee\u6807\u4e3b\u673a\u5217\u8868\u3002</li> <li> <p>forks:</p> </li> <li> <p>\u8bf4\u660e\uff1a\u6307\u5b9a\u5e76\u884c\u6267\u884c\u7684\u6700\u5927\u4efb\u52a1\u6570\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u4e3a 32\u3002</p> </li> <li>\u7528\u9014\uff1a\u63a7\u5236\u5e76\u884c\u8fd0\u884c\u7684\u4efb\u52a1\u6570\uff0c\u4ee5\u63d0\u9ad8\u6267\u884c\u6548\u7387\u3002</li> <li> <p>remote_user:</p> </li> <li> <p>\u8bf4\u660e\uff1a\u6307\u5b9a\u9ed8\u8ba4\u7684\u8fdc\u7a0b\u7528\u6237\uff0c\u8fd9\u91cc\u662f <code>root</code>\u3002</p> </li> <li>\u7528\u9014\uff1a\u5b9a\u4e49 Ansible \u8fde\u63a5\u8fdc\u7a0b\u4e3b\u673a\u65f6\u4f7f\u7528\u7684\u7528\u6237\u3002</li> <li> <p>gathering:</p> </li> <li> <p>\u8bf4\u660e\uff1a\u6307\u5b9a\u4e8b\u5b9e\u6536\u96c6\u7684\u7b56\u7565\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u4e3a <code>explicit</code>\u3002</p> </li> <li>\u7528\u9014\uff1a\u63a7\u5236 Ansible \u5728\u8fd0\u884c\u65f6\u5982\u4f55\u6536\u96c6\u4e3b\u673a\u7684\u4e8b\u5b9e\u4fe1\u606f\u3002<code>explicit</code> \u8868\u793a\u53ea\u5728\u663e\u5f0f\u8c03\u7528\u65f6\u6536\u96c6\u3002</li> <li> <p>host_key_checking:</p> </li> <li> <p>\u8bf4\u660e\uff1a\u7981\u7528\u4e3b\u673a\u5bc6\u94a5\u68c0\u67e5\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u4e3a <code>False</code>\u3002</p> </li> <li>\u7528\u9014\uff1a\u907f\u514d\u9996\u6b21\u8fde\u63a5\u672a\u77e5\u4e3b\u673a\u65f6\u7684\u63d0\u793a\u3002</li> <li> <p>module_name:</p> </li> <li> <p>\u8bf4\u660e\uff1a\u9ed8\u8ba4\u7684\u6a21\u5757\u540d\u79f0\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u4e3a <code>shell</code>\u3002</p> </li> <li>\u7528\u9014\uff1a\u6307\u5b9a\u9ed8\u8ba4\u4f7f\u7528\u7684\u6a21\u5757\uff0c\u901a\u5e38\u5728\u8fd0\u884c <code>ansible</code> \u547d\u4ee4\u65f6\u4f7f\u7528\u3002</li> <li> <p>interpreter_python:</p> </li> <li> <p>\u8bf4\u660e\uff1a\u6307\u5b9a\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u4f7f\u7528\u7684 Python \u89e3\u91ca\u5668\uff0c\u8fd9\u91cc\u662f <code>/usr/bin/python3</code>\u3002</p> </li> <li>\u7528\u9014\uff1a\u786e\u4fdd Ansible \u4f7f\u7528\u6b63\u786e\u7684 Python \u89e3\u91ca\u5668\u3002</li> <li> <p>private_key_file:</p> </li> <li> <p>\u8bf4\u660e\uff1a\u6307\u5b9a\u7528\u4e8e SSH \u8fde\u63a5\u7684\u79c1\u94a5\u6587\u4ef6\u8def\u5f84\uff0c\u8fd9\u91cc\u662f <code>/Users/wengmq/.ssh/id_rsa</code>\u3002</p> </li> <li>\u7528\u9014\uff1a\u5b9a\u4e49 Ansible \u8fde\u63a5\u8fdc\u7a0b\u4e3b\u673a\u65f6\u4f7f\u7528\u7684\u79c1\u94a5\u3002</li> <li> <p>force_valid_group_names:</p> </li> <li> <p>\u8bf4\u660e\uff1a\u6307\u5b9a\u7ec4\u540d\u9a8c\u8bc1\u7b56\u7565\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u4e3a <code>ignore</code>\u3002</p> </li> <li>\u7528\u9014\uff1a\u5ffd\u7565\u65e0\u6548\u7684\u7ec4\u540d\u8b66\u544a\u3002</li> <li> <p>timeout:</p> </li> <li> <p>\u8bf4\u660e\uff1aSSH \u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\uff08\u79d2\uff09\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u4e3a 600\u3002</p> </li> <li>\u7528\u9014\uff1a\u5b9a\u4e49 SSH \u8fde\u63a5\u5728\u8d85\u65f6\u4e4b\u524d\u7684\u7b49\u5f85\u65f6\u95f4\u3002</li> </ul> </li> </ol>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/ansible/05-ansbible%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AE%9E%E4%BE%8B/#ssh_connection","title":"[ssh_connection] \u90e8\u5206","text":"<ol> <li>transfer_method:<ul> <li>\u8bf4\u660e\uff1a\u6307\u5b9a\u6587\u4ef6\u4f20\u8f93\u65b9\u6cd5\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u4e3a <code>piped</code>\u3002</li> <li>\u7528\u9014\uff1a\u5b9a\u4e49 Ansible \u5982\u4f55\u4f20\u8f93\u6587\u4ef6\u5230\u8fdc\u7a0b\u4e3b\u673a\u3002<code>piped</code> \u65b9\u6cd5\u4f1a\u901a\u8fc7 SSH \u7ba1\u9053\u4f20\u8f93\u6570\u636e\u3002</li> </ul> </li> </ol>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/ansible/05-ansbible%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AE%9E%E4%BE%8B/#_1","title":"\u76ee\u6807\u4e3b\u673a\u5217\u8868\u6587\u4ef6","text":"<ul> <li>\u6587\u4ef6\u89c4\u8303\u53c2\u8003\uff1ahttp://www.ansible.com.cn/docs/intro_inventory.html#inventoryformat</li> </ul> <pre><code>cat /etc/ansible/ecs/hosts/ecs.ini\n[tx]\n150.158.120.220\n\n[ali]\n8.222.161.129\n\n[aws]\n54.183.108.229\n</code></pre>"},{"location":"%E7%A8%8B%E5%BA%8F%E8%BD%AF%E4%BB%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/ansible/05-ansbible%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AE%9E%E4%BE%8B/#_2","title":"\u6267\u884c\u793a\u8303","text":"<pre><code># \u9ed8\u8ba4ansible\u4f1a\u4f18\u5148\u4ece\u5f53\u524d\u76ee\u5f55\u67e5\u627eansible.cfg\ncd /etc/ansible/ecs/\n---------------------------------------------------\n# \u5bf9tx\u673a\u5668\u6267\u884cping\u64cd\u4f5c\n$ ansible tx -m ping\n150.158.120.220 | SUCCESS =&gt; {\n    \"changed\": false,\n    \"ping\": \"pong\"\n}\n---------------------------------------------------\n# \u5bf9\u6240\u6709\u673a\u5668\u6267\u884cping\u64cd\u4f5c\n$ ansible all -m ping\n150.158.120.220 | SUCCESS =&gt; {\n    \"changed\": false,\n    \"ping\": \"pong\"\n}\n8.222.161.129 | SUCCESS =&gt; {\n    \"changed\": false,\n    \"ping\": \"pong\"\n}\n54.183.108.229 | SUCCESS =&gt; {\n    \"changed\": false,\n    \"ping\": \"pong\"\n}\n---------------------------------------------------\n# \u5bf9tx\u673a\u5668\u6267\u884cshell\u547d\u4ee4\uff08df -h\uff09\n$ ansible tx -m shell -a \"df -h\"\n150.158.120.220 | CHANGED | rc=0 &gt;&gt;\nFilesystem      Size  Used Avail Use% Mounted on\nudev            937M     0  937M   0% /dev\ntmpfs           198M  732K  197M   1% /run\n/dev/vda2        40G  8.1G   30G  22% /\ntmpfs           986M   48K  986M   1% /dev/shm\ntmpfs           5.0M     0  5.0M   0% /run/lock\ntmpfs           986M     0  986M   0% /sys/fs/cgroup\ntmpfs           198M     0  198M   0% /run/user/0\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/firewall/firewalld%E5%BC%80%E6%94%BE%E6%9F%90%E4%B8%AA%E7%AB%AF%E5%8F%A3/","title":"Firewalld\u5f00\u653e\u67d0\u4e2a\u7aef\u53e3","text":"<p>\u4f8b\u5982\uff0c\u8981\u5728 <code>firewalld</code> \u4e2d\u653e\u901a <code>8632</code> \u7aef\u53e3\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/firewall/firewalld%E5%BC%80%E6%94%BE%E6%9F%90%E4%B8%AA%E7%AB%AF%E5%8F%A3/#1","title":"1\ufe0f\u20e3 \u5f00\u653e\u7aef\u53e3","text":"<pre><code>sudo firewall-cmd --zone=public --add-port=8632/tcp --permanent\n</code></pre> <ul> <li> <p><code>--zone=public</code>: \u4f7f\u7528\u516c\u5171\u533a\u57df\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u5176\u4ed6\u533a\u57df\u8bf7\u66ff\u6362\u3002</p> </li> <li> <p><code>--add-port=8632/tcp</code>: \u6dfb\u52a0 TCP \u534f\u8bae\u7684 8632 \u7aef\u53e3\uff0c\u5982\u679c\u8981\u5f00\u653eUDP\u7aef\u53e3\u8fd9\u8fb9\u9700\u8981\u6539\u6210<code>--add-port=8632/udp</code>\uff0c\u5982\u679c\u9700\u8981\u540c\u65f6\u5f00\u653eudp\u548ctcp\u5219\u9700\u8981\u6267\u884c\u4e24\u6761\u8fd9\u6837\u7684\u547d\u4ee4</p> </li> <li> <p><code>--permanent</code>: \u8bbe\u7f6e\u4e3a\u6c38\u4e45\u751f\u6548\uff08\u91cd\u542f\u540e\u4f9d\u7136\u751f\u6548\uff09\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/firewall/firewalld%E5%BC%80%E6%94%BE%E6%9F%90%E4%B8%AA%E7%AB%AF%E5%8F%A3/#2","title":"2\ufe0f\u20e3 \u91cd\u65b0\u52a0\u8f7d\u9632\u706b\u5899\u914d\u7f6e","text":"<pre><code>sudo firewall-cmd --reload\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/firewall/firewalld%E5%BC%80%E6%94%BE%E6%9F%90%E4%B8%AA%E7%AB%AF%E5%8F%A3/#3","title":"3\ufe0f\u20e3 \u9a8c\u8bc1\u7aef\u53e3\u662f\u5426\u653e\u901a","text":"<pre><code>sudo firewall-cmd --list-ports\n\n</code></pre> <p>\u5982\u679c\u770b\u5230 <code>8632/tcp</code> \u51fa\u73b0\u5728\u5217\u8868\u4e2d\uff0c\u8bf4\u660e\u5df2\u7ecf\u6210\u529f\u653e\u901a\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/firewall/firewall%E5%9F%BA%E7%A1%80%E4%BB%8B%E7%BB%8D/","title":"Firewall\u57fa\u7840\u4ecb\u7ecd","text":"<p>\u53c2\u8003\uff1ahttps://wangchujiang.com/linux-command/c/firewall-cmd.html</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/firewall/firewall%E5%9F%BA%E7%A1%80%E4%BB%8B%E7%BB%8D/#firewall-cmd","title":"firewall-cmd","text":"<p>Linux\u4e0a\u65b0\u7528\u7684\u9632\u706b\u5899\u8f6f\u4ef6\uff0c\u8ddfiptables\u5dee\u4e0d\u591a\u7684\u5de5\u5177</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/firewall/firewall%E5%9F%BA%E7%A1%80%E4%BB%8B%E7%BB%8D/#_1","title":"\u8865\u5145\u8bf4\u660e","text":"<p>firewall-cmd \u662f firewalld\u7684\u5b57\u7b26\u754c\u9762\u7ba1\u7406\u5de5\u5177\uff0cfirewalld\u662fcentos7\u7684\u4e00\u5927\u7279\u6027\uff0c\u6700\u5927\u7684\u597d\u5904\u6709\u4e24\u4e2a\uff1a\u652f\u6301\u52a8\u6001\u66f4\u65b0\uff0c\u4e0d\u7528\u91cd\u542f\u670d\u52a1\uff1b\u7b2c\u4e8c\u4e2a\u5c31\u662f\u52a0\u5165\u4e86\u9632\u706b\u5899\u7684\u201czone\u201d\u6982\u5ff5\u3002</p> <p>firewalld\u8ddfiptables\u6bd4\u8d77\u6765\u81f3\u5c11\u6709\u4e24\u5927\u597d\u5904\uff1a</p> <ol> <li>firewalld\u53ef\u4ee5\u52a8\u6001\u4fee\u6539\u5355\u6761\u89c4\u5219\uff0c\u800c\u4e0d\u9700\u8981\u50cfiptables\u90a3\u6837\uff0c\u5728\u4fee\u6539\u4e86\u89c4\u5219\u540e\u5fc5\u987b\u5f97\u5168\u90e8\u5237\u65b0\u624d\u53ef\u4ee5\u751f\u6548\u3002</li> <li>firewalld\u5728\u4f7f\u7528\u4e0a\u8981\u6bd4iptables\u4eba\u6027\u5316\u5f88\u591a\uff0c\u5373\u4f7f\u4e0d\u660e\u767d\u201c\u4e94\u5f20\u8868\u4e94\u6761\u94fe\u201d\u800c\u4e14\u5bf9TCP/IP\u534f\u8bae\u4e5f\u4e0d\u7406\u89e3\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u5927\u90e8\u5206\u529f\u80fd\u3002</li> </ol> <p>firewalld\u81ea\u8eab\u5e76\u4e0d\u5177\u5907\u9632\u706b\u5899\u7684\u529f\u80fd\uff0c\u800c\u662f\u548ciptables\u4e00\u6837\u9700\u8981\u901a\u8fc7\u5185\u6838\u7684netfilter\u6765\u5b9e\u73b0\uff0c\u4e5f\u5c31\u662f\u8bf4firewalld\u548c iptables\u4e00\u6837\uff0c\u4ed6\u4eec\u7684\u4f5c\u7528\u90fd\u662f\u7528\u4e8e\u7ef4\u62a4\u89c4\u5219\uff0c\u800c\u771f\u6b63\u4f7f\u7528\u89c4\u5219\u5e72\u6d3b\u7684\u662f\u5185\u6838\u7684netfilter\uff0c\u53ea\u4e0d\u8fc7firewalld\u548ciptables\u7684\u7ed3 \u6784\u4ee5\u53ca\u4f7f\u7528\u65b9\u6cd5\u4e0d\u4e00\u6837\u7f62\u4e86\u3002</p> <p>\u547d\u4ee4\u683c\u5f0f</p> <pre><code>firewall-cmd [\u9009\u9879 ... ]\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/firewall/firewall%E5%9F%BA%E7%A1%80%E4%BB%8B%E7%BB%8D/#_2","title":"\u9009\u9879","text":"<p>\u901a\u7528\u9009\u9879</p> <pre><code>-h, --help    # \u663e\u793a\u5e2e\u52a9\u4fe1\u606f\uff1b\n-V, --version # \u663e\u793a\u7248\u672c\u4fe1\u606f. \uff08\u8fd9\u4e2a\u9009\u9879\u4e0d\u80fd\u4e0e\u5176\u4ed6\u9009\u9879\u7ec4\u5408\uff09\uff1b\n-q, --quiet   # \u4e0d\u6253\u5370\u72b6\u6001\u6d88\u606f\uff1b\n</code></pre> <p>\u72b6\u6001\u9009\u9879</p> <pre><code>--state                # \u663e\u793afirewalld\u7684\u72b6\u6001\uff1b\n--reload               # \u4e0d\u4e2d\u65ad\u670d\u52a1\u7684\u91cd\u65b0\u52a0\u8f7d\uff1b\n--complete-reload      # \u4e2d\u65ad\u6240\u6709\u8fde\u63a5\u7684\u91cd\u65b0\u52a0\u8f7d\uff1b\n--runtime-to-permanent # \u5c06\u5f53\u524d\u9632\u706b\u5899\u7684\u89c4\u5219\u6c38\u4e45\u4fdd\u5b58\uff1b\n--check-config         # \u68c0\u67e5\u914d\u7f6e\u6b63\u786e\u6027\uff1b\n</code></pre> <p>\u65e5\u5fd7\u9009\u9879</p> <pre><code>--get-log-denied         # \u83b7\u53d6\u8bb0\u5f55\u88ab\u62d2\u7edd\u7684\u65e5\u5fd7\uff1b\n--set-log-denied=&lt;value&gt; # \u8bbe\u7f6e\u8bb0\u5f55\u88ab\u62d2\u7edd\u7684\u65e5\u5fd7\uff0c\u53ea\u80fd\u4e3a 'all','unicast','broadcast','multicast','off' \u5176\u4e2d\u7684\u4e00\u4e2a\uff1b\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/firewall/firewall%E5%9F%BA%E7%A1%80%E4%BB%8B%E7%BB%8D/#_3","title":"\u5b9e\u4f8b","text":"<pre><code># \u5b89\u88c5firewalld\nyum install firewalld firewall-config\n\nsystemctl start  firewalld # \u542f\u52a8\nsystemctl stop firewalld  # \u505c\u6b62\nsystemctl enable firewalld # \u542f\u7528\u81ea\u52a8\u542f\u52a8\nsystemctl disable firewalld # \u7981\u7528\u81ea\u52a8\u542f\u52a8\nsystemctl status firewalld # \u6216\u8005 firewall-cmd --state \u67e5\u770b\u72b6\u6001\n\n# \u5173\u95ed\u670d\u52a1\u7684\u65b9\u6cd5\n# \u4f60\u4e5f\u53ef\u4ee5\u5173\u95ed\u76ee\u524d\u8fd8\u4e0d\u719f\u6089\u7684FirewallD\u9632\u706b\u5899\uff0c\u800c\u4f7f\u7528iptables\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a\n\nsystemctl stop firewalld\nsystemctl disable firewalld\nyum install iptables-services\nsystemctl start iptables\nsystemctl enable iptables\n</code></pre> <p>\u914d\u7f6efirewalld</p> <pre><code>firewall-cmd --version  # \u67e5\u770b\u7248\u672c\nfirewall-cmd --help     # \u67e5\u770b\u5e2e\u52a9\n\n# \u67e5\u770b\u8bbe\u7f6e\uff1a\nfirewall-cmd --state  # \u663e\u793a\u72b6\u6001\nfirewall-cmd --get-active-zones  # \u67e5\u770b\u533a\u57df\u4fe1\u606f\nfirewall-cmd --get-zone-of-interface=eth0  # \u67e5\u770b\u6307\u5b9a\u63a5\u53e3\u6240\u5c5e\u533a\u57df\nfirewall-cmd --panic-on  # \u62d2\u7edd\u6240\u6709\u5305\nfirewall-cmd --panic-off  # \u53d6\u6d88\u62d2\u7edd\u72b6\u6001\nfirewall-cmd --query-panic  # \u67e5\u770b\u662f\u5426\u62d2\u7edd\n\nfirewall-cmd --reload # \u66f4\u65b0\u9632\u706b\u5899\u89c4\u5219\nfirewall-cmd --complete-reload\n# \u4e24\u8005\u7684\u533a\u522b\u5c31\u662f\u7b2c\u4e00\u4e2a\u65e0\u9700\u65ad\u5f00\u8fde\u63a5\uff0c\u5c31\u662ffirewalld\u7279\u6027\u4e4b\u4e00\u52a8\u6001\u6dfb\u52a0\u89c4\u5219\uff0c\u7b2c\u4e8c\u4e2a\u9700\u8981\u65ad\u5f00\u8fde\u63a5\uff0c\u7c7b\u4f3c\u91cd\u542f\u670d\u52a1\n\n\n# \u5c06\u63a5\u53e3\u6dfb\u52a0\u5230\u533a\u57df\uff0c\u9ed8\u8ba4\u63a5\u53e3\u90fd\u5728public\nfirewall-cmd --zone=public --add-interface=eth0\n# \u6c38\u4e45\u751f\u6548\u518d\u52a0\u4e0a --permanent \u7136\u540ereload\u9632\u706b\u5899\n\n# \u8bbe\u7f6e\u9ed8\u8ba4\u63a5\u53e3\u533a\u57df\uff0c\u7acb\u5373\u751f\u6548\u65e0\u9700\u91cd\u542f\nfirewall-cmd --set-default-zone=public\n\n# \u67e5\u770b\u6240\u6709\u6253\u5f00\u7684\u7aef\u53e3\uff1a\nfirewall-cmd --zone=dmz --list-ports\n\n# \u52a0\u5165\u4e00\u4e2a\u7aef\u53e3\u5230\u533a\u57df\uff1a\nfirewall-cmd --zone=dmz --add-port=8080/tcp\n# \u82e5\u8981\u6c38\u4e45\u751f\u6548\u65b9\u6cd5\u540c\u4e0a\n\n# \u6253\u5f00\u4e00\u4e2a\u670d\u52a1\uff0c\u7c7b\u4f3c\u4e8e\u5c06\u7aef\u53e3\u53ef\u89c6\u5316\uff0c\u670d\u52a1\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\uff0c/etc/firewalld \u76ee\u5f55\u4e0b\u6709services\u6587\u4ef6\u5939\uff0c\u8fd9\u4e2a\u4e0d\u8be6\u7ec6\u8bf4\u4e86\uff0c\u8be6\u60c5\u53c2\u8003\u6587\u6863\nfirewall-cmd --zone=work --add-service=smtp\n\n# \u79fb\u9664\u670d\u52a1\nfirewall-cmd --zone=work --remove-service=smtp\n\n# \u663e\u793a\u652f\u6301\u7684\u533a\u57df\u5217\u8868\nfirewall-cmd --get-zones\n\n# \u8bbe\u7f6e\u4e3a\u5bb6\u5ead\u533a\u57df\nfirewall-cmd --set-default-zone=home\n\n# \u67e5\u770b\u5f53\u524d\u533a\u57df\nfirewall-cmd --get-active-zones\n\n# \u8bbe\u7f6e\u5f53\u524d\u533a\u57df\u7684\u63a5\u53e3\nfirewall-cmd --get-zone-of-interface=enp03s\n\n# \u663e\u793a\u6240\u6709\u516c\u5171\u533a\u57df\uff08public\uff09\nfirewall-cmd --zone=public --list-all\n\n# \u4e34\u65f6\u4fee\u6539\u7f51\u7edc\u63a5\u53e3\uff08enp0s3\uff09\u4e3a\u5185\u90e8\u533a\u57df\uff08internal\uff09\nfirewall-cmd --zone=internal --change-interface=enp03s\n\n# \u6c38\u4e45\u4fee\u6539\u7f51\u7edc\u63a5\u53e3enp03s\u4e3a\u5185\u90e8\u533a\u57df\uff08internal\uff09\nfirewall-cmd --permanent --zone=internal --change-interface=enp03s\n</code></pre> <p>\u670d\u52a1\u7ba1\u7406</p> <pre><code># \u663e\u793a\u670d\u52a1\u5217\u8868  \nAmanda, FTP, Samba\u548cTFTP\u7b49\u6700\u91cd\u8981\u7684\u670d\u52a1\u5df2\u7ecf\u88abFirewallD\u63d0\u4f9b\u76f8\u5e94\u7684\u670d\u52a1\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u67e5\u770b\uff1a\n\nfirewall-cmd --get-services\n\n# \u5141\u8bb8SSH\u670d\u52a1\u901a\u8fc7\nfirewall-cmd --new-service=ssh\n\n# \u7981\u6b62SSH\u670d\u52a1\u901a\u8fc7\nfirewall-cmd --delete-service=ssh\n\n# \u6253\u5f00TCP\u76848080\u7aef\u53e3\nfirewall-cmd --enable ports=8080/tcp\n\n# \u4e34\u65f6\u5141\u8bb8Samba\u670d\u52a1\u901a\u8fc7600\u79d2\nfirewall-cmd --enable service=samba --timeout=600\n\n# \u663e\u793a\u5f53\u524d\u670d\u52a1\nfirewall-cmd --list-services\n\n# \u6dfb\u52a0HTTP\u670d\u52a1\u5230\u5185\u90e8\u533a\u57df\uff08internal\uff09\nfirewall-cmd --permanent --zone=internal --add-service=http\nfirewall-cmd --reload     # \u5728\u4e0d\u6539\u53d8\u72b6\u6001\u7684\u6761\u4ef6\u4e0b\u91cd\u65b0\u52a0\u8f7d\u9632\u706b\u5899\n</code></pre> <p>\u7aef\u53e3\u7ba1\u7406</p> <pre><code># \u6253\u5f00443/TCP\u7aef\u53e3\nfirewall-cmd --add-port=443/tcp\n\n# \u6c38\u4e45\u6253\u5f003690/TCP\u7aef\u53e3\nfirewall-cmd --permanent --add-port=3690/tcp\n\n# \u6c38\u4e45\u6253\u5f00\u7aef\u53e3\u597d\u50cf\u9700\u8981reload\u4e00\u4e0b\uff0c\u4e34\u65f6\u6253\u5f00\u597d\u50cf\u4e0d\u7528\uff0c\u5982\u679c\u7528\u4e86reload\u4e34\u65f6\u6253\u5f00\u7684\u7aef\u53e3\u5c31\u5931\u6548\u4e86\n# \u5176\u5b83\u670d\u52a1\u4e5f\u53ef\u80fd\u662f\u8fd9\u6837\u7684\uff0c\u8fd9\u4e2a\u6ca1\u6709\u6d4b\u8bd5\nfirewall-cmd --reload\n\n# \u67e5\u770b\u9632\u706b\u5899\uff0c\u6dfb\u52a0\u7684\u7aef\u53e3\u4e5f\u53ef\u4ee5\u770b\u5230\nfirewall-cmd --list-all\n</code></pre> <p>\u76f4\u63a5\u6a21\u5f0f</p> <pre><code># FirewallD\u5305\u62ec\u4e00\u79cd\u76f4\u63a5\u6a21\u5f0f\uff0c\u4f7f\u7528\u5b83\u53ef\u4ee5\u5b8c\u6210\u4e00\u4e9b\u5de5\u4f5c\uff0c\u4f8b\u5982\u6253\u5f00TCP\u534f\u8bae\u76849999\u7aef\u53e3\n\nfirewall-cmd --direct -add-rule ipv4 filter INPUT 0 -p tcp --dport 9000 -j ACCEPT\nfirewall-cmd --reload\n</code></pre> <p>\u81ea\u5b9a\u4e49\u670d\u52a1\u7ba1\u7406</p> <p>\u9009\u9879</p> <pre><code>\uff08\u672b\u5c3e\u5e26\u6709 [P only] \u7684\u8bdd\u8868\u793a\u8be5\u9009\u9879\u9664\u4e86\u4e0e\uff08--permanent\uff09\u4e4b\u5916\uff0c\u4e0d\u80fd\u4e0e\u5176\u4ed6\u9009\u9879\u4e00\u540c\u4f7f\u7528\uff01\uff09\n--new-service=&lt;\u670d\u52a1\u540d&gt; \u65b0\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49\u670d\u52a1 [P only]\n--new-service-from-file=&lt;\u6587\u4ef6\u540d&gt; [--name=&lt;\u670d\u52a1\u540d&gt;]\n                      \u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u914d\u7f6e\u7528\u4ee5\u65b0\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49\u670d\u52a1 [P only]\n--delete-service=&lt;\u670d\u52a1\u540d&gt;\n                      \u5220\u9664\u4e00\u4e2a\u5df2\u5b58\u5728\u7684\u670d\u52a1 [P only]\n--load-service-defaults=&lt;\u670d\u52a1\u540d&gt;\n                      Load icmptype default settings [P only]\n--info-service=&lt;\u670d\u52a1\u540d&gt;\n                      \u663e\u793a\u8be5\u670d\u52a1\u7684\u76f8\u5173\u4fe1\u606f\n--path-service=&lt;\u670d\u52a1\u540d&gt;\n                      \u663e\u793a\u8be5\u670d\u52a1\u7684\u6587\u4ef6\u7684\u76f8\u5173\u8def\u5f84 [P only]\n--service=&lt;\u670d\u52a1\u540d&gt; --set-description=&lt;\u63cf\u8ff0&gt;\n                      \u7ed9\u8be5\u670d\u52a1\u8bbe\u7f6e\u63cf\u8ff0\u4fe1\u606f [P only]\n--service=&lt;\u670d\u52a1\u540d&gt; --get-description\n                      \u663e\u793a\u8be5\u670d\u52a1\u7684\u63cf\u8ff0\u4fe1\u606f [P only]\n--service=&lt;\u670d\u52a1\u540d&gt; --set-short=&lt;\u63cf\u8ff0&gt;\n                      \u7ed9\u8be5\u670d\u52a1\u8bbe\u7f6e\u4e00\u4e2a\u7b80\u77ed\u7684\u63cf\u8ff0 [P only]\n--service=&lt;\u670d\u52a1\u540d&gt; --get-short\n                      \u663e\u793a\u8be5\u670d\u52a1\u7684\u7b80\u77ed\u63cf\u8ff0 [P only]\n\n--service=&lt;\u670d\u52a1\u540d&gt; --add-port=&lt;\u7aef\u53e3\u53f7&gt;[-&lt;\u7aef\u53e3\u53f7&gt;]/&lt;protocol&gt;\n                      \u7ed9\u8be5\u670d\u52a1\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u7aef\u53e3(\u7aef\u53e3\u6bb5) [P only]\n\n--service=&lt;\u670d\u52a1\u540d&gt; --remove-port=&lt;\u7aef\u53e3\u53f7&gt;[-&lt;\u7aef\u53e3\u53f7&gt;]/&lt;protocol&gt;\n                      \u4ece\u8be5\u670d\u52a1\u4e0a\u79fb\u9664\u4e00\u4e2a\u7aef\u53e3(\u7aef\u53e3\u6bb5) [P only]\n\n--service=&lt;\u670d\u52a1\u540d&gt; --query-port=&lt;\u7aef\u53e3\u53f7&gt;[-&lt;\u7aef\u53e3\u53f7&gt;]/&lt;protocol&gt;\n                      \u67e5\u8be2\u8be5\u670d\u52a1\u662f\u5426\u6dfb\u52a0\u4e86\u67d0\u4e2a\u7aef\u53e3(\u7aef\u53e3\u6bb5) [P only]\n\n--service=&lt;\u670d\u52a1\u540d&gt; --get-ports\n                      \u663e\u793a\u8be5\u670d\u52a1\u6dfb\u52a0\u7684\u6240\u6709\u7aef\u53e3 [P only]\n\n--service=&lt;\u670d\u52a1\u540d&gt; --add-protocol=&lt;protocol&gt;\n                      \u4e3a\u8be5\u670d\u52a1\u6dfb\u52a0\u4e00\u4e2a\u534f\u8bae [P only]\n\n--service=&lt;\u670d\u52a1\u540d&gt; --remove-protocol=&lt;protocol&gt;\n                      \u4ece\u8be5\u670d\u52a1\u4e0a\u79fb\u9664\u4e00\u4e2a\u534f\u8bae [P only]\n\n--service=&lt;\u670d\u52a1\u540d&gt; --query-protocol=&lt;protocol&gt;\n                      \u67e5\u8be2\u8be5\u670d\u52a1\u662f\u5426\u6dfb\u52a0\u4e86\u67d0\u4e2a\u534f\u8bae [P only]\n\n--service=&lt;\u670d\u52a1\u540d&gt; --get-protocols\n                      \u663e\u793a\u8be5\u670d\u52a1\u6dfb\u52a0\u7684\u6240\u6709\u534f\u8bae [P only]\n\n--service=&lt;\u670d\u52a1\u540d&gt; --add-source-port=&lt;\u7aef\u53e3\u53f7&gt;[-&lt;\u7aef\u53e3\u53f7&gt;]/&lt;protocol&gt;\n                      \u6dfb\u52a0\u65b0\u7684\u6e90\u7aef\u53e3(\u7aef\u53e3\u6bb5)\u5230\u8be5\u670d\u52a1 [P only]\n\n--service=&lt;\u670d\u52a1\u540d&gt; --remove-source-port=&lt;\u7aef\u53e3\u53f7&gt;[-&lt;\u7aef\u53e3\u53f7&gt;]/&lt;protocol&gt;\n                      \u4ece\u8be5\u670d\u52a1\u4e2d\u5220\u9664\u6e90\u7aef\u53e3(\u7aef\u53e3\u6bb5) [P only]\n\n--service=&lt;\u670d\u52a1\u540d&gt; --query-source-port=&lt;\u7aef\u53e3\u53f7&gt;[-&lt;\u7aef\u53e3\u53f7&gt;]/&lt;protocol&gt;\n                      \u67e5\u8be2\u8be5\u670d\u52a1\u662f\u5426\u6dfb\u52a0\u4e86\u67d0\u4e2a\u6e90\u7aef\u53e3(\u7aef\u53e3\u6bb5) [P only]\n\n--service=&lt;\u670d\u52a1\u540d&gt; --get-source-ports\n                      \u663e\u793a\u8be5\u670d\u52a1\u6240\u6709\u6e90\u7aef\u53e3 [P only]\n\n--service=&lt;\u670d\u52a1\u540d&gt; --add-module=&lt;module&gt;\n                      \u4e3a\u8be5\u670d\u52a1\u6dfb\u52a0\u4e00\u4e2a\u6a21\u5757 [P only]\n--service=&lt;\u670d\u52a1\u540d&gt; --remove-module=&lt;module&gt;\n                      \u4e3a\u8be5\u670d\u52a1\u79fb\u9664\u4e00\u4e2a\u6a21\u5757 [P only]\n--service=&lt;\u670d\u52a1\u540d&gt; --query-module=&lt;module&gt;\n                      \u67e5\u8be2\u8be5\u670d\u52a1\u662f\u5426\u6dfb\u52a0\u4e86\u67d0\u4e2a\u6a21\u5757 [P only]\n--service=&lt;\u670d\u52a1\u540d&gt; --get-modules\n                      \u663e\u793a\u8be5\u670d\u52a1\u6dfb\u52a0\u7684\u6240\u6709\u6a21\u5757 [P only]\n--service=&lt;\u670d\u52a1\u540d&gt; --set-destination=&lt;ipv&gt;:&lt;address&gt;[/&lt;mask&gt;]\n                      Set destination for ipv to address in service [P only]\n--service=&lt;\u670d\u52a1\u540d&gt; --remove-destination=&lt;ipv&gt;\n                      Disable destination for ipv i service [P only]\n--service=&lt;\u670d\u52a1\u540d&gt; --query-destination=&lt;ipv&gt;:&lt;address&gt;[/&lt;mask&gt;]\n                      Return whether destination ipv is set for service [P only]\n--service=&lt;\u670d\u52a1\u540d&gt; --get-destinations\n                      List destinations in service [P only]\n</code></pre> <p>\u63a7\u5236\u7aef\u53e3 / \u670d\u52a1</p> <p>\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u63a7\u5236\u7aef\u53e3\u7684\u5f00\u653e\uff0c\u4e00\u79cd\u662f\u6307\u5b9a\u7aef\u53e3\u53f7\u53e6\u4e00\u79cd\u662f\u6307\u5b9a\u670d\u52a1\u540d\u3002\u867d\u7136\u5f00\u653e http \u670d\u52a1\u5c31\u662f\u5f00\u653e\u4e86 80 \u7aef\u53e3\uff0c\u4f46\u662f\u8fd8\u662f\u4e0d\u80fd\u901a\u8fc7\u7aef\u53e3\u53f7\u6765\u5173\u95ed\uff0c\u4e5f\u5c31\u662f\u8bf4\u901a\u8fc7\u6307\u5b9a\u670d\u52a1\u540d\u5f00\u653e\u7684\u5c31\u8981\u901a\u8fc7\u6307\u5b9a\u670d\u52a1\u540d\u5173\u95ed\uff1b\u901a\u8fc7\u6307\u5b9a\u7aef\u53e3\u53f7\u5f00\u653e\u7684\u5c31\u8981\u901a\u8fc7\u6307\u5b9a\u7aef\u53e3\u53f7\u5173\u95ed\u3002\u8fd8\u6709\u4e00\u4e2a\u8981\u6ce8\u610f\u7684\u5c31\u662f\u6307\u5b9a\u7aef\u53e3\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u6307\u5b9a\u662f\u4ec0\u4e48\u534f\u8bae\uff0ctcp \u8fd8\u662f udp\u3002\u77e5\u9053\u8fd9\u4e2a\u4e4b\u540e\u4ee5\u540e\u5c31\u4e0d\u7528\u6bcf\u6b21\u5148\u5173\u9632\u706b\u5899\u4e86\uff0c\u53ef\u4ee5\u8ba9\u9632\u706b\u5899\u771f\u6b63\u7684\u751f\u6548\u3002</p> <pre><code>firewall-cmd --add-service=mysql        # \u5f00\u653emysql\u7aef\u53e3\nfirewall-cmd --remove-service=http      # \u963b\u6b62http\u7aef\u53e3\nfirewall-cmd --list-services            # \u67e5\u770b\u5f00\u653e\u7684\u670d\u52a1\nfirewall-cmd --add-port=3306/tcp        # \u5f00\u653e\u901a\u8fc7tcp\u8bbf\u95ee3306\nfirewall-cmd --remove-port=80tcp        # \u963b\u6b62\u901a\u8fc7tcp\u8bbf\u95ee3306\nfirewall-cmd --add-port=233/udp         # \u5f00\u653e\u901a\u8fc7udp\u8bbf\u95ee233\nfirewall-cmd --list-ports               # \u67e5\u770b\u5f00\u653e\u7684\u7aef\u53e3\n</code></pre> <p>\u4f2a\u88c5 IP</p> <pre><code>firewall-cmd --query-masquerade # \u68c0\u67e5\u662f\u5426\u5141\u8bb8\u4f2a\u88c5IP\nfirewall-cmd --add-masquerade   # \u5141\u8bb8\u9632\u706b\u5899\u4f2a\u88c5IP\nfirewall-cmd --remove-masquerade# \u7981\u6b62\u9632\u706b\u5899\u4f2a\u88c5IP\n</code></pre> <p>\u7aef\u53e3\u8f6c\u53d1</p> <p>\u7aef\u53e3\u8f6c\u53d1\u53ef\u4ee5\u5c06\u6307\u5b9a\u5730\u5740\u8bbf\u95ee\u6307\u5b9a\u7684\u7aef\u53e3\u65f6\uff0c\u5c06\u6d41\u91cf\u8f6c\u53d1\u81f3\u6307\u5b9a\u5730\u5740\u7684\u6307\u5b9a\u7aef\u53e3\u3002\u8f6c\u53d1\u7684\u76ee\u7684\u5982\u679c\u4e0d\u6307\u5b9a ip \u7684\u8bdd\u5c31\u9ed8\u8ba4\u4e3a\u672c\u673a\uff0c\u5982\u679c\u6307\u5b9a\u4e86 ip \u5374\u6ca1\u6307\u5b9a\u7aef\u53e3\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528\u6765\u6e90\u7aef\u53e3\u3002 \u5982\u679c\u914d\u7f6e\u597d\u7aef\u53e3\u8f6c\u53d1\u4e4b\u540e\u4e0d\u80fd\u7528\uff0c\u53ef\u4ee5\u68c0\u67e5\u4e0b\u9762\u4e24\u4e2a\u95ee\u9898\uff1a</p> <ol> <li>\u6bd4\u5982\u6211\u5c06 80 \u7aef\u53e3\u8f6c\u53d1\u81f3 8080 \u7aef\u53e3\uff0c\u9996\u5148\u68c0\u67e5\u672c\u5730\u7684 80 \u7aef\u53e3\u548c\u76ee\u6807\u7684 8080 \u7aef\u53e3\u662f\u5426\u5f00\u653e\u76d1\u542c\u4e86</li> <li>\u5176\u6b21\u68c0\u67e5\u662f\u5426\u5141\u8bb8\u4f2a\u88c5 IP\uff0c\u6ca1\u5141\u8bb8\u7684\u8bdd\u8981\u5f00\u542f\u4f2a\u88c5 IP</li> </ol> <pre><code>firewall-cmd --add-forward-port=port=80:proto=tcp:toport=8080   # \u5c0680\u7aef\u53e3\u7684\u6d41\u91cf\u8f6c\u53d1\u81f38080\nfirewall-cmd --add-forward-port=port=80:proto=tcp:toaddr=192.168.0.1 # \u5c0680\u7aef\u53e3\u7684\u6d41\u91cf\u8f6c\u53d1\u81f3192.168.0.1\nfirewall-cmd --add-forward-port=port=80:proto=tcp:toaddr=192.168.0.1:toport=8080 # \u5c0680\u7aef\u53e3\u7684\u6d41\u91cf\u8f6c\u53d1\u81f3192.168.0.1\u76848080\u7aef\u53e3\n</code></pre> <ol> <li>\u5f53\u6211\u4eec\u60f3\u628a\u67d0\u4e2a\u7aef\u53e3\u9690\u85cf\u8d77\u6765\u7684\u65f6\u5019\uff0c\u5c31\u53ef\u4ee5\u5728\u9632\u706b\u5899\u4e0a\u963b\u6b62\u90a3\u4e2a\u7aef\u53e3\u8bbf\u95ee\uff0c\u7136\u540e\u518d\u5f00\u4e00\u4e2a\u4e0d\u89c4\u5219\u7684\u7aef\u53e3\uff0c\u4e4b\u540e\u914d\u7f6e\u9632\u706b\u5899\u7684\u7aef\u53e3\u8f6c\u53d1\uff0c\u5c06\u6d41\u91cf\u8f6c\u53d1\u8fc7\u53bb\u3002</li> <li>\u7aef\u53e3\u8f6c\u53d1\u8fd8\u53ef\u4ee5\u505a\u6d41\u91cf\u5206\u53d1\uff0c\u4e00\u4e2a\u9632\u706b\u5899\u62d6\u7740\u597d\u591a\u53f0\u8fd0\u884c\u7740\u4e0d\u540c\u670d\u52a1\u7684\u673a\u5668\uff0c\u7136\u540e\u7528\u9632\u706b\u5899\u5c06\u4e0d\u540c\u7aef\u53e3\u7684\u6d41\u91cf\u8f6c\u53d1\u81f3\u4e0d\u540c\u673a\u5668\u3002</li> </ol>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%20%E5%91%BD%E4%BB%A4%E7%9A%84-m%E5%8F%82%E6%95%B0/","title":"Iptables \u547d\u4ee4\u7684 m\u53c2\u6570","text":"<p><code>-m</code> \u662f <code>iptables</code> \u4e2d\u7528\u4e8e\u52a0\u8f7d\u989d\u5916\u7684\u5339\u914d\u6a21\u5757\u7684\u53c2\u6570\uff0c\u901a\u8fc7\u6307\u5b9a\u4e0d\u540c\u7684\u6a21\u5757\uff0c\u53ef\u4ee5\u5b9e\u73b0\u66f4\u591a\u9ad8\u7ea7\u7684\u6d41\u91cf\u5339\u914d\u89c4\u5219\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%20%E5%91%BD%E4%BB%A4%E7%9A%84-m%E5%8F%82%E6%95%B0/#_1","title":"\u5e38\u7528\u5339\u914d\u6a21\u5757","text":"\u6a21\u5757\u540d\u79f0 \u63cf\u8ff0 <code>state</code> \u5339\u914d\u6570\u636e\u5305\u7684\u8fde\u63a5\u72b6\u6001 (<code>NEW</code>, <code>ESTABLISHED</code>, <code>RELATED</code>, <code>INVALID</code>) <code>conntrack</code> \u66f4\u5f3a\u5927\u7684\u8fde\u63a5\u72b6\u6001\u8ddf\u8e2a\u6a21\u5757\uff0c\u652f\u6301\u66f4\u591a\u7ec6\u8282\u63a7\u5236 (\u66ff\u4ee3 <code>state</code>) <code>multiport</code> \u5141\u8bb8\u4e00\u6b21\u5339\u914d\u591a\u4e2a\u7aef\u53e3 <code>limit</code> \u9650\u5236\u5339\u914d\u7684\u9891\u7387\uff0c\u901a\u5e38\u7528\u4e8e\u9632\u6b62 DoS \u653b\u51fb <code>mac</code> \u5339\u914d\u57fa\u4e8e MAC \u5730\u5740\u7684\u6570\u636e\u5305 <code>iprange</code> \u5339\u914d IP \u5730\u5740\u8303\u56f4 <code>time</code> \u5339\u914d\u7279\u5b9a\u65f6\u95f4\u6bb5\u7684\u6570\u636e\u5305 <code>comment</code> \u6dfb\u52a0\u6ce8\u91ca\uff0c\u4fbf\u4e8e\u7ba1\u7406\u548c\u67e5\u770b\u89c4\u5219 <code>owner</code> \u5339\u914d\u672c\u5730\u8fdb\u7a0b\u7528\u6237\u3001\u7ec4\u3001PID (\u4ec5 OUTPUT \u94fe\u6709\u6548) <code>tos</code> \u5339\u914d Type of Service (\u670d\u52a1\u7c7b\u578b) <code>length</code> \u5339\u914d\u6570\u636e\u5305\u957f\u5ea6 <code>tcp</code> \u5339\u914d TCP \u534f\u8bae\u7279\u5b9a\u5b57\u6bb5 <code>udp</code> \u5339\u914d UDP \u534f\u8bae\u7279\u5b9a\u5b57\u6bb5 <code>icmp</code> \u5339\u914d ICMP \u534f\u8bae\u7279\u5b9a\u5b57\u6bb5 <code>recent</code> \u5339\u914d\u6700\u8fd1\u8bbf\u95ee\u7684 IP\uff0c\u652f\u6301\u767d\u540d\u5355\u548c\u9ed1\u540d\u5355 <code>mark</code> \u5339\u914d\u6570\u636e\u5305\u6807\u8bb0\uff08\u901a\u5e38\u7528\u4e8e\u6d41\u91cf\u6574\u5f62\u548c QoS\uff09 <code>hashlimit</code> \u57fa\u4e8e\u54c8\u5e0c\u7684\u9891\u7387\u9650\u5236\uff0c\u66f4\u7ec6\u7c92\u5ea6\u7684\u6d41\u91cf\u63a7\u5236"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%20%E5%91%BD%E4%BB%A4%E7%9A%84-m%E5%8F%82%E6%95%B0/#1-state","title":"1\ufe0f\u20e3 state \u6a21\u5757","text":"<ul> <li> <p>\u5339\u914d\u8fde\u63a5\u72b6\u6001\uff1a</p> <ul> <li> <p><code>NEW</code>: \u65b0\u7684\u8fde\u63a5</p> </li> <li> <p><code>ESTABLISHED</code>: \u5df2\u5efa\u7acb\u7684\u8fde\u63a5</p> </li> <li> <p><code>RELATED</code>: \u76f8\u5173\u8fde\u63a5 (\u5982 FTP \u7684\u6570\u636e\u8fde\u63a5)</p> </li> <li> <p><code>INVALID</code>: \u65e0\u6548\u7684\u5305</p> </li> </ul> </li> </ul> <p><code>iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%20%E5%91%BD%E4%BB%A4%E7%9A%84-m%E5%8F%82%E6%95%B0/#2-conntrack","title":"2\ufe0f\u20e3 conntrack \u6a21\u5757","text":"<ul> <li> <p>\u53d6\u4ee3 <code>state</code> \u6a21\u5757\uff0c\u652f\u6301\u66f4\u7ec6\u7c92\u5ea6\u7684\u5339\u914d</p> <ul> <li> <p><code>--ctstate</code>\uff1a\u7c7b\u4f3c <code>--state</code></p> </li> <li> <p><code>--ctorigsrc</code>\uff1a\u539f\u59cb\u8fde\u63a5\u7684\u6e90 IP</p> </li> <li> <p><code>--ctorigdst</code>\uff1a\u539f\u59cb\u8fde\u63a5\u7684\u76ee\u6807 IP</p> </li> </ul> </li> </ul> <p><code>iptables -A INPUT -m conntrack --ctstate NEW,ESTABLISHED -j ACCEPT</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%20%E5%91%BD%E4%BB%A4%E7%9A%84-m%E5%8F%82%E6%95%B0/#3-multiport","title":"3\ufe0f\u20e3 multiport \u6a21\u5757","text":"<ul> <li> <p>\u5339\u914d\u591a\u4e2a\u7aef\u53e3\uff0c\u6700\u591a\u652f\u6301 15 \u4e2a</p> <ul> <li> <p><code>--sports</code>: \u6e90\u7aef\u53e3\u5217\u8868</p> </li> <li> <p><code>--dports</code>: \u76ee\u6807\u7aef\u53e3\u5217\u8868</p> </li> </ul> </li> </ul> <p><code>iptables -A INPUT -p tcp -m multiport --dports 22,80,443 -j ACCEPT</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%20%E5%91%BD%E4%BB%A4%E7%9A%84-m%E5%8F%82%E6%95%B0/#4-limit","title":"4\ufe0f\u20e3 limit \u6a21\u5757","text":"<ul> <li> <p>\u9650\u5236\u6570\u636e\u5305\u7684\u5339\u914d\u9891\u7387</p> <ul> <li> <p><code>--limit</code>\uff1a\u8bbe\u7f6e\u5339\u914d\u901f\u7387</p> </li> <li> <p><code>--limit-burst</code>\uff1a\u8bbe\u7f6e\u521d\u59cb\u7a81\u53d1\u6570\u91cf</p> </li> </ul> </li> </ul> <p>\u793a\u4f8b\uff1a\u9650\u5236\u6bcf\u5206\u949f\u6700\u591a 10 \u4e2a\u8fde\u63a5</p> <p><code>iptables -A INPUT -p tcp --dport 22 -m limit --limit 10/minute --limit-burst 5 -j ACCEPT</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%20%E5%91%BD%E4%BB%A4%E7%9A%84-m%E5%8F%82%E6%95%B0/#5-mac","title":"5\ufe0f\u20e3 mac \u6a21\u5757","text":"<ul> <li> <p>\u57fa\u4e8e MAC \u5730\u5740\u8fdb\u884c\u5339\u914d</p> <ul> <li><code>--mac-source</code>: \u5339\u914d\u6e90 MAC \u5730\u5740</li> </ul> </li> </ul> <p>\u793a\u4f8b\uff1a\u5141\u8bb8\u7279\u5b9a MAC \u5730\u5740\u7684\u8bbf\u95ee</p> <p><code>iptables -A INPUT -m mac --mac-source AA:BB:CC:DD:EE:FF -j ACCEPT</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%20%E5%91%BD%E4%BB%A4%E7%9A%84-m%E5%8F%82%E6%95%B0/#6-iprange","title":"6\ufe0f\u20e3 iprange \u6a21\u5757","text":"<ul> <li> <p>\u5339\u914d IP \u5730\u5740\u8303\u56f4</p> <ul> <li> <p><code>--src-range</code>\uff1a\u6e90 IP \u8303\u56f4</p> </li> <li> <p><code>--dst-range</code>\uff1a\u76ee\u6807 IP \u8303\u56f4</p> </li> </ul> </li> </ul> <p>\u793a\u4f8b\uff1a\u5339\u914d\u6765\u81ea\u7279\u5b9a IP \u8303\u56f4\u7684\u8fde\u63a5</p> <p><code>iptables -A INPUT -m iprange --src-range 192.168.1.1-192.168.1.100 -j ACCEPT</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%20%E5%91%BD%E4%BB%A4%E7%9A%84-m%E5%8F%82%E6%95%B0/#7-time","title":"7\ufe0f\u20e3 time \u6a21\u5757","text":"<ul> <li> <p>\u5339\u914d\u7279\u5b9a\u65f6\u95f4\u6bb5\u7684\u6570\u636e\u5305</p> <ul> <li> <p><code>--timestart</code>: \u5f00\u59cb\u65f6\u95f4 (<code>HH:MM</code>)</p> </li> <li> <p><code>--timestop</code>: \u7ed3\u675f\u65f6\u95f4 (<code>HH:MM</code>)</p> </li> <li> <p><code>--days</code>: \u6307\u5b9a\u5339\u914d\u7684\u661f\u671f (<code>Mon, Tue, Wed...</code>)</p> </li> <li> <p><code>--kerneltz</code>: \u4f7f\u7528\u7cfb\u7edf\u65f6\u533a</p> </li> </ul> </li> </ul> <p>\u793a\u4f8b\uff1a\u53ea\u5141\u8bb8\u5de5\u4f5c\u65f6\u95f4\u8bbf\u95ee\u670d\u52a1</p> <p><code>iptables -A INPUT -p tcp --dport 22 -m time --timestart 09:00 --timestop 18:00 --days Mon,Tue,Wed,Thu,Fri -j ACCEPT</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%20%E5%91%BD%E4%BB%A4%E7%9A%84-m%E5%8F%82%E6%95%B0/#8-recent","title":"8\ufe0f\u20e3 recent \u6a21\u5757","text":"<ul> <li> <p>\u8bb0\u5f55\u6700\u8fd1\u8bbf\u95ee\u7684 IP</p> <ul> <li> <p><code>--name</code>: \u5b9a\u4e49\u540d\u5355\u540d\u79f0</p> </li> <li> <p><code>--set</code>: \u5c06 IP \u6dfb\u52a0\u5230\u540d\u5355</p> </li> <li> <p><code>--rcheck</code>: \u68c0\u67e5\u662f\u5426\u5b58\u5728\u4e8e\u540d\u5355</p> </li> <li> <p><code>--remove</code>: \u4ece\u540d\u5355\u4e2d\u79fb\u9664</p> </li> <li> <p><code>--update</code>: \u66f4\u65b0\u8ba1\u65f6</p> </li> </ul> </li> </ul> <p>\u793a\u4f8b\uff1a\u9650\u5236\u6bcf 60 \u79d2\u53ea\u5141\u8bb8\u4e00\u6b21\u8bbf\u95ee</p> <p><code>iptables -A INPUT -p tcp --dport 22 -m recent --name SSH --set iptables -A INPUT -p tcp --dport 22 -m recent --name SSH --rcheck --seconds 60 --hitcount 1 -j DROP</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%20%E5%91%BD%E4%BB%A4%E7%9A%84-m%E5%8F%82%E6%95%B0/#9-comment","title":"9\ufe0f\u20e3 comment \u6a21\u5757","text":"<ul> <li> <p>\u4e3a\u89c4\u5219\u6dfb\u52a0\u6ce8\u91ca\uff0c\u65b9\u4fbf\u7ba1\u7406</p> <ul> <li><code>--comment</code>: \u6dfb\u52a0\u63cf\u8ff0\u4fe1\u606f</li> </ul> </li> </ul> <p>\u793a\u4f8b\uff1a\u6dfb\u52a0\u6ce8\u91ca</p> <p><code>iptables -A INPUT -p tcp --dport 22 -m comment --comment \"Allow SSH access\" -j ACCEPT</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%20%E5%91%BD%E4%BB%A4%E7%9A%84-m%E5%8F%82%E6%95%B0/#_2","title":"\ud83d\udd0d \u67e5\u770b\u5f53\u524d\u6240\u6709\u89c4\u5219","text":"<p><code>iptables -L -v -n --line-numbers</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%20%E5%91%BD%E4%BB%A4%E7%9A%84-m%E5%8F%82%E6%95%B0/#iptables-m-help","title":"\u4f7f\u7528 <code>iptables -m &lt;\u6a21\u5757\u540d&gt; --help</code> \u67e5\u770b\u6a21\u5757\u8be6\u60c5","text":"<p>\u5982\u679c\u60f3\u67e5\u770b\u67d0\u4e2a\u6a21\u5757\u7684\u8be6\u7ec6\u53c2\u6570\uff0c\u53ef\u4ee5\u52a0\u4e0a\u6a21\u5757\u540d\u79f0\uff0c\u4f8b\u5982\uff1a</p> <pre><code>iptables -m tcp --help \niptables -m state --help \niptables -m conntrack --help\niptables -m multiport --help\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables-save%E5%92%8Ciptables-restore/","title":"Iptables save\u548ciptables restore","text":"<p><code>iptables-restore</code> \u548c <code>iptables-save</code> \u662f\u4e24\u4e2a\u7528\u4e8e\u7ba1\u7406 <code>iptables</code> \u89c4\u5219\u7684\u547d\u4ee4\uff0c\u4e3b\u8981\u533a\u522b\u5728\u4e8e\u5b83\u4eec\u7684\u529f\u80fd\uff1a</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables-save%E5%92%8Ciptables-restore/#1-iptables-save","title":"1. iptables-save","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06\u5f53\u524d <code>iptables</code> \u7684\u89c4\u5219\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\uff0c\u751f\u6210\u4e00\u4e2a\u89c4\u5219\u5feb\u7167\u3002</li> <li>\u4f7f\u7528\u573a\u666f\uff1a\u7528\u4e8e\u5907\u4efd\u5f53\u524d\u7684\u9632\u706b\u5899\u89c4\u5219\uff0c\u4ee5\u4fbf\u7a0d\u540e\u53ef\u4ee5\u6062\u590d\u6216\u5728\u5176\u4ed6\u7cfb\u7edf\u4e0a\u590d\u7528\u3002</li> <li>\u8f93\u51fa\uff1a\u89c4\u5219\u4ee5\u7eaf\u6587\u672c\u5f62\u5f0f\u8f93\u51fa\uff0c\u683c\u5f0f\u4e3a <code>iptables-restore</code> \u80fd\u76f4\u63a5\u89e3\u6790\u7684\u914d\u7f6e\u6587\u4ef6\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables-save%E5%92%8Ciptables-restore/#_1","title":"\u793a\u4f8b\uff1a","text":"<p>\u5c06\u5f53\u524d\u89c4\u5219\u4fdd\u5b58\u5230 <code>/etc/sysconfig/iptables</code>\uff1a</p> <p><code>iptables-save &gt; /etc/sysconfig/iptables</code></p> <p>\u4fdd\u5b58\u7ed3\u679c\u7c7b\u4f3c\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <p>*filter :INPUT ACCEPT [0:0] :FORWARD ACCEPT [0:0] :OUTPUT ACCEPT [0:0] -A INPUT -p tcp --dport 22 -j ACCEPT COMMIT</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables-save%E5%92%8Ciptables-restore/#2-iptables-restore","title":"2. iptables-restore","text":"<ul> <li>\u529f\u80fd\uff1a\u4ece\u6587\u4ef6\u4e2d\u52a0\u8f7d <code>iptables</code> \u89c4\u5219\uff0c\u66ff\u6362\u5f53\u524d\u89c4\u5219\u3002</li> <li>\u4f7f\u7528\u573a\u666f\uff1a\u7528\u4e8e\u6062\u590d\u4e4b\u524d\u4fdd\u5b58\u7684\u89c4\u5219\uff0c\u6216\u8005\u52a0\u8f7d\u4e8b\u5148\u914d\u7f6e\u597d\u7684\u89c4\u5219\u6587\u4ef6\u3002</li> <li>\u8f93\u5165\uff1a\u9700\u8981\u4e00\u4e2a\u901a\u8fc7 <code>iptables-save</code> \u6216\u624b\u5de5\u7f16\u5199\u7684\u89c4\u5219\u6587\u4ef6\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables-save%E5%92%8Ciptables-restore/#_2","title":"\u793a\u4f8b\uff1a","text":"<p>\u4ece <code>/etc/sysconfig/iptables</code> \u52a0\u8f7d\u89c4\u5219\uff1a</p> <p><code>iptables-restore &lt; /etc/sysconfig/iptables</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables-save%E5%92%8Ciptables-restore/#_3","title":"\u4e3b\u8981\u533a\u522b","text":"\u547d\u4ee4 \u529f\u80fd \u7528\u9014 <code>iptables-save</code> \u5bfc\u51fa\u5f53\u524d\u89c4\u5219\u4e3a\u914d\u7f6e\u6587\u4ef6 \u7528\u4e8e\u5907\u4efd\u89c4\u5219\u6216\u4f20\u8f93\u89c4\u5219 <code>iptables-restore</code> \u4ece\u6587\u4ef6\u5bfc\u5165\u89c4\u5219\uff0c\u8986\u76d6\u73b0\u6709\u89c4\u5219 \u7528\u4e8e\u6062\u590d\u6216\u5e94\u7528\u89c4\u5219\u6587\u4ef6"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables-save%E5%92%8Ciptables-restore/#_4","title":"\u5e38\u89c1\u5de5\u4f5c\u6d41\u7a0b","text":"<ol> <li> <p>\u4fdd\u5b58\u89c4\u5219\uff1a</p> <p><code>iptables-save &gt; /etc/sysconfig/iptables</code></p> </li> <li> <p>\u4fee\u6539\u89c4\u5219\u6587\u4ef6\uff08\u53ef\u9009\uff09\uff1a \u7f16\u8f91 <code>/etc/sysconfig/iptables</code>\uff0c\u6dfb\u52a0\u6216\u4fee\u6539\u89c4\u5219\u3002</p> </li> <li>\u6062\u590d\u89c4\u5219\uff1a     <code>iptables-restore &lt; /etc/sysconfig/iptables</code></li> </ol>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables-save%E5%92%8Ciptables-restore/#_5","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li>\u4f7f\u7528 <code>iptables-restore</code> \u4f1a\u8986\u76d6\u5f53\u524d\u6240\u6709\u89c4\u5219\uff0c\u8bf7\u786e\u4fdd\u52a0\u8f7d\u7684\u89c4\u5219\u6587\u4ef6\u662f\u6b63\u786e\u7684\u3002</li> <li><code>iptables-save</code> \u4fdd\u5b58\u7684\u89c4\u5219\u6587\u4ef6\u662f\u673a\u5668\u53ef\u8bfb\u7684\uff0c\u4f46\u53ef\u4ee5\u624b\u52a8\u7f16\u8f91\u4ee5\u8c03\u6574\u89c4\u5219\u3002</li> <li><code>iptables-save</code> \u548c <code>iptables-restore</code> \u901a\u5e38\u548c <code>/etc/sysconfig/iptables</code> \u914d\u5408\u4f7f\u7528\uff0c\u7528\u4e8e\u6301\u4e45\u5316\u89c4\u5219\u3002</li> </ol>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E5%9B%BA%E5%8C%96/","title":"Iptables\u56fa\u5316","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E5%9B%BA%E5%8C%96/#centosiptables","title":"centos\u4e0biptables\u56fa\u5316","text":"<p>iptables\u547d\u4ee4\u914d\u7f6e\u7684\u9632\u706b\u5899\u89c4\u5219\u9ed8\u8ba4\u4f1a\u5728\u7cfb\u7edf\u4e0b\u4e00\u6b21\u91cd\u542f\u65f6\u5931\u6548\uff0c\u5982\u679c\u60f3\u8ba9\u914d\u7f6e\u7684\u9632\u706b\u5899\u7b56\u7565\u6c38\u4e45\u751f\u6548\uff0c\u8fd8\u8981\u6267\u884c\u4fdd\u5b58\u547d\u4ee4\uff1a </p> <pre><code>service iptables save\n</code></pre> <ul> <li>\u5982\u679c\u770b\u5230\u7c7b\u4f3c\u9519\u8bef\u63d0\u793a\uff08\u5982 <code>service: command not found</code>\uff09\uff0c\u8bf4\u660e\u4f60\u7684\u7cfb\u7edf\u6ca1\u6709\u5b89\u88c5 <code>iptables-services</code>\uff0c\u4f60\u53ef\u4ee5\u5148\u5b89\u88c5\u5b83\uff1a</li> </ul> <pre><code>yum install iptables-services -y\n</code></pre> <ul> <li>\u786e\u4fdd <code>iptables</code> \u670d\u52a1\u542f\u7528\u5e76\u8fd0\u884c\uff1a</li> </ul> <pre><code>systemctl enable iptables\n\nsystemctl start iptables\n</code></pre> <ul> <li>centos\u4e0b\u7684iptables\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u4f4d\u7f6e\uff1a/etc/sysconfig/iptables</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E5%9B%BA%E5%8C%96/#ubuntuiptables","title":"ubuntu\u4e0biptables\u56fa\u5316","text":"<ul> <li>Ubuntu \u4f7f\u7528 <code>netfilter-persistent</code> \u5de5\u5177\u6765\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u81ea\u52a8\u52a0\u8f7d <code>iptables</code> \u89c4\u5219\u3002\u9700\u8981\u5148\u5b89\u88c5</li> </ul> <pre><code>sudo apt install iptables-persistent -y\n</code></pre> <p> - \u5b83\u4f1a\u63d0\u793a\u4f60\u4f1a\u5c06iptables\u89c4\u5219\u6587\u4ef6\u4fdd\u5b58\u5728/etc/iptables/rules.v4</p> <ul> <li>\u4f60\u53ef\u4ee5\u518d\u5c06\u4f60\u7684\u5f53\u524d\u7684iptables\u89c4\u5219\u4fdd\u5b58\u5230\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6</li> </ul> <pre><code>sudo iptables-save &gt; /etc/iptables/rules.v4\n</code></pre> <ul> <li>\u5982\u679c\u4f7f\u7528\u7684\u662f <code>IPv6</code> \u89c4\u5219\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u4fdd\u5b58\uff1a</li> </ul> <pre><code>sudo ip6tables-save &gt; /etc/iptables/rules.v6\n</code></pre> <ul> <li>\u4f60\u53ef\u4ee5\u67e5\u770b netfilter-persistent \u8fd9\u4e2a\u670d\u52a1\u7684\u60c5\u51b5\uff0c\u9ed8\u8ba4\u662f\u5f00\u673a\u81ea\u542f\u7684</li> </ul> <pre><code>systemctl status netfilter-persistent\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"Iptables\u5e38\u7528\u547d\u4ee4","text":"<ul> <li>\u67e5\u770b\u8be6\u7ec6\u7684\u5165\u8bf7\u6c42\u7684\u9632\u706b\u5899\u89c4\u5219(\u9ed8\u8ba4\u8868\u4e3afilter)</li> </ul> <pre><code>sudo iptables -nL INPUT -v \n</code></pre> <ul> <li>\u67e5\u770bINPUT\u94fe\u7684\u89c4\u5219\u7684\u5e8f\u53f7(\u9ed8\u8ba4\u8868\u4e3afilter)</li> </ul> <pre><code>sudo iptables -nL INPUT --line-numbers\n</code></pre> <ul> <li>\u5220\u9664nat\u8868\u7684POSTROUTING\u94fe\u7684\u5e8f\u53f7\u4e3a10\u7684\u89c4\u5219</li> </ul> <pre><code>iptables -t nat -D POSTROUTING 10\n</code></pre> <ul> <li>\u6839\u636e\u89c4\u5219\u5185\u5bb9\u6765\u5220\u9664\u5bf9\u5e94\u7684iptbales\u89c4\u5219 \uff08\u5177\u4f53\u7684\u89c4\u5219\u53ef\u4ee5\u6267\u884ciptables-save\u8fdb\u884c\u67e5\u770b\uff09</li> </ul> <pre><code>iptables -t filter -D INPUT -p tcp -m tcp --dport 9289 -j DROP\n</code></pre> <ul> <li>\u5141\u8bb8\u6765\u81ea <code>183.131.145.0/24</code> \u5b50\u7f51\u53d1\u9001\u5230\u76ee\u6807\u7aef\u53e3\u4e3a 22 \u7684 TCP \u6570\u636e\u5305\u901a\u8fc7\u9632\u706b\u5899\uff0c\u5373\u5141\u8bb8 SSH \u8fde\u63a5</li> </ul> <pre><code>iptables -A INPUT -s 183.131.145.0/24 -p tcp -m tcp --dport 22 -j ACCEPT\n</code></pre> <ul> <li></li> <li> <p>\u5c06\u4e00\u4e2a <code>/etc/sysconfig/iptables</code> \u6587\u4ef6\u4e2d\u7684\u914d\u7f6e\u5e94\u7528\u5230\u7cfb\u7edf\u4e2d\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>iptables-restore</code> \u547d\u4ee4\u3002\u8be5\u547d\u4ee4\u7528\u4e8e\u4ece\u6587\u4ef6\u4e2d\u52a0\u8f7d iptables \u89c4\u5219\uff1a     <code>sudo iptables-restore &lt; /etc/sysconfig/iptables</code></p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F/","title":"Iptables\u8bed\u6cd5\u683c\u5f0f","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F/#iptables","title":"iptables\u8bed\u6cd5\u683c\u5f0f","text":"<p>iptables \u547d\u4ee4\u7684\u57fa\u672c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>[root~]# iptables [-t table] COMMAND [chain] CRETIRIA -j ACTION\n</code></pre> <p>\u5404\u53c2\u6570\u7684\u542b\u4e49\u4e3a\uff1a</p> <ul> <li>-t\uff1a\u6307\u5b9a\u9700\u8981\u7ef4\u62a4\u7684\u9632\u706b\u5899\u89c4\u5219\u8868 filter\u3001nat\u3001mangle\u6216raw\u3002\u5728\u4e0d\u4f7f\u7528 -t \u65f6\u5219\u9ed8\u8ba4\u4f7f\u7528 filter \u8868\u3002</li> <li>COMMAND\uff1a\u5b50\u547d\u4ee4\uff0c\u5b9a\u4e49\u5bf9\u89c4\u5219\u7684\u7ba1\u7406\u3002</li> <li>chain\uff1a\u6307\u660e\u94fe\u8868\u3002</li> <li>CRETIRIA\uff1a\u5339\u914d\u53c2\u6570\u3002</li> <li>ACTION\uff1a\u89e6\u53d1\u52a8\u4f5c\u3002</li> </ul> <p>iptables \u547d\u4ee4\u5e38\u7528\u7684\u9009\u9879\u53ca\u5404\u81ea\u7684\u529f\u80fd\uff1a</p> <pre><code>\u9009 \u9879    \u529f \u80fd\n-A  \u6dfb\u52a0\u9632\u706b\u5899\u89c4\u5219\n-D  \u5220\u9664\u9632\u706b\u5899\u89c4\u5219\n-I  \u63d2\u5165\u9632\u706b\u5899\u89c4\u5219\n-F  \u6e05\u7a7a\u9632\u706b\u5899\u89c4\u5219\n-L  \u5217\u51fa\u6dfb\u52a0\u9632\u706b\u5899\u89c4\u5219\n-R  \u66ff\u6362\u9632\u706b\u5899\u89c4\u5219\n-Z  \u6e05\u7a7a\u9632\u706b\u5899\u6570\u636e\u8868\u7edf\u8ba1\u4fe1\u606f\n-P  \u8bbe\u7f6e\u94fe\u9ed8\u8ba4\u89c4\u5219\n</code></pre> <p>iptables \u547d\u4ee4\u5e38\u7528\u5339\u914d\u53c2\u6570\u53ca\u5404\u81ea\u7684\u529f\u80fd\uff1a</p> <pre><code>\u53c2 \u6570    \u529f \u80fd\n[!]-p  \u5339\u914d\u534f\u8bae\uff0c! \u8868\u793a\u53d6\u53cd\n[!]-s  \u5339\u914d\u6e90\u5730\u5740\n[!]-d  \u5339\u914d\u76ee\u6807\u5730\u5740\n[!]-i  \u5339\u914d\u5165\u7ad9\u7f51\u5361\u63a5\u53e3\n[!]-o  \u5339\u914d\u51fa\u7ad9\u7f51\u5361\u63a5\u53e3\n[!]--sport  \u5339\u914d\u6e90\u7aef\u53e3\n[!]--dport  \u5339\u914d\u76ee\u6807\u7aef\u53e3\n[!]--src-range  \u5339\u914d\u6e90\u5730\u5740\u8303\u56f4\n[!]--dst-range  \u5339\u914d\u76ee\u6807\u5730\u5740\u8303\u56f4\n[!]--limit  \u56db\u914d\u6570\u636e\u8868\u901f\u7387\n[!]--mac-source  \u5339\u914d\u6e90MAC\u5730\u5740\n[!]--sports  \u5339\u914d\u6e90\u7aef\u53e3\n[!]--dports  \u5339\u914d\u76ee\u6807\u7aef\u53e3\n[!]--stste  \u5339\u914d\u72b6\u6001\uff08INVALID\u3001ESTABLISHED\u3001NEW\u3001RELATED)\n[!]--string  \u5339\u914d\u5e94\u7528\u5c42\u5b57\u4e32\n</code></pre> <p>iptables \u547d\u4ee4\u89e6\u53d1\u52a8\u4f5c\u53ca\u5404\u81ea\u7684\u529f\u80fd\uff1a</p> <pre><code>\u89e6\u53d1\u52a8\u4f5c   \u529f \u80fd\nACCEPT  \u5141\u8bb8\u6570\u636e\u5305\u901a\u8fc7\nDROP  \u4e22\u5f03\u6570\u636e\u5305\nREJECT  \u62d2\u7edd\u6570\u636e\u5305\u901a\u8fc7\nLOG  \u5c06\u6570\u636e\u5305\u4fe1\u606f\u8bb0\u5f55 syslog \u66f0\u5fd7\nDNAT  \u76ee\u6807\u5730\u5740\u8f6c\u6362\nSNAT  \u6e90\u5730\u5740\u8f6c\u6362\nMASQUERADE  \u5730\u5740\u6b3a\u9a97\nREDIRECT  \u91cd\u5b9a\u5411\n</code></pre> <p>\u5185\u6838\u4f1a\u6309\u7167\u987a\u5e8f\u4f9d\u6b21\u68c0\u67e5 iptables \u9632\u706b\u5899\u89c4\u5219\uff0c\u5982\u679c\u53d1\u73b0\u6709\u5339\u914d\u7684\u89c4\u5219\u76ee\u5f55\uff0c\u5219\u7acb\u523b\u6267\u884c\u76f8\u5173\u52a8\u4f5c\uff0c\u505c\u6b62\u7ee7\u7eed\u5411\u4e0b\u67e5\u627e\u89c4\u5219\u76ee\u5f55\uff1b\u5982\u679c\u6240\u6709\u7684\u9632\u706b\u5899\u89c4\u5219\u90fd\u672a\u80fd\u5339\u914d\u6210\u529f\uff0c\u5219\u6309\u7167\u9ed8\u8ba4\u7b56\u7565\u5904\u7406\u3002\u4f7f\u7528 -A \u9009\u9879\u6dfb\u52a0\u9632\u706b\u5899\u89c4\u5219\u4f1a\u5c06\u8be5\u89c4\u5219\u8ffd\u52a0\u5230\u6574\u4e2a\u94fe\u7684\u6700\u540e\uff0c\u800c\u4f7f\u7528 -I \u9009\u9879\u6dfb\u52a0\u7684\u9632\u706b\u5899\u89c4\u5219\u5219\u4f1a\u9ed8\u8ba4\u63d2\u5165\u5230\u94fe\u4e2d\u4f5c\u4e3a\u7b2c\u4e00\u6761\u89c4\u5219\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91/","title":"Iptables\u8bf7\u6c42\u8f6c\u53d1","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91/#_1","title":"\u80cc\u666f","text":"<ul> <li>\u5c06\u8bbf\u95ee2.2.2.2\u673a\u5668\u76843389\u7aef\u53e3\u8bf7\u6c42\u8f6c\u53d1\u52302.2.2.2\u673a\u5668\u4e0a\u7684\u5185\u7f51\u7f51\u6bb5\u768410.155.0.251:3389</li> <li>\u53ea\u9488\u5bf9\u4ece\u5821\u5792\u673a1.1.1.1\u8fd9\u4e2aIP\u653e\u5f00</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91/#_2","title":"\u914d\u7f6e","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91/#_3","title":"\u547d\u4ee4","text":"<pre><code>iptables -t nat -A PREROUTING -s 1.1.1.1 -d 2.2.2.2 -m tcp -p tcp --dport 3389 -j DNAT --to 10.155.0.251:3389\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91/#_4","title":"\u5404\u5b57\u6bb5\u89e3\u91ca","text":"<ol> <li> <p>-t nat</p> <p>\u4f7f\u7528\u7684\u662f nat \u8868\uff0c\u4e3b\u8981\u7528\u4e8e\u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff08DNAT / SNAT / MASQUERADE\uff09\u3002</p> </li> <li> <p>-A PREROUTING</p> <p>\u5728 PREROUTING \u94fe\u8ffd\u52a0\u89c4\u5219\uff0c\u6570\u636e\u5305\u521a\u5230\u8fbe\u9632\u706b\u5899\u65f6\uff08\u8def\u7531\u5224\u65ad\u524d\uff09\u5c31\u4f1a\u5148\u8d70\u8fd9\u91cc\u3002</p> <p>\u2192 \u9002\u5408\u505a\u76ee\u6807\u5730\u5740\u8f6c\u6362\uff08DNAT\uff09\u3002</p> </li> <li> <p>-s 1.1.1.1</p> <p>\u4ec5\u5339\u914d \u6e90 IP \u4e3a 1.1.1.1 \u7684\u6570\u636e\u5305\u3002</p> </li> <li> <p>-d 2.2.2.2</p> <p>\u4ec5\u5339\u914d \u76ee\u6807 IP \u4e3a 2.2.2.2 \u7684\u6570\u636e\u5305\u3002</p> <p>\uff08\u901a\u5e38\u662f\u672c\u673a\u67d0\u4e2a\u516c\u7f51 IP\uff09\u3002</p> </li> <li> <p>-m tcp -p tcp --dport 3389</p> <p>\u5339\u914d TCP \u534f\u8bae\uff0c\u76ee\u6807\u7aef\u53e3\u662f 3389\uff08\u8fdc\u7a0b\u684c\u9762 RDP \u9ed8\u8ba4\u7aef\u53e3\uff09\u3002</p> </li> <li> <p>-j DNAT --to 10.155.0.251:3389</p> <p>\u52a8\u4f5c\u662f \u76ee\u6807\u5730\u5740\u8f6c\u6362 (DNAT)\uff0c\u628a\u76ee\u7684 IP:\u7aef\u53e3 2.2.2.2:3389 \u8f6c\u6362\u4e3a\u5185\u7f51\u4e3b\u673a 10.155.0.251:3389\u3002</p> </li> </ol>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91/#_5","title":"\u89c4\u5219\u6548\u679c","text":"<p>\u53ea\u6709\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u7684 TCP \u6570\u636e\u5305\u4f1a\u88ab\u8f6c\u53d1\uff1a</p> <ul> <li> <p>\u6e90\u5730\u5740\uff1a1.1.1.1</p> </li> <li> <p>\u76ee\u6807\u5730\u5740\uff1a2.2.2.2</p> </li> <li> <p>\u76ee\u6807\u7aef\u53e3\uff1a3389</p> </li> </ul> <p>\u8fd9\u4e9b\u5305\u4f1a\u88ab DNAT\uff0c\u6539\u5199\u4e3a\uff1a</p> <ul> <li> <p>\u65b0\u7684\u76ee\u6807\u5730\u5740\uff1a10.155.0.251</p> </li> <li> <p>\u65b0\u7684\u76ee\u6807\u7aef\u53e3\uff1a3389</p> </li> </ul> <p>\u6362\u53e5\u8bdd\u8bf4\uff1a</p> <p>\ud83d\udc49 \u53ea\u5141\u8bb8 \u6765\u81ea 1.1.1.1 \u7684\u4e3b\u673a \u8bbf\u95ee 2.2.2.2:3389\uff0c\u5e76\u4e14\u4f1a\u88ab\u900f\u660e\u8f6c\u53d1\u5230\u5185\u7f51\u7684 10.155.0.251:3389\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91/#_6","title":"\u5b9e\u9645\u7528\u9014","text":"<ul> <li> <p>\u5185\u7f51\u7a7f\u900f\uff1a\u8ba9\u5916\u90e8\u7684 1.1.1.1 \u53ef\u4ee5\u901a\u8fc7\u516c\u7f51 IP 2.2.2.2:3389\uff0c\u8bbf\u95ee\u5185\u7f51\u673a\u5668 10.155.0.251:3389\u3002</p> </li> <li> <p>\u5b89\u5168\u63a7\u5236\uff1a\u52a0\u4e86 -s 1.1.1.1 \u9650\u5236\u6765\u6e90\uff0c\u907f\u514d\u6240\u6709\u4eba\u90fd\u80fd\u76f4\u63a5\u8fde\u4e0a 3389\uff0c\u53ea\u5141\u8bb8\u6307\u5b9a IP\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E9%99%90%E5%88%B6docker%E5%AE%B9%E5%99%A8%E7%AB%AF%E5%8F%A3/","title":"Iptables\u9650\u5236docker\u5bb9\u5668\u7aef\u53e3","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E9%99%90%E5%88%B6docker%E5%AE%B9%E5%99%A8%E7%AB%AF%E5%8F%A3/#_1","title":"\u80cc\u666f\uff1a","text":"<ul> <li>docker\u5f00\u653e\u7684\u516c\u7f51IP\u7684\u7aef\u53e3\uff0c\u65e0\u6cd5\u901a\u8fc7INPUT\u94fe\u8fdb\u884c\u9650\u5236\uff08\u8bf7\u6c42\u4f1a\u5148\u8d70DOCKER\u94fe\uff09\uff0c\u9700\u8981\u5728DOCKER-USER\u94fe\u4e0a\u9762\u9650\u5236\u3002</li> <li>\u53c2\u8003\uff1a<ul> <li>https://www.cnblogs.com/hukey/p/18320783</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptables%E9%99%90%E5%88%B6docker%E5%AE%B9%E5%99%A8%E7%AB%AF%E5%8F%A3/#_2","title":"\u53c2\u8003\u547d\u4ee4","text":"<ul> <li>enp26s0f0\u4e3a\u516c\u7f51\u7f51\u5361\u540d\u79f0(\u4e0d\u7528\u6307\u5b9a\u4e5f\u884c)\uff0c\u9664\u4e8654.183.108.229 112.5.64.253  38.175.45.22 \u53ef\u4ee5\u8bbf\u95ee3000,9289,9090\u7684web\u670d\u52a1\uff0c\u5176\u4ed6\u7684\u90fd\u65e0\u6cd5\u76f4\u63a5\u901a\u8fc7\u516c\u7f51\u8bbf\u95ee</li> </ul> <pre><code>iptables -I DOCKER-USER -i enp26s0f0 -p tcp -m tcp -m multiport --dports 3000,9289,9090 -j REJECT\niptables -I DOCKER-USER -i enp26s0f0 -s 54.183.108.229 -p tcp -m tcp -m multiport --dports 3000,9289,9090 -j ACCEPT\niptables -I DOCKER-USER -i enp26s0f0 -s 112.5.64.253 -p tcp -m tcp -m multiport --dports 3000,9289,9090 -j ACCEPT\niptables -I DOCKER-USER -i enp26s0f0 -s 38.175.45.22 -p tcp -m tcp -m multiport --dports 3000,9289,9090 -j ACCEPT\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/","title":"Iptable\u539f\u7406","text":"<p>iptables\u547d\u4ee4\u00a0\u662fLinux\u4e0a\u5e38\u7528\u7684\u9632\u706b\u5899\u8f6f\u4ef6\uff0c\u662fnetfilter\u9879\u76ee\u7684\u4e00\u90e8\u5206\u3002\u53ef\u4ee5\u76f4\u63a5\u914d\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8bb8\u591a\u524d\u7aef\u548c\u56fe\u5f62\u754c\u9762\u914d\u7f6e\u3002</p> <ul> <li>\u8865\u5145\u8bf4\u660e<ul> <li>\u8bed\u6cd5</li> <li>\u9009\u9879</li> </ul> </li> <li>\u57fa\u672c\u53c2\u6570<ul> <li>\u547d\u4ee4\u9009\u9879\u8f93\u5165\u987a\u5e8f</li> <li>\u5de5\u4f5c\u673a\u5236</li> <li>\u9632\u706b\u5899\u7684\u7b56\u7565</li> <li>\u9632\u706b\u5899\u7684\u7b56\u7565</li> <li>\u5b9e\u4f8b<ul> <li>\u6e05\u7a7a\u5f53\u524d\u7684\u6240\u6709\u89c4\u5219\u548c\u8ba1\u6570</li> <li>\u914d\u7f6e\u5141\u8bb8ssh\u7aef\u53e3\u8fde\u63a5</li> <li>\u5141\u8bb8\u672c\u5730\u56de\u73af\u5730\u5740\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528</li> <li>\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u89c4\u5219</li> <li>\u914d\u7f6e\u767d\u540d\u5355</li> <li>\u5f00\u542f\u76f8\u5e94\u7684\u670d\u52a1\u7aef\u53e3</li> <li>\u4fdd\u5b58\u89c4\u5219\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d</li> <li>\u5217\u51fa\u5df2\u8bbe\u7f6e\u7684\u89c4\u5219</li> <li>\u6e05\u9664\u5df2\u6709\u89c4\u5219</li> <li>\u5220\u9664\u5df2\u6dfb\u52a0\u7684\u89c4\u5219</li> <li>\u5f00\u653e\u6307\u5b9a\u7684\u7aef\u53e3</li> <li>\u5c4f\u853dIP</li> <li>\u6307\u5b9a\u6570\u636e\u5305\u51fa\u53bb\u7684\u7f51\u7edc\u63a5\u53e3</li> <li>\u67e5\u770b\u5df2\u6dfb\u52a0\u7684\u89c4\u5219</li> <li>\u542f\u52a8\u7f51\u7edc\u8f6c\u53d1\u89c4\u5219</li> <li>\u7aef\u53e3\u6620\u5c04</li> <li>\u5b57\u7b26\u4e32\u5339\u914d</li> <li>\u963b\u6b62Windows\u8815\u866b\u7684\u653b\u51fb</li> <li>\u9632\u6b62SYN\u6d2a\u6c34\u653b\u51fb</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_1","title":"\u8bed\u6cd5","text":"<pre><code>iptables(\u9009\u9879)(\u53c2\u6570)\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_2","title":"\u9009\u9879","text":"<pre><code>-t, --table table \u5bf9\u6307\u5b9a\u7684\u8868 table \u8fdb\u884c\u64cd\u4f5c\uff0c table \u5fc5\u987b\u662f raw\uff0c nat\uff0cfilter\uff0cmangle \u4e2d\u7684\u4e00\u4e2a\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u6b64\u9009\u9879\uff0c\u9ed8\u8ba4\u7684\u662f filter \u8868\u3002\n\n# \u901a\u7528\u5339\u914d\uff1a\u6e90\u5730\u5740\u76ee\u6807\u5730\u5740\u7684\u5339\u914d\n-p\uff1a\u6307\u5b9a\u8981\u5339\u914d\u7684\u6570\u636e\u5305\u534f\u8bae\u7c7b\u578b\uff1b\n-s, --source [!] address[/mask] \uff1a\u628a\u6307\u5b9a\u7684\u4e00\u4e2a\uff0f\u4e00\u7ec4\u5730\u5740\u4f5c\u4e3a\u6e90\u5730\u5740\uff0c\u6309\u6b64\u89c4\u5219\u8fdb\u884c\u8fc7\u6ee4\u3002\u5f53\u540e\u9762\u6ca1\u6709 mask \u65f6\uff0caddress \u662f\u4e00\u4e2a\u5730\u5740\uff0c\u6bd4\u5982\uff1a192.168.1.1\uff1b\u5f53 mask \u6307\u5b9a\u65f6\uff0c\u53ef\u4ee5\u8868\u793a\u4e00\u7ec4\u8303\u56f4\u5185\u7684\u5730\u5740\uff0c\u6bd4\u5982\uff1a192.168.1.0/255.255.255.0\u3002\n-d, --destination [!] address[/mask] \uff1a\u5730\u5740\u683c\u5f0f\u540c\u4e0a\uff0c\u4f46\u8fd9\u91cc\u662f\u6307\u5b9a\u5730\u5740\u4e3a\u76ee\u7684\u5730\u5740\uff0c\u6309\u6b64\u8fdb\u884c\u8fc7\u6ee4\u3002\n--dport \u6307\u5b9a\u76ee\u7684\u7aef\u53e3\n--sport \u6307\u5b9a\u6e90\u7aef\u53e3\n-i, --in-interface [!] &lt;\u7f51\u7edc\u63a5\u53e3name&gt; \uff1a\u6307\u5b9a\u6570\u636e\u5305\u7684\u6765\u81ea\u6765\u81ea\u7f51\u7edc\u63a5\u53e3\uff0c\u6bd4\u5982\u6700\u5e38\u89c1\u7684 eth0 \u3002\u6ce8\u610f\uff1a\u5b83\u53ea\u5bf9 INPUT\uff0cFORWARD\uff0cPREROUTING \u8fd9\u4e09\u4e2a\u94fe\u8d77\u4f5c\u7528\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u6b64\u9009\u9879\uff0c \u8bf4\u660e\u53ef\u4ee5\u6765\u81ea\u4efb\u4f55\u4e00\u4e2a\u7f51\u7edc\u63a5\u53e3\u3002\u540c\u524d\u9762\u7c7b\u4f3c\uff0c\"!\" \u8868\u793a\u53d6\u53cd\u3002\n-o, --out-interface [!] &lt;\u7f51\u7edc\u63a5\u53e3name&gt; \uff1a\u6307\u5b9a\u6570\u636e\u5305\u51fa\u53bb\u7684\u7f51\u7edc\u63a5\u53e3\u3002\u53ea\u5bf9 OUTPUT\uff0cFORWARD\uff0cPOSTROUTING \u4e09\u4e2a\u94fe\u8d77\u4f5c\u7528\u3002\n\n# \u67e5\u770b\u7ba1\u7406\u547d\u4ee4\n-L, --list [chain] \u5217\u51fa\u94fe chain \u4e0a\u9762\u7684\u6240\u6709\u89c4\u5219\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u94fe\uff0c\u5217\u51fa\u8868\u4e0a\u6240\u6709\u94fe\u7684\u6240\u6709\u89c4\u5219\u3002\n\n# \u89c4\u5219\u7ba1\u7406\u547d\u4ee4\n-A, --append chain rule-specification \u5728\u6307\u5b9a\u94fe chain \u7684\u672b\u5c3e\u63d2\u5165\u6307\u5b9a\u7684\u89c4\u5219\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u6761\u89c4\u5219\u4f1a\u88ab\u653e\u5230\u6700\u540e\uff0c\u6700\u540e\u624d\u4f1a\u88ab\u6267\u884c\u3002\u89c4\u5219\u662f\u7531\u540e\u9762\u7684\u5339\u914d\u6765\u6307\u5b9a\u3002\n-I, --insert chain [rulenum] rule-specification \u5728\u94fe chain \u4e2d\u7684\u6307\u5b9a\u4f4d\u7f6e\u63d2\u5165\u4e00\u6761\u6216\u591a\u6761\u89c4\u5219\u3002\u5982\u679c\u6307\u5b9a\u7684\u89c4\u5219\u53f7\u662f1\uff0c\u5219\u5728\u94fe\u7684\u5934\u90e8\u63d2\u5165\u3002\u8fd9\u4e5f\u662f\u9ed8\u8ba4\u7684\u60c5\u51b5\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u89c4\u5219\u53f7\u3002\n-D, --delete chain rule-specification -D, --delete chain rulenum \u5728\u6307\u5b9a\u7684\u94fe chain \u4e2d\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\u6307\u5b9a\u89c4\u5219\u3002\n-R num\uff1aReplays\u66ff\u6362/\u4fee\u6539\u7b2c\u51e0\u6761\u89c4\u5219\n\n# \u94fe\u7ba1\u7406\u547d\u4ee4\uff08\u8fd9\u90fd\u662f\u7acb\u5373\u751f\u6548\u7684\uff09\n-P, --policy chain target \uff1a\u4e3a\u6307\u5b9a\u7684\u94fe chain \u8bbe\u7f6e\u7b56\u7565 target\u3002\u6ce8\u610f\uff0c\u53ea\u6709\u5185\u7f6e\u7684\u94fe\u624d\u5141\u8bb8\u6709\u7b56\u7565\uff0c\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u662f\u4e0d\u5141\u8bb8\u7684\u3002\n-F, --flush [chain] \u6e05\u7a7a\u6307\u5b9a\u94fe chain \u4e0a\u9762\u7684\u6240\u6709\u89c4\u5219\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u94fe\uff0c\u6e05\u7a7a\u8be5\u8868\u4e0a\u6240\u6709\u94fe\u7684\u6240\u6709\u89c4\u5219\u3002\n-N, --new-chain chain \u7528\u6307\u5b9a\u7684\u540d\u5b57\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u94fe\u3002\n-X, --delete-chain [chain] \uff1a\u5220\u9664\u6307\u5b9a\u7684\u94fe\uff0c\u8fd9\u4e2a\u94fe\u5fc5\u987b\u6ca1\u6709\u88ab\u5176\u5b83\u4efb\u4f55\u89c4\u5219\u5f15\u7528\uff0c\u800c\u4e14\u8fd9\u6761\u4e0a\u5fc5\u987b\u6ca1\u6709\u4efb\u4f55\u89c4\u5219\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u94fe\u540d\uff0c\u5219\u4f1a\u5220\u9664\u8be5\u8868\u4e2d\u6240\u6709\u975e\u5185\u7f6e\u7684\u94fe\u3002\n-E, --rename-chain old-chain new-chain \uff1a\u7528\u6307\u5b9a\u7684\u65b0\u540d\u5b57\u53bb\u91cd\u547d\u540d\u6307\u5b9a\u7684\u94fe\u3002\u8fd9\u5e76\u4e0d\u4f1a\u5bf9\u94fe\u5185\u90e8\u9020\u6210\u4efb\u4f55\u5f71\u54cd\u3002\n-Z, --zero [chain] \uff1a\u628a\u6307\u5b9a\u94fe\uff0c\u6216\u8005\u8868\u4e2d\u7684\u6240\u6709\u94fe\u4e0a\u7684\u6240\u6709\u8ba1\u6570\u5668\u6e05\u96f6\u3002\n\n-j, --jump target &lt;\u6307\u5b9a\u76ee\u6807&gt; \uff1a\u5373\u6ee1\u8db3\u67d0\u6761\u4ef6\u65f6\u8be5\u6267\u884c\u4ec0\u4e48\u6837\u7684\u52a8\u4f5c\u3002target \u53ef\u4ee5\u662f\u5185\u7f6e\u7684\u76ee\u6807\uff0c\u6bd4\u5982 ACCEPT\uff0c\u4e5f\u53ef\u4ee5\u662f\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u94fe\u3002\n-h\uff1a\u663e\u793a\u5e2e\u52a9\u4fe1\u606f\uff1b\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_3","title":"\u57fa\u672c\u53c2\u6570","text":"\u53c2\u6570 \u4f5c\u7528 -P \u8bbe\u7f6e\u9ed8\u8ba4\u7b56\u7565:iptables -P INPUT (DROP -F \u6e05\u7a7a\u89c4\u5219\u94fe -L \u67e5\u770b\u89c4\u5219\u94fe -A \u5728\u89c4\u5219\u94fe\u7684\u672b\u5c3e\u52a0\u5165\u65b0\u89c4\u5219 -I num \u5728\u89c4\u5219\u94fe\u7684\u5934\u90e8\u52a0\u5165\u65b0\u89c4\u5219 -D num \u5220\u9664\u67d0\u4e00\u6761\u89c4\u5219 -s \u5339\u914d\u6765\u6e90\u5730\u5740IP/MASK\uff0c\u52a0\u53f9\u53f7\"!\"\u8868\u793a\u9664\u8fd9\u4e2aIP\u5916\u3002 -d \u5339\u914d\u76ee\u6807\u5730\u5740 -i \u7f51\u5361\u540d\u79f0 \u5339\u914d\u4ece\u8fd9\u5757\u7f51\u5361\u6d41\u5165\u7684\u6570\u636e -o \u7f51\u5361\u540d\u79f0 \u5339\u914d\u4ece\u8fd9\u5757\u7f51\u5361\u6d41\u51fa\u7684\u6570\u636e -p \u5339\u914d\u534f\u8bae,\u5982tcp,udp,icmp --dport num \u5339\u914d\u76ee\u6807\u7aef\u53e3\u53f7 --sport num \u5339\u914d\u6765\u6e90\u7aef\u53e3\u53f7"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_4","title":"\u547d\u4ee4\u9009\u9879\u8f93\u5165\u987a\u5e8f","text":"<pre><code>iptables -t \u8868\u540d &lt;-A/I/D/R&gt; \u89c4\u5219\u94fe\u540d [\u89c4\u5219\u53f7] &lt;-i/o \u7f51\u5361\u540d&gt; -p \u534f\u8bae\u540d &lt;-s \u6e90IP/\u6e90\u5b50\u7f51&gt; --sport \u6e90\u7aef\u53e3 &lt;-d \u76ee\u6807IP/\u76ee\u6807\u5b50\u7f51&gt; --dport \u76ee\u6807\u7aef\u53e3 -j \u52a8\u4f5c\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_5","title":"\u5de5\u4f5c\u673a\u5236","text":"<p>\u89c4\u5219\u94fe\u540d\u5305\u62ec(\u4e5f\u88ab\u79f0\u4e3a\u4e94\u4e2a\u94a9\u5b50\u51fd\u6570\uff08hook functions\uff09)\uff1a</p> <ul> <li>INPUT\u94fe\u00a0\uff1a\u5904\u7406\u8f93\u5165\u6570\u636e\u5305\u3002</li> <li>OUTPUT\u94fe\u00a0\uff1a\u5904\u7406\u8f93\u51fa\u6570\u636e\u5305\u3002</li> <li>FORWARD\u94fe\u00a0\uff1a\u5904\u7406\u8f6c\u53d1\u6570\u636e\u5305\u3002</li> <li>PREROUTING\u94fe\u00a0\uff1a\u7528\u4e8e\u76ee\u6807\u5730\u5740\u8f6c\u6362\uff08DNAT\uff09\u3002</li> <li>POSTOUTING\u94fe\u00a0\uff1a\u7528\u4e8e\u6e90\u5730\u5740\u8f6c\u6362\uff08SNAT\uff09\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_6","title":"\u9632\u706b\u5899\u7684\u7b56\u7565","text":"<p>\u9632\u706b\u5899\u7b56\u7565\u4e00\u822c\u5206\u4e3a\u4e24\u79cd\uff0c\u4e00\u79cd\u53eb<code>\u901a</code>\u7b56\u7565\uff0c\u4e00\u79cd\u53eb<code>\u5835</code>\u7b56\u7565\uff0c\u901a\u7b56\u7565\uff0c\u9ed8\u8ba4\u95e8\u662f\u5173\u7740\u7684\uff0c\u5fc5\u987b\u8981\u5b9a\u4e49\u8c01\u80fd\u8fdb\u3002\u5835\u7b56\u7565\u5219\u662f\uff0c\u5927\u95e8\u662f\u6d1e\u5f00\u7684\uff0c\u4f46\u662f\u4f60\u5fc5\u987b\u6709\u8eab\u4efd\u8ba4\u8bc1\uff0c\u5426\u5219\u4e0d\u80fd\u8fdb\u3002\u6240\u4ee5\u6211\u4eec\u8981\u5b9a\u4e49\uff0c\u8ba9\u8fdb\u6765\u7684\u8fdb\u6765\uff0c\u8ba9\u51fa\u53bb\u7684\u51fa\u53bb\uff0c<code>\u6240\u4ee5\u901a\uff0c\u662f\u8981\u5168\u901a\uff0c\u800c\u5835\uff0c\u5219\u662f\u8981\u9009\u62e9</code>\u3002\u5f53\u6211\u4eec\u5b9a\u4e49\u7684\u7b56\u7565\u7684\u65f6\u5019\uff0c\u8981\u5206\u522b\u5b9a\u4e49\u591a\u6761\u529f\u80fd\uff0c\u5176\u4e2d\uff1a\u5b9a\u4e49\u6570\u636e\u5305\u4e2d\u5141\u8bb8\u6216\u8005\u4e0d\u5141\u8bb8\u7684\u7b56\u7565\uff0cfilter\u8fc7\u6ee4\u7684\u529f\u80fd\uff0c\u800c\u5b9a\u4e49\u5730\u5740\u8f6c\u6362\u7684\u529f\u80fd\u7684\u5219\u662fnat\u9009\u9879\u3002\u4e3a\u4e86\u8ba9\u8fd9\u4e9b\u529f\u80fd\u4ea4\u66ff\u5de5\u4f5c\uff0c\u6211\u4eec\u5236\u5b9a\u51fa\u4e86\u201c\u8868\u201d\u8fd9\u4e2a\u5b9a\u4e49\uff0c\u6765\u5b9a\u4e49\u3001\u533a\u5206\u5404\u79cd\u4e0d\u540c\u7684\u5de5\u4f5c\u529f\u80fd\u548c\u5904\u7406\u65b9\u5f0f\u3002</p> <p>\u6211\u4eec\u73b0\u5728\u7528\u7684\u6bd4\u8f83\u591a\u4e2a\u529f\u80fd\u67093\u4e2a\uff1a</p> <ol> <li>filter \u5b9a\u4e49\u5141\u8bb8\u6216\u8005\u4e0d\u5141\u8bb8\u7684\uff0c\u53ea\u80fd\u505a\u57283\u4e2a\u94fe\u4e0a\uff1aINPUT \uff0cFORWARD \uff0cOUTPUT</li> <li>nat \u5b9a\u4e49\u5730\u5740\u8f6c\u6362\u7684\uff0c\u4e5f\u53ea\u80fd\u505a\u57283\u4e2a\u94fe\u4e0a\uff1aPREROUTING \uff0cOUTPUT \uff0cPOSTROUTING</li> <li>mangle\u529f\u80fd:\u4fee\u6539\u62a5\u6587\u539f\u6570\u636e\uff0c\u662f5\u4e2a\u94fe\u90fd\u53ef\u4ee5\u505a\uff1aPREROUTING\uff0cINPUT\uff0cFORWARD\uff0cOUTPUT\uff0cPOSTROUTING</li> </ol> <p>\u6211\u4eec\u4fee\u6539\u62a5\u6587\u539f\u6570\u636e\u5c31\u662f\u6765\u4fee\u6539TTL\u7684\u3002\u80fd\u591f\u5b9e\u73b0\u5c06\u6570\u636e\u5305\u7684\u5143\u6570\u636e\u62c6\u5f00\uff0c\u5728\u91cc\u9762\u505a\u6807\u8bb0/\u4fee\u6539\u5185\u5bb9\u7684\u3002\u800c\u9632\u706b\u5899\u6807\u8bb0\uff0c\u5176\u5b9e\u5c31\u662f\u9760mangle\u6765\u5b9e\u73b0\u7684\u3002</p> <p>\u5c0f\u6269\u5c55:</p> <ul> <li>\u5bf9\u4e8efilter\u6765\u8bb2\u4e00\u822c\u53ea\u80fd\u505a\u57283\u4e2a\u94fe\u4e0a\uff1aINPUT \uff0cFORWARD \uff0cOUTPUT</li> <li>\u5bf9\u4e8enat\u6765\u8bb2\u4e00\u822c\u4e5f\u53ea\u80fd\u505a\u57283\u4e2a\u94fe\u4e0a\uff1aPREROUTING \uff0cOUTPUT \uff0cPOSTROUTING</li> <li>\u800cmangle\u5219\u662f5\u4e2a\u94fe\u90fd\u53ef\u4ee5\u505a\uff1aPREROUTING\uff0cINPUT\uff0cFORWARD\uff0cOUTPUT\uff0cPOSTROUTING</li> </ul> <p>iptables/netfilter\uff08\u8fd9\u6b3e\u8f6f\u4ef6\uff09\u662f\u5de5\u4f5c\u5728\u7528\u6237\u7a7a\u95f4\u7684\uff0c\u5b83\u53ef\u4ee5\u8ba9\u89c4\u5219\u8fdb\u884c\u751f\u6548\u7684\uff0c\u672c\u8eab\u4e0d\u662f\u4e00\u79cd\u670d\u52a1\uff0c\u800c\u4e14\u89c4\u5219\u662f\u7acb\u5373\u751f\u6548\u7684\u3002\u800c\u6211\u4eeciptables\u73b0\u5728\u88ab\u505a\u6210\u4e86\u4e00\u4e2a\u670d\u52a1\uff0c\u53ef\u4ee5\u8fdb\u884c\u542f\u52a8\uff0c\u505c\u6b62\u7684\u3002\u542f\u52a8\uff0c\u5219\u5c06\u89c4\u5219\u76f4\u63a5\u751f\u6548\uff0c\u505c\u6b62\uff0c\u5219\u5c06\u89c4\u5219\u64a4\u9500\u3002</p> <p>iptables\u8fd8\u652f\u6301\u81ea\u5df1\u5b9a\u4e49\u94fe\u3002\u4f46\u662f\u81ea\u5df1\u5b9a\u4e49\u7684\u94fe\uff0c\u5fc5\u987b\u662f\u8ddf\u67d0\u79cd\u7279\u5b9a\u7684\u94fe\u5173\u8054\u8d77\u6765\u7684\u3002\u5728\u4e00\u4e2a\u5173\u5361\u8bbe\u5b9a\uff0c\u6307\u5b9a\u5f53\u6709\u6570\u636e\u7684\u65f6\u5019\u4e13\u95e8\u53bb\u627e\u67d0\u4e2a\u7279\u5b9a\u7684\u94fe\u6765\u5904\u7406\uff0c\u5f53\u90a3\u4e2a\u94fe\u5904\u7406\u5b8c\u4e4b\u540e\uff0c\u518d\u8fd4\u56de\u3002\u63a5\u7740\u5728\u7279\u5b9a\u7684\u94fe\u4e2d\u7ee7\u7eed\u68c0\u67e5\u3002</p> <p>\u6ce8\u610f\uff1a\u89c4\u5219\u7684\u6b21\u5e8f\u975e\u5e38\u5173\u952e\uff0c<code>\u8c01\u7684\u89c4\u5219\u8d8a\u4e25\u683c\uff0c\u5e94\u8be5\u653e\u7684\u8d8a\u9760\u524d</code>\uff0c\u800c\u68c0\u67e5\u89c4\u5219\u7684\u65f6\u5019\uff0c\u662f\u6309\u7167\u4ece\u4e0a\u5f80\u4e0b\u7684\u65b9\u5f0f\u8fdb\u884c\u68c0\u67e5\u7684\u3002</p> <p>\u8868\u540d\u5305\u62ec\uff1a</p> <ul> <li>raw\u00a0\uff1a\u9ad8\u7ea7\u529f\u80fd\uff0c\u5982\uff1a\u7f51\u5740\u8fc7\u6ee4\u3002</li> <li>mangle\u00a0\uff1a\u6570\u636e\u5305\u4fee\u6539\uff08QOS\uff09\uff0c\u7528\u4e8e\u5b9e\u73b0\u670d\u52a1\u8d28\u91cf\u3002</li> <li>nat\u00a0\uff1a\u5730\u5740\u8f6c\u6362\uff0c\u7528\u4e8e\u7f51\u5173\u8def\u7531\u5668\u3002</li> <li>filter\u00a0\uff1a\u5305\u8fc7\u6ee4\uff0c\u7528\u4e8e\u9632\u706b\u5899\u89c4\u5219\u3002</li> </ul> <p>\u52a8\u4f5c\u5305\u62ec\uff1a</p> <ul> <li>ACCEPT\u00a0\uff1a\u63a5\u6536\u6570\u636e\u5305\u3002</li> <li>DROP\u00a0\uff1a\u4e22\u5f03\u6570\u636e\u5305\u3002</li> <li>REDIRECT\u00a0\uff1a\u91cd\u5b9a\u5411\u3001\u6620\u5c04\u3001\u900f\u660e\u4ee3\u7406\u3002</li> <li>SNAT\u00a0\uff1a\u6e90\u5730\u5740\u8f6c\u6362\u3002</li> <li>DNAT\u00a0\uff1a\u76ee\u6807\u5730\u5740\u8f6c\u6362\u3002</li> <li>MASQUERADE\u00a0\uff1aIP\u4f2a\u88c5\uff08NAT\uff09\uff0c\u7528\u4e8eADSL\u3002</li> <li>LOG\u00a0\uff1a\u65e5\u5fd7\u8bb0\u5f55\u3002</li> <li>SEMARK\u00a0: \u6dfb\u52a0SEMARK\u6807\u8bb0\u4ee5\u4f9b\u7f51\u57df\u5185\u5f3a\u5236\u8bbf\u95ee\u63a7\u5236\uff08MAC\uff09</li> </ul> <pre><code>                             \u250f\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u2513\n \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2503    Network    \u2503\n \u2502 table: filter \u2502           \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\n \u2502 chain: INPUT  \u2502\u25c0\u2500\u2500\u2500\u2500\u2510             \u2502\n \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502             \u25bc\n         \u2502             \u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u250c      \u25bc      \u2510      \u2502   \u2502 table: nat        \u2502\n  \u2502local process\u2502      \u2502   \u2502 chain: PREROUTING \u2502\n  \u2514             \u2518      \u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502             \u2502             \u2502\n         \u25bc             \u2502             \u25bc              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505    \u2502     \u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505      \u2502table: nat       \u2502\n Routing decision      \u2514\u2500\u2500\u2500\u2500\u2500 outing decision \u2500\u2500\u2500\u2500\u2500\u25b6\u2502chain: PREROUTING\u2502\n\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2533\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505          \u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                                                   \u2502\n         \u25bc                                                   \u2502\n \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                           \u2502\n \u2502 table: nat    \u2502           \u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505               \u2502\n \u2502 chain: OUTPUT \u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u25b6 outing decision \u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502      \u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2533\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\n         \u2502            \u2502              \u2502\n         \u25bc            \u2502              \u25bc\n \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n \u2502 table: filter \u2502    \u2502   \u2502 chain: POSTROUTING \u2502\n \u2502 chain: OUTPUT \u251c\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                   \u2502\n                                     \u25bc\n                             \u250f\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u254d\u2513\n                             \u2503    Network    \u2503\n                             \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_7","title":"\u5b9e\u4f8b","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_8","title":"\u6e05\u7a7a\u5f53\u524d\u7684\u6240\u6709\u89c4\u5219\u548c\u8ba1\u6570","text":"<pre><code>iptables -F  # \u6e05\u7a7a\u6240\u6709\u7684\u9632\u706b\u5899\u89c4\u5219\niptables -X  # \u5220\u9664\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u7a7a\u94fe\niptables -Z  # \u6e05\u7a7a\u8ba1\u6570\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#ssh","title":"\u914d\u7f6e\u5141\u8bb8ssh\u7aef\u53e3\u8fde\u63a5","text":"<pre><code>iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 22 -j ACCEPT\n# 22\u4e3a\u4f60\u7684ssh\u7aef\u53e3\uff0c -s 192.168.1.0/24\u8868\u793a\u5141\u8bb8\u8fd9\u4e2a\u7f51\u6bb5\u7684\u673a\u5668\u6765\u8fde\u63a5\uff0c\u5176\u5b83\u7f51\u6bb5\u7684ip\u5730\u5740\u662f\u767b\u9646\u4e0d\u4e86\u4f60\u7684\u673a\u5668\u7684\u3002 -j ACCEPT\u8868\u793a\u63a5\u53d7\u8fd9\u6837\u7684\u8bf7\u6c42\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_9","title":"\u5141\u8bb8\u672c\u5730\u56de\u73af\u5730\u5740\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528","text":"<pre><code>iptables -A INPUT -i lo -j ACCEPT\n#\u672c\u5730\u5706\u73af\u5730\u5740\u5c31\u662f\u90a3\u4e2a127.0.0.1\uff0c\u662f\u672c\u673a\u4e0a\u4f7f\u7528\u7684,\u5b83\u8fdb\u4e0e\u51fa\u90fd\u8bbe\u7f6e\u4e3a\u5141\u8bb8\niptables -A OUTPUT -o lo -j ACCEPT\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_10","title":"\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u89c4\u5219","text":"<pre><code>iptables -P INPUT DROP # \u914d\u7f6e\u9ed8\u8ba4\u7684\u4e0d\u8ba9\u8fdb\niptables -P FORWARD DROP # \u9ed8\u8ba4\u7684\u4e0d\u5141\u8bb8\u8f6c\u53d1\niptables -P OUTPUT ACCEPT # \u9ed8\u8ba4\u7684\u53ef\u4ee5\u51fa\u53bb\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_11","title":"\u914d\u7f6e\u767d\u540d\u5355","text":"<pre><code>iptables -A INPUT -p all -s 192.168.1.0/24 -j ACCEPT  # \u5141\u8bb8\u673a\u623f\u5185\u7f51\u673a\u5668\u53ef\u4ee5\u8bbf\u95ee\niptables -A INPUT -p all -s 192.168.140.0/24 -j ACCEPT  # \u5141\u8bb8\u673a\u623f\u5185\u7f51\u673a\u5668\u53ef\u4ee5\u8bbf\u95ee\niptables -A INPUT -p tcp -s 183.121.3.7 --dport 3380 -j ACCEPT # \u5141\u8bb8183.121.3.7\u8bbf\u95ee\u672c\u673a\u76843380\u7aef\u53e3\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_12","title":"\u5f00\u542f\u76f8\u5e94\u7684\u670d\u52a1\u7aef\u53e3","text":"<pre><code>iptables -A INPUT -p tcp --dport 80 -j ACCEPT # \u5f00\u542f80\u7aef\u53e3\uff0c\u56e0\u4e3aweb\u5bf9\u5916\u90fd\u662f\u8fd9\u4e2a\u7aef\u53e3\niptables -A INPUT -p icmp --icmp-type 8 -j ACCEPT # \u5141\u8bb8\u88abping\niptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT # \u5df2\u7ecf\u5efa\u7acb\u7684\u8fde\u63a5\u5f97\u8ba9\u5b83\u8fdb\u6765\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_13","title":"\u4fdd\u5b58\u89c4\u5219\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d","text":"<pre><code>cp /etc/sysconfig/iptables /etc/sysconfig/iptables.bak # \u4efb\u4f55\u6539\u52a8\u4e4b\u524d\u5148\u5907\u4efd\uff0c\u8bf7\u4fdd\u6301\u8fd9\u4e00\u4f18\u79c0\u7684\u4e60\u60ef\niptables-save &gt; /etc/sysconfig/iptables\ncat /etc/sysconfig/iptables\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_14","title":"\u5217\u51fa\u5df2\u8bbe\u7f6e\u7684\u89c4\u5219","text":"<p>iptables -L [-t \u8868\u540d] [\u94fe\u540d]</p> <ul> <li>\u56db\u4e2a\u8868\u540d\u00a0<code>raw</code>\uff0c<code>nat</code>\uff0c<code>filter</code>\uff0c<code>mangle</code></li> <li>\u4e94\u4e2a\u89c4\u5219\u94fe\u540d\u00a0<code>INPUT</code>\u3001<code>OUTPUT</code>\u3001<code>FORWARD</code>\u3001<code>PREROUTING</code>\u3001<code>POSTROUTING</code></li> <li>filter\u8868\u5305\u542b<code>INPUT</code>\u3001<code>OUTPUT</code>\u3001<code>FORWARD</code>\u4e09\u4e2a\u89c4\u5219\u94fe</li> </ul> <pre><code>iptables -L -t nat                  # \u5217\u51fa nat \u4e0a\u9762\u7684\u6240\u6709\u89c4\u5219\n#            ^ -t \u53c2\u6570\u6307\u5b9a\uff0c\u5fc5\u987b\u662f raw\uff0c nat\uff0cfilter\uff0cmangle \u4e2d\u7684\u4e00\u4e2a\niptables -L -t nat  --line-numbers  # \u89c4\u5219\u5e26\u7f16\u53f7\niptables -L INPUT\n\niptables -L -nv  # \u67e5\u770b\uff0c\u8fd9\u4e2a\u5217\u8868\u770b\u8d77\u6765\u66f4\u8be6\u7ec6\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_15","title":"\u6e05\u9664\u5df2\u6709\u89c4\u5219","text":"<pre><code>iptables -F INPUT  # \u6e05\u7a7a\u6307\u5b9a\u94fe INPUT \u4e0a\u9762\u7684\u6240\u6709\u89c4\u5219\niptables -X INPUT  # \u5220\u9664\u6307\u5b9a\u7684\u94fe\uff0c\u8fd9\u4e2a\u94fe\u5fc5\u987b\u6ca1\u6709\u88ab\u5176\u5b83\u4efb\u4f55\u89c4\u5219\u5f15\u7528\uff0c\u800c\u4e14\u8fd9\u6761\u4e0a\u5fc5\u987b\u6ca1\u6709\u4efb\u4f55\u89c4\u5219\u3002\n                   # \u5982\u679c\u6ca1\u6709\u6307\u5b9a\u94fe\u540d\uff0c\u5219\u4f1a\u5220\u9664\u8be5\u8868\u4e2d\u6240\u6709\u975e\u5185\u7f6e\u7684\u94fe\u3002\niptables -Z INPUT  # \u628a\u6307\u5b9a\u94fe\uff0c\u6216\u8005\u8868\u4e2d\u7684\u6240\u6709\u94fe\u4e0a\u7684\u6240\u6709\u8ba1\u6570\u5668\u6e05\u96f6\u3002\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_16","title":"\u5220\u9664\u5df2\u6dfb\u52a0\u7684\u89c4\u5219","text":"<pre><code># \u6dfb\u52a0\u4e00\u6761\u89c4\u5219\niptables -A INPUT -s 192.168.1.5 -j DROP\n</code></pre> <p>\u5c06\u6240\u6709iptables\u4ee5\u5e8f\u53f7\u6807\u8bb0\u663e\u793a\uff0c\u6267\u884c\uff1a</p> <pre><code>iptables -L -n --line-numbers\n</code></pre> <p>\u6bd4\u5982\u8981\u5220\u9664INPUT\u91cc\u5e8f\u53f7\u4e3a8\u7684\u89c4\u5219\uff0c\u6267\u884c\uff1a</p> <pre><code>iptables -D INPUT 8\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_17","title":"\u5f00\u653e\u6307\u5b9a\u7684\u7aef\u53e3","text":"<pre><code>iptables -A INPUT -s 127.0.0.1 -d 127.0.0.1 -j ACCEPT               #\u5141\u8bb8\u672c\u5730\u56de\u73af\u63a5\u53e3(\u5373\u8fd0\u884c\u672c\u673a\u8bbf\u95ee\u672c\u673a)\niptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT    #\u5141\u8bb8\u5df2\u5efa\u7acb\u7684\u6216\u76f8\u5173\u8fde\u7684\u901a\u884c\niptables -A OUTPUT -j ACCEPT         #\u5141\u8bb8\u6240\u6709\u672c\u673a\u5411\u5916\u7684\u8bbf\u95ee\niptables -A INPUT -p tcp --dport 22 -j ACCEPT    #\u5141\u8bb8\u8bbf\u95ee22\u7aef\u53e3\niptables -A INPUT -p tcp --dport 80 -j ACCEPT    #\u5141\u8bb8\u8bbf\u95ee80\u7aef\u53e3\niptables -A INPUT -p tcp --dport 21 -j ACCEPT    #\u5141\u8bb8ftp\u670d\u52a1\u768421\u7aef\u53e3\niptables -A INPUT -p tcp --dport 20 -j ACCEPT    #\u5141\u8bb8FTP\u670d\u52a1\u768420\u7aef\u53e3\niptables -A INPUT -j reject       #\u7981\u6b62\u5176\u4ed6\u672a\u5141\u8bb8\u7684\u89c4\u5219\u8bbf\u95ee\niptables -A FORWARD -j REJECT     #\u7981\u6b62\u5176\u4ed6\u672a\u5141\u8bb8\u7684\u89c4\u5219\u8bbf\u95ee\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#ip","title":"\u5c4f\u853dIP","text":"<pre><code>iptables -A INPUT -p tcp -m tcp -s 192.168.0.8 -j DROP  # \u5c4f\u853d\u6076\u610f\u4e3b\u673a\uff08\u6bd4\u5982\uff0c192.168.0.8\niptables -I INPUT -s 123.45.6.7 -j DROP       #\u5c4f\u853d\u5355\u4e2aIP\u7684\u547d\u4ee4\niptables -I INPUT -s 123.0.0.0/8 -j DROP      #\u5c01\u6574\u4e2a\u6bb5\u5373\u4ece123.0.0.1\u5230123.255.255.254\u7684\u547d\u4ee4\niptables -I INPUT -s 124.45.0.0/16 -j DROP    #\u5c01IP\u6bb5\u5373\u4ece123.45.0.1\u5230123.45.255.254\u7684\u547d\u4ee4\niptables -I INPUT -s 123.45.6.0/24 -j DROP    #\u5c01IP\u6bb5\u5373\u4ece123.45.6.1\u5230123.45.6.254\u7684\u547d\u4ee4\u662f\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_18","title":"\u6307\u5b9a\u6570\u636e\u5305\u51fa\u53bb\u7684\u7f51\u7edc\u63a5\u53e3","text":"<p>\u53ea\u5bf9 OUTPUT\uff0cFORWARD\uff0cPOSTROUTING \u4e09\u4e2a\u94fe\u8d77\u4f5c\u7528\u3002</p> <pre><code>iptables -A FORWARD -o eth0\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_19","title":"\u67e5\u770b\u5df2\u6dfb\u52a0\u7684\u89c4\u5219","text":"<pre><code>iptables -L -n -v\nChain INPUT (policy DROP 48106 packets, 2690K bytes)\n pkts bytes target     prot opt in     out     source               destination\n 5075  589K ACCEPT     all  --  lo     *       0.0.0.0/0            0.0.0.0/0\n 191K   90M ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0           tcp dpt:22\n1499K  133M ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0           tcp dpt:80\n4364K 6351M ACCEPT     all  --  *      *       0.0.0.0/0            0.0.0.0/0           state RELATED,ESTABLISHED\n 6256  327K ACCEPT     icmp --  *      *       0.0.0.0/0            0.0.0.0/0\n\nChain FORWARD (policy ACCEPT 0 packets, 0 bytes)\n pkts bytes target     prot opt in     out     source               destination\n\nChain OUTPUT (policy ACCEPT 3382K packets, 1819M bytes)\n pkts bytes target     prot opt in     out     source               destination\n 5075  589K ACCEPT     all  --  *      lo      0.0.0.0/0            0.0.0.0/0\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_20","title":"\u542f\u52a8\u7f51\u7edc\u8f6c\u53d1\u89c4\u5219","text":"<p>\u516c\u7f51<code>210.14.67.7</code>\u8ba9\u5185\u7f51<code>192.168.188.0/24</code>\u4e0a\u7f51</p> <pre><code>iptables -t nat -A POSTROUTING -s 192.168.188.0/24 -j SNAT --to-source 210.14.67.127\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_21","title":"\u7aef\u53e3\u6620\u5c04","text":"<p>\u672c\u673a\u7684 2222 \u7aef\u53e3\u6620\u5c04\u5230\u5185\u7f51 \u865a\u62df\u673a\u768422 \u7aef\u53e3</p> <pre><code>iptables -t nat -A PREROUTING -d 210.14.67.127 -p tcp --dport 2222  -j DNAT --to-dest 192.168.188.115:22\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_22","title":"\u5b57\u7b26\u4e32\u5339\u914d","text":"<p>\u6bd4\u5982\uff0c\u6211\u4eec\u8981\u8fc7\u6ee4\u6240\u6709TCP\u8fde\u63a5\u4e2d\u7684\u5b57\u7b26\u4e32<code>test</code>\uff0c\u4e00\u65e6\u51fa\u73b0\u5b83\u6211\u4eec\u5c31\u7ec8\u6b62\u8fd9\u4e2a\u8fde\u63a5\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u4e48\u505a\uff1a</p> <pre><code>iptables -A INPUT -p tcp -m string --algo kmp --string \"test\" -j REJECT --reject-with tcp-reset\niptables -L\n\n# Chain INPUT (policy ACCEPT)\n# target     prot opt source               destination\n# REJECT     tcp  --  anywhere             anywhere            STRING match \"test\" ALGO name kmp TO 65535 reject-with tcp-reset\n#\n# Chain FORWARD (policy ACCEPT)\n# target     prot opt source               destination\n#\n# Chain OUTPUT (policy ACCEPT)\n# target     prot opt source               destination\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#windows","title":"\u963b\u6b62Windows\u8815\u866b\u7684\u653b\u51fb","text":"<pre><code>iptables -I INPUT -j DROP -p tcp -s 0.0.0.0/0 -m string --algo kmp --string \"cmd.exe\"\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#syn","title":"\u9632\u6b62SYN\u6d2a\u6c34\u653b\u51fb","text":"<pre><code>iptables -A INPUT -p tcp --syn -m limit --limit 5/second -j ACCEPT\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#secmark","title":"\u6dfb\u52a0SECMARK\u8bb0\u5f55","text":"<pre><code>iptables -t mangle -A INPUT -p tcp --src 192.168.1.2 --dport 443 -j SECMARK --selctx system_u:object_r:myauth_packet_t\n# \u5411\u4ece 192.168.1.2:443 \u4ee5TCP\u65b9\u5f0f\u53d1\u51fa\u5230\u672c\u673a\u7684\u5305\u6dfb\u52a0MAC\u5b89\u5168\u4e0a\u4e0b\u6587 system_u:object_r:myauth_packet_t\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_23","title":"\u66f4\u591a\u5b9e\u4f8b","text":"<p>\u7528iptables\u642d\u5efa\u4e00\u5957\u5f3a\u5927\u7684\u5b89\u5168\u9632\u62a4\u76fe\u00a0http://www.imooc.com/learn/389</p> <p>iptables: linux \u4e0b\u5e94\u7528\u5c42\u9632\u706b\u5899\u5de5\u5177</p> <p>iptables 5\u94fe: \u5bf9\u5e94 Hook point netfilter: linux \u64cd\u4f5c\u7cfb\u7edf\u6838\u5fc3\u5c42\u5185\u90e8\u7684\u4e00\u4e2a\u6570\u636e\u5305\u5904\u7406\u6a21\u5757 Hook point: \u6570\u636e\u5305\u5728 netfilter \u4e2d\u7684\u6302\u8f7d\u70b9;\u00a0<code>PRE_ROUTING / INPUT / OUTPUT / FORWARD / POST_ROUTING</code></p> <p>iptables &amp; netfilter\u00a0</p> <p>iptables 4\u88685\u94fe\u00a0</p> <p>iptables rules\u00a0</p> <ul> <li>4\u8868</li> </ul> <p>filter: \u8bbf\u95ee\u63a7\u5236 / \u89c4\u5219\u5339\u914d\u00a0nat: \u5730\u5740\u8f6c\u53d1 mangle / raw</p> <ul> <li>\u89c4\u5219</li> </ul> <p>\u6570\u636e\u8bbf\u95ee\u63a7\u5236: ACCEPT / DROP / REJECT \u6570\u636e\u5305\u6539\u5199(nat -&gt; \u5730\u5740\u8f6c\u6362): snat / dnat \u4fe1\u606f\u8bb0\u5f55: log</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_24","title":"\u4f7f\u7528\u573a\u666f\u5b9e\u4f8b","text":"<ul> <li>\u573a\u666f\u4e00</li> </ul> <p>\u5f00\u653e tcp 10-22/80 \u7aef\u53e3 \u5f00\u653e icmp \u5176\u4ed6\u672a\u88ab\u5141\u8bb8\u7684\u7aef\u53e3\u7981\u6b62\u8bbf\u95ee</p> <p>\u5b58\u5728\u7684\u95ee\u9898: \u672c\u673a\u65e0\u6cd5\u8bbf\u95ee\u672c\u673a; \u672c\u673a\u65e0\u6cd5\u8bbf\u95ee\u5176\u4ed6\u4e3b\u673a</p> <ul> <li>\u573a\u666f\u4e8c</li> </ul> <p>ftp: \u9ed8\u8ba4\u88ab\u52a8\u6a21\u5f0f(\u670d\u52a1\u5668\u4ea7\u751f\u968f\u673a\u7aef\u53e3\u544a\u8bc9\u5ba2\u6237\u7aef, \u5ba2\u6237\u7aef\u4e3b\u52a8\u8fde\u63a5\u8fd9\u4e2a\u7aef\u53e3\u62c9\u53d6\u6570\u636e) vsftpd: \u4f7f ftp \u652f\u6301\u4e3b\u52a8\u6a21\u5f0f(\u5ba2\u6237\u7aef\u4ea7\u751f\u968f\u673a\u7aef\u53e3\u901a\u77e5\u670d\u52a1\u5668, \u670d\u52a1\u5668\u4e3b\u52a8\u8fde\u63a5\u8fd9\u4e2a\u7aef\u53e3\u53d1\u9001\u6570\u636e)</p> <ul> <li>\u573a\u666f\u4e09</li> </ul> <p>\u5141\u8bb8\u5916\u7f51\u8bbf\u95ee: web http -&gt; 80/tcp; https -&gt; 443/tcp mail smtp -&gt; 25/tcp; smtps -&gt; 465/tcp pop3 -&gt; 110/tcp; pop3s -&gt; 995/tcp imap -&gt; 143/tcp</p> <p>\u5185\u90e8\u4f7f\u7528: file nfs -&gt; 123/udp samba -&gt; 137/138/139/445/tcp ftp -&gt; 20/21/tcp remote ssh -&gt; 22/tcp sql mysql -&gt; 3306/tcp oracle -&gt; 1521/tcp</p> <ul> <li>\u573a\u666f\u56db</li> </ul> <p>nat \u8f6c\u53d1</p> <ul> <li>\u573a\u666f\u4e94</li> </ul> <p>\u9632CC\u653b\u51fb</p> <pre><code>iptables -L -F -A -D # list flush append delete\n# \u573a\u666f\u4e00\niptables -I INPUT -p tcp --dport 80 -j ACCEPT # \u5141\u8bb8 tcp 80 \u7aef\u53e3\niptables -I INPUT -p tcp --dport 10:22 -j ACCEPT # \u5141\u8bb8 tcp 10-22 \u7aef\u53e3\niptables -I INPUT -p icmp -j ACCEPT # \u5141\u8bb8 icmp\niptables -A INPUT -j REJECT # \u6dfb\u52a0\u4e00\u6761\u89c4\u5219, \u4e0d\u5141\u8bb8\u6240\u6709\n\n# \u4f18\u5316\u573a\u666f\u4e00\niptables -I INPUT -i lo -j ACCEPT # \u5141\u8bb8\u672c\u673a\u8bbf\u95ee\niptables -I INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT # \u5141\u8bb8\u8bbf\u95ee\u5916\u7f51\niptables -I INPUT -p tcp --dport 80 -s 10.10.188.233 -j ACCEPT # \u53ea\u5141\u8bb8\u56fa\u5b9aip\u8bbf\u95ee80\n\n# \u573a\u666f\u4e8c\nvi /etc/vsftpd/vsftpd.conf # \u4f7f\u7528 vsftpd \u5f00\u542f ftp \u4e3b\u52a8\u6a21\u5f0f\nport_enable=yes\nconnect_from_port_20=YES\niptables -I INPUT -p tcp --dport 21 -j ACCEPT\n\nvi /etc/vsftpd/vsftpd.conf # \u5efa\u8bae\u4f7f\u7528 ftp \u88ab\u52a8\u6a21\u5f0f\npasv_min_port=50000\npasv_max_port=60000\niptables -I INPUT -p tcp --dport 21 -j ACCEPT\niptables -I INPUT -p tcp --dport 50000:60000 -j ACCEPT\n\n# \u8fd8\u53ef\u4ee5\u4f7f\u7528 iptables \u6a21\u5757\u8ffd\u8e2a\u6765\u81ea\u52a8\u5f00\u53d1\u5bf9\u5e94\u7684\u7aef\u53e3\n\n# \u573a\u666f\u4e09\niptables -I INPUT -i lo -j ACCEPT # \u5141\u8bb8\u672c\u673a\u8bbf\u95ee\niptables -I INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT # \u5141\u8bb8\u8bbf\u95ee\u5916\u7f51\niptables -I INPUT -s 10.10.155.0/24 -j ACCEPT # \u5141\u8bb8\u5185\u7f51\u8bbf\u95ee\niptables -I INPUT -p tcp -m multiport --dports 80,1723 -j ACCEPT # \u5141\u8bb8\u7aef\u53e3, 80 -&gt; http, 1723 -&gt; vpn\niptables -A INPUT -j REJECT # \u6dfb\u52a0\u4e00\u6761\u89c4\u5219, \u4e0d\u5141\u8bb8\u6240\u6709\n\niptables-save # \u4fdd\u5b58\u8bbe\u7f6e\u5230\u914d\u7f6e\u6587\u4ef6\n\n# \u573a\u666f\u56db\niptables -t nat -L # \u67e5\u770b nat \u914d\u7f6e\n\niptables -t nat -A POST_ROUTING -s 10.10.177.0/24 -j SNAT --to 10.10.188.232 # SNAT\nvi /etc/sysconfig/network # \u914d\u7f6e\u7f51\u5173\n\niptables -t nat -A POST_ROUTING -d 10.10.188.232 -p tcp --dport 80 -j DNAT --to 10.10.177.232:80 # DNAT\n\n#\u573a\u666f\u4e94\niptables -I INPUT -p tcp --syn --dport 80 -m connlimit --connlimit-above 100 -j REJECT # \u9650\u5236\u5e76\u53d1\u8fde\u63a5\u8bbf\u95ee\u6570\niptables -I INPUT -m limit --limit 3/hour --limit-burst 10 -j ACCEPT # limit\u6a21\u5757; --limit-burst \u9ed8\u8ba4\u4e3a5\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/iptables/iptable%E5%8E%9F%E7%90%86/#_25","title":"\u53c2\u8003","text":"<ul> <li>https://www.linuxprobe.com/chapter-08.html</li> <li>https://wangchujiang.com/linux-command/c/iptables.html</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E8%AF%B4%E6%98%8E/","title":"\u5f00\u6e90\u534f\u8bae\u8bf4\u660e","text":"<p>\u5f00\u6e90\u8bb8\u53ef\u8bc1GPL\u3001BSD\u3001MIT\u3001Mozilla\u3001Apache\u548cLGPL\u7684\u533a\u522b</p> <p>\u9996\u5148\u501f\u7528\u6709\u5fc3\u4eba\u58eb\u7684\u4e00\u5f20\u76f8\u5f53\u76f4\u89c2\u6e05\u6670\u7684\u56fe\u6765\u5212\u5206\u5404\u79cd\u534f\u8bae\uff1a\u5f00\u6e90\u8bb8\u53ef\u8bc1GPL\u3001BSD\u3001MIT\u3001Mozilla\u3001Apache\u548cLGPL\u7684\u533a\u522b </p> <p>\u4ee5\u4e0b\u662f\u4e0a\u8ff0\u534f\u8bae\u7684\u7b80\u5355\u4ecb\u7ecd\uff1a  </p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E8%AF%B4%E6%98%8E/#bsd","title":"BSD\u5f00\u6e90\u534f\u8bae","text":"<p>BSD\u5f00\u6e90\u534f\u8bae\u662f\u4e00\u4e2a\u7ed9\u4e8e\u4f7f\u7528\u8005\u5f88\u5927\u81ea\u7531\u7684\u534f\u8bae\u3002\u57fa\u672c\u4e0a\u4f7f\u7528\u8005\u53ef\u4ee5\u201d\u4e3a\u6240\u6b32\u4e3a\u201d,\u53ef\u4ee5\u81ea\u7531\u7684\u4f7f\u7528\uff0c\u4fee\u6539\u6e90\u4ee3\u7801\uff0c\u4e5f\u53ef\u4ee5\u5c06\u4fee\u6539\u540e\u7684\u4ee3\u7801\u4f5c\u4e3a\u5f00\u6e90\u6216\u8005\u4e13\u6709\u8f6f\u4ef6\u518d\u53d1\u5e03\u3002  </p> <p>\u4f46\u201d\u4e3a\u6240\u6b32\u4e3a\u201d\u7684\u524d\u63d0\u5f53\u4f60\u53d1\u5e03\u4f7f\u7528\u4e86BSD\u534f\u8bae\u7684\u4ee3\u7801\uff0c\u6216\u5219\u4ee5BSD\u534f\u8bae\u4ee3\u7801\u4e3a\u57fa\u7840\u505a\u4e8c\u6b21\u5f00\u53d1\u81ea\u5df1\u7684\u4ea7\u54c1\u65f6\uff0c\u9700\u8981\u6ee1\u8db3\u4e09\u4e2a\u6761\u4ef6\uff1a  </p> <p>\u5982\u679c\u518d\u53d1\u5e03\u7684\u4ea7\u54c1\u4e2d\u5305\u542b\u6e90\u4ee3\u7801\uff0c\u5219\u5728\u6e90\u4ee3\u7801\u4e2d\u5fc5\u987b\u5e26\u6709\u539f\u6765\u4ee3\u7801\u4e2d\u7684BSD\u534f\u8bae\u3002 \u00a0 \u00a0 \u5982\u679c\u518d\u53d1\u5e03\u7684\u53ea\u662f\u4e8c\u8fdb\u5236\u7c7b\u5e93/\u8f6f\u4ef6\uff0c\u5219\u9700\u8981\u5728\u7c7b\u5e93/\u8f6f\u4ef6\u7684\u6587\u6863\u548c\u7248\u6743\u58f0\u660e\u4e2d\u5305\u542b\u539f\u6765\u4ee3\u7801\u4e2d\u7684BSD\u534f\u8bae\u3002 \u00a0 \u00a0 \u4e0d\u53ef\u4ee5\u7528\u5f00\u6e90\u4ee3\u7801\u7684\u4f5c\u8005/\u673a\u6784\u540d\u5b57\u548c\u539f\u6765\u4ea7\u54c1\u7684\u540d\u5b57\u505a\u5e02\u573a\u63a8\u5e7f\u3002  </p> <p>BSD \u4ee3\u7801\u9f13\u52b1\u4ee3\u7801\u5171\u4eab\uff0c\u4f46\u9700\u8981\u5c0a\u91cd\u4ee3\u7801\u4f5c\u8005\u7684\u8457\u4f5c\u6743\u3002BSD\u7531\u4e8e\u5141\u8bb8\u4f7f\u7528\u8005\u4fee\u6539\u548c\u91cd\u65b0\u53d1\u5e03\u4ee3\u7801\uff0c\u4e5f\u5141\u8bb8\u4f7f\u7528\u6216\u5728BSD\u4ee3\u7801\u4e0a\u5f00\u53d1\u5546\u4e1a\u8f6f\u4ef6\u53d1\u5e03\u548c\u9500\u552e\uff0c\u56e0\u6b64\u662f\u5bf9\u5546\u4e1a\u96c6\u6210\u5f88\u53cb\u597d\u7684\u534f\u8bae\u3002\u800c\u5f88\u591a\u7684\u516c\u53f8\u4f01\u4e1a\u5728\u9009\u7528\u5f00\u6e90\u4ea7\u54c1\u7684\u65f6\u5019\u90fd\u9996\u9009BSD\u534f\u8bae\uff0c\u56e0\u4e3a\u53ef\u4ee5\u5b8c\u5168\u63a7\u5236\u8fd9\u4e9b\u7b2c\u4e09\u65b9\u7684\u4ee3\u7801\uff0c\u5728\u5fc5\u8981\u7684\u65f6\u5019\u53ef\u4ee5\u4fee\u6539\u6216\u8005\u4e8c\u6b21\u5f00\u53d1\u3002  </p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E8%AF%B4%E6%98%8E/#apache-licence-20","title":"Apache Licence 2.0","text":"<p>Apache Licence\u662f\u8457\u540d\u7684\u975e\u76c8\u5229\u5f00\u6e90\u7ec4\u7ec7Apache\u91c7\u7528\u7684\u534f\u8bae\u3002\u8be5\u534f\u8bae\u548cBSD\u7c7b\u4f3c\uff0c\u540c\u6837\u9f13\u52b1\u4ee3\u7801\u5171\u4eab\u548c\u5c0a\u91cd\u539f\u4f5c\u8005\u7684\u8457\u4f5c\u6743\uff0c\u540c\u6837\u5141\u8bb8\u4ee3\u7801\u4fee\u6539\uff0c\u518d\u53d1\u5e03\uff08\u4f5c\u4e3a\u5f00\u6e90\u6216\u5546\u4e1a\u8f6f\u4ef6\uff09\u3002\u9700\u8981\u6ee1\u8db3\u7684\u6761\u4ef6\u4e5f\u548cBSD\u7c7b\u4f3c\uff1a  </p> <p>\u9700\u8981\u7ed9\u4ee3\u7801\u7684\u7528\u6237\u4e00\u4efdApache Licence \u00a0 \u00a0 \u5982\u679c\u4f60\u4fee\u6539\u4e86\u4ee3\u7801\uff0c\u9700\u8981\u518d\u88ab\u4fee\u6539\u7684\u6587\u4ef6\u4e2d\u8bf4\u660e\u3002 \u00a0 \u00a0 \u5728\u5ef6\u4f38\u7684\u4ee3\u7801\u4e2d\uff08\u4fee\u6539\u548c\u6709\u6e90\u4ee3\u7801\u884d\u751f\u7684\u4ee3\u7801\u4e2d\uff09\u9700\u8981\u5e26\u6709\u539f\u6765\u4ee3\u7801\u4e2d\u7684\u534f\u8bae\uff0c\u5546\u6807\uff0c\u4e13\u5229\u58f0\u660e\u548c\u5176\u4ed6\u539f\u6765\u4f5c\u8005\u89c4\u5b9a\u9700\u8981\u5305\u542b\u7684\u8bf4\u660e\u3002 \u00a0 \u00a0 \u5982\u679c\u518d\u53d1\u5e03\u7684\u4ea7\u54c1\u4e2d\u5305\u542b\u4e00\u4e2aNotice\u6587\u4ef6\uff0c\u5219\u5728Notice\u6587\u4ef6\u4e2d\u9700\u8981\u5e26\u6709Apache Licence\u3002\u4f60\u53ef\u4ee5\u5728Notice\u4e2d\u589e\u52a0\u81ea\u5df1\u7684\u8bb8\u53ef\uff0c\u4f46\u4e0d\u53ef\u4ee5\u8868\u73b0\u4e3a\u5bf9Apache Licence\u6784\u6210\u66f4\u6539\u3002  </p> <p>Apache Licence\u4e5f\u662f\u5bf9\u5546\u4e1a\u5e94\u7528\u53cb\u597d\u7684\u8bb8\u53ef\u3002\u4f7f\u7528\u8005\u4e5f\u53ef\u4ee5\u5728\u9700\u8981\u7684\u65f6\u5019\u4fee\u6539\u4ee3\u7801\u6765\u6ee1\u8db3\u9700\u8981\u5e76\u4f5c\u4e3a\u5f00\u6e90\u6216\u5546\u4e1a\u4ea7\u54c1\u53d1\u5e03/\u9500\u552e\u3002  </p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E8%AF%B4%E6%98%8E/#gpl","title":"GPL","text":"<p>\u6211\u4eec\u5f88\u719f\u6089\u7684Linux\u5c31\u662f\u91c7\u7528\u4e86GPL\u3002GPL\u534f\u8bae\u548cBSD, Apache Licence\u7b49\u9f13\u52b1\u4ee3\u7801\u91cd\u7528\u7684\u8bb8\u53ef\u5f88\u4e0d\u4e00\u6837\u3002GPL\u7684\u51fa\u53d1\u70b9\u662f\u4ee3\u7801\u7684\u5f00\u6e90/\u514d\u8d39\u4f7f\u7528\u548c\u5f15\u7528/\u4fee\u6539/\u884d\u751f\u4ee3\u7801\u7684\u5f00\u6e90/\u514d\u8d39\u4f7f\u7528\uff0c\u4f46\u4e0d\u5141\u8bb8\u4fee\u6539\u540e\u548c\u884d\u751f\u7684\u4ee3\u7801\u505a\u4e3a\u95ed\u6e90\u7684\u5546\u4e1a\u8f6f\u4ef6\u53d1\u5e03\u548c\u9500\u552e\u3002\u8fd9\u4e5f\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u80fd\u7528\u514d\u8d39\u7684\u5404\u79cdlinux\uff0c\u5305\u62ec\u5546\u4e1a\u516c\u53f8\u7684linux\u548clinux\u4e0a\u5404\u79cd\u5404\u6837\u7684\u7531\u4e2a\u4eba\uff0c\u7ec4\u7ec7\uff0c\u4ee5\u53ca\u5546\u4e1a\u8f6f\u4ef6\u516c\u53f8\u5f00\u53d1\u7684\u514d\u8d39\u8f6f\u4ef6\u4e86\u3002  </p> <p>GPL\u534f\u8bae\u7684\u4e3b\u8981\u5185\u5bb9\u662f\u53ea\u8981\u5728\u4e00\u4e2a\u8f6f\u4ef6\u4e2d\u4f7f\u7528(\u201d\u4f7f\u7528\u201d\u6307\u7c7b\u5e93\u5f15\u7528\uff0c\u4fee\u6539\u540e\u7684\u4ee3\u7801\u6216\u8005\u884d\u751f\u4ee3\u7801)GPL \u534f\u8bae\u7684\u4ea7\u54c1\uff0c\u5219\u8be5\u8f6f\u4ef6\u4ea7\u54c1\u5fc5\u987b\u4e5f\u91c7\u7528GPL\u534f\u8bae\uff0c\u65e2\u5fc5\u987b\u4e5f\u662f\u5f00\u6e90\u548c\u514d\u8d39\u3002\u8fd9\u5c31\u662f\u6240\u8c13\u7684\u201d\u4f20\u67d3\u6027\u201d\u3002GPL\u534f\u8bae\u7684\u4ea7\u54c1\u4f5c\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684\u4ea7\u54c1\u4f7f\u7528\u6ca1\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u8fd8\u53ef\u4ee5\u4eab\u53d7\u514d\u8d39\u7684\u4f18\u52bf\u3002  </p> <p>\u7531\u4e8eGPL\u4e25\u683c\u8981\u6c42\u4f7f\u7528\u4e86GPL\u7c7b\u5e93\u7684\u8f6f\u4ef6\u4ea7\u54c1\u5fc5\u987b\u4f7f\u7528GPL\u534f\u8bae\uff0c\u5bf9\u4e8e\u4f7f\u7528GPL\u534f\u8bae\u7684\u5f00\u6e90\u4ee3\u7801\uff0c\u5546\u4e1a\u8f6f\u4ef6\u6216\u8005\u5bf9\u4ee3\u7801\u6709\u4fdd\u5bc6\u8981\u6c42\u7684\u90e8\u95e8\u5c31\u4e0d\u9002\u5408\u96c6\u6210/\u91c7\u7528\u4f5c\u4e3a\u7c7b\u5e93\u548c\u4e8c\u6b21\u5f00\u53d1\u7684\u57fa\u7840\u3002  </p> <p>\u5176\u5b83\u7ec6\u8282\u5982\u518d\u53d1\u5e03\u7684\u65f6\u5019\u9700\u8981\u4f34\u968fGPL\u534f\u8bae\u7b49\u548cBSD/Apache\u7b49\u7c7b\u4f3c\u3002  </p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E8%AF%B4%E6%98%8E/#lgpl","title":"LGPL","text":"<p>LGPL\u662fGPL\u7684\u4e00\u4e2a\u4e3a\u4e3b\u8981\u4e3a\u7c7b\u5e93\u4f7f\u7528\u8bbe\u8ba1\u7684\u5f00\u6e90\u534f\u8bae\u3002\u548cGPL\u8981\u6c42\u4efb\u4f55\u4f7f\u7528/\u4fee\u6539/\u884d\u751f\u4e4bGPL\u7c7b\u5e93\u7684\u7684\u8f6f\u4ef6\u5fc5\u987b\u91c7\u7528GPL\u534f\u8bae\u4e0d\u540c\u3002LGPL \u5141\u8bb8\u5546\u4e1a\u8f6f\u4ef6\u901a\u8fc7\u7c7b\u5e93\u5f15\u7528(link)\u65b9\u5f0f\u4f7f\u7528LGPL\u7c7b\u5e93\u800c\u4e0d\u9700\u8981\u5f00\u6e90\u5546\u4e1a\u8f6f\u4ef6\u7684\u4ee3\u7801\u3002\u8fd9\u4f7f\u5f97\u91c7\u7528LGPL\u534f\u8bae\u7684\u5f00\u6e90\u4ee3\u7801\u53ef\u4ee5\u88ab\u5546\u4e1a\u8f6f\u4ef6\u4f5c\u4e3a\u7c7b\u5e93\u5f15\u7528\u5e76\u53d1\u5e03\u548c\u9500\u552e\u3002  </p> <p>\u4f46\u662f\u5982\u679c\u4fee\u6539LGPL\u534f\u8bae\u7684\u4ee3\u7801\u6216\u8005\u884d\u751f\uff0c\u5219\u6240\u6709\u4fee\u6539\u7684\u4ee3\u7801\uff0c\u6d89\u53ca\u4fee\u6539\u90e8\u5206\u7684\u989d\u5916\u4ee3\u7801\u548c\u884d\u751f\u7684\u4ee3\u7801\u90fd\u5fc5\u987b\u91c7\u7528LGPL\u534f\u8bae\u3002\u56e0\u6b64LGPL\u534f\u8bae\u7684\u5f00\u6e90\u4ee3\u7801\u5f88\u9002\u5408\u4f5c\u4e3a\u7b2c\u4e09\u65b9\u7c7b\u5e93\u88ab\u5546\u4e1a\u8f6f\u4ef6\u5f15\u7528\uff0c\u4f46\u4e0d\u9002\u5408\u5e0c\u671b\u4ee5LGPL\u534f\u8bae\u4ee3\u7801\u4e3a\u57fa\u7840\uff0c\u901a\u8fc7\u4fee\u6539\u548c\u884d\u751f\u7684\u65b9\u5f0f\u505a\u4e8c\u6b21\u5f00\u53d1\u7684\u5546\u4e1a\u8f6f\u4ef6\u91c7\u7528\u3002  </p> <p>GPL/LGPL\u90fd\u4fdd\u969c\u539f\u4f5c\u8005\u7684\u77e5\u8bc6\u4ea7\u6743\uff0c\u907f\u514d\u6709\u4eba\u5229\u7528\u5f00\u6e90\u4ee3\u7801\u590d\u5236\u5e76\u5f00\u53d1\u7c7b\u4f3c\u7684\u4ea7\u54c1  </p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E8%AF%B4%E6%98%8E/#mit","title":"MIT","text":"<p>MIT\u662f\u548cBSD\u4e00\u6837\u5bbd\u8303\u7684\u8bb8\u53ef\u534f\u8bae,\u4f5c\u8005\u53ea\u60f3\u4fdd\u7559\u7248\u6743,\u800c\u65e0\u4efb\u4f55\u5176\u4ed6\u4e86\u9650\u5236.\u4e5f\u5c31\u662f\u8bf4,\u4f60\u5fc5\u987b\u5728\u4f60\u7684\u53d1\u884c\u7248\u91cc\u5305\u542b\u539f\u8bb8\u53ef\u534f\u8bae\u7684\u58f0\u660e,\u65e0\u8bba\u4f60\u662f\u4ee5\u4e8c\u8fdb\u5236\u53d1\u5e03\u7684\u8fd8\u662f\u4ee5\u6e90\u4ee3\u7801\u53d1\u5e03\u7684.  </p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E8%AF%B4%E6%98%8E/#mpl","title":"MPL","text":"<p>MPL\u662fThe Mozilla Public License\u7684\u7b80\u5199\uff0c\u662f1998\u5e74\u521dNetscape\u7684 Mozilla\u5c0f\u7ec4\u4e3a\u5176\u5f00\u6e90\u8f6f\u4ef6\u9879\u76ee\u8bbe\u8ba1\u7684\u8f6f\u4ef6\u8bb8\u53ef\u8bc1\u3002MPL\u8bb8\u53ef\u8bc1\u51fa\u73b0\u7684\u6700\u91cd\u8981\u539f\u56e0\u5c31\u662f\uff0cNetscape\u516c\u53f8\u8ba4\u4e3aGPL\u8bb8\u53ef\u8bc1\u6ca1\u6709\u5f88\u597d\u5730\u5e73\u8861\u5f00\u53d1\u8005\u5bf9\u6e90\u4ee3\u7801\u7684\u9700\u6c42\u548c\u4ed6\u4eec\u5229\u7528\u6e90\u4ee3\u7801\u83b7\u5f97\u7684\u5229\u76ca\u3002\u540c\u8457\u540d\u7684GPL\u8bb8\u53ef\u8bc1\u548cBSD\u8bb8\u53ef\u8bc1\u76f8\u6bd4\uff0cMPL\u5728\u8bb8\u591a\u6743\u5229\u4e0e\u4e49\u52a1\u7684\u7ea6\u5b9a\u65b9\u9762\u4e0e\u5b83\u4eec\u76f8\u540c\uff08\u56e0\u4e3a\u90fd\u662f\u7b26\u5408OSIA \u8ba4\u5b9a\u7684\u5f00\u6e90\u8f6f\u4ef6\u8bb8\u53ef\u8bc1\uff09\u3002\u4f46\u662f\uff0c\u76f8\u6bd4\u800c\u8a00MPL\u8fd8\u6709\u4ee5\u4e0b\u51e0\u4e2a\u663e\u8457\u7684\u4e0d\u540c\u4e4b\u5904:  </p> <p>\u25c6 MPL\u867d\u7136\u8981\u6c42\u5bf9\u4e8e\u7ecfMPL\u8bb8\u53ef\u8bc1\u53d1\u5e03\u7684\u6e90\u4ee3\u7801\u7684\u4fee\u6539\u4e5f\u8981\u4ee5MPL\u8bb8\u53ef\u8bc1\u7684\u65b9\u5f0f\u518d\u8bb8\u53ef\u51fa\u6765\uff0c\u4ee5\u4fdd\u8bc1\u5176\u4ed6\u4eba\u53ef\u4ee5\u5728MPL\u7684\u6761\u6b3e\u4e0b\u5171\u4eab\u6e90\u4ee3\u7801\u3002\u4f46\u662f\uff0c\u5728MPL \u8bb8\u53ef\u8bc1\u4e2d\u5bf9\u201c\u53d1\u5e03\u201d\u7684\u5b9a\u4e49\u662f\u201c\u4ee5\u6e90\u4ee3\u7801\u65b9\u5f0f\u53d1\u5e03\u7684\u6587\u4ef6\u201d\uff0c\u8fd9\u5c31\u610f\u5473\u7740MPL\u5141\u8bb8\u4e00\u4e2a\u4f01\u4e1a\u5728\u81ea\u5df1\u5df2\u6709\u7684\u6e90\u4ee3\u7801\u5e93\u4e0a\u52a0\u4e00\u4e2a\u63a5\u53e3\uff0c\u9664\u4e86\u63a5\u53e3\u7a0b\u5e8f\u7684\u6e90\u4ee3\u7801\u4ee5MPL \u8bb8\u53ef\u8bc1\u7684\u5f62\u5f0f\u5bf9\u5916\u8bb8\u53ef\u5916\uff0c\u6e90\u4ee3\u7801\u5e93\u4e2d\u7684\u6e90\u4ee3\u7801\u5c31\u53ef\u4ee5\u4e0d\u7528MPL\u8bb8\u53ef\u8bc1\u7684\u65b9\u5f0f\u5f3a\u5236\u5bf9\u5916\u8bb8\u53ef\u3002\u8fd9\u4e9b\uff0c\u5c31\u4e3a\u501f\u9274\u522b\u4eba\u7684\u6e90\u4ee3\u7801\u7528\u505a\u81ea\u5df1\u5546\u4e1a\u8f6f\u4ef6\u5f00\u53d1\u7684\u884c\u4e3a\u7559\u4e86\u4e00\u4e2a\u8c41\u53e3\u3002 \u25c6 MPL\u8bb8\u53ef\u8bc1\u7b2c\u4e09\u6761\u7b2c7\u6b3e\u4e2d\u5141\u8bb8\u88ab\u8bb8\u53ef\u4eba\u5c06\u7ecf\u8fc7MPL\u8bb8\u53ef\u8bc1\u83b7\u5f97\u7684\u6e90\u4ee3\u7801\u540c\u81ea\u5df1\u5176\u4ed6\u7c7b\u578b\u7684\u4ee3\u7801\u6df7\u5408\u5f97\u5230\u81ea\u5df1\u7684\u8f6f\u4ef6\u7a0b\u5e8f\u3002 \u25c6 \u5bf9\u8f6f\u4ef6\u4e13\u5229\u7684\u6001\u5ea6\uff0cMPL\u8bb8\u53ef\u8bc1\u4e0d\u50cfGPL\u8bb8\u53ef\u8bc1\u90a3\u6837\u660e\u786e\u8868\u793a\u53cd\u5bf9\u8f6f\u4ef6\u4e13\u5229\uff0c\u4f46\u662f\u5374\u660e\u786e\u8981\u6c42\u6e90\u4ee3\u7801\u7684\u63d0\u4f9b\u8005\u4e0d\u80fd\u63d0\u4f9b\u5df2\u7ecf\u53d7\u4e13\u5229\u4fdd\u62a4\u7684\u6e90\u4ee3\u7801\uff08\u9664\u975e\u4ed6\u672c\u4eba\u662f\u4e13\u5229\u6743\u4eba\uff0c\u5e76\u4e66\u9762\u5411\u516c\u4f17\u514d\u8d39\u8bb8\u53ef\u8fd9\u4e9b\u6e90\u4ee3\u7801\uff09\uff0c\u4e5f\u4e0d\u80fd\u5728\u5c06\u8fd9\u4e9b\u6e90\u4ee3\u7801\u4ee5\u5f00\u653e\u6e90\u4ee3\u7801\u8bb8\u53ef\u8bc1\u5f62\u5f0f\u8bb8\u53ef\u540e\u518d\u53bb\u7533\u8bf7\u4e0e\u8fd9\u4e9b\u6e90\u4ee3\u7801\u6709\u5173\u7684\u4e13\u5229\u3002 \u25c6 \u5bf9\u6e90\u4ee3\u7801\u7684\u5b9a\u4e49 \u800c\u5728MPL\uff081.1\u7248\u672c\uff09\u8bb8\u53ef\u8bc1\u4e2d\uff0c\u5bf9\u6e90\u4ee3\u7801\u7684\u5b9a\u4e49\u662f:\u201c\u6e90\u4ee3\u7801\u6307\u7684\u662f\u5bf9\u4f5c\u54c1\u8fdb\u884c\u4fee\u6539\u6700\u4f18\u5148\u62e9\u53d6\u7684\u5f62\u5f0f\uff0c\u5b83\u5305\u62ec:\u6240\u6709\u6a21\u5757\u7684\u6240\u6709\u6e90\u7a0b\u5e8f\uff0c\u52a0\u4e0a\u6709\u5173\u7684\u63a5\u53e3\u7684\u5b9a\u4e49\uff0c\u52a0\u4e0a\u63a7\u5236\u53ef\u6267\u884c\u4f5c\u54c1\u7684\u5b89\u88c5\u548c\u7f16\u8bd1\u7684\u2018\u539f\u672c\u2019\uff08\u539f\u6587\u4e3a\u2018Script\u2019\uff09\uff0c\u6216\u8005\u4e0d\u662f\u4e0e\u521d\u59cb\u6e90\u4ee3\u7801\u663e\u8457\u4e0d\u540c\u7684\u6e90\u4ee3\u7801\u5c31\u662f\u88ab\u6e90\u4ee3\u7801\u8d21\u732e\u8005\u9009\u62e9\u7684\u4ece\u516c\u5171\u9886\u57df\u53ef\u4ee5\u5f97\u5230\u7684\u7a0b\u5e8f\u4ee3\u7801\u3002\u201d \u25c6 MPL\u8bb8\u53ef\u8bc1\u7b2c3\u6761\u6709\u4e13\u95e8\u7684\u4e00\u6b3e\u662f\u5173\u4e8e\u5bf9\u6e90\u4ee3\u7801\u4fee\u6539\u8fdb\u884c\u63cf\u8ff0\u7684\u89c4\u5b9a\uff0c\u5c31\u662f\u8981\u6c42\u6240\u6709\u518d\u53d1\u5e03\u8005\u90fd\u5f97\u6709\u4e00\u4e2a\u4e13\u95e8\u7684\u6587\u4ef6\u5c31\u5bf9\u6e90\u4ee3\u7801\u7a0b\u5e8f\u4fee\u6539\u7684\u65f6\u95f4\u548c\u4fee\u6539\u7684\u65b9\u5f0f\u6709\u63cf\u8ff0\u3002  </p> <p>\u82f1\u6587\u539f\u6587\uff1ahttp://www.mozilla.org/MPL/MPL-1.1.html</p> <p>\u53c2\u8003\uff1ahttps://blog.csdn.net/testcs_dn/article/details/38496107</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/crontab/","title":"Crontab","text":"<ul> <li> <p><code>/etc/crontab</code> \u6587\u4ef6\u5305\u542b\u4e86\u7cfb\u7edf\u7ea7\u522b\u7684 cron \u4efb\u52a1\u914d\u7f6e</p> </li> <li> <p>\u4f7f\u7528 <code>sudo crontab -e</code> \u547d\u4ee4\u7f16\u8f91\u7684\u6587\u4ef6\u662f\u5f53\u524d\u7528\u6237\u7684 crontab \u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u7cfb\u7edf\u7ea7\u522b\u7684\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u901a\u5e38\u4f4d\u4e8e <code>/var/spool/cron/crontabs</code> \u76ee\u5f55\u4e0b\uff0c\u4ee5\u5f53\u524d\u7528\u6237\u7684\u7528\u6237\u540d\u547d\u540d\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5f53\u524d\u7528\u6237\u662f <code>root</code>\uff0c\u90a3\u4e48\u5bf9\u5e94\u7684 crontab \u6587\u4ef6\u5c31\u662f <code>/var/spool/cron/crontabs/root</code>\u3002</p> <ul> <li>\u6ce8\u610f\uff0c\u8fd9\u4e2a\u6587\u4ef6\u4e0d\u5e94\u8be5\u76f4\u63a5\u624b\u52a8\u7f16\u8f91\uff0c\u800c\u5e94\u8be5\u4f7f\u7528 <code>sudo crontab -e</code> \u547d\u4ee4\u6765\u8fdb\u884c\u7f16\u8f91\u3002\u8fd9\u6837\u505a\u7684\u539f\u56e0\u662f\u7f16\u8f91\u8fc7\u7a0b\u4e2d\u4f1a\u8fdb\u884c\u4e00\u4e9b\u68c0\u67e5\uff0c\u4ee5\u786e\u4fdd\u6587\u4ef6\u683c\u5f0f\u6b63\u786e\uff0c\u907f\u514d\u7531\u4e8e\u683c\u5f0f\u9519\u8bef\u5bfc\u81f4\u7684\u95ee\u9898\u3002</li> </ul> </li> <li> <p>crontab\u8bed\u6cd5\uff1a</p> </li> </ul> <pre><code># Example of job definition:\n# .---------------- minute (0 - 59)\n# |  .------------- hour (0 - 23)\n# |  |  .---------- day of month (1 - 31)\n# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n# |  |  |  |  |\n# *  *  *  *  * user-name  command to be executed\n\n</code></pre> \u7279\u6b8a\u7b26\u53f7 \u63cf\u8ff0 * \u4ee3\u8868\u4efb\u4f55\u65f6\u523b\u90fd\u63a5\u53d7\u7684\u610f\u601d\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u8303\u4f8b\u4e00\u5185\u90a3\u4e2a\u65e5\u3001\u6708\u3001\u5468\u90fd\u662f*\uff0c\u5c31\u4ee3\u8868\u7740\u4e0d\u8bba\u4f55\u6708\u3001\u4f55\u65e5\u7684\u793c\u62dc\u51e0\u768412\uff1a00\u90fd\u6267\u884c\u540e\u7eed\u547d\u4ee4\u7684\u610f\u601d\u3002 , \u4ee3\u8868\u5206\u9694\u65f6\u6bb5\u7684\u610f\u601d\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u8981\u6267\u884c\u7684\u5de5\u4f5c\u662f3\uff1a00\u4e0e6\uff1a00\u65f6\uff0c\u5c31\u4f1a\u662f\uff1a0 3,6 * * * command\u65f6\u95f4\u8fd8\u662f\u6709\u4e94\u5217\uff0c\u4e0d\u8fc7\u7b2c\u4e8c\u5217\u662f 3,6 \uff0c\u4ee3\u88683\u4e0e6\u90fd\u9002\u7528 - \u4ee3\u8868\u4e00\u6bb5\u65f6\u95f4\u8303\u56f4\u5185\uff0c\u4e3e\u4f8b\u6765\u8bf4\uff0c8\u70b9\u523012\u70b9\u4e4b\u95f4\u7684\u6bcf\u5c0f\u65f6\u768420\u5206\u90fd\u8fdb\u884c\u4e00\u9879\u5de5\u4f5c\uff1a20 8-12 * * * command\u4ed4\u7ec6\u770b\u5230\u7b2c\u4e8c\u5217\u53d8\u62108-12.\u4ee3\u8868 8,9,10,11,12 \u90fd\u9002\u7528\u7684\u610f\u601d /n \u90a3\u4e2an\u4ee3\u8868\u6570\u5b57\uff0c\u5373\u662f\u6bcf\u9694n\u5355\u4f4d\u95f4\u9694\u7684\u610f\u601d\uff0c\u4f8b\u5982\u6bcf\u4e94\u5206\u949f\u8fdb\u884c\u4e00\u6b21\uff0c\u5219\uff1a/5 * * * * command\u7528\u4e0e/5\u6765\u642d\u914d\uff0c\u4e5f\u53ef\u4ee5\u5199\u62100-59/5\uff0c\u610f\u601d\u76f8\u540c <ul> <li>crontab\u793a\u4f8b\uff1a</li> </ul> \u4f8b\u5b50 \u63cf\u8ff0 * * * * * \u6bcf\u5206\u949f /5 /5 * * * \u6bcf\u9694 5 \u5206\u949f, \u6bcf\u9694 5 \u5c0f\u65f6 1 1-10 * * * \u5728\u6bcf\u5c0f\u65f6\u7684\u7b2c 1 \u5206\u949f, \u5728 01:00 \u548c 10:59 \u4e4b\u95f4 0 1,2 * * * \u5728 01:00 \u548c 02:00 1 2 3 4,6,10 * \u572802:01, \u9650\u6bcf\u6708 3 \u53f7, \u4ec5\u4e8e\u56db\u6708, \u516d\u6708, \u548c \u5341\u6708\u4efd 0 * L * * \u6bcf\u5c0f\u65f6, \u9650\u6bcf\u6708\u7684\u6700\u540e\u4e00\u5929 0 1 * * 0 \u572801:00, \u4ec5\u661f\u671f\u65e5 0 1 * * 7 \u572801:00, \u4ec5\u661f\u671f\u65e5 0 1 * * 1 \u572801:00, \u4ec5\u661f\u671f\u4e00 0 1 * * 2-5 \u572801:00, \u661f\u671f\u4e8c\u81f3\u661f\u671f\u4e94"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/history/","title":"History","text":"<p>\u5f53\u6211\u4eec\u9891\u7e41\u4f7f\u7528 Linux \u547d\u4ee4\u884c\u65f6\uff0c\u6709\u6548\u5730\u4f7f\u7528\u5386\u53f2\u8bb0\u5f55\uff0c\u53ef\u4ee5\u5927\u5927\u63d0\u9ad8\u5de5\u4f5c\u6548\u7387\u3002</p> <p>\u5728\u5e73\u65f6 Linux \u64cd\u4f5c\u8fc7\u7a0b\u4e2d\uff0c\u5f88\u591a\u547d\u4ee4\u662f\u91cd\u590d\u7684\uff0c\u4f60\u4e00\u5b9a\u4e0d\u5e0c\u671b\u5927\u91cf\u8f93\u5165\u91cd\u590d\u7684\u547d\u4ee4\u3002\u5982\u679c\u4f60\u662f\u7cfb\u7edf\u7ba1\u7406\u5458\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u5bf9\u7528\u6237\u64cd\u4f5c\u8fdb\u884c\u5ba1\u8ba1\uff0c\u7ba1\u7406\u597d Linux \u547d\u4ee4\u5386\u53f2\u8bb0\u5f55\u663e\u5f97\u975e\u5e38\u91cd\u8981\u3002</p> <p>\u4eca\u5929\u6211\u4eec\u6765\u4ecb\u7ecd\u4e00\u4e0b\uff0c\u5728 Linux \u4f7f\u7528 history \u6765\u51cf\u5c11\u91cd\u590d\u547d\u4ee4\u7684\u51e0\u4e2a\u5b9e\u7528\u6280\u5de7\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/history/#1","title":"1 \u57fa\u672c\u539f\u7406","text":"<p>Linux \u547d\u4ee4\u7684\u5386\u53f2\u8bb0\u5f55\uff0c\u4f1a\u6301\u4e45\u5316\u5b58\u50a8\uff0c\u9ed8\u8ba4\u4f4d\u7f6e\u662f\u5f53\u524d\u7528\u6237\u5bb6\u76ee\u5f55\u7684\u00a0<code>.bash_history</code>\u00a0\u6587\u4ef6\u3002</p> <p>\u5f53 Linux \u7cfb\u7edf\u542f\u52a8\u4e00\u4e2a Shell \u65f6\uff0cShell \u4f1a\u4ece\u00a0<code>.bash_history</code>\u00a0\u6587\u4ef6\u4e2d\uff0c\u8bfb\u53d6\u5386\u53f2\u8bb0\u5f55\uff0c\u5b58\u50a8\u5728\u76f8\u5e94\u5185\u5b58\u7684\u7f13\u51b2\u533a\u4e2d\u3002</p> <p>\u6211\u4eec\u5e73\u65f6\u6240\u64cd\u4f5c\u7684 Linux \u547d\u4ee4\uff0c\u90fd\u4f1a\u8bb0\u5f55\u5728_\u7f13\u51b2\u533a_\u4e2d\u3002\u5305\u62ec\u00a0<code>history</code>\u00a0\u547d\u4ee4\u6240\u6267\u884c\u7684\u5386\u53f2\u547d\u4ee4\u7ba1\u7406\uff0c\u90fd\u662f\u5728\u64cd\u4f5c_\u7f13\u51b2\u533a_\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u64cd\u4f5c\u00a0.bash_history\u00a0\u6587\u4ef6\u3002</p> <p>\u5f53\u6211\u4eec\u9000\u51fa Shell\uff0c\u6bd4\u5982\u6309\u4e0b\u00a0<code>Ctrl+D</code>\u00a0\u65f6\uff0cShell \u8fdb\u7a0b\u4f1a\u628a\u5386\u53f2\u8bb0\u5f55\u7f13\u51b2\u533a\u7684\u5185\u5bb9\uff0c\u5199\u56de\u5230\u00a0.bash_history\u00a0\u6587\u4ef6\u4e2d\u53bb\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/history/#2","title":"2 \u4f7f\u7528\u8be6\u89e3","text":"<p>\u6e05\u695a\u4e86\u00a0<code>history</code>\u00a0\u7684\u57fa\u672c\u539f\u7406\uff0c\u6211\u4eec\u6765\u5177\u4f53\u5b66\u4e60\u4e00\u4e0b\u5982\u4f55\u4f7f\u7528\u5b83\u3002</p> <p>\uff08\u4e00\uff09\u57fa\u7840\u7528\u6cd5</p> <p>\u76f4\u63a5\u8f93\u5165 history \u547d\u4ee4\uff0c\u53ef\u4ee5\u770b\u5230\u6700\u8fd1\u64cd\u4f5c\u7684\u6240\u6709\u547d\u4ee4\u90fd\u663e\u793a\u51fa\u6765\u4e86</p> <p><code>$\u00a0history</code> <code>1\u00a0\u00a0bash</code> <code>2\u00a0\u00a0ls</code> <code>3\u00a0\u00a0vim\u00a0.bash_history</code> <code>4\u00a0\u00a0cat\u00a0.bash_history</code> <code>5\u00a0\u00a0history</code> <code>6\u00a0\u00a0bash</code></p> <p>\u6709\u65f6\u5019\u6211\u4e0d\u9700\u8981\u663e\u793a\u6240\u6709\u7684\u5386\u53f2\u547d\u4ee4\uff0c\u53ea\u663e\u793a\u6700\u540e\u7684 10 \u6761\u5386\u53f2\u8bb0\u5f55\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u540e\u52a0\u6570\u5b57\u00a0<code>N</code>\u00a0\u5373\u53ef</p> <p><code>$\u00a0history\u00a010</code></p> <p>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u53ea\u6709\u5728 Shell \u6b63\u5e38\u9000\u51fa\u65f6\uff0c\u624d\u4f1a\u5c06\u7f13\u51b2\u533a\u5185\u5bb9\u4fdd\u5b58\u5230\u6587\u4ef6\u3002\u5982\u679c\u4f60\u60f3\u4e3b\u52a8\u4fdd\u5b58\u7f13\u51b2\u533a\u7684\u5386\u53f2\u8bb0\u5f55\uff0c\u6267\u884c\u00a0<code>-w</code>\u00a0\u9009\u9879\u5373\u53ef</p> <p><code>$\u00a0history\u00a0-w</code></p> <p>\u5f53\u7136\uff0c\u5982\u679c\u4f60\u6267\u884c\u4e86\u4e00\u4e9b\u654f\u611f\u7684\u547d\u4ee4\u64cd\u4f5c\uff0c\u53ef\u4ee5\u6267\u884c\u00a0<code>-c</code>\u00a0\u5c06\u7f13\u51b2\u533a\u5185\u5bb9\u76f4\u63a5\u5220\u9664</p> <p><code>$\u00a0history\u00a0-c</code></p> <p>\uff08\u4e8c\uff09\u91cd\u590d\u6267\u884c\u547d\u4ee4</p> <p>\u5982\u679c\u8981\u91cd\u590d\u6267\u884c\u4e00\u4e9b\u547d\u4ee4\uff0c\u53ef\u4ee5\u4f7f\u7528\u00a0<code>!</code>\u00a0\u6765\u5feb\u901f\u6267\u884c\u91cd\u590d\u7684\u547d\u4ee4\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u91cd\u590d\u6267\u884c\u7b2c 1024 \u5386\u53f2\u547d\u4ee4\uff0c\u53ef\u4ee5\u6267\u884c\u5982\u4e0b\u547d\u4ee4</p> <p><code>$\u00a0!1024</code></p> <p><code>1024</code>\u00a0\u8fd9\u4e2a\u7f16\u53f7\u53ef\u4ee5\u901a\u8fc7\u00a0<code>history</code>\u00a0\u67e5\u770b\u54e6</p> <p>\u91cd\u590d\u6267\u884c\u4e0a\u4e00\u6761\u547d\u4ee4</p> <p><code>$\u00a0!!</code></p> <p>\u91cd\u590d\u6267\u884c\u5012\u6570\u7b2c 6 \u6761\u5386\u53f2\u547d\u4ee4\uff0c\u53ef\u4ee5\u901a\u8fc7_\u8d1f\u6570_\u8868\u793a\uff0c<code>-6</code>\u00a0\u8868\u793a\u5012\u6570\u7b2c 6 \u6761\u8bb0\u5f55</p> <p><code>$\u00a0!-6</code></p> <p>\uff08\u4e09\uff09\u641c\u7d22\u5386\u53f2\u547d\u4ee4</p> <p>\u6709\u65f6\u5019\uff0c\u9700\u8981\u91cd\u590d\u6267\u884c\u67d0\u5b57\u7b26\u4e32\u5f00\u5934\u7684\u6700\u540e\u4e00\u4e2a\u547d\u4ee4\uff0c\u540c\u6837\u53ef\u4ee5\u901a\u8fc7\u00a0<code>!</code>\u00a0\u6765\u64cd\u4f5c\uff0c\u7136\u540e\u6309 Enter \u6267\u884c\u5373\u53ef</p> <p>\u6bd4\u5982\uff0c\u521a\u624d\u6267\u884c\u4e86\u4e00\u4e2a\u5f88\u957f\u547d\u4ee4\uff0c\u53ea\u8bb0\u5f55\u547d\u4ee4\u5f00\u5934\u662f\u00a0<code>curl</code>\uff0c\u8fd9\u65f6\u5c31\u53ef\u4ee5\u901a\u8fc7\u00a0<code>!curl</code>\u00a0\u5feb\u901f\u6267\u884c\u8be5\u547d\u4ee4</p> <p><code>$\u00a0!curl</code></p> <p>\u8fd9\u4e2a\u7528\u6cd5\u5f88\u9ad8\u6548\uff0c\u4f46\u5b58\u5728\u4e0d\u5b89\u5168\u56e0\u7d20\uff0c\u56e0\u4e3a\u6709\u53ef\u80fd\u6267\u884c\u7684\u547d\u4ee4\u4e0d\u662f\u4f60\u60f3\u8981\u6267\u884c\u7684\uff0c\u90a3\u5c31\u574f\u4e8b\u4e86\u3002\u53ef\u4ee5\u901a\u8fc7\u00a0<code>:p</code>\u00a0\u6765\u5b89\u5168\u5730\u6267\u884c\u3002</p> <p><code>$\u00a0!curl:p</code> <code>curl\u00a0www.sina.com.cn</code></p> <p>\u52a0\u4e0a\u00a0<code>:p</code>\u00a0\u540e\uff0c\u53ea\u662f\u6253\u5370\u51fa\u4e86\u641c\u7d22\u5230\u7684\u547d\u4ee4\uff0c\u5982\u679c\u8981\u6267\u884c\uff0c\u8bf7\u6309\u00a0<code>Up</code>\u00a0\u952e\uff0c\u7136\u540e\u56de\u8f66\u5373\u53ef\u3002</p> <p>\u5982\u679c\u4f60\u53ea\u77e5\u9053\u67d0\u6761\u547d\u4ee4\u5305\u542b\u4e86\u00a0<code>x</code>\u00a0\u4fe1\u606f\uff0c\u4e0d\u662f\u4ee5\u00a0<code>x</code>\u00a0\u5f00\u5934\uff0c\u540c\u6837\u53ef\u4ee5\u901a\u8fc7\u00a0<code>?</code>\u00a0\u6765\u6267\u884c\u5305\u542b\u5b57\u7b26\u4e32\u7684\u547d\u4ee4</p> <p><code>$\u00a0!?sina</code></p> <p>\uff08\u56db\uff09\u4ea4\u4e92\u5f0f\u641c\u7d22\u5386\u53f2\u547d\u4ee4</p> <p>\u5728 Linux \u641c\u7d22\u5386\u53f2\u547d\u4ee4\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4ea4\u4e92\u5f0f\u7684\u641c\u7d22\u65b9\u5f0f\uff0c\u7b80\u76f4\u9ad8\u6548\u76f4\u63a5\u3002\u5728\u547d\u4ee4\u884c\u8f93\u5165\u00a0<code>Ctrl+R</code>\u00a0\u540e\uff0c\u8fdb\u5165\u4ea4\u4e92\u754c\u9762\uff0c\u952e\u5165\u9700\u8981\u641c\u7d22\u7684\u5173\u952e\u5b57\uff0c\u5982\u679c\u5339\u914d\u5230\u591a\u6761\u547d\u4ee4\uff0c\u53ef\u4ee5\u591a\u6b21\u952e\u5165\u00a0<code>Ctrl+R</code>\u00a0\u6765\u5207\u6362\u4e0a\u4e00\u6761\u5339\u914d\u7684\u547d\u4ee4\u3002</p> <p><code>(reverse-i-search)`sina':\u00a0echo\u00a0sina</code></p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u8f93\u5165\u4e86 sina \u540e\uff0c\u5c31\u81ea\u52a8\u5339\u914d\u5230\u6700\u8fd1\u4e00\u6b21\u548c sina \u5339\u914d\u7684\u547d\u4ee4\uff0c\u8fd9\u65f6\u6309\u4e0b\u56de\u8f66\u5c31\u53ef\u4ee5\u6267\u884c\u8be5\u547d\u4ee4\u3002</p> <p>\uff08\u4e94\uff09\u91cd\u590d\u6267\u884c\u4e0a\u6761\u547d\u4ee4</p> <p>\u5728\u8fd9\u91cc\u603b\u7ed3\u4e0b\u591a\u79cd\u91cd\u590d\u6267\u884c\u4e0a\u6761\u547d\u4ee4\u7684\u65b9\u5f0f\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u4e00\u79cd\u81ea\u5df1\u559c\u6b22\u7684\u5c31\u53ef\u4ee5\u5566</p> <ul> <li> <p><code>!!</code></p> </li> <li> <p><code>!-1</code></p> </li> <li> <p><code>Ctrl+p</code></p> </li> <li> <p><code>Up</code></p> </li> <li> <p><code>Ctrl+R</code></p> </li> </ul> <p>\uff08\u516d\uff09\u663e\u793a\u65f6\u95f4\u6233</p> <p>\u6709\u65f6\u5019\u9700\u8981\u5bf9 Linux \u7cfb\u7edf\u505a\u5ba1\u8ba1\uff0c\u90a3\u4e3a\u5386\u53f2\u8bb0\u5f55\u6dfb\u52a0\u65f6\u95f4\u6233\uff0c\u663e\u793a\u975e\u5e38\u6709\u7528\u3002</p> <p><code>$\u00a0export\u00a0HISTTIMEFORMAT='%F\u00a0%T\u00a0'</code> <code>$\u00a0history\u00a03</code> <code>46\u00a0\u00a02021-04-18\u00a015:21:33\u00a0curl\u00a0baidu.com</code> <code>47\u00a0\u00a02021-04-18\u00a015:21:35\u00a0pwd</code> <code>48\u00a0\u00a02021-04-18\u00a015:21:39\u00a0history\u00a03</code></p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u5386\u53f2\u8bb0\u5f55\u5df2\u7ecf\u663e\u793a\u4e86\u65f6\u95f4\u6233\u3002\u5176\u5b9e\u8fd9\u4e9b\u5bf9\u4e8e\u5ba1\u8ba1\u9700\u6c42\uff0c\u8fd8\u4e0d\u591f\uff0c\u53ef\u4ee5\u52a0\u4e0a\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\uff1a</p> <p><code>$\u00a0export\u00a0HISTTIMEFORMAT=\"%F\u00a0%T\u00a0`who\u00a0-u\u00a0am\u00a0i\u00a02&gt;/dev/null|\u00a0awk\u00a0'{print\u00a0$NF}'|sed\u00a0\\-e\u00a0's/[()]//g'`\u00a0`whoami`\u00a0\"</code> <code>6\u00a0\u00a02021-04-18\u00a016:07:48\u00a0113.200.44.237\u00a0root\u00a0ls</code> <code>7\u00a0\u00a02021-04-18\u00a016:07:59\u00a0113.200.44.237\u00a0root\u00a0pwd</code> <code>8\u00a0\u00a02021-04-18\u00a016:08:14\u00a0113.200.44.237\u00a0root\u00a0history</code></p> <p>\uff08\u4e03\uff09\u63a7\u5236\u5386\u53f2\u8bb0\u5f55\u603b\u6570</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cLinux \u7cfb\u7edf\u6700\u591a\u5b58\u50a8 1000 \u6761\u5386\u53f2\u8bb0\u5f55\uff0c\u53ef\u4ee5\u901a\u8fc7\u00a0<code>HISTSIZE</code>\u00a0\u73af\u5883\u53d8\u91cf\u67e5\u770b</p> <p><code>$\u00a0echo\u00a0$HISTSIZE</code> <code>1000</code></p> <p>\u5bf9\u4e8e\u9700\u8981\u505a\u5ba1\u8ba1\u7684\u573a\u666f\uff0c1000 \u6761\u5386\u53f2\u8bb0\u5f55\u53ef\u80fd\u4f1a\u592a\u5c11\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u4fee\u6539\u4e3a\u5408\u9002\u7684\u503c</p> <p><code>$\u00a0export\u00a0HISTSIZE=10000</code></p> <p>\u6ce8\u610f\uff0c<code>HISTSIZE</code>\u00a0\u53d8\u91cf\u53ea\u80fd\u63a7\u5236\u7f13\u51b2\u533a\u4e2d\u7684\u5386\u53f2\u8bb0\u5f55\u6570\u91cf\uff0c\u5982\u679c\u9700\u8981\u63a7\u5236\u00a0<code>.bash_history</code>\u00a0\u6587\u4ef6\u5b58\u50a8\u7684\u6700\u5927\u8bb0\u5f55\u6570\uff0c\u53ef\u4ee5\u901a\u8fc7\u00a0<code>HISTFILESIZE</code>\u00a0\u8fdb\u884c\u63a7\u5236</p> <p>\u4e0a\u8ff0\u547d\u4ee4\u884c\u4fee\u6539\u53ea\u5728\u5f53\u524d Shell \u73af\u5883\u751f\u6548\uff0c\u5982\u679c\u9700\u8981\u6c38\u4e45\u751f\u6548\uff0c\u9700\u8981\u5199\u5165\u914d\u7f6e\u6587\u4ef6</p> <p><code>$\u00a0echo\u00a0\"export\u00a0HISTSIZE=10000\"\u00a0&gt;&gt;\u00a0~/.bash_profile</code> <code>$\u00a0echo\u00a0\"export\u00a0HISTFILESIZE=200000\"\u00a0&gt;&gt;\u00a0~/.bash_profile</code> <code>$\u00a0source\u00a0~/.bash_profile</code></p> <p>\uff08\u516b\uff09\u66f4\u6539\u5386\u53f2\u8bb0\u5f55\u6587\u4ef6\u540d</p> <p>\u6709\u65f6\uff0c\u4e3a\u4e86\u65b9\u4fbf\u7ba1\u7406\u548c\u5907\u4efd\uff0c\u9700\u8981\u66f4\u6539\u5386\u53f2\u8bb0\u5f55\u6587\u4ef6\u7684\u8def\u5f84\u548c\u540d\u79f0\u3002\u7b80\u5355\uff0c\u540c\u6837\u53ef\u4ee5\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u00a0<code>HISTFILE</code>\u00a0\u66f4\u6539\u5b83\u7684\u6587\u4ef6\u540d\u79f0</p> <p><code>$\u00a0echo\u00a0\"export\u00a0HISTFILE=/data/backup/chopin.bash_history\"\u00a0&gt;&gt;\u00a0~/.bash_profile</code> <code>$\u00a0souce\u00a0~/.bash_profile</code></p> <p>\uff08\u4e5d\uff09\u7981\u7528\u5386\u53f2\u8bb0\u5f55</p> <p>\u5904\u4e8e\u67d0\u79cd\u7279\u6b8a\u73af\u5883\uff0c\u6211\u4eec\u9700\u8981\u7981\u7528\u5386\u53f2\u8bb0\u5f55</p> <p><code>$\u00a0echo\u00a0\"export\u00a0HISTSIZE=0\"\u00a0&gt;&gt;\u00a0~/.bash_profile</code> <code>$\u00a0echo\u00a0\"export\u00a0HISTFILESIZE=0\"\u00a0&gt;&gt;\u00a0~/.bash_profile</code> <code>$\u00a0source\u00a0~/.bash_profile</code></p> <p>\u54c8\u54c8\uff0c\u76f4\u63a5\u628a\u4e0a\u8ff0\u4e24\u4e2a\u53d8\u91cf\u7684\u503c\u8bbe\u7f6e\u4e3a\u00a0<code>0</code>\uff0c\u5c31\u5b9e\u73b0\u4e86\u7981\u7528\u5386\u53f2\u8bb0\u5f55\u7684\u529f\u80fd</p> <p>\uff08\u5341\uff09\u9ed1\u5ba2\u5fc5\u77e5\u7684\u4e00\u4e2a\u5c0f\u6280\u5de7</p> <p>\u6700\u540e\u5206\u4eab\u4e00\u4e2a\u4e0d\u4e3a\u4eba\u77e5\u7684\uff0c\u9ed1\u5ba2\u5fc5\u77e5\u7684\u5c0f\u6280\u5de7\u3002</p> <p>\u5728\u547d\u4ee4\u524d\u989d\u5916\u591a\u52a0\u4e00\u4e2a_\u7a7a\u683c_\uff0c\u8fd9\u6837\u7684\u547d\u4ee4\u662f\u4e0d\u4f1a\u88ab\u8bb0\u5f55\u5230\u5386\u53f2\u8bb0\u5f55\u7684\uff0c\u611f\u89c9\u662f\u4e0d\u662f\u5f88\u9177</p> <p>\u8fd9\u4e2a\u6280\u5de7\u5982\u679c\u5728\u4f60\u7684\u7cfb\u7edf\u4e0d\u7ba1\u7528\uff0c\u8bf7\u67e5\u770b\u4e0b\u73af\u5883\u53d8\u91cf\u00a0<code>HISTCONTROL</code>\u00a0\u662f\u5426\u5305\u542b\u00a0<code>ignorespace</code>\uff0c\u8c8c\u4f3c centos \u7cfb\u7edf\u9ed8\u8ba4\u6ca1\u6709\u8bbe\u7f6e\u8fd9\u4e2a\u503c\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/history/#3","title":"3 \u603b\u7ed3\u65f6\u95f4","text":"<p>\u5728 Linux \u7cfb\u7edf\uff0c<code>history</code>\u00a0\u547d\u4ee4\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\uff0c\u5e2e\u52a9\u6211\u4eec\u7ba1\u7406\u5386\u53f2\u547d\u4ee4\uff0c\u5e73\u65f6\u6211\u4eec\u547d\u4ee4\u90fd\u4f1a\u5148\u8bb0\u5f55\u5728_\u7f13\u5b58\u533a_\uff0c\u5728 Shell \u9000\u51fa\u65f6\u624d\u4f1a\u8bb0\u5f55\u5230\u6587\u4ef6\u4e2d\u3002</p> <p>history \u547d\u4ee4\u63d0\u4f9b\u4e86\u5f88\u65b9\u4fbf\u7684\u7ba1\u7406\u529f\u80fd\uff0c\u5408\u7406\u53bb\u914d\u7f6e\u548c\u7ba1\u7406\u5386\u53f2\u8bb0\u5f55\uff0c\u53ef\u4ee5\u8ba9\u4f60\u7684 Linux \u7cfb\u7edf\u66f4\u52a0\u5065\u58ee\u548c\u5b89\u5168\u3002</p> <p>\u597d\u4e86\uff0c\u8001\u89c4\u77e9\uff0c\u8d34\u5fc3\u7684\u8096\u54e5\u8fd8\u662f\u6765\u603b\u7ed3\u4e00\u4e0b\u00a0<code>history</code>\u00a0\u547d\u4ee4\u5e38\u7528\u65b9\u6cd5</p> <ul> <li> <p><code>history n</code>\uff1a\u53ea\u663e\u793a\u6700\u8fd1\u7684 n \u6761\u5386\u53f2\u8bb0\u5f55</p> </li> <li> <p><code>history -c</code>\uff1a\u6e05\u9664\u7f13\u5b58\u533a\u4e2d\u7684\u5386\u53f2\u8bb0\u5f55</p> </li> <li> <p><code>history -w</code>\uff1a\u5c06\u7f13\u5b58\u533a\u7684\u5386\u53f2\u8bb0\u5f55\u4fdd\u5b58\u5230\u6587\u4ef6</p> </li> <li> <p><code>history -d N</code>\uff1a\u5220\u9664\u7b2c N \u6761\u5386\u53f2\u8bb0\u5f55</p> </li> </ul> <p>\u51e0\u79cd\u91cd\u590d\u6267\u884c\u547d\u4ee4\u7684\u65b9\u6cd5\uff1a<code>!!</code>\u3001<code>!-1</code>\u3001<code>!N</code>\u3001<code>!string</code>\u00a0\u7b49</p> <p>\u4ea4\u4e92\u5f0f\u5386\u53f2\u547d\u4ee4\u641c\u7d22\uff0c\u8bf7\u4f7f\u7528\u00a0<code>Ctrl+R</code>\u00a0\u5feb\u6377\u952e</p> <p>\u5408\u9002\u4f7f\u7528\u51e0\u4e2a\u76f8\u5173\u7684\u73af\u5883\u53d8\u91cf\uff0c\u8ba9\u4f60\u7684 Linux \u7cfb\u7edf\u66f4\u5b89\u5168\uff1a</p> <ul> <li> <p><code>HISTSIZE</code>\uff1a\u63a7\u5236\u7f13\u51b2\u533a\u5386\u53f2\u8bb0\u5f55\u7684\u6700\u5927\u4e2a\u6570</p> </li> <li> <p><code>HISTFILESIZE</code>\uff1a\u63a7\u5236\u5386\u53f2\u8bb0\u5f55\u6587\u4ef6\u4e2d\u7684\u6700\u5927\u4e2a\u6570</p> </li> <li> <p><code>HISTIGNORE</code>\uff1a\u8bbe\u7f6e\u54ea\u4e9b\u547d\u4ee4\u4e0d\u8bb0\u5f55\u5230\u5386\u53f2\u8bb0\u5f55</p> </li> <li> <p><code>HISTTIMEFORMAT</code>\uff1a\u8bbe\u7f6e\u5386\u53f2\u547d\u4ee4\u663e\u793a\u7684\u65f6\u95f4\u683c\u5f0f</p> </li> <li> <p><code>HISTCONTROL</code>\uff1a\u6269\u5c55\u7684\u63a7\u5236\u9009\u9879</p> </li> </ul> <p>\u5982\u679c\u5728\u751f\u4ea7\u73af\u5883\uff0c\u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u9700\u8981\u6301\u4e45\u5316\u5230\u914d\u7f6e\u6587\u4ef6\u00a0~/.bash_profile</p> <p><code>export\u00a0HISTCONTROL=ignoreboth</code> <code>#\u00a0ignorespace:\u00a0\u5ffd\u7565\u7a7a\u683c\u5f00\u5934\u7684\u547d\u4ee4</code> <code>#\u00a0ignoredups:\u00a0\u5ffd\u7565\u8fde\u7eed\u91cd\u590d\u547d\u4ee4</code> <code>#\u00a0ignoreboth:\u00a0\u8868\u793a\u4e0a\u8ff0\u4e24\u4e2a\u53c2\u6570\u90fd\u8bbe\u7f6e</code> <code>#\u00a0\u8bbe\u7f6e\u8ffd\u52a0\u800c\u4e0d\u662f\u8986\u76d6</code> <code>shopt\u00a0-s\u00a0histappend</code> <code>export\u00a0HISTSIZE=1000</code> <code>export\u00a0HISTFILESIZE=200000</code> <code>export\u00a0HISTTIMEFORMAT=\"%F\u00a0%T\u00a0\"</code> <code>export\u00a0HISTIGNORE=\"ls:history\"</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/iostat/","title":"Iostat","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/iostat/#_1","title":"\u547d\u4ee4\u53c2\u6570\u8bf4\u660e\uff1a","text":"<ul> <li> <p><code>iostat</code>\uff1a\u663e\u793a Linux \u7cfb\u7edf\u7684 CPU \u548c I/O \u7edf\u8ba1\u4fe1\u606f\u3002</p> </li> <li> <p><code>-d</code>\uff1a\u4ec5\u663e\u793a \u8bbe\u5907\u7edf\u8ba1\u4fe1\u606f\uff08Device stats\uff09\uff0c\u800c\u4e0d\u663e\u793a CPU \u4f7f\u7528\u60c5\u51b5\u3002     \u5982\u679c\u4e0d\u52a0 <code>-d</code>\uff0c\u9ed8\u8ba4\u4f1a\u663e\u793a CPU + \u8bbe\u5907\u3002</p> </li> <li> <p><code>-x</code>\uff1a\u663e\u793a \u6269\u5c55\u8bbe\u5907\u7edf\u8ba1\u4fe1\u606f\uff08Extended stats\uff09\uff0c\u5305\u62ec\u66f4\u591a\u8be6\u7ec6\u6307\u6807\uff0c\u6bd4\u5982\uff1a</p> <ul> <li> <p><code>r/s</code> / <code>w/s</code> \u2192 \u6bcf\u79d2\u8bfb/\u5199\u8bf7\u6c42\u6570</p> </li> <li> <p><code>rkB/s</code> / <code>wkB/s</code> \u2192 \u6bcf\u79d2\u8bfb/\u5199\u7684 KB \u6570</p> </li> <li> <p><code>await</code> \u2192 \u6bcf\u6b21 I/O \u5e73\u5747\u7b49\u5f85\u65f6\u95f4\uff08ms\uff09</p> </li> <li> <p><code>svctm</code> \u2192 \u6bcf\u6b21 I/O \u5e73\u5747\u670d\u52a1\u65f6\u95f4\uff08ms\uff09</p> </li> <li> <p><code>util</code> \u2192 \u8bbe\u5907\u7e41\u5fd9\u767e\u5206\u6bd4</p> </li> </ul> </li> <li> <p><code>1</code>\uff1a\u91c7\u6837\u95f4\u9694 1 \u79d2\u3002     iostat \u4f1a\u6bcf\u9694 1 \u79d2\u8f93\u51fa\u4e00\u6b21\u7edf\u8ba1\u6570\u636e\u3002</p> </li> </ul> <p>\u26a0\ufe0f \u6ce8\u610f\uff1a\u5982\u679c\u53ea\u5199 <code>1</code>\uff0ciostat \u4f1a\u8fde\u7eed\u6253\u5370\u6bcf\u79d2\u7684\u7edf\u8ba1\uff0c\u76f4\u5230\u4f60 Ctrl+C \u505c\u6b62\u3002 \u5982\u679c\u5199 <code>1 10</code>\uff0c\u5c31\u662f\u6bcf\u79d2\u8f93\u51fa\u4e00\u6b21\uff0c\u5171\u8f93\u51fa 10 \u6b21\uff0c\u7136\u540e\u9000\u51fa\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/iostat/#_2","title":"\u8f93\u51fa\u89e3\u91ca\uff08\u5178\u578b\u5b57\u6bb5\uff09","text":"<pre><code># iostat -dx 1\n\nDevice:         r/s     w/s    rkB/s   wkB/s  rrqm/s  wrqm/s  r_await w_await svctm  %util\nvdb             40.62   100.5  3072    39011    0       0      12.3    7.8     1.2    99.8\n</code></pre> <ul> <li> <p><code>r/s</code>\u3001<code>w/s</code>\uff1a\u6bcf\u79d2\u7684 \u8bfb/\u5199 I/O \u8bf7\u6c42\u6570</p> </li> <li> <p><code>rkB/s</code>\u3001<code>wkB/s</code>\uff1a\u6bcf\u79d2 \u8bfb/\u5199\u7684\u6570\u636e\u91cf\uff08KB/s\uff09</p> </li> <li> <p><code>rrqm/s</code>\u3001<code>wrqm/s</code>\uff1a\u5408\u5e76 I/O \u8bf7\u6c42\u6570\uff08Request merged\uff09</p> </li> <li> <p><code>r_await</code>\u3001<code>w_await</code>\uff1a\u8bfb/\u5199 I/O \u5e73\u5747\u7b49\u5f85\u65f6\u95f4\uff08ms\uff09</p> </li> <li> <p><code>svctm</code>\uff1aI/O \u5e73\u5747\u670d\u52a1\u65f6\u95f4\uff08ms\uff09</p> </li> <li> <p><code>%util</code>\uff1a\u8bbe\u5907\u7e41\u5fd9\u767e\u5206\u6bd4\uff08100% \u8868\u793a\u8bbe\u5907\u6ee1\u8d1f\u8377\uff09</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/systemctl/","title":"Systemctl","text":"<pre><code>systemctl start service\uff1a\u542f\u52a8\u6307\u5b9a\u7684\u670d\u52a1\u3002\n\nsystemctl stop service\uff1a\u505c\u6b62\u6307\u5b9a\u7684\u670d\u52a1\u3002\n\nsystemctl restart service\uff1a\u91cd\u542f\u6307\u5b9a\u7684\u670d\u52a1\u3002\n\nsystemctl reload service\uff1a\u91cd\u65b0\u52a0\u8f7d\u6307\u5b9a\u7684\u670d\u52a1\u914d\u7f6e\u3002\n\nsystemctl enable service\uff1a\u8bbe\u7f6e\u6307\u5b9a\u7684\u670d\u52a1\u4e3a\u5f00\u673a\u81ea\u542f\u52a8\u3002\n\nsystemctl disable service\uff1a\u7981\u6b62\u6307\u5b9a\u7684\u670d\u52a1\u5f00\u673a\u81ea\u542f\u52a8\u3002\n\nsystemctl status service\uff1a\u67e5\u770b\u6307\u5b9a\u670d\u52a1\u7684\u72b6\u6001\u548c\u8be6\u7ec6\u4fe1\u606f\u3002\n\nsystemctl list-units --type=service\uff1a\u5217\u51fa\u6240\u6709\u6b63\u5728\u8fd0\u884c\u7684\u670d\u52a1\u3002\n\nsystemctl list-unit-files --type=service\uff1a\u5217\u51fa\u6240\u6709\u5df2\u7ecf\u6ce8\u518c\u7684\u670d\u52a1\u3002\n\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/","title":"\u7cfb\u7edf\u65e5\u5fd7","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#_1","title":"\u5e38\u89c1\u7684\u65e5\u5fd7\u6587\u4ef6\u53ca\u67e5\u770b\u65b9\u5f0f","text":"<p>\u65e5\u5fd7\u6587\u4ef6 \u5b58\u653e\u5185\u5bb9</p> <p>/var/log/message \u5185\u6838\u6d88\u606f\u53ca\u5404\u79cd\u5e94\u7528\u7a0b\u5e8f\u7684\u516c\u5171\u65e5\u5fd7\u4fe1\u606f,\u5305\u62ec\u542f\u52a8\u3001I/O\u9519\u8bef\u3001 \u7f51\u7edc\u9519\u8bef\u3001</p> <p>/var/log/cron Crond\u5468\u671f\u6027\u8ba1\u5212\u4efb\u52a1\u4ea7\u751f\u7684\u65f6\u95f4\u4fe1\u606f</p> <p>/var/log/dmesg \u5f13|\u5bfc\u8fc7\u7a0b\u4e2d\u7684\u5404\u79cd\u65f6\u95f4\u4fe1\u606f</p> <p>/var/log/ maillog \u8fdb\u5165\u6216\u53d1\u51fa\u7cfb\u7edf\u7684\u7535\u5b50\u90ae\u4ef6\u6d3b\u52a8</p> <p>/var/log/lastlog \u6bcf\u4e2a\u7528\u6237\u6700\u8fd1\u7684\u767b\u5f55\u4e8b\u4ef6</p> <p>/var/log/secure \u7528\u6237\u8ba4\u8bc1\u76f8\u5173\u7684\u5b89\u5168\u4e8b\u4ef6\u4fe1\u606f</p> <p>/var/log/wtmp \u6bcf\u4e2a\u7528\u6237\u767b\u5f55\u6ce8\u9500\u53ca\u7cfb\u7edf\u542f\u52a8\u548c\u505c\u673a\u4e8b\u4ef6</p> <p>/var/log/btmp \u5931\u8d25\u7684\u3001\u9519\u8bef\u7684\u767b\u5f55\u5c1d\u8bd5\u53ca\u9a8c\u8bc1\u4e8b\u4ef6</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#1-journalctl","title":"1\ufe0f\u20e3 journalctl\u57fa\u672c\u6982\u5ff5","text":"<p><code>journalctl</code> \u662f systemd \u7684\u65e5\u5fd7\u67e5\u770b\u5de5\u5177\uff0c\u5b83\u8bfb\u53d6 systemd-journald \u5b88\u62a4\u8fdb\u7a0b\u6536\u96c6\u7684\u65e5\u5fd7\u3002systemd \u65e5\u5fd7\u662f\u4e8c\u8fdb\u5236\u5b58\u50a8\u7684\uff08\u5b58\u653e\u5728 <code>/var/log/journal/</code> \u6216 <code>/run/log/journal/</code>\uff09\uff0c\u6bd4\u4f20\u7edf\u6587\u672c\u65e5\u5fd7 <code>/var/log/messages</code> \u66f4\u7075\u6d3b\u548c\u53ef\u9760\u3002</p> <p>\u7279\u70b9\uff1a</p> <ul> <li> <p>\u53ef\u4ee5\u7edf\u4e00\u67e5\u770b\u7cfb\u7edf\u65e5\u5fd7\u3001\u670d\u52a1\u65e5\u5fd7\u3001\u5185\u6838\u65e5\u5fd7\u3002</p> </li> <li> <p>\u652f\u6301\u6309\u65f6\u95f4\u3001\u670d\u52a1\u3001\u65e5\u5fd7\u7ea7\u522b\u3001\u7528\u6237\u3001\u8fdb\u7a0b\u7b49\u8fc7\u6ee4\u3002</p> </li> <li> <p>\u652f\u6301\u5b9e\u65f6\u8f93\u51fa\u3001\u5206\u9875\u663e\u793a\u548c\u5bfc\u51fa\u65e5\u5fd7\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#2","title":"2\ufe0f\u20e3 \u57fa\u672c\u547d\u4ee4","text":"<pre><code>journalctl\n</code></pre> <ul> <li> <p>\u9ed8\u8ba4\u663e\u793a \u6240\u6709\u65e5\u5fd7\uff0c\u4ece\u6700\u65e9\u5230\u6700\u65b0\u3002</p> </li> <li> <p>\u8f93\u51fa\u5206\u9875\u663e\u793a\uff08\u901a\u5e38\u901a\u8fc7 <code>less</code>\uff09\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#3","title":"3\ufe0f\u20e3 \u5e38\u7528\u9009\u9879","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#_2","title":"\u65f6\u95f4\u76f8\u5173","text":"<ul> <li> <p><code>--since \"YYYY-MM-DD HH:MM:SS\"</code>     \u67e5\u770b\u6307\u5b9a\u65f6\u95f4\u4e4b\u540e\u7684\u65e5\u5fd7\u3002</p> <p><code>bash journalctl --since \"2025-10-10 08:00\"</code></p> </li> <li> <p><code>--until \"YYYY-MM-DD HH:MM:SS\"</code>     \u67e5\u770b\u6307\u5b9a\u65f6\u95f4\u4e4b\u524d\u7684\u65e5\u5fd7\u3002</p> </li> <li> <p><code>-b</code> \u6216 <code>--boot</code>     \u67e5\u770b\u5f53\u524d\u542f\u52a8\u7684\u65e5\u5fd7\uff0c<code>-b -1</code> \u8868\u793a\u4e0a\u4e00\u6b21\u542f\u52a8\u7684\u65e5\u5fd7\u3002</p> <p><code>bash journalctl -b -1</code></p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#_3","title":"\u670d\u52a1/\u5355\u5143\u8fc7\u6ee4","text":"<ul> <li> <p><code>-u &lt;unit&gt;</code>     \u67e5\u770b\u6307\u5b9a systemd \u670d\u52a1\u7684\u65e5\u5fd7\u3002</p> <p><code>bash journalctl -u nginx.service journalctl -u sshd.service -b</code></p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#_4","title":"\u4f18\u5148\u7ea7\u8fc7\u6ee4","text":"<p>\u65e5\u5fd7\u4f18\u5148\u7ea7\uff08\u4ece\u9ad8\u5230\u4f4e\uff09\uff1a</p> <pre><code>emerg(0) &gt; alert(1) &gt; crit(2) &gt; err(3) &gt; warning(4) &gt; notice(5) &gt; info(6) &gt; debug(7)\n</code></pre> <ul> <li> <p><code>-p &lt;priority&gt;</code>     \u8fc7\u6ee4\u6307\u5b9a\u4f18\u5148\u7ea7\u53ca\u4ee5\u4e0a\u65e5\u5fd7\u3002</p> <p><code>bash journalctl -p err       # \u663e\u793a\u9519\u8bef\u53ca\u66f4\u4e25\u91cd\u65e5\u5fd7 journalctl -p warning   # \u663e\u793a\u8b66\u544a\u53ca\u4ee5\u4e0a</code></p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#_5","title":"\u5b9e\u65f6\u76d1\u63a7","text":"<ul> <li> <p><code>-f</code> \u6216 <code>--follow</code>     \u7c7b\u4f3c <code>tail -f</code>\uff0c\u5b9e\u65f6\u8f93\u51fa\u65e5\u5fd7\u3002</p> <p><code>bash journalctl -f journalctl -u nginx.service -f</code></p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#_6","title":"\u8f93\u51fa\u683c\u5f0f","text":"<ul> <li> <p><code>-o &lt;format&gt;</code> \u8f93\u51fa\u683c\u5f0f\uff1a</p> <ul> <li> <p><code>short</code>\uff08\u9ed8\u8ba4\uff09</p> </li> <li> <p><code>json</code></p> </li> <li> <p><code>json-pretty</code></p> </li> <li> <p><code>cat</code>\uff08\u53ea\u663e\u793a\u6d88\u606f\uff09</p> </li> </ul> <p><code>bash journalctl -o json-pretty</code></p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#_7","title":"\u5185\u6838\u65e5\u5fd7","text":"<ul> <li> <p><code>-k</code> \u6216 <code>--dmesg</code>     \u67e5\u770b\u5185\u6838\u65e5\u5fd7\uff08\u76f8\u5f53\u4e8e <code>dmesg</code>\uff09\u3002</p> <p><code>bash journalctl -k</code></p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#_8","title":"\u7528\u6237\u76f8\u5173","text":"<ul> <li> <p><code>--user</code> \u67e5\u770b\u7528\u6237\u670d\u52a1\u65e5\u5fd7</p> </li> <li> <p><code>--uid &lt;UID&gt;</code> \u67e5\u770b\u6307\u5b9a\u7528\u6237\u65e5\u5fd7</p> </li> <li> <p><code>--gid &lt;GID&gt;</code> \u67e5\u770b\u6307\u5b9a\u7ec4\u65e5\u5fd7</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#4","title":"4\ufe0f\u20e3 \u9ad8\u7ea7\u7528\u6cd5","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#pid","title":"\u6309\u8fdb\u7a0b\u6216PID","text":"<pre><code>journalctl _PID=1234\njournalctl _COMM=nginx\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#_9","title":"\u4fdd\u5b58\u65e5\u5fd7\u5230\u6587\u4ef6","text":"<pre><code>journalctl -u nginx.service --since today &gt; nginx.log\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#_10","title":"\u9650\u5236\u8f93\u51fa\u6761\u6570","text":"<pre><code>journalctl -n 50        # \u6700\u8fd1 50 \u6761\njournalctl -e           # \u8df3\u5230\u65e5\u5fd7\u672b\u5c3e\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#_11","title":"\u7ed3\u5408\u5176\u4ed6\u547d\u4ee4","text":"<pre><code>journalctl -u nginx.service -p err -n 20\njournalctl -k | grep -i error\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97/#5","title":"5\ufe0f\u20e3 \u65e5\u5fd7\u5b58\u50a8\u4f4d\u7f6e","text":"<ul> <li> <p>\u6c38\u4e45\u5b58\u50a8\uff1a<code>/var/log/journal/</code></p> </li> <li> <p>\u4e34\u65f6\u5b58\u50a8\uff08\u91cd\u542f\u540e\u6d88\u5931\uff09\uff1a<code>/run/log/journal/</code></p> </li> </ul> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>journalctl --disk-usage</code> \u67e5\u770b\u65e5\u5fd7\u5360\u7528\u78c1\u76d8\u5927\u5c0f\u3002</p> <p>\u2705 \u603b\u7ed3\uff1a <code>journalctl</code> \u662f systemd \u65e5\u5fd7\u7684\u4e07\u80fd\u67e5\u770b\u5de5\u5177\uff0c\u76f8\u6bd4\u4f20\u7edf\u6587\u672c\u65e5\u5fd7\u66f4\u7075\u6d3b\u3001\u66f4\u667a\u80fd\u3002\u638c\u63e1\u5b83\u80fd\u5feb\u901f\u6392\u67e5\u7cfb\u7edf\u95ee\u9898\u3001\u670d\u52a1\u5f02\u5e38\u548c\u5185\u6838\u6545\u969c\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"001 LVM\u57fa\u672c\u539f\u7406\u548c\u5e38\u7528\u547d\u4ee4","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#lvm","title":"\ud83e\udde0 \u4e00\u3001LVM \u57fa\u672c\u539f\u7406","text":"<p>LVM \u662f Linux \u4e0b\u7684\u4e00\u79cd\u7075\u6d3b\u7684\u78c1\u76d8\u7ba1\u7406\u673a\u5236\uff0c\u7528\u4e8e\u52a8\u6001\u5730\u8c03\u6574\u5b58\u50a8\u7a7a\u95f4\uff0c\u6bd4\u4f20\u7edf\u5206\u533a\u66f4\u65b9\u4fbf\u6269\u5bb9\u548c\u7ba1\u7406\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#1","title":"1\ufe0f\u20e3 \u5173\u952e\u6982\u5ff5","text":"\u540d\u79f0 \u5168\u79f0 \u8bf4\u660e PV Physical Volume\uff08\u7269\u7406\u5377\uff09 \u5b9e\u9645\u7269\u7406\u5b58\u50a8\u5355\u5143\uff08\u5982 <code>/dev/sda1</code>\u3001<code>/dev/nvme0n1p2</code> \u7b49\uff09\uff0c\u7ecf\u8fc7 <code>pvcreate</code> \u521d\u59cb\u5316\u540e\u624d\u80fd\u7528\u4e8e LVM\u3002 VG Volume Group\uff08\u5377\u7ec4\uff09 \u5c06\u591a\u4e2a PV \u805a\u5408\u6210\u4e00\u4e2a\u5927\u7684\u5b58\u50a8\u6c60\uff08\u4f8b\u5982 <code>vg0</code>\uff09\u3002 LV Logical Volume\uff08\u903b\u8f91\u5377\uff09 \u4ece VG \u4e2d\u5212\u51fa\u7684\u903b\u8f91\u5206\u533a\uff0c\u53ef\u6302\u8f7d\u3001\u683c\u5f0f\u5316\u3001\u6269\u5bb9\u3001\u7f29\u5bb9\u3002\u7c7b\u4f3c\u4f20\u7edf\u7684 <code>/dev/sdaX</code>\u3002 PE Physical Extent\uff08\u7269\u7406\u6269\u5c55\uff09 VG \u4e2d\u7684\u6700\u5c0f\u5206\u914d\u5355\u5143\uff08\u9ed8\u8ba4 4MB\uff09\u3002 LE Logical Extent\uff08\u903b\u8f91\u6269\u5c55\uff09 LV \u4e2d\u7684\u6700\u5c0f\u5206\u914d\u5355\u5143\uff0c\u4e0e PE \u4e00\u4e00\u5bf9\u5e94\u3002 <p>\ud83d\udcca \u7b80\u5355\u7ed3\u6784\u793a\u610f\u56fe\uff1a</p> <pre><code>+-----------+     +-----------+\n  |  /dev/sda |     |  /dev/sdb |\n  +-----------+     +-----------+\n        |                 |\n      [ PV ]            [ PV ]\n         \\               /\n          \\             /\n           +-----------+\n           |   VG vg0  |\n           +-----------+\n           |    LV1    | --&gt; / (root)\n           |    LV2    | --&gt; /data\n           +-----------+\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#lvm_1","title":"\u2699\ufe0f \u4e8c\u3001LVM \u5e38\u7528\u547d\u4ee4","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#1-lvm","title":"1\ufe0f\u20e3 \u521b\u5efa LVM \u7684\u5b8c\u6574\u6d41\u7a0b","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#1pv","title":"\uff081\uff09\u521b\u5efa\u7269\u7406\u5377\uff08PV\uff09","text":"<pre><code>pvcreate /dev/sda2 /dev/sdb1\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#2-pv","title":"\uff082\uff09\u67e5\u770b PV","text":"<pre><code>pvs        # \u7b80\u7565\u4fe1\u606f\npvdisplay  # \u8be6\u7ec6\u4fe1\u606f\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#3vg","title":"\uff083\uff09\u521b\u5efa\u5377\u7ec4\uff08VG\uff09","text":"<pre><code>vgcreate vg0 /dev/sda2 /dev/sdb1\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#4-vg","title":"\uff084\uff09\u67e5\u770b VG","text":"<pre><code>vgs         # \u7b80\u7565\u4fe1\u606f\nvgdisplay   # \u8be6\u7ec6\u4fe1\u606f\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#5lv","title":"\uff085\uff09\u521b\u5efa\u903b\u8f91\u5377\uff08LV\uff09","text":"<p>\u4f8b\u5982\u521b\u5efa\u4e00\u4e2a\u5927\u5c0f\u4e3a 100G \u7684\u903b\u8f91\u5377\uff1a</p> <pre><code>lvcreate -n lv_data -L 100G vg0\n</code></pre> <p>\u6216\u4f7f\u7528\u5269\u4f59\u5168\u90e8\u7a7a\u95f4\uff1a</p> <pre><code>lvcreate -n lv_data -l 100%FREE vg0\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#6-lv","title":"\uff086\uff09\u67e5\u770b LV","text":"<pre><code>lvs         # \u7b80\u7565\u4fe1\u606f\nlvdisplay   # \u8be6\u7ec6\u4fe1\u606f\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#7","title":"\uff087\uff09\u683c\u5f0f\u5316\u5e76\u6302\u8f7d","text":"<pre><code>mkfs.xfs /dev/vg0/lv_data\nmkdir /data\nmount /dev/vg0/lv_data /data\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#2","title":"2\ufe0f\u20e3 \u6269\u5bb9\u903b\u8f91\u5377\uff08\u6700\u5e38\u7528\uff09","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#1-lv","title":"\uff081\uff09\u6269\u5c55 LV \u7a7a\u95f4","text":"<p>\u4f8b\u5982\u6269\u5c55\u5230 200G\uff1a</p> <pre><code>lvextend -L 200G /dev/vg0/lv_data\n</code></pre> <p>\u6216\u4f7f\u7528\u5377\u7ec4\u5269\u4f59\u5168\u90e8\u7a7a\u95f4\uff1a</p> <pre><code>lvextend -l +100%FREE /dev/vg0/lv_data\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#2_1","title":"\uff082\uff09\u5728\u7ebf\u6269\u5c55\u6587\u4ef6\u7cfb\u7edf","text":"<p>\u6839\u636e\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\uff1a</p> <pre><code># XFS \u6587\u4ef6\u7cfb\u7edf\nxfs_growfs /data\n\n# EXT4 \u6587\u4ef6\u7cfb\u7edf\nresize2fs /dev/vg0/lv_data\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#3","title":"3\ufe0f\u20e3 \u7f29\u5c0f\u903b\u8f91\u5377\uff08\u9700\u5c0f\u5fc3\u26a0\ufe0f\uff09","text":"<p>\u26a0\ufe0f \u7f29\u5bb9\u524d\u5fc5\u987b\u5148\u5378\u8f7d\u5e76\u68c0\u67e5\u6587\u4ef6\u7cfb\u7edf\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u6570\u636e\u4e22\u5931\uff01</p> <pre><code>umount /data\ne2fsck -f /dev/vg0/lv_data       # \u68c0\u67e5\u6587\u4ef6\u7cfb\u7edf\nresize2fs /dev/vg0/lv_data 80G   # \u8c03\u6574\u6587\u4ef6\u7cfb\u7edf\u5927\u5c0f\nlvreduce -L 80G /dev/vg0/lv_data # \u7f29\u5c0f\u903b\u8f91\u5377\nmount /data\n</code></pre> <p>\u2757 XFS \u6587\u4ef6\u7cfb\u7edf\u4e0d\u652f\u6301\u5728\u7ebf\u7f29\u5bb9\uff01</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#4-vg_1","title":"4\ufe0f\u20e3 \u6269\u5c55\u5377\u7ec4\uff08VG\uff09","text":"<p>\u5982\u679c VG \u7a7a\u95f4\u4e0d\u591f\uff0c\u53ef\u6dfb\u52a0\u65b0\u7684 PV\uff1a</p> <pre><code>pvcreate /dev/sdc1\nvgextend vg0 /dev/sdc1\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#5-lvm","title":"5\ufe0f\u20e3 \u5220\u9664 LVM","text":"<pre><code>umount /data\nlvremove /dev/vg0/lv_data\nvgremove vg0\npvremove /dev/sda2 /dev/sdb1\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#6","title":"6\ufe0f\u20e3 \u5e38\u7528\u67e5\u770b\u547d\u4ee4\u603b\u7ed3","text":"\u547d\u4ee4 \u8bf4\u660e <code>pvs</code>, <code>pvdisplay</code> \u67e5\u770b\u7269\u7406\u5377\u4fe1\u606f <code>vgs</code>, <code>vgdisplay</code> \u67e5\u770b\u5377\u7ec4\u4fe1\u606f <code>lvs</code>, <code>lvdisplay</code> \u67e5\u770b\u903b\u8f91\u5377\u4fe1\u606f <code>lvscan</code> \u626b\u63cf\u7cfb\u7edf\u4e2d\u7684\u903b\u8f91\u5377 <code>vgscan</code> \u626b\u63cf\u5377\u7ec4 <code>pvscan</code> \u626b\u63cf\u7269\u7406\u5377"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/001-LVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_1","title":"\ud83d\udcd8 \u4e09\u3001\u4e00\u4e2a\u5b8c\u6574\u4f8b\u5b50","text":"<pre><code># 1. \u521b\u5efa\u7269\u7406\u5377\npvcreate /dev/nvme0n1 /dev/nvme1n1\n\n# 2. \u521b\u5efa\u5377\u7ec4\nvgcreate vg0 /dev/nvme0n1 /dev/nvme1n1\n\n# 3. \u521b\u5efa\u903b\u8f91\u5377\nlvcreate -n lv_root -L 200G vg0\n\n# 4. \u683c\u5f0f\u5316\u5e76\u6302\u8f7d\nmkfs.xfs /dev/vg0/lv_root\nmkdir /mnt/root\nmount /dev/vg0/lv_root /mnt/root\n\n# 5. \u6269\u5bb9\u903b\u8f91\u5377\nlvextend -l +100%FREE /dev/vg0/lv_root\nxfs_growfs /mnt/root\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/002-VG%E4%B8%AD%E5%8A%A0%E5%85%A5%E6%9F%90%E7%A3%81%E7%9B%98%E7%9A%84%E5%88%86%E5%8C%BA/","title":"002 VG\u4e2d\u52a0\u5165\u67d0\u78c1\u76d8\u7684\u5206\u533a","text":"<p>\u8981\u5c06\u4e00\u5757\u78c1\u76d8\u7684\u67d0\u4e2a\u5206\u533a\u52a0\u5165\u5230\u5377\u7ec4\uff08VG\uff09\u4e2d\uff0c\u9996\u5148\u9700\u8981\u5c06\u8be5\u78c1\u76d8\u5206\u533a\u521b\u5efa\u4e3a \u7269\u7406\u5377\uff08PV\uff09\uff0c\u7136\u540e\u5c06\u5176\u6dfb\u52a0\u5230\u73b0\u6709\u7684\u5377\u7ec4\uff08VG\uff09\u3002\u4ee5\u4e0b\u662f\u5177\u4f53\u6b65\u9aa4\uff1a</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/002-VG%E4%B8%AD%E5%8A%A0%E5%85%A5%E6%9F%90%E7%A3%81%E7%9B%98%E7%9A%84%E5%88%86%E5%8C%BA/#1-pv","title":"\u6b65\u9aa4 1: \u521b\u5efa\u7269\u7406\u5377\uff08PV\uff09","text":"<p>\u5047\u8bbe\u4f60\u8981\u6dfb\u52a0\u7684\u78c1\u76d8\u5206\u533a\u662f <code>/dev/sdb1</code>\uff0c\u9996\u5148\u9700\u8981\u5c06\u8be5\u5206\u533a\u521d\u59cb\u5316\u4e3a\u7269\u7406\u5377\u3002</p> <p><code>pvcreate /dev/sdb1</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/002-VG%E4%B8%AD%E5%8A%A0%E5%85%A5%E6%9F%90%E7%A3%81%E7%9B%98%E7%9A%84%E5%88%86%E5%8C%BA/#2-vg","title":"\u6b65\u9aa4 2: \u5c06\u7269\u7406\u5377\u52a0\u5165\u5230\u5377\u7ec4\uff08VG\uff09","text":"<p>\u7136\u540e\uff0c\u5c06\u8fd9\u4e2a\u7269\u7406\u5377\u52a0\u5165\u5230\u67d0\u4e2a\u5df2\u6709\u7684\u5377\u7ec4\uff08\u6bd4\u5982 <code>vg_data</code>\uff09\u3002</p> <p><code>vgextend vg_data /dev/sdb1</code></p> <ul> <li><code>vg_data</code> \u662f\u4f60\u8981\u5c06\u65b0\u78c1\u76d8\u5206\u533a\u52a0\u5165\u7684\u5377\u7ec4\u540d\u79f0\u3002</li> <li><code>/dev/sdb1</code> \u662f\u4f60\u521a\u521a\u521b\u5efa\u7684\u7269\u7406\u5377\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/002-VG%E4%B8%AD%E5%8A%A0%E5%85%A5%E6%9F%90%E7%A3%81%E7%9B%98%E7%9A%84%E5%88%86%E5%8C%BA/#3","title":"\u6b65\u9aa4 3: \u786e\u8ba4\u7269\u7406\u5377\u5df2\u6210\u529f\u52a0\u5165\u5377\u7ec4","text":"<p>\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u67e5\u770b\u5377\u7ec4\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u786e\u8ba4\u65b0\u7269\u7406\u5377\u5df2\u7ecf\u6210\u529f\u52a0\u5165\uff1a</p> <p><code>vgdisplay vg_data</code></p> <p>\u4f60\u4f1a\u770b\u5230 <code>vg_data</code> \u4e2d\u7684\u53ef\u7528\u7a7a\u95f4\u5df2\u589e\u52a0\uff0c\u5e76\u4e14\u5217\u51fa\u4e86\u6240\u6709\u5305\u542b\u5728\u8be5\u5377\u7ec4\u4e2d\u7684\u7269\u7406\u5377\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/002-VG%E4%B8%AD%E5%8A%A0%E5%85%A5%E6%9F%90%E7%A3%81%E7%9B%98%E7%9A%84%E5%88%86%E5%8C%BA/#_1","title":"\u603b\u7ed3\uff1a","text":"<ol> <li>\u4f7f\u7528 <code>pvcreate</code> \u521b\u5efa\u7269\u7406\u5377\u3002</li> <li>\u4f7f\u7528 <code>vgextend</code> \u5c06\u7269\u7406\u5377\u6dfb\u52a0\u5230\u5377\u7ec4\u3002</li> </ol> <p>\u901a\u8fc7\u8fd9\u4e9b\u6b65\u9aa4\uff0c\u4f60\u5c31\u53ef\u4ee5\u5c06\u65b0\u7684\u78c1\u76d8\u5206\u533a\uff08\u6216\u6574\u4e2a\u78c1\u76d8\uff09\u6dfb\u52a0\u5230\u73b0\u6709\u7684\u5377\u7ec4\u4e2d\uff0c\u4ece\u800c\u6269\u5c55\u5377\u7ec4\u7684\u5b58\u50a8\u7a7a\u95f4\u3002\u5982\u679c\u4f60\u6709\u591a\u4e2a\u5206\u533a\u9700\u8981\u6dfb\u52a0\uff0c\u53ea\u9700\u8981\u91cd\u590d\u4ee5\u4e0a\u6b65\u9aa4\u5373\u53ef\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/003-%E7%A7%BB%E9%99%A4LVM%E4%B8%AD%E7%9A%84SWAP%E5%88%86%E5%8C%BA%E5%92%8CHOME%E5%88%86%E5%8C%BA/","title":"003 \u79fb\u9664LVM\u4e2d\u7684SWAP\u5206\u533a\u548cHOME\u5206\u533a","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/LVM/003-%E7%A7%BB%E9%99%A4LVM%E4%B8%AD%E7%9A%84SWAP%E5%88%86%E5%8C%BA%E5%92%8CHOME%E5%88%86%E5%8C%BA/#_1","title":"\u80cc\u666f","text":"<ul> <li>rocky\u7cfb\u7edf\u5b89\u88c5\u7684\u8fc7\u7a0b\u4e2d\u9ed8\u8ba4\u4f7f\u7528\u4e86\u7cfb\u7edf\u5206\u914d\u7684LVM\u5206\u533a\uff0c\u73b0\u5728\u9700\u8981\u53bb\u9664LVM\u4e2d\u7684SWAP\u5206\u533a\u548c/home\u5206\u533a\uff0c\u5269\u4e0b\u7684\u7cfb\u7edf\u76d8\u4e2d\u7684\u7a7a\u95f4\u5168\u90e8\u7ed9/\u6839\u76ee\u5f55 </li> </ul> <p>\u64cd\u4f5c\u547d\u4ee4\uff1a</p> <pre><code># \u5148\u4fee\u6539\u4e3a\u53ef\u4ee5\u652f\u6301root\u5bc6\u7801\u767b\u5f55\n\nsudo vi /etc/ssh/sshd_config\n\n# \u4fee\u6539\n\nPasswordAuthentication no\n\n\u6539\u6210\n\nPasswordAuthentication yes\n\n\n\n# \u4fee\u6539selinux\u4e3a\u5bbd\u677e\u6a21\u5f0f\n\nsudo vi /etc/selinux/config\n\n# \u4fee\u6539SELINUX=enforcing\u4e3a\uff1a\n\nSELINUX=permissive\n\n\n\nsudo setenforce 0\n\n\n\n# \u91cd\u542fssh\n\n\n\nsudo systemctl restart sshd\n\n\n\n# \u4e0b\u9762\u7684\u64cd\u4f5c\u4f7f\u7528root\u7528\u6237\u6267\u884c\n\nssh root@38.175.45.34 -p 10022\n\ntest111\n\n\n\n# \u5907\u4efdhome\u76ee\u5f55\u914d\u7f6e\n\n# rm -rf /home/\n\n\n\n# \u5378\u8f7d/home\u548c\u7981\u7528swap\n\nsudo umount /home\n\nsudo swapoff /dev/mapper/rl-swap\n\n\n\n# \u5220\u9664rl-home\u548crl-swap\u903b\u8f91\u5377\n\nsudo lvremove /dev/mapper/rl-home\n\nsudo lvremove /dev/mapper/rl-swap\n\n\n\n# \u6269\u5c55rl-root\u903b\u8f91\u5377\n\nsudo lvextend -l +100%FREE /dev/mapper/rl-root\n\n\n\n# \u8c03\u6574\u6587\u4ef6\u7cfb\u7edf\u5927\u5c0f\n\nsudo xfs_growfs /dev/rl/root\n\n\n\n# \u66f4\u65b0\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6\n\nsudo vi /etc/fstab\n\nmount -a\n\n\n\n# \u6062\u590dhome\u76ee\u5f55\u914d\u7f6e\n\ncurl -O https://ss.bscstorage.com/bs-images/useradd.sh; chmod +x ./useradd.sh &amp;&amp; bash +x ./useradd.sh &amp;&amp; port=10022 &amp;&amp; firewall-cmd --zone=public --add-port=$port/tcp --permanent &amp;&amp; firewall-cmd --reload &amp;&amp; firewall-cmd --zone=public --query-port=$port/tcp\n\n\n\n# \u9a8c\u8bc1\u914d\u7f6e\n\ndf -h\n\nlsblk\n\n\n\n# \u8fd8\u9700\u8981\u8c03\u6574grub\u7684\u914d\u7f6e\n\nsudo vi /etc/default/grub\n\n\n\n# \u6ce8\u91ca\u539f\u672cGRUB_CMDLINE_LINUX \uff0c\u4e0b\u9762\u65b0\u589e\u4e00\u884c\n\n# GRUB_CMDLINE_LINUX=\"crashkernel=auto resume=/dev/mapper/rl-swap rd.lvm.lv=rl/root rd.lvm.lv=rl/swap\"\n\nGRUB_CMDLINE_LINUX=\"crashkernel=auto rd.lvm.lv=rl/root\"\n\n\n\n# \u751f\u6210\u65b0\u7684 GRUB \u914d\u7f6e\uff1a\n\nsudo grub2-mkconfig -o /boot/grub2/grub.cfg\n\n\n\n# \u91cd\u65b0\u751f\u6210 initramfs\uff08\u53ef\u9009\uff0c\u4f46\u63a8\u8350\uff09\uff1a\n\nsudo dracut -f\n\n\n\n# \u91cd\u542f\u670d\u52a1\u5668\n\nsudo reboot\n\n\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/SELinux/%E4%BB%80%E4%B9%88%E6%98%AFSELinux/","title":"\u4ec0\u4e48\u662fSELinux","text":"<p>\u53c2\u8003\uff1ahttps://redhat.com/zh/topics/linux/what-is-selinux</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/SELinux/%E4%BB%80%E4%B9%88%E6%98%AFSELinux/#selinux","title":"SELinux \u7b80\u4ecb","text":"<p>\u5728centos\u4e2d\uff0cselinux\u662f\u201cSecurity Enhanced Linux\u201d\u7684\u7f29\u5199\uff0c\u662f\u5b89\u5168\u52a0\u5f3a\u7684linux\uff0c\u662f\u4e00\u4e2alinux\u5185\u6838\u6a21\u5757\uff0c\u4e5f\u662flinux\u7684\u4e00\u4e2a\u5b89\u5168\u5b50\u7cfb\u7edf\uff1bSELinux\u4e3b\u8981\u4f5c\u7528\u662f\u6700\u5927\u9650\u5ea6\u5730\u51cf\u5c0f\u7cfb\u7edf\u4e2d\u670d\u52a1\u8fdb\u7a0b\u53ef\u8bbf\u95ee\u7684\u8d44\u6e90\u3002</p> <p>\u5b89\u5168\u589e\u5f3a\u578b Linux\uff08SELinux\uff09\u662f\u4e00\u79cd\u91c7\u7528\u5b89\u5168\u67b6\u6784\u7684\u00a0Linux\u00ae \u7cfb\u7edf\uff0c\u5b83\u80fd\u591f\u8ba9\u7ba1\u7406\u5458\u66f4\u597d\u5730\u7ba1\u63a7\u54ea\u4e9b\u4eba\u53ef\u4ee5\u8bbf\u95ee\u7cfb\u7edf\u3002\u5b83\u6700\u521d\u662f\u4f5c\u4e3a\u00a0Linux \u5185\u6838\u7684\u4e00\u7cfb\u5217\u8865\u4e01\uff0c\u7531\u7f8e\u56fd\u56fd\u5bb6\u5b89\u5168\u5c40\uff08NSA\uff09\u5229\u7528 Linux \u5b89\u5168\u6a21\u5757\uff08LSM\uff09\u5f00\u53d1\u800c\u6210\u3002\u00a0\u00a0</p> <p>SELinux \u4e8e 2000 \u5e74\u53d1\u5e03\u5230\u5f00\u6e90\u793e\u533a\uff0c\u5e76\u4e8e 2003 \u5e74\u96c6\u6210\u5230\u4e0a\u6e38 Linux \u5185\u6838\u4e2d\u3002</p> <p>\u514d\u8d39\u8bd5\u7528\u652f\u6301 SELinux \u7684\u64cd\u4f5c\u7cfb\u7edf</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/SELinux/%E4%BB%80%E4%B9%88%E6%98%AFSELinux/#selinux_1","title":"SELinux \u7684\u5de5\u4f5c\u539f\u7406","text":"<p>SELinux \u5b9a\u4e49\u4e86\u6bcf\u4e2a\u4eba\u5bf9\u7cfb\u7edf\u4e0a\u7684\u5e94\u7528\u3001\u8fdb\u7a0b\u548c\u6587\u4ef6\u7684\u8bbf\u95ee\u63a7\u5236\u3002\u5229\u7528\u5b89\u5168\u7b56\u7565\uff08\u4e00\u7ec4\u544a\u77e5 SELinux \u54ea\u4e9b\u80fd\u8bbf\u95ee\uff0c\u54ea\u4e9b\u4e0d\u80fd\u8bbf\u95ee\u7684\u89c4\u5219\uff09\u6765\u5f3a\u5236\u6267\u884c\u7b56\u7565\u6240\u5141\u8bb8\u7684\u8bbf\u95ee\u3002\u00a0</p> <p>\u5f53\u5e94\u7528\u6216\u8fdb\u7a0b\uff08\u79f0\u4e3a\u4e3b\u4f53\uff09\u53d1\u51fa\u8bbf\u95ee\u5bf9\u8c61\uff08\u5982\u6587\u4ef6\uff09\u7684\u8bf7\u6c42\u65f6\uff0cSELinux \u4f1a\u68c0\u67e5\u8bbf\u95ee\u5411\u91cf\u7f13\u5b58\uff08AVC\uff09\uff0c\u5176\u4e2d\u7f13\u5b58\u6709\u4e3b\u4f53\u548c\u5bf9\u8c61\u7684\u8bbf\u95ee\u6743\u9650\u3002</p> <p>\u5982\u679c SELinux \u65e0\u6cd5\u6839\u636e\u7f13\u5b58\u5bf9\u6743\u9650\u505a\u51fa\u8bbf\u95ee\u51b3\u5b9a\uff0c\u5b83\u4f1a\u5c06\u8bf7\u6c42\u53d1\u9001\u5230\u5b89\u5168\u670d\u52a1\u5668\u3002\u5b89\u5168\u670d\u52a1\u5668\u968f\u5373\u68c0\u67e5\u5e94\u7528\u6216\u8fdb\u7a0b\u548c\u6587\u4ef6\u7684\u5b89\u5168\u73af\u5883\uff0c\u786e\u8ba4\u5176\u662f\u5426\u5339\u914d SELinux \u7b56\u7565\u6570\u636e\u5e93\u7684\u5b89\u5168\u73af\u5883\u3002\u4e4b\u540e\u4fbf\u6839\u636e\u68c0\u67e5\u6388\u4e88\u6743\u9650\u6216\u62d2\u7edd\u3002\u00a0</p> <p>\u5982\u679c\u88ab\u62d2\u7edd\uff0c/var/log.messages \u4e2d\u5c06\u4f1a\u663e\u793a\u6d88\u606f\"avc: denied\"\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/SELinux/%E4%BB%80%E4%B9%88%E6%98%AFSELinux/#selinux_2","title":"\u5982\u4f55\u914d\u7f6e SELinux","text":"<p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u591a\u79cd\u65b9\u5f0f\u6765\u914d\u7f6e SELinux\uff0c\u4ee5\u4fdd\u62a4\u60a8\u7684\u7cfb\u7edf\u3002\u6700\u5e38\u89c1\u7684\u662f\u76ee\u6807\u7b56\u7565\u6216\u591a\u7ea7\u5b89\u5168\u9632\u62a4\uff08MLS\uff09\u3002</p> <p>\u76ee\u6807\u7b56\u7565\u4e3a\u9ed8\u8ba4\u9009\u9879\uff0c\u5b83\u6db5\u76d6\u4e86\u591a\u79cd\u6d41\u7a0b\u3001\u4efb\u52a1\u548c\u670d\u52a1\u3002MLS \u5219\u6781\u4e3a\u590d\u6742\uff0c\u901a\u5e38\u53ea\u6709\u653f\u5e9c\u673a\u6784\u624d\u4f1a\u4f7f\u7528\u3002\u00a0</p> <p>\u60a8\u53ef\u4ee5\u67e5\u770b /etc/sysconfig/selinux \u6587\u4ef6\uff0c\u4ee5\u5224\u65ad\u7cfb\u7edf\u6240\u91c7\u7528\u7684\u914d\u7f6e\u65b9\u5f0f\u3002\u8be5\u6587\u4ef6\u4e2d\u6709\u4e00\u90e8\u5206\u4f1a\u663e\u793a SELinux \u662f\u5904\u4e8e\u5141\u8bb8\u6a21\u5f0f\u3001\u5f3a\u5236\u6a21\u5f0f\u8fd8\u662f\u5904\u4e8e\u7981\u7528\u72b6\u6001\uff0c\u4ee5\u53ca\u8981\u52a0\u8f7d\u54ea\u4e2a\u7b56\u7565\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/SELinux/%E4%BB%80%E4%B9%88%E6%98%AFSELinux/#selinux_3","title":"SELinux \u6807\u7b7e\u548c\u7c7b\u578b\u5f3a\u5236\u8bbf\u95ee\u63a7\u5236","text":"<p>\u7c7b\u578b\u5f3a\u5236\u8bbf\u95ee\u63a7\u5236\u548c\u6807\u7b7e\u662f SELinux \u4e2d\u6700\u4e3a\u91cd\u8981\u7684\u4e24\u4e2a\u6982\u5ff5\u3002</p> <p>SELinux \u53ef\u4f5c\u4e3a\u6807\u7b7e\u7cfb\u7edf\u8fd0\u884c\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u7cfb\u7edf\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u3001\u8fdb\u7a0b\u548c\u7aef\u53e3\u90fd\u5177\u6709\u4e0e\u4e4b\u5173\u8054\u7684 SELinux \u6807\u7b7e\u3002\u6807\u7b7e\u53ef\u4ee5\u6309\u7167\u903b\u8f91\u5c06\u76ee\u6807\u7ec4\u5408\u5206\u7c7b\u3002\u5728\u542f\u52a8\u8fc7\u7a0b\u4e2d\uff0c\u5185\u6838\u8d1f\u8d23\u7ba1\u7406\u6807\u7b7e\u3002</p> <p>\u6807\u7b7e\u7684\u683c\u5f0f\u4e3a user:role:type:level\uff08level \u4e3a\u53ef\u9009\u9879\uff09\u3002User\u3001role \u548c level \u7528\u4e8e\u7c7b\u4f3c MLS \u7684\u66f4\u9ad8\u7ea7\u7684 SELinux \u5b9e\u65bd\u4e2d\u3002\u6807\u7b7e\u7c7b\u578b\u5bf9\u4e8e\u76ee\u6807\u7b56\u7565\u800c\u8a00\u6700\u4e3a\u91cd\u8981\u3002\u00a0</p> <p>SELinux \u5229\u7528\u7c7b\u578b\u5f3a\u5236\u8bbf\u95ee\u63a7\u5236\u6765\u5f3a\u5236\u6267\u884c\u7cfb\u7edf\u4e2d\u5b9a\u4e49\u7684\u7b56\u7565\u3002\u7c7b\u578b\u5f3a\u5236\u8bbf\u95ee\u63a7\u5236\u662f SELinux \u7b56\u7565\u7684\u4e00\u90e8\u5206\uff0c\u5b83\u5b9a\u4e49\u4e86\u7279\u5b9a\u7c7b\u578b\u7684\u8fdb\u7a0b\u80fd\u5426\u8bbf\u95ee\u6807\u8bb0\u4e3a\u7279\u5b9a\u7c7b\u578b\u7684\u6587\u4ef6\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/SELinux/%E4%BB%80%E4%B9%88%E6%98%AFSELinux/#selinux_4","title":"\u5982\u4f55\u542f\u7528 SELinux","text":"<p>\u5982\u679c\u60a8\u7684\u73af\u5883\u4e2d\u7981\u7528\u4e86 SELinux\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u7f16\u8f91 /etc/selinux/config \u5e76\u8bbe\u7f6e SELINUX=permissive \u6765\u542f\u7528 SElinux\u3002\u7531\u4e8e SELinux \u5f53\u524d\u5c1a\u672a\u542f\u7528\uff0c\u56e0\u6b64\u6700\u597d\u4e0d\u8981\u5c06\u5176\u8bbe\u4e3a\u7acb\u5373\u5f3a\u5236\u6267\u884c\uff0c\u56e0\u4e3a\u6b64\u65f6\u7cfb\u7edf\u53ef\u80fd\u4f1a\u51fa\u73b0\u8bef\u6807\u8bb0\u7684\u4e8b\u4ef6\uff0c\u5b83\u4f1a\u59a8\u788d\u7cfb\u7edf\u7684\u6b63\u5e38\u542f\u52a8\u3002\u00a0\u00a0</p> <p>\u60a8\u53ef\u4ee5\u5728\u6839\u76ee\u5f55\u4e2d\u521b\u5efa\u540d\u4e3a .autorelabel \u7684\u7a7a\u6587\u4ef6\uff0c\u7136\u540e\u91cd\u65b0\u542f\u52a8\uff0c\u4ee5\u6b64\u6765\u5f3a\u5236\u7cfb\u7edf\u81ea\u52a8\u91cd\u65b0\u6807\u8bb0\u6587\u4ef6\u7cfb\u7edf\u3002\u5982\u679c\u7cfb\u7edf\u4e2d\u9519\u8bef\u8fc7\u591a\uff0c\u5e94\u5728\u5141\u8bb8\u6a21\u5f0f\u4e0b\u91cd\u65b0\u542f\u52a8\uff0c\u4ee5\u786e\u4fdd\u542f\u52a8\u6210\u529f\u3002\u91cd\u65b0\u6807\u8bb0\u6240\u6709\u5185\u5bb9\u540e\uff0c\u5229\u7528 /etc/selinux/config \u5c06 SELinux \u8bbe\u7f6e\u4e3a\u5f3a\u5236\u6a21\u5f0f\u5e76\u91cd\u65b0\u542f\u52a8\uff0c\u6216\u8fd0\u884c setenforce 1\u3002</p> <p>\u5982\u679c\u7cfb\u7edf\u7ba1\u7406\u5458\u4e0d\u592a\u719f\u6089\u547d\u4ee4\u884c\uff0c\u8fd8\u53ef\u4ee5\u9009\u62e9\u7528\u4e8e\u7ba1\u7406 SELinux \u7684\u56fe\u5f62\u5de5\u5177\u3002\u00a0</p> <p>\u9488\u5bf9\u00a0Linux \u53d1\u884c\u7248\u4e2d\u5185\u7f6e\u7684\u7cfb\u7edf\uff0cSELinux \u63d0\u4f9b\u4e86\u4e00\u9053\u989d\u5916\u7684\u9632\u62a4\u5c42\u3002\u4fdd\u6301\u5f00\u542f SELinux\uff0c\u5c31\u80fd\u5728\u7cfb\u7edf\u906d\u5230\u7834\u574f\u65f6\u4fdd\u62a4\u60a8\u7684\u7cfb\u7edf\u3002</p> <p>\u4e86\u89e3\u7ea2\u5e3d\u4f01\u4e1a Linux \u5982\u4f55\u5e2e\u52a9\u63d0\u5347\u5b89\u5168\u9632\u62a4\u6c34\u5e73</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/SELinux/%E4%BB%80%E4%B9%88%E6%98%AFSELinux/#dacmac","title":"\u81ea\u4e3b\u8bbf\u95ee\u63a7\u5236\uff08DAC\uff09\u4e0e\u5f3a\u5236\u8bbf\u95ee\u63a7\u5236\uff08MAC\uff09","text":"<p>\u4f20\u7edf\u4e0a\uff0c Linux \u548c UNIX \u7cfb\u7edf\u90fd\u91c7\u7528 DAC\uff0c\u800c SELinux \u662f Linux \u91c7\u7528 MAC \u7cfb\u7edf\u7684\u793a\u4f8b\u3002\u00a0</p> <p>\u5bf9\u4e8e DAC \u800c\u8a00\uff0c\u6587\u4ef6\u548c\u8fdb\u7a0b\u90fd\u6709\u76f8\u5e94\u7684\u6240\u6709\u8005\u3002\u60a8\u53ef\u4ee5\u8ba9\u7528\u6237\u62e5\u6709\u67d0\u4e2a\u6587\u4ef6\uff0c\u8ba9\u7fa4\u7ec4\u62e5\u6709\u67d0\u4e2a\u6587\u4ef6\uff0c\u6216\u8ba9\u5176\u4ed6\u4eba\uff08\u53ef\u4ee5\u662f\u5176\u4ed6\u4efb\u4f55\u4eba\uff09\u62e5\u6709\u67d0\u4e2a\u6587\u4ef6\u3002\u7528\u6237\u53ef\u4ee5\u66f4\u6539\u81ea\u5df1\u6587\u4ef6\u7684\u6743\u9650\u3002</p> <p>\u6839\u7528\u6237\u5bf9 DAC \u7cfb\u7edf\u62e5\u6709\u5b8c\u5168\u8bbf\u95ee\u63a7\u5236\u6743\u3002\u5982\u679c\u60a8\u62e5\u6709\u6839\u8bbf\u95ee\u6743\u9650\uff0c\u5219\u53ef\u4ee5\u8bbf\u95ee\u5176\u4ed6\u4efb\u4f55\u7528\u6237\u7684\u6587\u4ef6\uff0c\u6216\u5728\u7cfb\u7edf\u4e0a\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\u3002\u00a0</p> <p>\u4f46\u5728\u50cf SELinux \u8fd9\u6837\u7684 MAC \u7cfb\u7edf\u4e0a\uff0c\u8bbf\u95ee\u6743\u9650\u6709\u76f8\u5e94\u7684\u7ba1\u7406\u8bbe\u7f6e\u7b56\u7565\u3002\u5373\u4f7f\u4e3b\u76ee\u5f55\u4e0a\u7684 DAC \u8bbe\u7f6e\u53d1\u751f\u66f4\u6539\uff0cSELinux \u7b56\u7565\u4e5f\u4f1a\u963b\u6b62\u5176\u4ed6\u7528\u6237\u6216\u8fdb\u7a0b\u8bbf\u95ee\u76ee\u5f55\uff0c\u4ece\u800c\u4fdd\u8bc1\u7cfb\u7edf\u7684\u5b89\u5168\u3002\u00a0</p> <p>SELinux \u7b56\u7565\u53ef\u4ee5\u8ba9\u60a8\u9488\u5bf9\u6027\u8bbe\u7f6e\uff0c\u5e76\u4e14\u6db5\u76d6\u5927\u91cf\u8fdb\u7a0b\u3002\u60a8\u53ef\u4ee5\u5bf9 SELinux \u8fdb\u884c\u66f4\u6539\uff0c\u4ee5\u9650\u5236\u7528\u6237\u3001\u6587\u4ef6\u3001\u76ee\u5f55\u7b49\u7b49\u4e4b\u95f4\u7684\u8bbf\u95ee\u3002</p> <p>\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u4ec0\u4e48\u5982\u6b64\u91cd\u8981\uff1f</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/SELinux/%E4%BB%80%E4%B9%88%E6%98%AFSELinux/#selinux_5","title":"\u5982\u4f55\u5904\u7406 SELinux \u9519\u8bef","text":"<p>\u5f53 SELinux \u53d1\u751f\u9519\u8bef\uff0c\u60a8\u9700\u8981\u53ca\u65f6\u91c7\u53d6\u5bf9\u7b56\u3002\u5e38\u89c1\u95ee\u9898\u4e0d\u5916\u4e4e\u4ee5\u4e0b 4 \u79cd\uff1a</p> <ol> <li>\u6807\u7b7e\u9519\u8bef\u3002\u5982\u679c\u6807\u7b7e\u4e0d\u6b63\u786e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5de5\u5177\u6765\u4fee\u590d\u6807\u7b7e\u3002</li> <li>\u7b56\u7565\u9700\u8981\u4fee\u590d\u3002\u53ef\u80fd\u662f\u6307\u60a8\u9700\u8981\u5c06\u6240\u505a\u7684\u66f4\u6539\u901a\u77e5\u7ed9 SELinux\uff0c\u6216\u662f\u53ef\u80fd\u9700\u8981\u8c03\u6574\u7b56\u7565\u3002\u60a8\u53ef\u4ee5\u5229\u7528\u5e03\u5c14\u503c\u6216\u7b56\u7565\u6a21\u5757\u5bf9\u5176\u8fdb\u884c\u4fee\u590d\u3002</li> <li>\u7b56\u7565\u4e2d\u5b58\u5728\u9519\u8bef\u3002\u53ef\u80fd\u662f\u7b56\u7565\u4e2d\u5b58\u5728\u9700\u8981\u6d88\u9664\u7684\u9519\u8bef\u3002</li> <li>\u7cfb\u7edf\u5df2\u635f\u574f\u3002\u5c3d\u7ba1 SELinux \u5728\u5f88\u591a\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4fdd\u62a4\u60a8\u7684\u7cfb\u7edf\uff0c\u4f46\u7cfb\u7edf\u4ecd\u5b58\u5728\u53d7\u635f\u7684\u53ef\u80fd\u3002\u5982\u679c\u60a8\u6000\u7591\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u7acb\u5373\u91c7\u53d6\u76f8\u5e94\u7684\u63aa\u65bd\u3002</li> </ol>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/SELinux/%E4%BB%80%E4%B9%88%E6%98%AFSELinux/#_1","title":"\u4ec0\u4e48\u662f\u5e03\u5c14\u503c\uff1f","text":"<p>\u5e03\u5c14\u503c\u662f SELinux \u4e2d\u529f\u80fd\u7684\u5f00/\u5173\u8bbe\u7f6e\u3002\u5f00/\u5173 SELinux \u529f\u80fd\u7684\u8bbe\u7f6e\u6709\u6570\u767e\u79cd\uff0c\u800c\u4e14\u8bb8\u591a\u8bbe\u7f6e\u5df2\u9884\u5b9a\u4e49\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c getsebool -a\uff0c\u627e\u51fa\u7cfb\u7edf\u4e2d\u5df2\u8bbe\u7f6e\u7684\u5e03\u5c14\u503c\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%20%E4%B8%AD%E7%9A%84%E9%AB%98%E7%BA%A7%E8%AE%BE%E7%BD%AE%E9%85%8D%E7%BD%AE/","title":"WSL \u4e2d\u7684\u9ad8\u7ea7\u8bbe\u7f6e\u914d\u7f6e","text":"<p>\u8be6\u7ec6\u914d\u7f6e\u53c2\u8003\uff1aWSL \u4e2d\u7684\u9ad8\u7ea7\u8bbe\u7f6e\u914d\u7f6e</p> <p>\u4e3a\u5df2\u5b89\u88c5\u7684 Linux \u53d1\u884c\u7248\u914d\u7f6e\u8bbe\u7f6e\uff0c\u4f7f\u5b83\u4eec\u5728\u6bcf\u6b21\u542f\u52a8 WSL \u65f6\u81ea\u52a8\u5e94\u7528\uff0c\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a</p> <ul> <li>.wslconfig\u00a0\u7528\u4e8e\u5728 WSL 2 \u4e0a\u8fd0\u884c\u7684\u6240\u6709\u5df2\u5b89\u88c5\u53d1\u884c\u7248\u4e2d\u5168\u5c40\u914d\u7f6e\u8bbe\u7f6e\u3002</li> <li>wsl.conf\u00a0\u7528\u4e8e\u4e3a\u5728 WSL 1 \u6216 WSL 2 \u4e0a\u8fd0\u884c\u7684 Linux \u53d1\u884c\u7248\u9488\u5bf9\u6bcf\u4e2a\u53d1\u884c\u7248\u914d\u7f6e\u8bbe\u7f6e\u3002</li> </ul> <p>\u8fd9\u4e24\u79cd\u6587\u4ef6\u7c7b\u578b\u90fd\u7528\u4e8e\u914d\u7f6e WSL \u8bbe\u7f6e\uff0c\u4f46\u5b58\u50a8\u6587\u4ef6\u7684\u4f4d\u7f6e\u3001\u914d\u7f6e\u7684\u8303\u56f4\u4ee5\u53ca\u8fd0\u884c\u53d1\u884c\u7248\u7684 WSL \u7248\u672c\u90fd\u4f1a\u5f71\u54cd\u5e94\u9009\u62e9\u7684\u6587\u4ef6\u7c7b\u578b\u3002</p> <p>\u8fd9\u91cc\u518d\u4ecb\u7ecd\u51e0\u4e2a\u5b9e\u7528\u7684\u914d\u7f6e\u9879\uff1a</p> <pre><code>[wsl2]\nnetworkingMode=bridged # \u6865\u63a5\u6a21\u5f0f\nvmSwitch=WSLSwitch # \u865a\u62df\u4ea4\u6362\u673a\u540d\nipv6=true # \u542f\u7528 IPv6\n\n# \u9650\u5236 WSL2 \u865a\u62df\u673a\u4f7f\u7528\u7684\u5185\u5b58\u4e0d\u8d85\u8fc7 8GB\u3002\u53ef\u4ee5\u4f7f\u7528 GB \u6216 MB \u6765\u8bbe\u7f6e\u6574\u6570\u503c\u3002\nmemory=8GB \n\n# \u8bbe\u7f6e WSL2 \u865a\u62df\u673a\u4f7f\u7528\u7684\u865a\u62df\u5904\u7406\u5668\u6570\u91cf\u4e3a4\nprocessors=4\n\n# \u8bbe\u7f6e\u4ea4\u6362\u7a7a\u95f4\u7684\u5927\u5c0f\u4e3a 8GB\uff0c\u9ed8\u8ba4\u4e3a\u53ef\u7528\u5185\u5b58\u7684 25%\u3002\nswap=8GB\n\n# \u6307\u5b9a\u4ea4\u6362\u6587\u4ef6\u7684\u8def\u5f84\u3002\u9ed8\u8ba4\u8def\u5f84\u4e3a %USERPROFILE%\\AppData\\Local\\Temp\\swap.vhdx\u3002\nswapfile=C:\\\\temp\\\\wsl-swap.vhdx\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%20%E5%AD%98%E5%82%A8%E4%BD%8D%E7%BD%AE%E8%BF%81%E7%A7%BB/","title":"WSL \u5b58\u50a8\u4f4d\u7f6e\u8fc1\u79fb","text":"<p>wsl\u955c\u50cf\u5bfc\u51fa\u5bfc\u5165\u547d\u4ee4\u53c2\u8003\uff1ahttps://learn.microsoft.com/zh-cn/windows/wsl/enterprise</p> <pre><code># \u5173\u95edwsl\nwsl --shutdown\n# \u786e\u4fdd\u4e3astop\u72b6\u6001\nwsl -l -v\n# \u6587\u4ef6\u5939\u9700\u63d0\u524d\u521b\u5efa\nwsl --export Ubuntu-20.04 E:\\UbuntuWSL\\ubuntu.tar\n# \u6ce8\u9500\nwsl --unregister Ubuntu-20.04\n# \u786e\u5b9a\u5df2\u6ce8\u9500\nwsl -l -v\n# \u6267\u884c\u5bfc\u5165(\u5982\u679c\u5931\u8d25\u53ef\u518d\u6b21\u5c1d\u8bd5\u6267\u884c)\n# \u6267\u884c\u5b8c\u4f1a\u5728E:\\UbuntuWSL\\\u521b\u5efaext4.vhdx\uff0c\u7136\u540eubuntu.tar\u5c31\u53ef\u4ee5\u5220\u6389\u4e86\nwsl --import Ubuntu-20.04 E:\\UbuntuWSL\\ E:\\UbuntuWSL\\ubuntu.tar\nwsl -l -v\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/","title":"WSL\u7684\u7f51\u7edc\u8bbe\u7f6e","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/#_1","title":"\u7b80\u4ecb","text":"<ul> <li>wsl2\u9ed8\u8ba4\u7684\u7f51\u7edc\u6a21\u5f0f\u662fNAT\u6a21\u5f0f\uff0c\u4e0d\u65b9\u4fbf\u548c\u5916\u90e8\u4e3b\u673a\u7684\u4e92\u76f8\u8bbf\u95ee\uff0c\u5c24\u5176\u662f\u5f53Windows\u4e0a\u7684\u5bb9\u5668\u670d\u52a1\u9700\u8981\u66b4\u9732\u7ed9\u5916\u90e8\u4e3b\u673a\u8bbf\u95ee\u65f6\uff0c\u56e0\u6b64\u9700\u8981\u4fee\u6539\u7f51\u7edc\u6a21\u5f0f\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/#wsl","title":"WSL\u7684\u7f51\u7edc\u67b6\u6784","text":"<p>\u6ce8\u610f\uff1a\u6b64\u65b9\u6cd5\u5728 Windows 10 21H2\u9a8c\u8bc1\u6ca1\u95ee\u9898\u3002</p> <ul> <li> <p>\u9996\u5148\u5206\u6790\u4e00\u4e0b\u9ed8\u8ba4wsl2\u4e0e\u5bbf\u4e3b\u673a\u7684\u7f51\u7edc\u5173\u7cfb\uff0cwsl2 \u53ef\u4ee5\u7406\u89e3\u4e3a\u5bbf\u4e3b\u673a\u865a\u62df\u51fa\u6765\u7684\u4e00\u4e2a\u5b8c\u6574\u7684 Linux \u865a\u62df\u673a\uff0c\u62e5\u6709\u903b\u8f91\u4e0a\u72ec\u7acb\u7684\u7f51\u5361\u3002 </p> </li> <li> <p>\u4e0a\u56fe\u53ef\u4ee5\u770b\u5230wsl2\u4e0e\u5916\u754c\u901a\u4fe1\u9700\u8981\u901a\u8fc7\u5bbf\u4e3b\u673a\u8fdb\u884c\u8f6c\u53d1\uff0c\u5bbf\u4e3b\u673a\u548cwsl2\u4e4b\u95f4\u5b58\u5728\u6709\u4e00\u4e2a\u865a\u62df\u5c40\u57df\u7f51\uff0c\u865a\u62df\u7f51\u5361WSL\u548c\u865a\u62df\u7f51\u5361eth0\u4e4b\u95f4\u7531\u4e8e\u5728\u540c\u4e00\u4e2a\u7f51\u6bb5\uff0c\u6240\u4ee5\u80fd\u591f\u4e92\u76f8\u901a\u4fe1\u3002wsl2\u9700\u8981\u8bbf\u95ee\u5916\u90e8\u7f51\u7edc\u65f6\uff0c\u9700\u8981\u5148\u53d1\u5f80\u5bbf\u4e3b\u673a\u7684\u865a\u62df\u7f51\u5361\uff0c\u7136\u540e\u7531\u5bbf\u4e3b\u673a\u7684\u7269\u7406\u7f51\u5361\u5c06\u8bf7\u6c42\u8f6c\u53d1\u51fa\u53bb\u3002</p> </li> </ul> <p></p> <ul> <li> <p>\u5982\u679cwsl2\u4e0a\u5b58\u5728\u67d0\u4e2a\u670d\u52a1\uff0c\u66b4\u97328989\u7aef\u53e3\u5bf9\u5916\u90e8\u63d0\u4f9b\u670d\u52a1\u3002\u7531\u4e8ewsl\u6ca1\u6709\u5916\u7f51ip\uff0c\u4e14wsl2\u7684ip\u662f\u7ecf\u7531\u5bbf\u4e3b\u673a\u4f7f\u7528\u7f51\u7edc\u5730\u5740\u8f6c\u6362\u6280\u672f(NAT)\u624d\u5f97\u4ee5\u8bbf\u95ee\u5c40\u57df\u7f51\u7684\uff0c\u8fd9\u9690\u85cf\u4e86wsl2\uff0c\u4fdd\u8bc1\u4e86\u865a\u62df\u5c40\u57df\u7f51\u7684\u5b89\u5168\u6027\uff0c\u540c\u65f6\u4e5f\u4f7f\u5f97\u5c40\u57df\u7f51\u5176\u5b83\u4e3b\u673a\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95eewsl2\u4e0a\u7684\u670d\u52a1\u3002</p> </li> <li> <p>\u5f53\u524d\u67093\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5b9e\u73b0wsl2\u548c\u5c40\u57df\u7f51\u5185\u4e3b\u673a\u7684\u4e92\u901a\uff0c<code>\u7aef\u53e3\u8f6c\u53d1</code>\u3001\u00a0<code>\u6865\u63a5\u7f51\u7edc</code>\u00a0\u6216\u8005\u00a0<code>\u955c\u50cf\u7f51\u7edc</code>\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/#wsl_1","title":"WSL\u7aef\u53e3\u8f6c\u53d1","text":"<ul> <li>\u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u8fd0\u884cpowershell\uff0c\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u8bbe\u7f6e\u7aef\u53e3\u6620\u5c04, \u6267\u884c\u5b8c\u5c31\u8bbe\u7f6e\u597d\u76d1\u542cwin\u4e0a\u6240\u6709ip\u5730\u5740\u548c8989\u7aef\u53e3\uff0c\u5e76\u8f6c\u53d1\u5230172.17.45.152\u76848989\u7aef\u53e3\u4e86\u3002</li> </ul> <pre><code># \u6dfb\u52a0\u7aef\u53e3\u8f6c\u53d1\u89c4\u5219\nnetsh interface portproxy add v4tov4 listenport=8989 listenaddress=0.0.0.0 connectport=8989 connectaddress=172.17.45.152\n</code></pre> <ul> <li>\u62d3\u5c55\u547d\u4ee4\uff1a</li> </ul> <pre><code># \u5220\u9664\u7aef\u53e3\u8f6c\u53d1\u89c4\u5219\nnetsh interface portproxy delete v4tov4 listenport=8989 listenaddress=0.0.0.0\n\n# \u91cd\u7f6e\u6240\u6709\u7aef\u53e3\u4ee3\u7406\uff08\u6e05\u7a7a\u89c4\u5219\uff09\nnetsh interface portproxy reset\n\n# \u67e5\u770b\u6240\u6709\u7aef\u53e3\u8f6c\u53d1\u89c4\u5219\nnetsh interface portproxy show all\n</code></pre> <ul> <li>\u6ce8\u610f\uff1a<ul> <li>\u9700\u8981\u518dwindows\u7684\u9632\u706b\u5899\u4e0a\u9762\u653e\u901a\u4f60\u7684\u5bf9\u5916\u7aef\u53e3\u6216\u662f\u5173\u95ed\u9632\u706b\u5899\u3002</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/#wsl_2","title":"WSL\u8bbe\u7f6e\u6865\u63a5\u7f51\u7edc","text":"<p>\u6ce8\u610f\uff1a\u6b64\u65b9\u6cd5\u9700\u8981\u81f3\u5c11 Windows 11 22H2\u3002</p> <ul> <li>\u6865\u63a5\u6a21\u5f0f\u5c31\u662f\u5c06\u4e3b\u673a\u7f51\u5361\u4e0e\u865a\u62df\u673a\u865a\u62df\u7684\u7f51\u5361\u5229\u7528\u865a\u62df\u7f51\u6865\u8fdb\u884c\u901a\u4fe1\u3002 \u5728\u6865\u63a5\u7684\u4f5c\u7528\u4e0b\uff0c\u7c7b\u4f3c\u4e8e\u628a\u5bbf\u4e3b\u673a\u865a\u62df\u4e3a\u4e00\u4e2a\u4ea4\u6362\u673a\uff0c\u6240\u6709\u6865\u63a5\u8bbe\u7f6e\u7684\u865a\u62df\u673a\u8fde\u63a5\u5230\u8fd9\u4e2a\u4ea4\u6362\u673a\u7684\u4e00\u4e2a\u63a5\u53e3\u4e0a\uff0c\u5bbf\u4e3b\u673a\u4e5f\u540c\u6837\u63d2\u5728\u8fd9\u4e2a\u4ea4\u6362\u673a\u5f53\u4e2d\uff0c\u6240\u4ee5\u6240\u6709\u6865\u63a5\u4e0b\u7684\u7f51\u5361\u4e0e\u7f51\u5361\u90fd\u662f\u4ea4\u6362\u6a21\u5f0f\u7684\uff0c\u76f8\u4e92\u53ef\u4ee5\u8bbf\u95ee\u800c\u4e0d\u5e72\u6270\u3002\u8fd9\u79cd\u65b9\u5f0f\u4e0b\uff0cwsl2\u4f1a\u83b7\u5f97\u4e00\u4e2a\u548c\u4e3b\u673a\u540c\u7f51\u6bb5\u7684ip\u5730\u5740\u3002</li> </ul> <p></p> <ul> <li> </li> </ul> <pre><code>WSL \u7248\u672c\uff1a 2.0.9.0\n\u5185\u6838\u7248\u672c\uff1a 5.15.133.1-1\nWSLg \u7248\u672c\uff1a 1.0.59\nMSRDC \u7248\u672c\uff1a 1.2.4677\nDirect3D \u7248\u672c\uff1a 1.611.1-81528511\nDXCore \u7248\u672c\uff1a 10.0.25131.1002-220531-1700.rs-onecore-base2-hyp\nWindows \u7248\u672c\uff1a 10.0.22621.819\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/#1-wsl","title":"1. \u66f4\u65b0WSL\u5230\u6700\u65b0\u7684\u7248\u672c","text":"<ul> <li>\u9996\u5148\u9700\u8981\u4ece Microsoft Store \u91cc\u9762\u4e0b\u8f7d\u6700\u65b0\u7684 Windows Subsystem for Linux\u3002</li> <li>\u7528\u4e0d\u4e86\u5546\u5e97\u7684\u53ef\u4ee5\u524d\u5f80\u8fd9\u91cc\u81ea\u5df1\u4e0b\u8f7d\u90e8\u7f72\u5b89\u88c5\uff1ahttps://github.com/microsoft/WSL/releases\u00a0\uff0c\u88c5\u597d\u4e4b\u540e\u53ef\u4ee5\u8fd0\u884c\u00a0<code>wsl --version</code>\u00a0\u67e5\u770b\u7248\u672c\u4fe1\u606f\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/#2-hyper-v","title":"2.\u4f7f\u7528 Hyper-V \u521b\u5efa\u548c\u914d\u7f6e\u865a\u62df\u4ea4\u6362\u673a","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/#21-hyper-v","title":"2.1 \u542f\u7528 Hyper-V","text":"<ul> <li>\u4ee5\u5728 Windows 10 \u4e0a\u521b\u5efa\u865a\u62df\u673a\u3002\u53c2\u8003\uff1a\u5728 Windows 10 \u4e0a\u5b89\u88c5 Hyper-V<ul> <li>\u4f7f\u7528 PowerShell \u542f\u7528 Hyper-V<ul> <li>\u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u6253\u5f00 PowerShell \u63a7\u5236\u53f0\uff0c\u6267\u884c\u547d\u4ee4\uff1a<code>Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V -All</code></li> </ul> </li> <li>\u901a\u8fc7\u201c\u8bbe\u7f6e\u201d\u542f\u7528 Hyper-V \u89d2\u8272<ul> <li>\u6309\u4e0bwin + s\u6253\u5f00Windows\u641c\u7d22\uff0c\u8f93\u5165\u201cWindows \u529f\u80fd\u201d\u3002\u9009\u62e9\u3010\u542f\u7528\u6216\u5173\u95edWindows\u529f\u80fd\u3011</li> <li>\u9009\u62e9\u201cHyper-V\u201d\uff0c\u7136\u540e\u5355\u51fb\u201c\u786e\u5b9a\u201d\u3002</li> <li>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u7cfb\u7edf\u4f1a\u63d0\u793a\u4f60\u91cd\u65b0\u542f\u52a8\u8ba1\u7b97\u673a\u3002</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/#22","title":"2.2 \u6dfb\u52a0\u865a\u62df\u4ea4\u6362\u673a","text":"<ul> <li>\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 Hyper-V Manager \u6216 PowerShell \u521b\u5efa\u548c\u914d\u7f6e\u865a\u62df\u4ea4\u6362\u673a\uff08\u9009\u62e9\u5176\u4e2d\u4e00\u79cd\u65b9\u5f0f\u5373\u53ef\uff09</li> <li>2.2.1 \u4f7f\u7528 Hyper-V Manager \u521b\u5efa\u548c\u914d\u7f6e\u865a\u62df\u4ea4\u6362\u673a\uff1a<ul> <li>\u5728Windows\u641c\u7d22\u680f\u5185\u8f93\u5165\u201dhyper-v\u201d\uff0c\u51fa\u73b0Hyper-V\u7ba1\u7406\u5668\uff0c\u70b9\u51fb\u5373\u53ef\u6253\u5f00Hyper-V\u7ba1\u7406\u5668\u7a0b\u5e8f\u3002</li> <li>Hyper-V\u7ba1\u7406\u5668\u7684\u7f51\u7edc\u6a21\u5f0f\u9ed8\u8ba4\u4e3aNAT\uff0c\u5982\u679c\u60f3\u4f7f\u7528\u6865\u63a5\u6a21\u5f0f\uff0c\u9700\u8981\u6dfb\u52a0\u4e00\u4e2a\u5916\u90e8\u7f51\u7edc\u7684\u865a\u62df\u4ea4\u6362\u673a\u3002\u70b9\u51fb\u201c\u865a\u62df\u4ea4\u6362\u673a\u7ba1\u7406\u5668\u201d\u3002</li> <li>\u5f39\u51fa\u865a\u62df\u4ea4\u6362\u673a\u7ba1\u7406\u5668\u7a97\u53e3\uff0c\u70b9\u51fb\u201c\u65b0\u5efa\u865a\u62df\u7f51\u7edc\u4ea4\u6362\u673a\u201d\uff0c\u7136\u540e\u5728\u53f3\u4fa7\u9009\u4e2d\u201c\u5916\u90e8\u201d\uff0c\u518d\u70b9\u51fb\u201c\u521b\u5efa\u865a\u62df\u4ea4\u6362(S)\u201d\u3002</li> <li>\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u4e2d\uff0c\u586b\u5165\u865a\u62df\u4ea4\u6362\u673a\u7684\u540d\u79f0\uff0c\u5982WSLSwitch\uff0c\u8fde\u63a5\u7c7b\u578b\u680f\u786e\u4fdd\u9009\u4e2d\u7684\u662f\u201c\u5916\u90e8\u7f51\u7edc(E)\u201d\uff0c\u5982\u679c\u4e3b\u673a\u914d\u7f6e\u4e86\u591a\u5757\u7269\u7406\u7f51\u5361\uff0c\u70b9\u51fb\u4e0b\u62c9\u7bad\u5934\uff0c\u53ef\u9009\u62e9\u865a\u62df\u673a\u4ea4\u6362\u673a\u7ed1\u5b9a\uff08\u6865\u63a5\uff09\u7684\u7269\u7406\u7f51\u5361\u3002</li> <li>\u70b9\u51fb\u201c\u786e\u5b9a(O)\u201d\uff0c\u63d0\u793a\u5e94\u8be5\u7f51\u7edc\u66f4\u6539\u53ef\u80fd\u5bfc\u81f4\u7f51\u7edc\u8fde\u63a5\u4e2d\u65ad\uff0c\u70b9\u51fb\u201c\u662f(Y)\u201d\u5373\u53ef\u3002\u770b\u5230\u865a\u62df\u673a\u4ea4\u6362\u673a\u4e00\u680f\u4e2d\uff0c\u5df2\u7ecf\u51fa\u73b0\u521a\u624d\u6dfb\u52a0\u7684WSLSwitch\u4ea4\u6362\u673a\u4e86\uff0c\u70b9\u51fb\u786e\u5b9a\u5b8c\u6210\u8bbe\u7f6e\u3002 </li> </ul> </li> </ul> <ul> <li>2.2.2 \u4f7f\u7528 PowerShell \u521b\u5efa\u548c\u914d\u7f6e\u865a\u62df\u4ea4\u6362\u673a, \u4f7f\u7528\u00a0New-VMSwitch\u00a0\u547d\u4ee4\u521b\u5efa\u865a\u62df\u4ea4\u6362\u673a\u3002<ul> <li>\u5728\u63d0\u5347\u7684\u4f1a\u8bdd\u4e2d\u5728\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c PowerShell\u3002</li> <li>\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u627e\u73b0\u6709\u7f51\u7edc\u9002\u914d\u5668\u3002 \u6807\u8bc6\u8981\u7528\u4e8e\u865a\u62df\u4ea4\u6362\u673a\u7684\u7f51\u7edc\u9002\u914d\u5668\u540d\u79f0\u3002</li> </ul> </li> </ul> <pre><code> Get-NetAdapter\n</code></pre> <pre><code>- \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u5916\u90e8\u865a\u62df\u4ea4\u6362\u673a\uff0c\u5c06\u00a0`&lt;value&gt;`\u00a0\u5360\u4f4d\u7b26\u66ff\u6362\u4e3a\u4f60\u81ea\u5df1\u7684\u503c\u3002\u5e76\u8bbe\u7f6e\u5141\u8bb8\u865a\u62df\u4ea4\u6362\u673a\u4e0e\u7ba1\u7406\u64cd\u4f5c\u7cfb\u7edf\u5171\u4eab\u3002\n</code></pre> <pre><code>New-VMSwitch -Name &lt;switch-name&gt;  -NetAdapterName &lt;netadapter-name&gt; -AllowManagementOS $true\n\n# \u793a\u4f8b\nNew-VMSwitch -Name WSLSwitch -NetAdapterName WLAN -AllowManagementOS $true\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/#3-wslconfig","title":"3. \u521b\u5efa<code>.wslconfig</code>\u914d\u7f6e\u6587\u4ef6","text":"<ul> <li><code>win+R</code>\u5feb\u6377\u952e\u8f93\u5165<code>%USERPROFILE%</code>\u6253\u5f00\u9ed8\u8ba4\u7528\u6237\u76ee\u5f55\uff0c\u5728\u6b64\u76ee\u5f55\u4e0b\u521b\u5efa<code>.wslconfig</code>\u914d\u7f6e\u6587\u4ef6\u3002\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</li> </ul> <pre><code>[wsl2]\nnetworkingMode=bridged # \u6865\u63a5\u6a21\u5f0f\nvmSwitch=WSLSwitch # \u4f60\u6240\u521b\u5efa\u7684\u865a\u62df\u4ea4\u6362\u673a\u540d\nipv6=true # \u542f\u7528 IPv6\n</code></pre> <ul> <li><code>wsl --shutdown</code>\u548c<code>wsl</code>\u00a0\u91cd\u542f WSL2\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/#wsl_3","title":"WSL\u955c\u50cf\u7f51\u7edc","text":"<p>\u6ce8\u610f\uff1a\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u81f3\u5c11 Windows 11 23H2\u3002\u9700\u8981\u52a0\u5165 Windows Insider \u9884\u89c8\u7248\u8ba1\u5212\uff0c\u800c\u4e14\u53ef\u80fd\u8fd8\u9700\u8981Canary`\u6e20\u9053\uff0c\u53ef\u80fd\u5b58\u5728\u7cfb\u7edf\u4e0d\u7a33\u5b9a\u7684\u60c5\u51b5\u3002</p> <p>\u8fd9\u79cd\u914d\u7f6e\u65b9\u5f0f\u6211\u4e5f\u6ca1\u8bd5\u9a8c\u8fc7\uff0c\u7f51\u7edc\u62d3\u6251\u7c7b\u4f3c\u4e0b\u9762\u8fd9\u6837\uff1f </p> <p>\u53c2\u8003WSL2 \u4eca\u5929\u53f2\u8bd7\u7ea7\u66f4\u65b0 - V2EX\uff0c\u5982\u4e0b\u8bbe\u7f6e<code>.wslconfig</code>\u6587\u4ef6\uff1a</p> <pre><code>[experimental]\nnetworkingMode=mirrored\ndnsTunneling=true\nfirewall=true\nautoProxy=true\n</code></pre> <p>\u8fd9\u6837wsl2 \u548c Windows \u4e3b\u673a\u7684\u7f51\u7edc\u4e92\u901a\u800c\u4e14 IP \u5730\u5740\u76f8\u540c\u4e86\uff0c\u8fd8\u652f\u6301 IPv6 \u4e86\uff0c\u5e76\u4e14\u4ece\u5916\u90e8\uff08\u6bd4\u5982\u5c40\u57df\u7f51\uff09\u53ef\u4ee5\u540c\u65f6\u8bbf\u95ee WSL2 \u548c Windows \u7684\u7f51\u7edc\u3002\u8fd9\u6ce2\u5347\u7ea7\u5f7b\u5e95\u5e26\u56de\u4ee5\u524d WSL1 \u90a3\u65f6\u5019\u7684\u65e0\u7f1d\u7f51\u7edc\u4f53\u9a8c\u4e86\uff0c\u5e76\u4e14 Windows \u9632\u706b\u5899\u4e5f\u80fd\u8fc7\u6ee4 WSL \u91cc\u7684\u5305\u4e86\uff0c\u518d\u4e5f\u4e0d\u9700\u8981\u4ec0\u4e48\u6865\u63a5\u7f51\u5361\u3001\u7aef\u53e3\u8f6c\u53d1\u4e4b\u7c7b\u7684\u64cd\u4f5c\u4e86\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/WSL2/WSL%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/#_2","title":"\u53c2\u8003\uff1a","text":"<ul> <li>http://www.ronnyz.top/2023/11/18/WSL2%E8%AE%BE%E7%BD%AE%E6%A1%A5%E6%8E%A5%E7%BD%91%E7%BB%9C%E5%8F%8A%E9%AB%98%E7%BA%A7%E8%AE%BE%E7%BD%AE/</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/raid/raid5%E7%9A%84%E5%8E%9F%E7%90%86%EF%BC%88%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D%EF%BC%89/","title":"Raid5\u7684\u539f\u7406\uff08\u6570\u636e\u6062\u590d\uff09","text":"<p>\u53c2\u8003\uff1ahttps://blog.51cto.com/linux2023/5017760</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/raid/raid5%E7%9A%84%E5%8E%9F%E7%90%86%EF%BC%88%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D%EF%BC%89/#_1","title":"\u7b80\u4ecb","text":"<p>RAID 5\u662f\u4e00\u79cd\u5b58\u50a8\u6027\u80fd\u3001\u6570\u636e\u5b89\u5168\u548c\u5b58\u50a8\u6210\u672c\u517c\u987e\u7684\u5b58\u50a8\u89e3\u51b3\u65b9\u6848\u3002 - \u4ee5\u56db\u4e2a\u786c\u76d8\u7ec4\u6210\u7684RAID 5\u4e3a\u4f8b\uff0c\u5176\u6570\u636e\u5b58\u50a8\u65b9\u5f0f\u5982\u56fe4\u6240\u793a\uff1a\u56fe\u4e2d\uff0cP0\u4e3aD0\uff0cD1\u548cD2\u7684\u5947\u5076\u6821\u9a8c\u4fe1\u606f\uff0cP1\u4e3aD3\uff0cD4\uff0cD5\u7684\u5947\u5076\u6821\u9a8c\u4fe1\u606f\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002 - \u7531\u56fe\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0cRAID 5\u4e0d\u5bf9\u5b58\u50a8\u7684\u6570\u636e\u8fdb\u884c\u5907\u4efd\uff0c\u800c\u662f\u628a\u6570\u636e\u548c\u76f8\u5bf9\u5e94\u7684\u5947\u5076\u6821\u9a8c\u4fe1\u606f\u5b58\u50a8\u5230\u7ec4\u6210RAID 5\u7684\u5404\u4e2a\u78c1\u76d8\u4e0a\uff0c\u5e76\u4e14\u5947\u5076\u6821\u9a8c\u4fe1\u606f\u548c\u76f8\u5bf9\u5e94\u7684\u6570\u636e\u5206\u522b\u5b58\u50a8\u4e8e\u4e0d\u540c\u7684\u78c1\u76d8\u4e0a\u3002 - \u5f53RAID 5\u7684\u4e00\u4e2a\u78c1\u76d8\u6570\u636e\u53d1\u751f\u635f\u574f\u540e\uff0c\u5229\u7528\u5269\u4e0b\u7684\u6570\u636e\u548c\u76f8\u5e94\u7684\u5947\u5076\u6821\u9a8c\u4fe1\u606f\u53bb\u6062\u590d\u88ab\u635f\u574f\u7684\u6570\u636e\u3002 RAID 5\u53ef\u4ee5\u7406\u89e3\u4e3a\u662fRAID 0\u548cRAID 1\u7684\u6298\u8877\u65b9\u6848\u3002RAID 5\u53ef\u4ee5\u4e3a\u7cfb\u7edf\u63d0\u4f9b\u6570\u636e\u5b89\u5168\u4fdd\u969c\uff0c\u4f46\u4fdd\u969c\u7a0b\u5ea6\u8981\u6bd4Mirror\u4f4e\u800c\u78c1\u76d8\u7a7a\u95f4\u5229\u7528\u7387\u8981\u6bd4Mirror\u9ad8\u3002 - RAID 5\u5177\u6709\u548cRAID 0\u76f8\u8fd1\u4f3c\u7684\u6570\u636e\u8bfb\u53d6\u901f\u5ea6\uff0c\u53ea\u662f\u591a\u4e86\u4e00\u4e2a\u5947\u5076\u6821\u9a8c\u4fe1\u606f\uff0c\u5199\u5165\u6570\u636e\u7684\u901f\u5ea6\u6bd4\u5bf9\u5355\u4e2a\u78c1\u76d8\u8fdb\u884c\u5199\u5165\u64cd\u4f5c\u7a0d\u6162\u3002\u540c\u65f6\u7531\u4e8e\u591a\u4e2a\u6570\u636e\u5bf9\u5e94\u4e00\u4e2a\u5947\u5076\u6821\u9a8c\u4fe1\u606f\uff0cRAID 5\u7684\u78c1\u76d8\u7a7a\u95f4\u5229\u7528\u7387\u8981\u6bd4RAID 1\u9ad8\uff0c\u5b58\u50a8\u6210\u672c\u76f8\u5bf9\u8f83\u4f4e\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/raid/raid5%E7%9A%84%E5%8E%9F%E7%90%86%EF%BC%88%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D%EF%BC%89/#raid-5","title":"RAID 5\u5947\u5076\u6821\u9a8c\u4fe1\u606f\u2014\u2014\u5f02\u6216\u8fd0\u7b97","text":"<p>1.\u5f02\u6216\u7684\u903b\u8f91\u7b26\u53f7\uff1a^</p> <p>2.\u5f02\u6216\u7684\u903b\u8f91\u5b9a\u4e49</p> <p>\u540c\u5219\u5047\uff0c\u5f02\u5219\u771f\uff080^0=0\uff0c1^1=0\uff0c 0^1=1 \uff0c1^0=1\uff09</p> <p>3.\u8ba1\u7b97\u673a\u4e2d\u7684\u903b\u8f91\u8fd0\u7b97\u75281\u8868\u793a\u771f\uff0c0\u8868\u793a\u5047\u3002</p> <p>4.\u4e24\u4e2a\u5b57\u8282\u6309\u4f4d\u5f02\u6216\u7684\u4f8b\u5b50\uff1a</p> <p>01111001 11100111 \uff1a\u5f02\u6216\u8fd0 ^ ------------------- 10011110</p> <p>5.\u5047\u8bbe\u4e00\u4e2a3\u4e2a\u6570\u5b57\u7684\u5f02\u6216\u8fd0\u7b97\u6a21\u578b \u4f8b\uff1a3\u5757\u786c\u76d8HD1,HD2,HD3\u7684\u6570\u636e\u4fe1\u606f\u5168\u901a\u8fc7\u6821\u9a8c\u76d8HD4\u5b58\u653e\u6821\u9a8c\u4fe1\u606f</p> <p></p> <p>\u4ece\u8fd9\u4e2a\u6a21\u578b\u7406\u89e3\u5f02\u6216\u8fd0\u7b97\u7684\u6982\u5ff5\uff1a\u5076\u6570\u4e2a1\u7684\u7ed3\u679c\u4e3a0\uff0c\u5947\u6570\u4e2a1\u7684\u7ed3\u679c\u4e3a1\uff1b</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/raid/raid5%E7%9A%84%E5%8E%9F%E7%90%86%EF%BC%88%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D%EF%BC%89/#raid-5_1","title":"\u56fe\u89e3RAID 5","text":"<p>RAID\u7684\u4fdd\u5b58\u539f\u7406\u662f\u7528Bit Striping\u53ca\u5f53\u524d\u4e3b\u6d41Block Striping\u7684\u5206\u5272\u65b9\u5f0f\uff0c\u5c06Data\u5206\u6563\u4fdd\u5b58\u81f3\u5404\u786c\u76d8\u4e2d\uff0c\u5f53\u786c\u76d8\u6709\u53d7\u635f\u65f6\u5219\u7ecf\u7531XOR\u8fd0\u7b97\uff0c\u518d\u5c06\u5b58\u5728\u5176\u4ed6\u5404\u786c\u76d8\u5185\u7684Parity Blocks\u53caData Stripe\u78c1\u533a\u7684Data Blocks\u8fdb\u884c\u8ba1\u7b97\u800c\u91cd\u5efa\u8d44\u6599Rebuild\u3002</p> <ul> <li> <p>\u4e00\u3001RAID 5 Striping \u67b6\u6784\uff1aRAID-5 Striping Mode </p> </li> <li> <p>\u4e8c\u3001RAID 5 \u53d7\u635f\u8fd0\u4f5c\u6a21\u5f0f\uff1aRAID-5 Degraded Mode  </p> </li> <li> <p>\u4e09\u3001RAID 5 XOR \u590d\u539f\uff1aRAID-5 XOR Data Recovery </p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/raid/raid%E4%BB%8B%E7%BB%8D/","title":"Raid\u4ecb\u7ecd","text":"<p>\u53c2\u8003\uff1ahttps://zh.wikipedia.org/wiki/RAID</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/raid/raid%E4%BB%8B%E7%BB%8D/#raid","title":"raid\u4ecb\u7ecd","text":"<p>\u72ec\u7acb\u786c\u76d8\u5197\u4f59\u9635\u5217\uff08RAID,\u00a0Redundant\u00a0Array of\u00a0Independent\u00a0Disks\uff09\uff0c\u65e7\u79f0\u5ec9\u4ef7\u78c1\u76d8\u5197\u4f59\u9635\u5217\uff08Redundant\u00a0Array of\u00a0Inexpensive\u00a0Disks\uff09\uff0c\u7b80\u79f0\u78c1\u76d8\u9635\u5217\u3002\u5229\u7528\u865a\u62df\u5316\u5b58\u50a8\u6280\u672f\u628a\u591a\u4e2a\u786c\u76d8\u7ec4\u5408\u8d77\u6765\uff0c\u6210\u4e3a\u4e00\u4e2a\u6216\u591a\u4e2a\u786c\u76d8\u9635\u5217\u7ec4\uff0c\u76ee\u7684\u4e3a\u63d0\u5347\u6027\u80fd\u6216\u8d44\u6599\u5197\u4f59\uff0c\u6216\u662f\u4e24\u8005\u540c\u65f6\u63d0\u5347\u3002</p> <p>\u5728\u8fd0\u4f5c\u4e2d\uff0c\u53d6\u51b3\u4e8e RAID \u5c42\u7ea7\u4e0d\u540c\uff0c\u8d44\u6599\u4f1a\u4ee5\u591a\u79cd\u6a21\u5f0f\u5206\u6563\u4e8e\u5404\u4e2a\u786c\u76d8\uff0cRAID \u5c42\u7ea7\u7684\u547d\u540d\u4f1a\u4ee5 RAID \u5f00\u5934\u5e76\u5e26\u6570\u5b57\uff0c\u4f8b\u5982\uff1aRAID 0\u3001RAID 1\u3001RAID 5\u3001RAID 6\u3001RAID 7\u3001RAID 01\u3001RAID 10\u3001RAID 50\u3001RAID 60\u3002\u6bcf\u79cd\u7b49\u7ea7\u90fd\u6709\u5176\u7406\u8bba\u4e0a\u7684\u4f18\u7f3a\u70b9\uff0c\u4e0d\u540c\u7684\u7b49\u7ea7\u5728\u4e24\u4e2a\u76ee\u6807\u95f4\u83b7\u53d6\u5e73\u8861\uff0c\u5206\u522b\u662f\u589e\u52a0\u8d44\u6599\u53ef\u9760\u6027\u4ee5\u53ca\u589e\u52a0\u5b58\u50a8\u5668\uff08\u7fa4\uff09\u8bfb\u5199\u6027\u80fd\u3002</p> <p>\u7b80\u5355\u6765\u8bf4\uff0cRAID\u628a\u591a\u4e2a\u786c\u76d8\u7ec4\u5408\u6210\u4e3a\u4e00\u4e2a\u903b\u8f91\u786c\u76d8\uff0c\u56e0\u6b64\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ea\u4f1a\u628a\u5b83\u5f53\u4f5c\u4e00\u4e2a\u5b9e\u4f53\u786c\u76d8\u3002RAID\u5e38\u88ab\u7528\u5728\u670d\u52a1\u5668\u7535\u8111\u4e0a\uff0c\u5e76\u4e14\u5e38\u4f7f\u7528\u5b8c\u5168\u76f8\u540c\u7684\u786c\u76d8\u4f5c\u4e3a\u7ec4\u5408\u3002\u7531\u4e8e\u786c\u76d8\u4ef7\u683c\u7684\u4e0d\u65ad\u4e0b\u964d\u4e0eRAID\u529f\u80fd\u66f4\u52a0\u6709\u6548\u5730\u4e0e\u4e3b\u677f\u96c6\u6210\uff0c\u5b83\u4e5f\u6210\u4e3a\u666e\u901a\u7528\u6237\u7684\u4e00\u4e2a\u9009\u62e9\uff0c\u7279\u522b\u662f\u9700\u8981\u5927\u5bb9\u91cf\u5b58\u50a8\u7a7a\u95f4\u7684\u5de5\u4f5c\uff0c\u5982\uff1a\u89c6\u9891\u4e0e\u97f3\u9891\u5236\u4f5c\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/raid/raid%E4%BB%8B%E7%BB%8D/#_1","title":"\u78c1\u76d8\u9635\u5217\u6bd4\u8f83\u8868","text":"<p>\u72ec\u7acb\u786c\u76d8\u5197\u4f59\u9635\u5217\uff08RAID,\u00a0Redundant\u00a0Array of\u00a0Independent\u00a0Disks\uff09\uff0c\u65e7\u79f0\u5ec9\u4ef7\u78c1\u76d8\u5197\u4f59\u9635\u5217\uff08Redundant\u00a0Array of\u00a0Inexpensive\u00a0Disks\uff09\uff0c\u7b80\u79f0\u78c1\u76d8\u9635\u5217\u3002\u5229\u7528\u865a\u62df\u5316\u5b58\u50a8\u6280\u672f\u628a\u591a\u4e2a\u786c\u76d8\u7ec4\u5408\u8d77\u6765\uff0c\u6210\u4e3a\u4e00\u4e2a\u6216\u591a\u4e2a\u786c\u76d8\u9635\u5217\u7ec4\uff0c\u76ee\u7684\u4e3a\u63d0\u5347\u6027\u80fd\u6216\u8d44\u6599\u5197\u4f59\uff0c\u6216\u662f\u4e24\u8005\u540c\u65f6\u63d0\u5347\u3002</p> <p>\u5728\u8fd0\u4f5c\u4e2d\uff0c\u53d6\u51b3\u4e8e RAID \u5c42\u7ea7\u4e0d\u540c\uff0c\u8d44\u6599\u4f1a\u4ee5\u591a\u79cd\u6a21\u5f0f\u5206\u6563\u4e8e\u5404\u4e2a\u786c\u76d8\uff0cRAID \u5c42\u7ea7\u7684\u547d\u540d\u4f1a\u4ee5 RAID \u5f00\u5934\u5e76\u5e26\u6570\u5b57\uff0c\u4f8b\u5982\uff1aRAID 0\u3001RAID 1\u3001RAID 5\u3001RAID 6\u3001RAID 7\u3001RAID 01\u3001RAID 10\u3001RAID 50\u3001RAID 60\u3002\u6bcf\u79cd\u7b49\u7ea7\u90fd\u6709\u5176\u7406\u8bba\u4e0a\u7684\u4f18\u7f3a\u70b9\uff0c\u4e0d\u540c\u7684\u7b49\u7ea7\u5728\u4e24\u4e2a\u76ee\u6807\u95f4\u83b7\u53d6\u5e73\u8861\uff0c\u5206\u522b\u662f\u589e\u52a0\u8d44\u6599\u53ef\u9760\u6027\u4ee5\u53ca\u589e\u52a0\u5b58\u50a8\u5668\uff08\u7fa4\uff09\u8bfb\u5199\u6027\u80fd\u3002</p> <p>\u7b80\u5355\u6765\u8bf4\uff0cRAID\u628a\u591a\u4e2a\u786c\u76d8\u7ec4\u5408\u6210\u4e3a\u4e00\u4e2a\u903b\u8f91\u786c\u76d8\uff0c\u56e0\u6b64\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ea\u4f1a\u628a\u5b83\u5f53\u4f5c\u4e00\u4e2a\u5b9e\u4f53\u786c\u76d8\u3002RAID\u5e38\u88ab\u7528\u5728\u670d\u52a1\u5668\u7535\u8111\u4e0a\uff0c\u5e76\u4e14\u5e38\u4f7f\u7528\u5b8c\u5168\u76f8\u540c\u7684\u786c\u76d8\u4f5c\u4e3a\u7ec4\u5408\u3002\u7531\u4e8e\u786c\u76d8\u4ef7\u683c\u7684\u4e0d\u65ad\u4e0b\u964d\u4e0eRAID\u529f\u80fd\u66f4\u52a0\u6709\u6548\u5730\u4e0e\u4e3b\u677f\u96c6\u6210\uff0c\u5b83\u4e5f\u6210\u4e3a\u666e\u901a\u7528\u6237\u7684\u4e00\u4e2a\u9009\u62e9\uff0c\u7279\u522b\u662f\u9700\u8981\u5927\u5bb9\u91cf\u5b58\u50a8\u7a7a\u95f4\u7684\u5de5\u4f5c\uff0c\u5982\uff1a\u89c6\u9891\u4e0e\u97f3\u9891\u5236\u4f5c\u3002</p> <p>\u78c1\u76d8\u9635\u5217\u6bd4\u8f83\u8868</p> RAID\u7b49\u7ea7 \u6700\u5c11\u786c\u76d8 \u6700\u5927\u5bb9\u9519 \u53ef\u7528\u5bb9\u91cf \u8bfb\u53d6\u6027\u80fd \u5199\u5165\u6027\u80fd \u5b89\u5168\u6027 \u76ee\u7684 \u5e94\u7528\u4ea7\u4e1a \u5355\u4e00\u786c\u76d8 (\u53c2\u8003) 0 1 1 1 \u65e0 JBOD 1 0 n 1 1 \u65e0\uff08\u540cRAID 0\uff09 \u589e\u52a0\u5bb9\u91cf \u4e2a\u4eba\uff08\u6682\u65f6\uff09\u5b58\u50a8\u5907\u4efd 0 2 0 n n n \u4e00\u4e2a\u786c\u76d8\u5f02\u5e38\uff0c\u5168\u90e8\u786c\u76d8\u90fd\u4f1a\u5f02\u5e38 \u8ffd\u6c42\u6700\u5927\u5bb9\u91cf\u3001\u901f\u5ea6 \u5f71\u7247\u526a\u63a5\u7f13\u5b58\u7528\u9014 1 2 n-1 1 n 1 \u9ad8\uff0c\u4e00\u4e2a\u6b63\u5e38\u5373\u53ef \u8ffd\u6c42\u6700\u5927\u5b89\u5168\u6027 \u4e2a\u4eba\u3001\u4f01\u4e1a\u5907\u4efd 5 3 1 n-1 n-1 n-1 \u4e2d\u4e0b\u81f3\u4e2d \u8ffd\u6c42\u6700\u5927\u5bb9\u91cf\u3001\u6700\u5c0f\u9884\u7b97 \u4e2a\u4eba\u3001\u5c0f\u578b\u4f01\u4e1a\u5907\u4efd 6 4 2 n-2 n-2 n-2 \u4e2d\u81f3\u4e2d\u9ad8,\u4ec5\u5b89\u5168\u6027\u8f83RAID 5\u9ad8 \u540cRAID 5\uff0c\u4f46\u8f83\u5b89\u5168 \u4e2a\u4eba\u3001\u4f01\u4e1a\u5907\u4efd 10 4 \u9ad8 \u7efc\u5408RAID 0/1\u4f18\u70b9\uff0c\u7406\u8bba\u901f\u5ea6\u8f83\u5feb \u5927\u578b\u6570\u636e\u5e93\u3001\u670d\u52a1\u5668 50 6 \u9ad8 \u63d0\u5347\u8d44\u6599\u5b89\u5168 60 8 \u9ad8 \u63d0\u5347\u8d44\u6599\u5b89\u5168 <ol> <li>n\u4ee3\u8868\u786c\u76d8\u603b\u6570  </li> <li>JBOD\uff08Just a Bunch Of Disks\uff09\u6307\u5c06\u6570\u4e2a\u7269\u7406\u786c\u76d8\uff0c\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u5408\u5e76\u6210\u4e00\u4e2a\u903b\u8f91\u786c\u76d8\uff0c\u4ee5\u76f4\u63a5\u589e\u52a0\u5bb9\u91cf  </li> <li>\u4f9d\u4e0d\u540c RAID \u5382\u5546\u5b9e\u73b0\u7b97\u6cd5\u5bf9\u4e8e\u6027\u80fd\u8868\u73b0\u4f1a\u6709\u4e0d\u540c\uff0c\u6027\u80fd\u516c\u5f0f\u4ec5\u4f9b\u53c2\u8003  </li> <li>RAID 10\u300150\u300160 \u4f9d\u5b9e\u73b0 Parity \u4e0d\u540c\u516c\u5f0f\u4e5f\u4e0d\u540c</li> </ol>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/raid/raid%E4%BB%8B%E7%BB%8D/#raid-0","title":"RAID 0","text":"<p> RAID 0\u4ea6\u79f0\u4e3a\u5e26\u533a\u5377\u3002\u5b83\u5c06\u4e24\u4e2a\u4ee5\u4e0a\u7684\u78c1\u76d8\u5e76\u8054\u8d77\u6765\uff0c\u6210\u4e3a\u4e00\u4e2a\u5927\u5bb9\u91cf\u7684\u78c1\u76d8\u3002\u5728\u5b58\u653e\u6570\u636e\u65f6\uff0c\u5206\u6bb5\u540e\u5206\u6563\u5b58\u50a8\u5728\u8fd9\u4e9b\u78c1\u76d8\u4e2d\uff0c\u56e0\u4e3a\u8bfb\u5199\u65f6\u90fd\u53ef\u4ee5\u5e76\u884c\u5904\u7406\uff0c\u6240\u4ee5\u5728\u6240\u6709\u7684\u7ea7\u522b\u4e2d\uff0cRAID 0\u7684\u901f\u5ea6\u662f\u6700\u5feb\u7684\u3002\u4f46\u662fRAID 0\u65e2\u6ca1\u6709\u5197\u4f59\u529f\u80fd\uff0c\u4e5f\u4e0d\u5177\u5907\u5bb9\u9519\u80fd\u529b\uff0c\u5982\u679c\u4e00\u4e2a\u78c1\u76d8\uff08\u7269\u7406\uff09\u635f\u574f\uff0c\u6240\u6709\u6570\u636e\u90fd\u4f1a\u4e22\u5931\uff0c\u5371\u9669\u7a0b\u5ea6\u4e0eJBOD\u76f8\u5f53\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/raid/raid%E4%BB%8B%E7%BB%8D/#raid-1","title":"RAID 1","text":"<p>\u4e24\u7ec4\u4ee5\u4e0a\u7684N\u4e2a\u78c1\u76d8\u76f8\u4e92\u4f5c\u955c\u50cf\uff0c\u5728\u4e00\u4e9b\u591a\u7ebf\u7a0b\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u80fd\u6709\u5f88\u597d\u7684\u8bfb\u53d6\u901f\u5ea6\uff0c\u7406\u8bba\u4e0a\u8bfb\u53d6\u901f\u5ea6\u7b49\u4e8e\u786c\u76d8\u6570\u91cf\u7684\u500d\u6570\uff0c\u4e0eRAID 0\u76f8\u540c\u3002\u53e6\u5916\u5199\u5165\u901f\u5ea6\u6709\u5fae\u5c0f\u7684\u964d\u4f4e\u3002\u53ea\u8981\u4e00\u4e2a\u78c1\u76d8\u6b63\u5e38\u5373\u53ef\u7ef4\u6301\u8fd0\u4f5c\uff0c\u53ef\u9760\u6027\u6700\u9ad8\u3002\u5176\u539f\u7406\u4e3a\u5728\u4e3b\u786c\u76d8\u4e0a\u5b58\u653e\u6570\u636e\u7684\u540c\u65f6\u4e5f\u5728\u955c\u50cf\u786c\u76d8\u4e0a\u5199\u4e00\u6837\u7684\u6570\u636e\u3002\u5f53\u4e3b\u786c\u76d8\uff08\u7269\u7406\uff09\u635f\u574f\u65f6\uff0c\u955c\u50cf\u786c\u76d8\u5219\u4ee3\u66ff\u4e3b\u786c\u76d8\u7684\u5de5\u4f5c\u3002\u56e0\u4e3a\u6709\u955c\u50cf\u786c\u76d8\u505a\u6570\u636e\u5907\u4efd\uff0c\u6240\u4ee5RAID 1\u7684\u6570\u636e\u5b89\u5168\u6027\u5728\u6240\u6709\u7684RAID\u7ea7\u522b\u4e0a\u6765\u8bf4\u662f\u6700\u597d\u7684\u3002\u4f46\u65e0\u8bba\u7528\u591a\u5c11\u78c1\u76d8\u505aRAID 1\uff0c\u4ec5\u7b97\u4e00\u4e2a\u78c1\u76d8\u7684\u5bb9\u91cf\uff0c\u662f\u6240\u6709RAID\u4e2d\u78c1\u76d8\u5229\u7528\u7387\u6700\u4f4e\u7684\u4e00\u4e2a\u7ea7\u522b\u3002</p> <p>\u5982\u679c\u7528\u4e24\u4e2a\u4e0d\u540c\u5927\u5c0f\u7684\u78c1\u76d8\u5efaRAID 1\uff0c\u53ef\u7528\u7a7a\u95f4\u4e3a\u8f83\u5c0f\u7684\u90a3\u4e2a\u78c1\u76d8\uff0c\u8f83\u5927\u7684\u78c1\u76d8\u591a\u51fa\u6765\u7684\u7a7a\u95f4\u4e5f\u53ef\u4ee5\u5206\u5272\u6210\u4e00\u4e2a\u533a\u6765\u4f7f\u7528\uff0c\u4e0d\u4f1a\u9020\u6210\u6d6a\u8d39\u3002</p> <p></p> <p>RAID 1\u6ca1\u6709\u6821\u9a8c\u673a\u5236\u3002\u7528\u4e24\u4e2a\u78c1\u76d8\u7ec4\u6210RAID 1\u9635\u5217\uff0c\u5982\u679c\u4e24\u4e2a\u786c\u76d8\u4e0a\u7684\u6570\u636e\u51fa\u73b0\u5dee\u5f02\uff0cRAID 1\u4f1a\u4e0d\u77e5\u9053\u8be5\u76f8\u4fe1\u54ea\u4e00\u4e2a\u786c\u76d8\uff0c\u8fd9\u79cd\u60c5\u5f62\u79f0\u4f5c\u5927\u8111\u5206\u88c2\u3002\u4e8b\u5b9e\u4e0a\uff0cRAID 1\u7684\u78c1\u76d8\u6570\u91cf\u8d8a\u591a\uff0c\u8d8a\u6709\u53ef\u80fd\u5176\u4e2d\u67d0\u4e2a\u78c1\u76d8\u7684\u6570\u636e\u53d8\u5f97\u4e0d\u4e00\u81f4\uff08\u4f46\u4ecd\u7136\u5de5\u4f5c\uff09\uff0cRAID 1\u53ea\u4f1a\u4ece\u7b2c\u4e00\u4e2a\u5de5\u4f5c\u7684\u786c\u76d8\u91cc\u63d0\u4f9b\u6570\u636e\uff0c\u6ca1\u6709\u529e\u6cd5\u68c0\u6d4b\u5230\u5e95\u54ea\u4e2a\u786c\u76d8\u7684\u6570\u636e\u4e0d\u5bf9\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/raid/raid%E4%BB%8B%E7%BB%8D/#raid-1001","title":"RAID 10/01","text":"<p>\ufffc \ufffc</p> <p>\ufffc </p> <p>RAID 10\u662f\u5148\u505a\u955c\u50cf\u5377RAID 1 \u5c06\u6240\u6709\u786c\u76d8\u5206\u4e3a\u4e24\u7ec4\uff0c\u518d\u505aRAID 0 \u6267\u884c\u6761\u5e26\u5316\u64cd\u4f5c\u5206\u5272\u6570\u636e \uff0c\u89c6\u4e3a\u4ee5RAID 1\u4f5c\u4e3a\u6700\u4f4e\u7ec4\u5408\uff0c\u7136\u540e\u5c06\u6bcf\u7ec4RAID 1\u89c6\u4e3a\u4e00\u4e2a\u201c\u786c\u76d8\u201d\u7ec4\u5408\u4e3aRAID 0\u8fd0\u4f5c\u3002</p> <p>RAID 01\u5219\u662f\u8ddfRAID 10\u7684\u7a0b\u5e8f\u76f8\u53cd\uff0c\u662f\u5148\u5c06\u6570\u636e\u5206\u5272\u3002\u518d\u505a\u955c\u50cf\u5377RAID 1 \u5b83\u5c06\u6240\u6709\u7684\u786c\u76d8\u5206\u4e3a\u4e24\u7ec4\uff0c\u6bcf\u7ec4\u5404\u81ea\u6784\u6210\u4e3aRAID 0\u4f5c\u4e3a\u6700\u4f4e\u7ec4\u5408\uff0c\u800c\u5c06\u4e24\u7ec4\u786c\u76d8\u7ec4\u5408\u4e3aRAID 1\u8fd0\u4f5c\u3002</p> <p>\u5f53RAID 10\u6709\u4e00\u4e2a\u786c\u76d8\u53d7\u635f\uff0c\u5176\u4f59\u786c\u76d8\u4f1a\u7ee7\u7eed\u8fd0\u4f5c\u3002RAID 01\u53ea\u8981\u6709\u4e00\u4e2a\u786c\u76d8\u53d7\u635f\uff0c\u540c\u7ec4RAID 0\u7684\u6240\u6709\u786c\u76d8\u90fd\u4f1a\u505c\u6b62\u8fd0\u4f5c\uff0c\u53ea\u5269\u4e0b\u5176\u4ed6\u7ec4\u7684\u786c\u76d8\u8fd0\u4f5c\uff0c\u53ef\u9760\u6027\u8f83\u4f4e\u3002\u5982\u679c\u4ee5\u516d\u4e2a\u786c\u76d8\u5efaRAID 01\uff0c\u955c\u50cf\u518d\u7528\u4e09\u4e2a\u5efaRAID 0\uff0c\u90a3\u4e48\u574f\u4e00\u4e2a\u786c\u76d8\u4fbf\u4f1a\u6709\u4e09\u4e2a\u786c\u76d8\u79bb\u7ebf\u3002\u56e0\u6b64\uff0cRAID 10\u8fdc\u8f83RAID 01\u5e38\u7528\uff0c\u96f6\u552e\u4e3b\u677f\u7edd\u5927\u90e8\u5206\u652f\u6301RAID 0/1/5/10\uff0c\u4f46\u4e0d\u652f\u6301RAID 01\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/raid/raid%E4%BB%8B%E7%BB%8D/#raid-5","title":"RAID 5","text":"<p>RAID 5\u662f\u4e00\u79cd\u50a8\u5b58\u6027\u80fd\u3001\u6570\u636e\u5b89\u5168\u548c\u5b58\u50a8\u6210\u672c\u517c\u987e\u7684\u5b58\u50a8\u89e3\u51b3\u65b9\u6848\u3002\u5b83\u4f7f\u7528\u7684\u662fDisk Striping\uff08\u786c\u76d8\u5206\u5272\uff09\u6280\u672f\u3002</p> <p>RAID 5\u4f7f\u7528\u201c\u5947\u5076\u6821\u9a8c\u4f4d\u201d\u3002\u4e0e RAID 4 \u4e00\u6837\uff0c\u6709\u6548\u5927\u5c0f\u662f N-1 \u4e2a\u78c1\u76d8\u7684\u5927\u5c0f\u3002 \u7136\u800c\uff0c\u7531\u4e8e\u5947\u5076\u6821\u9a8c\u4fe1\u606f\u4e5f\u5728 N \u4e2a\u9a71\u52a8\u5668\u4e4b\u95f4\u5747\u5300\u5206\u5e03\uff0c\u56e0\u6b64\u907f\u514d\u4e86\u6bcf\u6b21\u5199\u5165\u90fd\u5fc5\u987b\u66f4\u65b0\u5947\u5076\u6821\u9a8c\u78c1\u76d8\u7684\u74f6\u9888\u3002\u9632\u6b62\u5355\u4e2a\u78c1\u76d8\u6545\u969c\uff0c\u800c\u4e14\u8bbf\u95ee\u901f\u5ea6\u5feb</p> <p>RAID 5\u4e0d\u662f\u5bf9\u5b58\u50a8\u7684\u6570\u636e\u8fdb\u884c\u5907\u4efd\uff0c\u800c\u662f\u628a\u6570\u636e\u548c\u76f8\u5bf9\u5e94\u7684\u5947\u5076\u6821\u9a8c\u4fe1\u606f\u5b58\u50a8\u5230\u7ec4\u6210RAID 5\u7684\u5404\u4e2a\u78c1\u76d8\u4e0a\uff0c\u5e76\u4e14\u5947\u5076\u6821\u9a8c\u4fe1\u606f\u548c\u76f8\u5bf9\u5e94\u7684\u6570\u636e\u5206\u522b\u5b58\u50a8\u4e8e\u4e0d\u540c\u7684\u78c1\u76d8\u4e0a\u3002\u5f53RAID 5\u7684\u4e00\u4e2a\u78c1\u76d8\u6570\u636e\u53d1\u751f\u635f\u574f\u540e\uff0c\u53ef\u4ee5\u5229\u7528\u5269\u4e0b\u7684\u6570\u636e\u548c\u76f8\u5e94\u7684\u5947\u5076\u6821\u9a8c\u4fe1\u606f\u53bb\u6062\u590d\u88ab\u635f\u574f\u7684\u6570\u636e\u3002RAID 5\u53ef\u4ee5\u7406\u89e3\u4e3a\u662fRAID 0\u548cRAID 1\u7684\u6298\u8877\u65b9\u6848\u3002RAID 5\u53ef\u4ee5\u4e3a\u7cfb\u7edf\u63d0\u4f9b\u6570\u636e\u5b89\u5168\u4fdd\u969c\uff0c\u4f46\u4fdd\u969c\u7a0b\u5ea6\u8981\u6bd4\u955c\u50cf\u4f4e\u800c\u78c1\u76d8\u7a7a\u95f4\u5229\u7528\u7387\u8981\u6bd4\u955c\u50cf\u9ad8\u3002RAID 5\u5177\u6709\u548cRAID 0\u76f8\u8fd1\u4f3c\u7684\u6570\u636e\u8bfb\u53d6\u901f\u5ea6\uff0c\u53ea\u662f\u56e0\u4e3a\u591a\u4e86\u4e00\u4e2a\u5947\u5076\u6821\u9a8c\u4fe1\u606f\uff0c\u5199\u5165\u6570\u636e\u7684\u901f\u5ea6\u76f8\u5bf9\u5355\u72ec\u5199\u5165\u4e00\u5757\u786c\u76d8\u7684\u901f\u5ea6\u7565\u6162\uff0c\u82e5\u4f7f\u7528\u201c\u56de\u5199\u7f13\u5b58\u201d\u53ef\u4ee5\u8ba9\u6027\u80fd\u6539\u5584\u4e0d\u5c11\u3002\u540c\u65f6\u7531\u4e8e\u591a\u4e2a\u6570\u636e\u5bf9\u5e94\u4e00\u4e2a\u5947\u5076\u6821\u9a8c\u4fe1\u606f\uff0cRAID 5\u7684\u78c1\u76d8\u7a7a\u95f4\u5229\u7528\u7387\u8981\u6bd4RAID 1\u9ad8\uff0c\u5b58\u50a8\u6210\u672c\u76f8\u5bf9\u8f83\u4fbf\u5b9c\u3002</p> <p>\u5197\u4f59\u78c1\u76d8\u9635\u5217\u5728\u6700\u53ef\u80fd\u53d1\u751f\u7684\u5355\u4e2a\u78c1\u76d8\u6545\u969c\u60c5\u51b5\u4e0b\u63d0\u4f9b\u4fdd\u62a4\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5355\u4e2a\u78c1\u76d8\u53ea\u662f\u505c\u6b62\u5de5\u4f5c\u3002\u8fd9\u6d88\u9664\u4e86\u6784\u5efa\u5927\u578b EIDE\uff08\u589e\u5f3a\u578bIDE\uff09 \u78c1\u76d8\u9635\u5217\u7684\u4e3b\u8981\u969c\u788d\u3002</p> <p>RAID-5 \u5e76\u4e0d\u80fd\u5b8c\u5168\u9632\u6b62\u5176\u4ed6\u7c7b\u578b\u7684\u78c1\u76d8\u6545\u969c\u3002 RAID-5 \u5c06\u5728\u5355\u4e2a\u78c1\u76d8\u505c\u6b62\u5de5\u4f5c\u4f46\u5bfc\u81f4\u6574\u4e2a EIDE \u603b\u7ebf\u53d1\u751f\u6545\u969c\uff08\u6216\u6574\u4e2a EIDE \u63a7\u5236\u5668\u5361\u53d1\u751f\u6545\u969c\uff09\u4f46\u53ea\u662f\u6682\u65f6\u505c\u6b62\u8fd0\u884c\u7684\u60c5\u51b5\u4e0b\u63d0\u4f9b\u6709\u9650\u7684\u4fdd\u62a4\u3002\u8fd9\u5c06\u6682\u65f6\u7981\u7528\u6574\u4e2a RAID-5 \u9635\u5217\u3002\u5982\u679c\u66f4\u6362\u574f\u76d8\u89e3\u51b3\u4e86\u95ee\u9898\uff0c\u5373\u6545\u969c\u6ca1\u6709\u6c38\u4e45\u635f\u574f\u5176\u4ed6\u78c1\u76d8\u4e0a\u7684\u6570\u636e\uff0c\u90a3\u4e48 RAID-5 \u9635\u5217\u5c06\u6b63\u5e38\u6062\u590d\u3002 \u76f8\u4f3c\u7684\u5982\u679c\u53ea\u662f\u63a7\u5236\u5668\u5361\u635f\u574f\uff0c\u5219\u66f4\u6362\u5b83\u5c06\u4f7f RAID-5 \u9635\u5217\u6b63\u5e38\u6062\u590d\u3002 \u4f46\u662f\uff0c\u5982\u679c\u4e0d\u6b62\u4e00\u4e2a\u78c1\u76d8\u635f\u574f\uff0c\u5c24\u5176\u662f\u6587\u4ef6\u6216\u76ee\u5f55\u7ed3\u6784\u4fe1\u606f\u635f\u574f\uff0c\u6574\u4e2a RAID-5 \u9635\u5217\u5c31\u4f1a\u635f\u574f\u3002 \u5269\u4f59\u7684\u6545\u969c\u6a21\u5f0f\u662f\u78c1\u76d8\u6b63\u5728\u4f20\u9001\u635f\u574f\u7684\u6570\u636e\u3002 RAID-5 \u6ca1\u6709\u5bf9\u6b64\u56fa\u6709\u7684\u4fdd\u62a4\uff1b\u4f46\u662f\uff0c\u53ef\u4ee5\u5728\u4e8b\u4ef6\u6807\u5934\u4e2d\u5185\u7f6e\u5bf9\u6570\u636e\u7684\u7eb5\u5411\u5947\u5076\u6821\u9a8c\uff0c\u4f8b\u5982\u6821\u9a8c\u548c\u8bb0\u5f55\u8ba1\u6570 (CRC)\uff0c\u4ee5\u6807\u8bb0\u95ee\u9898\u3002</p> <p></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E5%8E%9F%E7%90%86/","title":"Ssh\u539f\u7406","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E5%8E%9F%E7%90%86/#1-ssh","title":"1. \u521d\u89c1SSH","text":"<p>SSH\u662f\u4e00\u79cd\u534f\u8bae\u6807\u51c6\uff0c\u5176\u76ee\u7684\u662f\u5b9e\u73b0\u5b89\u5168\u8fdc\u7a0b\u767b\u5f55\u4ee5\u53ca\u5176\u5b83\u5b89\u5168\u7f51\u7edc\u670d\u52a1\u3002</p> <p>SSH\u4ec5\u4ec5\u662f\u4e00\u534f\u8bae\u6807\u51c6\uff0c\u5176\u5177\u4f53\u7684\u5b9e\u73b0\u6709\u5f88\u591a\uff0c\u65e2\u6709\u5f00\u6e90\u5b9e\u73b0\u7684OpenSSH\uff0c\u4e5f\u6709\u5546\u4e1a\u5b9e\u73b0\u65b9\u6848\u3002\u4f7f\u7528\u8303\u56f4\u6700\u5e7f\u6cdb\u7684\u5f53\u7136\u662f\u5f00\u6e90\u5b9e\u73b0OpenSSH\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E5%8E%9F%E7%90%86/#2-ssh","title":"2. SSH\u5de5\u4f5c\u539f\u7406","text":"<p>\u5728\u8ba8\u8bbaSSH\u7684\u539f\u7406\u548c\u4f7f\u7528\u524d\uff0c\u6211\u4eec\u9700\u8981\u5206\u6790\u4e00\u4e2a\u95ee\u9898\uff1a\u4e3a\u4ec0\u4e48\u9700\u8981SSH\uff1f</p> <p>\u4ece1.1\u8282SSH\u7684\u5b9a\u4e49\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0cSSH\u548ctelnet\u3001ftp\u7b49\u534f\u8bae\u4e3b\u8981\u7684\u533a\u522b\u5728\u4e8e\u5b89\u5168\u6027\u3002\u8fd9\u5c31\u5f15\u51fa\u4e0b\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u4f55\u5b9e\u73b0\u6570\u636e\u7684\u5b89\u5168\u5462\uff1f\u9996\u5148\u60f3\u5230\u7684\u5b9e\u73b0\u65b9\u6848\u80af\u5b9a\u662f\u5bf9\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\u3002\u52a0\u5bc6\u7684\u65b9\u5f0f\u4e3b\u8981\u6709\u4e24\u79cd\uff1a</p> <ol> <li>\u5bf9\u79f0\u52a0\u5bc6\uff08\u79f0\u4e3a\u79d8\u94a5\u52a0\u5bc6\uff09</li> <li>\u975e\u5bf9\u79f0\u52a0\u5bc6\uff08\u4e5f\u79f0\u516c\u94a5\u52a0\u5bc6\uff09</li> </ol> <p>\u6240\u8c13\u5bf9\u79f0\u52a0\u5bc6\uff0c\u6307\u52a0\u5bc6\u89e3\u5bc6\u4f7f\u7528\u540c\u4e00\u5957\u79d8\u94a5\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u56fe1-1\uff1a\u5bf9\u79f0\u52a0\u5bc6-Client\u7aef</p> <p></p> <p>\u56fe1-2\uff1a\u5bf9\u79f0\u52a0\u5bc6-Server\u7aef</p> <p>\u5bf9\u79f0\u52a0\u5bc6\u7684\u52a0\u5bc6\u5f3a\u5ea6\u9ad8\uff0c\u5f88\u96be\u7834\u89e3\u3002\u4f46\u662f\u5728\u5b9e\u9645\u5e94\u7528\u8fc7\u7a0b\u4e2d\u4e0d\u5f97\u4e0d\u9762\u4e34\u4e00\u4e2a\u68d8\u624b\u7684\u95ee\u9898\uff1a\u5982\u4f55\u5b89\u5168\u7684\u4fdd\u5b58\u5bc6\u94a5\u5462\uff1f\u5c24\u5176\u662f\u8003\u8651\u5230\u6570\u91cf\u5e9e\u5927\u7684Client\u7aef\uff0c\u5f88\u96be\u4fdd\u8bc1\u5bc6\u94a5\u4e0d\u88ab\u6cc4\u9732\u3002\u4e00\u65e6\u4e00\u4e2aClient\u7aef\u7684\u5bc6\u94a5\u88ab\u7a83\u636e\uff0c\u90a3\u4e48\u6574\u4e2a\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u4e5f\u5c31\u4e0d\u590d\u5b58\u5728\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u975e\u5bf9\u79f0\u52a0\u5bc6\u5e94\u8fd0\u800c\u751f\u3002\u975e\u5bf9\u79f0\u52a0\u5bc6\u6709\u4e24\u4e2a\u5bc6\u94a5\uff1a\u201c\u516c\u94a5\u201d\u548c\u201c\u79c1\u94a5\u201d\u3002</p> <p>\u4e24\u4e2a\u5bc6\u94a5\u7684\u7279\u6027\uff1a\u516c\u94a5\u52a0\u5bc6\u540e\u7684\u5bc6\u6587\uff0c\u53ea\u80fd\u901a\u8fc7\u5bf9\u5e94\u7684\u79c1\u94a5\u8fdb\u884c\u89e3\u5bc6\u3002\u800c\u901a\u8fc7\u516c\u94a5\u63a8\u7406\u51fa\u79c1\u94a5\u7684\u53ef\u80fd\u6027\u5fae\u4e4e\u5176\u5fae\u3002</p> <p>\u4e0b\u9762\u770b\u4e0b\u4f7f\u7528\u975e\u5bf9\u79f0\u52a0\u5bc6\u65b9\u6848\u7684\u767b\u5f55\u6d41\u7a0b\uff1a</p> <p></p> <p>\u56fe1-3\uff1a\u975e\u5bf9\u79f0\u52a0\u5bc6\u767b\u5f55\u6d41\u7a0b</p> <ol> <li>\u8fdc\u7a0bServer\u6536\u5230Client\u7aef\u7528\u6237TopGun\u7684\u767b\u5f55\u8bf7\u6c42\uff0cServer\u628a\u81ea\u5df1\u7684\u516c\u94a5\u53d1\u7ed9\u7528\u6237\u3002</li> <li>Client\u4f7f\u7528\u8fd9\u4e2a\u516c\u94a5\uff0c\u5c06\u5bc6\u7801\u8fdb\u884c\u52a0\u5bc6\u3002</li> <li>Client\u5c06\u52a0\u5bc6\u7684\u5bc6\u7801\u53d1\u9001\u7ed9Server\u7aef\u3002</li> <li>\u8fdc\u7a0bServer\u7528\u81ea\u5df1\u7684\u79c1\u94a5\uff0c\u89e3\u5bc6\u767b\u5f55\u5bc6\u7801\uff0c\u7136\u540e\u9a8c\u8bc1\u5176\u5408\u6cd5\u6027\u3002</li> <li>\u82e5\u9a8c\u8bc1\u7ed3\u679c\uff0c\u7ed9Client\u76f8\u5e94\u7684\u54cd\u5e94\u3002</li> </ol> <p>\u79c1\u94a5\u662fServer\u7aef\u72ec\u6709\uff0c\u8fd9\u5c31\u4fdd\u8bc1\u4e86Client\u7684\u767b\u5f55\u4fe1\u606f\u5373\u4f7f\u5728\u7f51\u7edc\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u88ab\u7a83\u636e\uff0c\u4e5f\u6ca1\u6709\u79c1\u94a5\u8fdb\u884c\u89e3\u5bc6\uff0c\u4fdd\u8bc1\u4e86\u6570\u636e\u7684\u5b89\u5168\u6027\uff0c\u8fd9\u5145\u5206\u5229\u7528\u4e86\u975e\u5bf9\u79f0\u52a0\u5bc6\u7684\u7279\u6027\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E5%8E%9F%E7%90%86/#_1","title":"\u8fd9\u6837\u5c31\u4e00\u5b9a\u5b89\u5168\u4e86\u5417\uff1f","text":"<p>\u4e0a\u8ff0\u6d41\u7a0b\u4f1a\u6709\u4e00\u4e2a\u95ee\u9898\uff1aClient\u7aef\u5982\u4f55\u4fdd\u8bc1\u63a5\u53d7\u5230\u7684\u516c\u94a5\u5c31\u662f\u76ee\u6807Server\u7aef\u7684\uff1f\uff0c\u5982\u679c\u4e00\u4e2a\u653b\u51fb\u8005\u4e2d\u9014\u62e6\u622aClient\u7684\u767b\u5f55\u8bf7\u6c42\uff0c\u5411\u5176\u53d1\u9001\u81ea\u5df1\u7684\u516c\u94a5\uff0cClient\u7aef\u7528\u653b\u51fb\u8005\u7684\u516c\u94a5\u8fdb\u884c\u6570\u636e\u52a0\u5bc6\u3002\u653b\u51fb\u8005\u63a5\u6536\u5230\u52a0\u5bc6\u4fe1\u606f\u540e\u518d\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u8fdb\u884c\u89e3\u5bc6\uff0c\u4e0d\u5c31\u7a83\u53d6\u4e86Client\u7684\u767b\u5f55\u4fe1\u606f\u4e86\u5417\uff1f\u8fd9\u5c31\u662f\u6240\u8c13\u7684\u4e2d\u95f4\u4eba\u653b\u51fb</p> <p></p> <p>\u56fe1-4\uff1a\u4e2d\u95f4\u4eba\u653b\u51fb</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E5%8E%9F%E7%90%86/#ssh","title":"SSH\u4e2d\u662f\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\uff1f","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E5%8E%9F%E7%90%86/#1","title":"1. \u57fa\u4e8e\u53e3\u4ee4\u7684\u8ba4\u8bc1","text":"<p>\u4ece\u4e0a\u9762\u7684\u63cf\u8ff0\u53ef\u4ee5\u770b\u51fa\uff0c\u95ee\u9898\u5c31\u5728\u4e8e\u5982\u4f55\u5bf9Server\u7684\u516c\u94a5\u8fdb\u884c\u8ba4\u8bc1\uff1f\u5728https\u4e2d\u53ef\u4ee5\u901a\u8fc7CA\u6765\u8fdb\u884c\u516c\u8bc1\uff0c\u53ef\u662fSSH\u7684publish key\u548cprivate key\u90fd\u662f\u81ea\u5df1\u751f\u6210\u7684\uff0c\u6ca1\u6cd5\u516c\u8bc1\u3002\u53ea\u80fd\u901a\u8fc7Client\u7aef\u81ea\u5df1\u5bf9\u516c\u94a5\u8fdb\u884c\u786e\u8ba4\u3002\u901a\u5e38\u5728\u7b2c\u4e00\u6b21\u767b\u5f55\u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u4f1a\u51fa\u73b0\u4e0b\u9762\u63d0\u793a\u4fe1\u606f\uff1a</p> <pre><code>The authenticity of host 'ssh-server.example.com (12.18.429.21)' can't be established.\nRSA key fingerprint is 98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d.\nAre you sure you want to continue connecting (yes/no)? \n</code></pre> <p>\u4e0a\u9762\u7684\u4fe1\u606f\u8bf4\u7684\u662f\uff1a\u65e0\u6cd5\u786e\u8ba4\u4e3b\u673assh-server.example.com\uff0812.18.429.21\uff09\u7684\u771f\u5b9e\u6027\uff0c\u4e0d\u8fc7\u77e5\u9053\u5b83\u7684\u516c\u94a5\u6307\u7eb9\uff0c\u662f\u5426\u7ee7\u7eed\u8fde\u63a5\uff1f</p> <p>\u4e4b\u6240\u4ee5\u7528fingerprint\u4ee3\u66ffkey\uff0c\u4e3b\u8981\u662fkey\u8fc7\u4e8e\u957f\uff08RSA\u7b97\u6cd5\u751f\u6210\u7684\u516c\u94a5\u67091024\u4f4d\uff09\uff0c\u5f88\u96be\u76f4\u63a5\u6bd4\u8f83\u3002\u6240\u4ee5\uff0c\u5bf9\u516c\u94a5\u8fdb\u884chash\u751f\u6210\u4e00\u4e2a128\u4f4d\u7684\u6307\u7eb9\uff0c\u8fd9\u6837\u5c31\u65b9\u4fbf\u6bd4\u8f83\u4e86\u3002</p> <p>\u5982\u679c\u8f93\u5165yes\u540e\uff0c\u4f1a\u51fa\u73b0\u4e0b\u9762\u4fe1\u606f\uff1a</p> <pre><code>Warning: Permanently added 'ssh-server.example.com,12.18.429.21' (RSA) to the list of known hosts. \nPassword: (enter password) \n</code></pre> <p>\u8be5host\u5df2\u88ab\u786e\u8ba4\uff0c\u5e76\u88ab\u8ffd\u52a0\u5230\u6587\u4ef6known_hosts\u4e2d\uff0c\u7136\u540e\u5c31\u9700\u8981\u8f93\u5165\u5bc6\u7801\uff0c\u4e4b\u540e\u7684\u6d41\u7a0b\u5c31\u6309\u7167\u56fe1-3\u8fdb\u884c\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E5%8E%9F%E7%90%86/#2","title":"2.\u57fa\u4e8e\u516c\u94a5\u8ba4\u8bc1","text":"<p>\u5728\u4e0a\u9762\u4ecb\u7ecd\u7684\u767b\u5f55\u6d41\u7a0b\u4e2d\u53ef\u4ee5\u53d1\u73b0\uff0c\u6bcf\u6b21\u767b\u5f55\u90fd\u9700\u8981\u8f93\u5165\u5bc6\u7801\uff0c\u5f88\u9ebb\u70e6\u3002SSH\u63d0\u4f9b\u4e86\u53e6\u5916\u4e00\u79cd\u53ef\u4ee5\u514d\u53bb\u8f93\u5165\u5bc6\u7801\u8fc7\u7a0b\u7684\u767b\u5f55\u65b9\u5f0f\uff1a\u516c\u94a5\u767b\u5f55\u3002\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <p></p> <ol> <li>Client\u5c06\u81ea\u5df1\u7684\u516c\u94a5\u5b58\u653e\u5728Server\u4e0a\uff0c\u8ffd\u52a0\u5728\u6587\u4ef6authorized_keys\u4e2d\u3002</li> <li>Server\u7aef\u63a5\u6536\u5230Client\u7684\u8fde\u63a5\u8bf7\u6c42\u540e\uff0c\u4f1a\u5728authorized_keys\u4e2d\u5339\u914d\u5230Client\u7684\u516c\u94a5pubKey\uff0c\u5e76\u751f\u6210\u968f\u673a\u6570R\uff0c\u7528Client\u7684\u516c\u94a5\u5bf9\u8be5\u968f\u673a\u6570\u8fdb\u884c\u52a0\u5bc6\u5f97\u5230pubKey(R)     \uff0c\u7136\u540e\u5c06\u52a0\u5bc6\u540e\u4fe1\u606f\u53d1\u9001\u7ed9Client\u3002</li> <li>Client\u7aef\u901a\u8fc7\u79c1\u94a5\u8fdb\u884c\u89e3\u5bc6\u5f97\u5230\u968f\u673a\u6570R\uff0c\u7136\u540e\u5bf9\u968f\u673a\u6570R\u548c\u672c\u6b21\u4f1a\u8bdd\u7684SessionKey\u5229\u7528MD5\u751f\u6210\u6458\u8981Digest1\uff0c\u53d1\u9001\u7ed9Server\u7aef\u3002</li> <li>Server\u7aef\u4f1a\u4e5f\u4f1a\u5bf9R\u548cSessionKey\u5229\u7528\u540c\u6837\u6458\u8981\u7b97\u6cd5\u751f\u6210Digest2\u3002</li> <li>Server\u7aef\u4f1a\u6700\u540e\u6bd4\u8f83Digest1\u548cDigest2\u662f\u5426\u76f8\u540c\uff0c\u5b8c\u6210\u8ba4\u8bc1\u8fc7\u7a0b\u3002</li> </ol> <p>\u5728\u6b65\u9aa41\u4e2d\uff0cClient\u5c06\u81ea\u5df1\u7684\u516c\u94a5\u5b58\u653e\u5728Server\u4e0a\u3002\u9700\u8981\u7528\u6237\u624b\u52a8\u5c06\u516c\u94a5copy\u5230server\u4e0a\u3002\u8fd9\u5c31\u662f\u5728\u914d\u7f6essh\u7684\u65f6\u5019\u8fdb\u7a0b\u8fdb\u884c\u7684\u64cd\u4f5c\u3002\u4e0b\u56fe\u662fGitHub\u4e0aSSH keys\u8bbe\u7f6e\u89c6\u56fe\uff1a</p> <p></p> <p>GitHub\u4e2dSSH keys\u8bbe\u7f6e</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E5%8E%9F%E7%90%86/#3-ssh","title":"3. SSH\u5b9e\u8df5","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E5%8E%9F%E7%90%86/#_2","title":"\u751f\u6210\u5bc6\u94a5\u64cd\u4f5c","text":"<p>\u7ecf\u8fc7\u4e0a\u9762\u7684\u539f\u7406\u5206\u6790\uff0c\u4e0b\u9762\u4e09\u884c\u547d\u4ee4\u7684\u542b\u4e49\u5e94\u8be5\u5f88\u5bb9\u6613\u7406\u89e3\u4e86\uff1a</p> <pre><code>$ ssh-keygen -t rsa -P '' -f ~/.ssh/id_rsa\n$ cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys\n$ chmod 0600 ~/.ssh/authorized_keys\n</code></pre> <p>ssh-keygen\u662f\u7528\u4e8e\u751f\u4ea7\u5bc6\u94a5\u7684\u5de5\u5177\u3002</p> <ul> <li>-t\uff1a\u6307\u5b9a\u751f\u6210\u5bc6\u94a5\u7c7b\u578b\uff08rsa\u3001dsa\u3001ecdsa\u7b49\uff09</li> <li>-P\uff1a\u6307\u5b9apassphrase\uff0c\u7528\u4e8e\u786e\u4fdd\u79c1\u94a5\u7684\u5b89\u5168</li> <li>-f\uff1a\u6307\u5b9a\u5b58\u653e\u5bc6\u94a5\u7684\u6587\u4ef6\uff08\u516c\u94a5\u6587\u4ef6\u9ed8\u8ba4\u548c\u79c1\u94a5\u540c\u76ee\u5f55\u4e0b\uff0c\u4e0d\u540c\u7684\u662f\uff0c\u5b58\u653e\u516c\u94a5\u7684\u6587\u4ef6\u540d\u9700\u8981\u52a0\u4e0a\u540e\u7f00.pub\uff09</li> </ul> <p>\u9996\u5148\u770b\u4e0b\u9762~/.ssh\u4e2d\u7684\u56db\u4e2a\u6587\u4ef6\uff1a</p> <p></p> <p>SSH-\u6d89\u53ca\u6587\u4ef6</p> <ol> <li>id_rsa\uff1a\u4fdd\u5b58\u79c1\u94a5</li> <li>id_rsa.pub\uff1a\u4fdd\u5b58\u516c\u94a5</li> <li>authorized_keys\uff1a\u4fdd\u5b58\u5df2\u6388\u6743\u7684\u5ba2\u6237\u7aef\u516c\u94a5</li> <li>known_hosts\uff1a\u4fdd\u5b58\u5df2\u8ba4\u8bc1\u7684\u8fdc\u7a0b\u4e3b\u673aID\uff08\u5173\u4e8eknown_hosts\u8be6\u60c5\uff0c\u89c1\u6587\u672b\u66f4\u65b0\u5185\u5bb9\uff09</li> </ol> <p>\u56db\u4e2a\u89d2\u8272\u7684\u5173\u7cfb\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>SSH \u7ed3\u6784\u7b80\u56fe</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a\u4e00\u53f0\u4e3b\u673a\u53ef\u80fd\u65e2\u662fClient\uff0c\u4e5f\u662fServer\u3002\u6240\u4ee5\u4f1a\u540c\u65f6\u62e5\u6709authorized_keys\u548cknown_hosts\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E5%8E%9F%E7%90%86/#_3","title":"\u767b\u5f55\u64cd\u4f5c","text":"<pre><code># \u4ee5\u7528\u6237\u540duser\uff0c\u767b\u5f55\u8fdc\u7a0b\u4e3b\u673ahost\n$ ssh user@host\n\n# \u672c\u5730\u7528\u6237\u548c\u8fdc\u7a0b\u7528\u6237\u76f8\u540c\uff0c\u5219\u7528\u6237\u540d\u53ef\u7701\u53bb\n$ ssh host\n\n# SSH\u9ed8\u8ba4\u7aef\u53e322\uff0c\u53ef\u4ee5\u7528\u53c2\u6570p\u4fee\u6539\u7aef\u53e3\n$ ssh -p 2017 user@host\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E5%8E%9F%E7%90%86/#4","title":"4 \u603b\u7ed3","text":"<p>\u672c\u6587\u4ee5\u56fe\u6587\u65b9\u5f0f\u5bf9SSH\u539f\u7406\u8fdb\u884c\u89e3\u6790\uff08\u4e3b\u8981\u6307\u8fdc\u7a0b\u767b\u5f55\uff0c\u6ca1\u6709\u6d89\u53ca\u7aef\u53e3\u8f6c\u53d1\u7b49\u529f\u80fd\uff09\u3002\u540c\u65f6\u5206\u6790\u4e86\u975e\u5bf9\u79f0\u52a0\u5bc6\u7684\u7279\u6027\uff0c\u4ee5\u53ca\u5728\u5b9e\u8df5\u8fc7\u7a0b\u4e2d\u5982\u4f55\u5bf9\u52a0\u5bc6\u64cd\u4f5c\u8fdb\u884c\u6539\u8fdb\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E5%8E%9F%E7%90%86/#5","title":"5 \u53c2\u8003","text":"<ul> <li>https://www.jianshu.com/p/33461b619d53</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"Ssh\u5e38\u7528\u547d\u4ee4","text":"<ul> <li>ssh\u91cd\u542f<ul> <li>sudo systemctl restart sshd</li> </ul> </li> <li>\u67e5\u770bssh\u914d\u7f6e\uff1a<ul> <li>/etc/ssh/sshd_config</li> </ul> </li> <li>\u67e5\u770bssh\u7b49\u8be6\u7ec6\u8bb0\u5f55\uff1a<ul> <li>less /var/log/auth.log</li> </ul> </li> <li>\u67e5\u770b\u516c\u94a5\u767b\u9646\u7684\u8bb0\u5f55\uff1a<ul> <li>grep Accept /var/log/auth.log</li> </ul> </li> <li>ssh\u914d\u7f6eIP\u9ed1\u767d\u540d\u5355\uff1a(allow\u7684\u4f18\u5148\u7ea7\u6bd4\u8f83\u9ad8\uff0c\u4fee\u6539\u540e\u9700\u6c42\u91cd\u542f\u5bf9\u5e94\u670d\u52a1)<ul> <li>/etc/hosts.allow</li> <li>/etc/hosts.deny</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E7%9A%84%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95%E5%92%8C%E5%85%AC%E9%92%A5%E7%99%BB%E5%BD%95/","title":"Ssh\u7684\u5bc6\u7801\u767b\u5f55\u548c\u516c\u94a5\u767b\u5f55","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E7%9A%84%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95%E5%92%8C%E5%85%AC%E9%92%A5%E7%99%BB%E5%BD%95/#_1","title":"\u5bc6\u7801\u767b\u5f55","text":"<ul> <li>\u5de5\u4f5c\u539f\u7406<ul> <li>1.\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u8d77\u767b\u5f55\u8bf7\u6c42,\u670d\u52a1\u7aef\u8fd4\u56de\u516c\u94a5</li> <li>2.\u5ba2\u6237\u7aef\u7528\u516c\u94a5\u52a0\u5bc6\u81ea\u5df1\u7684\u8ba4\u8bc1\u4fe1\u606f,\u53d1\u9001\u5230\u670d\u52a1\u7aef</li> <li>3.\u670d\u52a1\u7aef\u7528\u79c1\u94a5\u89e3\u5bc6\u5ba2\u6237\u7aef\u53d1\u6765\u7684\u8ba4\u8bc1\u4fe1\u606f,\u5339\u914d\u5219\u767b\u5f55\u6210\u529f,\u5426\u5219\u5931\u8d25  </li> </ul> </li> <li>\u5b58\u5728\u7684\u5b89\u5168\u9690\u60a3<ul> <li>\u4f7f\u7528\u5bc6\u7801\u767b\u5f55\u4f1a\u5b58\u5728\u4e2d\u95f4\u4eba\u62e6\u622a\u7684\u5b89\u5168\u9690\u60a3,\u4e5f\u5c31\u662f\u5728\u5ba2\u6237\u7aef\u53d1\u8d77\u8bf7\u6c42\u540e,\u53ef\u80fd\u53d1\u9001\u5230\u4e00\u4e2a\u4e2d\u95f4\u4eba\u624b\u4e2d(\u4f7f\u7528\u4e00\u4e9b\u62e6\u622a\u624b\u6bb5),\u7136\u540e\u4e2d\u95f4\u4eba\u5192\u5145\u670d\u52a1\u7aef,\u8fd4\u56de\u516c\u94a5,\u5ba2\u6237\u7aef\u5229\u7528\u4f2a\u9020\u7684\u516c\u94a5\u52a0\u5bc6\u4e86\u8d26\u53f7\u548c\u5bc6\u7801\u53d1\u9001\u7ed9\u4e86\u4e2d\u95f4\u4eba,\u4e2d\u95f4\u4eba\u5728\u5229\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u8fdb\u884c\u89e3\u5bc6\u5c31\u5f97\u5230\u4e86\u7528\u6237\u540d\u548c\u5bc6\u7801.</li> </ul> </li> <li>known_hosts\u6587\u4ef6<ul> <li>\u5f53\u9996\u6b21\u4e0e\u4e00\u4e2aSSH\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5\u65f6\uff0c\u5ba2\u6237\u7aef\u4f1a\u8bb0\u5f55\u4e0b\u8be5\u670d\u52a1\u5668\u8fd4\u56de\u7684\u7684\u516c\u94a5\uff0c\u5e76\u4fdd\u5b58\u5728known_hosts\u6587\u4ef6\u4e2d\uff0c\u4ee5\u540e\u6bcf\u6b21\u8fde\u63a5\u8be5\u670d\u52a1\u5668\u65f6\uff0c\u5ba2\u6237\u7aef\u90fd\u4f1a\u9a8c\u8bc1\u8be5\u670d\u52a1\u5668\u8fd4\u56de\u7684\u516c\u94a5\u662f\u5426\u4e0eknown_hosts\u6587\u4ef6\u4e2d\u4fdd\u5b58\u7684\u4e00\u81f4\u3002\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u5219\u4f1a\u53d1\u51fa\u8b66\u544a\uff0c\u63d0\u793a\u53ef\u80fd\u5b58\u5728DNS\u52ab\u6301\u3001\u4e2d\u95f4\u4eba\u653b\u51fb\u7b49\u5b89\u5168\u95ee\u9898\u3002\u56e0\u6b64\uff0cknown_hosts\u6587\u4ef6\u53ef\u4ee5\u4fdd\u8bc1SSH\u8fde\u63a5\u7684\u5b89\u5168\u6027\uff0c\u9632\u6b62\u6076\u610f\u653b\u51fb\u3002</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E7%9A%84%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95%E5%92%8C%E5%85%AC%E9%92%A5%E7%99%BB%E5%BD%95/#_2","title":"\u516c\u94a5\u767b\u5f55","text":"<ul> <li> <p>\u5de5\u4f5c\u539f\u7406</p> <ul> <li>1.\u5ba2\u6237\u7aef\u5c06\u81ea\u5df1\u7684\u516c\u94a5\u901a\u8fc7\u5b89\u5168\u7684\u624b\u6bb5\u4f20\u8f93\u5230\u670d\u52a1\u7aef</li> <li>2.\u5ba2\u6237\u7aef\u53d1\u8d77\u8fde\u63a5\u8bf7\u6c42,\u670d\u52a1\u7aef\u5229\u7528\u5ba2\u6237\u7aef\u7684\u516c\u94a5\u52a0\u5bc6\u4e00\u6bb5\u968f\u673a\u6587\u672c\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef</li> <li>3.\u5ba2\u6237\u7aef\u5229\u7528\u79c1\u94a5\u89e3\u5bc6,\u5c06\u89e3\u5bc6\u5185\u5bb9\u53d1\u9001\u5230\u670d\u52a1\u7aef,\u670d\u52a1\u7aef\u5bf9\u6bd4\u89e3\u5bc6\u7684\u5185\u5bb9\u662f\u5426\u6b63\u786e,\u6b63\u786e\u5efa\u7acb\u8fde\u63a5,\u5426\u5219\u62d2\u7edd\u8fde\u63a5 </li> </ul> </li> <li> <p>\u914d\u7f6e\u8fc7\u7a0b</p> </li> </ul> <pre><code># \u5ba2\u6237\u7aef\u751f\u6210\u516c\u94a5\u548c\u79c1\u94a5 \nssh-keygen -t rsa\n# \u5c06\u751f\u6210\u7684\u516c\u94a5\u4ee5\u5b89\u5168\u7684\u65b9\u5f0f\u4f20\u8f93\u5230\u8981\u767b\u5f55\u7684\u670d\u52a1\u5668\nscp ~/.ssh/id_rsa.pub root@172.17.0.4:~/\n# \u670d\u52a1\u7aef\u5c06\u5ba2\u6237\u7aef\u7684\u516c\u94a5\u52a0\u5165\u5230\u6388\u6743\u5217\u8868\ncat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/ssh%E7%9A%84%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95%E5%92%8C%E5%85%AC%E9%92%A5%E7%99%BB%E5%BD%95/#_3","title":"\u53c2\u8003\uff1a","text":"<ul> <li>https://blog.csdn.net/mizui_i/article/details/121801500</li> <li>https://zhuanlan.zhihu.com/p/241341815</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/%E4%BF%9D%E6%8A%A4ssh%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/","title":"\u4fdd\u62a4ssh\u8fde\u63a5\u7684\u51e0\u79cd\u65b9\u5f0f","text":"<p>SSH \u662f\u4e00\u79cd\u5e7f\u6cdb\u4f7f\u7528\u7684\u534f\u8bae\uff0c\u7528\u4e8e\u5b89\u5168\u5730\u8bbf\u95ee Linux \u670d\u52a1\u5668\u3002\u5927\u591a\u6570\u7528\u6237\u4f7f\u7528\u9ed8\u8ba4\u8bbe\u7f6e\u7684 SSH \u8fde\u63a5\u6765\u8fde\u63a5\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u3002\u4f46\u662f\uff0c\u4e0d\u5b89\u5168\u7684\u9ed8\u8ba4\u914d\u7f6e\u4e5f\u4f1a\u5e26\u6765\u5404\u79cd\u5b89\u5168\u98ce\u9669\u3002</p> <p>\u5177\u6709\u5f00\u653e SSH \u8bbf\u95ee\u6743\u9650\u7684\u670d\u52a1\u5668\u7684 root \u5e10\u6237\u53ef\u80fd\u5b58\u5728\u98ce\u9669\u3002\u5c24\u5176\u662f\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u516c\u5171 IP \u5730\u5740\uff0c\u5219\u7834\u89e3 root \u5bc6\u7801\u8981\u5bb9\u6613\u5f97\u591a\u3002\u56e0\u6b64\uff0c\u6709\u5fc5\u8981\u4e86\u89e3 SSH \u5b89\u5168\u6027\u3002</p> <p>\u8fd9\u662f\u5728 Linux \u4e0a\u4fdd\u62a4 SSH \u670d\u52a1\u5668\u8fde\u63a5\u7684\u65b9\u6cd5\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/%E4%BF%9D%E6%8A%A4ssh%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/#1-root","title":"1\u3001\u7981\u7528 root \u7528\u6237\u767b\u5f55","text":"<p>\u4e3a\u6b64\uff0c\u9996\u5148\uff0c\u7981\u7528 root \u7528\u6237\u7684 SSH \u8bbf\u95ee\u5e76\u521b\u5efa\u4e00\u4e2a\u5177\u6709 root \u6743\u9650\u7684\u65b0\u7528\u6237\u3002\u5173\u95ed root \u7528\u6237\u7684\u670d\u52a1\u5668\u8bbf\u95ee\u662f\u4e00\u79cd\u9632\u5fa1\u7b56\u7565\uff0c\u53ef\u4ee5\u9632\u6b62\u653b\u51fb\u8005\u5b9e\u73b0\u5165\u4fb5\u7cfb\u7edf\u7684\u76ee\u6807\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a exampleroot \u7684\u7528\u6237\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>useradd\u00a0-m\u00a0exampleroot\npasswd\u00a0exampleroot\nusermod\u00a0-aG\u00a0sudo\u00a0exampleroot\n</code></pre> <p>\u4ee5\u4e0b\u662f\u4e0a\u8ff0\u547d\u4ee4\u7684\u7b80\u8981\u8bf4\u660e\uff1a</p> <ul> <li> <p>useradd \u521b\u5efa\u4e00\u4e2a\u65b0\u7528\u6237\uff0c\u5e76\u4e14 - m \u53c2\u6570\u5728\u4f60\u521b\u5efa\u7684\u7528\u6237\u7684\u4e3b\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u3002</p> </li> <li> <p>passwd \u547d\u4ee4\u7528\u4e8e\u4e3a\u65b0\u7528\u6237\u5206\u914d\u5bc6\u7801\u3002\u8bf7\u8bb0\u4f4f\uff0c\u4f60\u5206\u914d\u7ed9\u7528\u6237\u7684\u5bc6\u7801\u5e94\u8be5\u5f88\u590d\u6742\u4e14\u96be\u4ee5\u731c\u6d4b\u3002</p> </li> <li> <p>usermod -aG sudo \u5c06\u65b0\u521b\u5efa\u7684\u7528\u6237\u6dfb\u52a0\u5230\u7ba1\u7406\u5458\u7ec4\u3002</p> </li> </ul> <p>\u5728\u7528\u6237\u521b\u5efa\u8fc7\u7a0b\u4e4b\u540e\uff0c\u9700\u8981\u5bf9 sshd_config \u6587\u4ef6\u8fdb\u884c\u4e00\u4e9b\u66f4\u6539\u3002\u4f60\u53ef\u4ee5\u5728 / etc/ssh/sshd_config \u627e\u5230\u6b64\u6587\u4ef6\u3002\u4f7f\u7528\u4efb\u4f55\u6587\u672c\u7f16\u8f91\u5668\u6253\u5f00\u6587\u4ef6\u5e76\u5bf9\u5176\u8fdb\u884c\u4ee5\u4e0b\u66f4\u6539\uff1a</p> <pre><code>#\u00a0Authentication:\u00a0\n#LoginGraceTime\u00a02m\u00a0\nPermitRootLogin\u00a0no\u00a0\nAllowUsers\u00a0exampleroot\n</code></pre> <p>PermitRootLogin \u884c\u5c06\u963b\u6b62 root \u7528\u6237\u4f7f\u7528 SSH \u83b7\u5f97\u8fdc\u7a0b\u8bbf\u95ee\u3002\u5728 AllowUsers \u5217\u8868\u4e2d\u5305\u542b exampleroot \u4f1a\u5411\u7528\u6237\u6388\u4e88\u5fc5\u8981\u7684\u6743\u9650\u3002</p> <p>\u6700\u540e\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u91cd\u542f SSH \u670d\u52a1\uff1a</p> <pre><code>&gt;\u00a0sudo\u00a0systemctl\u00a0restart\u00a0ssh\n</code></pre> <p>\u5982\u679c\u5931\u8d25\u5e76\u4e14\u4f60\u6536\u5230\u9519\u8bef\u6d88\u606f\uff0c\u8bf7\u5c1d\u8bd5\u4ee5\u4e0b\u547d\u4ee4\u3002\u8fd9\u53ef\u80fd\u56e0\u4f60\u4f7f\u7528\u7684 Linux \u53d1\u884c\u7248\u800c\u5f02\u3002</p> <pre><code>&gt; sudo\u00a0systemctl\u00a0restart\u00a0sshd\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/%E4%BF%9D%E6%8A%A4ssh%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/#2","title":"2\u3001\u66f4\u6539\u9ed8\u8ba4\u7aef\u53e3","text":"<p>\u9ed8\u8ba4\u7684 SSH \u8fde\u63a5\u7aef\u53e3\u662f 22\u3002\u5f53\u7136\uff0c\u6240\u6709\u7684\u653b\u51fb\u8005\u90fd\u77e5\u9053\u8fd9\u4e00\u70b9\uff0c\u56e0\u6b64\u9700\u8981\u66f4\u6539\u9ed8\u8ba4\u7aef\u53e3\u53f7\u4ee5\u786e\u4fdd SSH \u5b89\u5168\u3002\u5c3d\u7ba1\u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7 Nmap \u626b\u63cf\u8f7b\u677e\u627e\u5230\u65b0\u7684\u7aef\u53e3\u53f7\uff0c\u4f46\u8fd9\u91cc\u7684\u76ee\u6807\u662f\u8ba9\u653b\u51fb\u8005\u7684\u5de5\u4f5c\u66f4\u52a0\u56f0\u96be\u3002</p> <p>\u8981\u66f4\u6539\u7aef\u53e3\u53f7\uff0c\u8bf7\u6253\u5f00 / etc/ssh/sshd_config \u5e76\u5bf9\u6587\u4ef6\u8fdb\u884c\u4ee5\u4e0b\u66f4\u6539\uff1a</p> <pre><code>Include\u00a0/etc/ssh/sshd_config.d/*.conf\nPort\u00a022099\n</code></pre> <p>\u5728\u8fd9\u4e00\u6b65\u4e4b\u540e\uff0c\u4f7f\u7528 sudo systemctl restart ssh \u518d\u6b21\u91cd\u542f SSH \u670d\u52a1\u3002\u73b0\u5728\u4f60\u53ef\u4ee5\u4f7f\u7528\u521a\u521a\u5b9a\u4e49\u7684\u7aef\u53e3\u8bbf\u95ee\u4f60\u7684\u670d\u52a1\u5668\u3002\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u9632\u706b\u5899\uff0c\u5219\u8fd8\u5fc5\u987b\u5728\u6b64\u5904\u8fdb\u884c\u5fc5\u8981\u7684\u89c4\u5219\u66f4\u6539\u3002\u5728\u8fd0\u884c netstat -tlpn \u547d\u4ee4\u65f6\uff0c\u4f60\u53ef\u4ee5\u770b\u5230\u4f60\u7684 SSH \u7aef\u53e3\u53f7\u5df2\u66f4\u6539\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/%E4%BF%9D%E6%8A%A4ssh%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/#3","title":"3\u3001\u7981\u6b62\u4f7f\u7528\u7a7a\u767d\u5bc6\u7801\u7684\u7528\u6237\u8bbf\u95ee","text":"<p>\u5728\u4f60\u7684\u7cfb\u7edf\u4e0a\u53ef\u80fd\u6709\u4f60\u4e0d\u5c0f\u5fc3\u521b\u5efa\u7684\u6ca1\u6709\u5bc6\u7801\u7684\u7528\u6237\u3002\u8981\u9632\u6b62\u6b64\u7c7b\u7528\u6237\u8bbf\u95ee\u670d\u52a1\u5668\uff0c\u4f60\u53ef\u4ee5\u5c06 sshd_config \u6587\u4ef6\u4e2d\u7684 PermitEmptyPasswords \u884c\u503c\u8bbe\u7f6e\u4e3a no\u3002</p> <pre><code>PermitEmptyPasswords\u00a0no\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/%E4%BF%9D%E6%8A%A4ssh%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/#4","title":"4\u3001\u9650\u5236\u767b\u5f55 / \u8bbf\u95ee\u5c1d\u8bd5","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u8981\u5c1d\u8bd5\u591a\u6b21\u8f93\u5165\u5bc6\u7801\u6765\u8bbf\u95ee\u670d\u52a1\u5668\u3002\u4f46\u662f\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u5229\u7528\u6b64\u6f0f\u6d1e\u5bf9\u670d\u52a1\u5668\u8fdb\u884c\u66b4\u529b\u7834\u89e3\u3002\u901a\u8fc7\u6307\u5b9a\u5141\u8bb8\u7684\u5bc6\u7801\u5c1d\u8bd5\u6b21\u6570\uff0c\u4f60\u53ef\u4ee5\u5728\u5c1d\u8bd5\u4e00\u5b9a\u6b21\u6570\u540e\u81ea\u52a8\u7ec8\u6b62 SSH \u8fde\u63a5\u3002</p> <p>\u4e3a\u6b64\uff0c\u8bf7\u66f4\u6539 sshd_config \u6587\u4ef6\u4e2d\u7684 MaxAuthTries \u503c\u3002</p> <pre><code>MaxAuthTries\u00a03\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/%E4%BF%9D%E6%8A%A4ssh%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/#5-ssh-2","title":"5\u3001\u4f7f\u7528 SSH \u7248\u672c 2","text":"<p>SSH \u7684\u7b2c\u4e8c\u4e2a\u7248\u672c\u53d1\u5e03\u662f\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u7248\u672c\u4e2d\u5b58\u5728\u8bb8\u591a\u6f0f\u6d1e\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5c06 Protocol \u53c2\u6570\u6dfb\u52a0\u5230 sshd_config \u6587\u4ef6\u6765\u542f\u7528\u670d\u52a1\u5668\u4f7f\u7528\u7b2c\u4e8c\u4e2a\u7248\u672c\u3002\u8fd9\u6837\uff0c\u4f60\u672a\u6765\u7684\u6240\u6709\u8fde\u63a5\u90fd\u5c06\u4f7f\u7528\u7b2c\u4e8c\u4e2a\u7248\u672c\u7684 SSH\u3002</p> <pre><code>Include\u00a0/etc/ssh/sshd_config.d/*.conf\u00a0\nProtocol\u00a02\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/%E4%BF%9D%E6%8A%A4ssh%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/#6-tcp-x11","title":"6\u3001\u5173\u95ed TCP \u7aef\u53e3\u8f6c\u53d1\u548c X11 \u8f6c\u53d1","text":"<p>\u653b\u51fb\u8005\u53ef\u4ee5\u5c1d\u8bd5\u901a\u8fc7 SSH \u8fde\u63a5\u7684\u7aef\u53e3\u8f6c\u53d1\u6765\u8bbf\u95ee\u4f60\u7684\u5176\u4ed6\u7cfb\u7edf\u3002\u4e3a\u4e86\u9632\u6b62\u8fd9\u79cd\u60c5\u51b5\uff0c\u4f60\u53ef\u4ee5\u5728 sshd_config \u6587\u4ef6\u4e2d\u5173\u95ed AllowTcpForwarding \u548c X11Forwarding \u529f\u80fd\u3002</p> <pre><code>X11Forwarding\u00a0no\u00a0\nAllowTcpForwarding\u00a0no\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/%E4%BF%9D%E6%8A%A4ssh%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/#7-ssh","title":"7\u3001\u4f7f\u7528 SSH \u5bc6\u94a5\u8fde\u63a5","text":"<p>\u8fde\u63a5\u5230\u670d\u52a1\u5668\u7684\u6700\u5b89\u5168\u65b9\u6cd5\u4e4b\u4e00\u662f\u4f7f\u7528 SSH \u5bc6\u94a5\u3002\u4f7f\u7528 SSH \u5bc6\u94a5\u65f6\uff0c\u65e0\u9700\u5bc6\u7801\u5373\u53ef\u8bbf\u95ee\u670d\u52a1\u5668\u3002\u53e6\u5916\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u66f4\u6539 sshd_config \u6587\u4ef6\u4e2d\u4e0e\u5bc6\u7801\u76f8\u5173\u7684\u53c2\u6570\u6765\u5b8c\u5168\u5173\u95ed\u5bf9\u670d\u52a1\u5668\u7684\u5bc6\u7801\u8bbf\u95ee\u3002</p> <p>\u521b\u5efa SSH \u5bc6\u94a5\u65f6\uff0c\u6709\u4e24\u4e2a\u5bc6\u94a5\uff1aPublic \u548c Private\u3002\u516c\u94a5\u5c06\u4e0a\u4f20\u5230\u4f60\u8981\u8fde\u63a5\u7684\u670d\u52a1\u5668\uff0c\u800c\u79c1\u94a5\u5219\u5b58\u50a8\u5728\u4f60\u5c06\u7528\u6765\u5efa\u7acb\u8fde\u63a5\u7684\u8ba1\u7b97\u673a\u4e0a\u3002</p> <p>\u5728\u4f60\u7684\u8ba1\u7b97\u673a\u4e0a\u4f7f\u7528 ssh-keygen \u547d\u4ee4\u521b\u5efa SSH \u5bc6\u94a5\u3002\u4e0d\u8981\u5c06\u5bc6\u7801\u77ed\u8bed\u5b57\u6bb5\u7559\u7a7a\u5e76\u8bb0\u4f4f\u4f60\u5728\u6b64\u5904\u8f93\u5165\u7684\u5bc6\u7801\u3002\u5982\u679c\u5c06\u5176\u7559\u7a7a\uff0c\u4f60\u5c06\u53ea\u80fd\u4f7f\u7528 SSH \u5bc6\u94a5\u6587\u4ef6\u8bbf\u95ee\u5b83\u3002\u4f46\u662f\uff0c\u5982\u679c\u4f60\u8bbe\u7f6e\u4e86\u5bc6\u7801\uff0c\u5219\u53ef\u4ee5\u9632\u6b62\u62e5\u6709\u5bc6\u94a5\u6587\u4ef6\u7684\u653b\u51fb\u8005\u8bbf\u95ee\u5b83\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa SSH \u5bc6\u94a5\uff1a</p> <pre><code>ssh-keygen\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/%E4%BF%9D%E6%8A%A4ssh%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/#8ssh-ip","title":"8\u3001SSH \u8fde\u63a5\u7684 IP \u9650\u5236","text":"<p>\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u9632\u706b\u5899\u4f7f\u7528\u81ea\u5df1\u7684\u6807\u51c6\u6846\u67b6\u963b\u6b62\u8bbf\u95ee\uff0c\u65e8\u5728\u4fdd\u62a4\u670d\u52a1\u5668\u3002\u4f46\u662f\uff0c\u8fd9\u5e76\u4e0d\u603b\u662f\u8db3\u591f\u7684\uff0c\u4f60\u9700\u8981\u589e\u52a0\u8fd9\u79cd\u5b89\u5168\u6f5c\u529b\u3002</p> <p>\u4e3a\u6b64\uff0c\u8bf7\u6253\u5f00 / etc/hosts.allow \u6587\u4ef6\u3002\u901a\u8fc7\u5bf9\u8be5\u6587\u4ef6\u8fdb\u884c\u7684\u6dfb\u52a0\uff0c\u4f60\u53ef\u4ee5\u9650\u5236 SSH \u6743\u9650\uff0c\u5141\u8bb8\u7279\u5b9a IP \u5757\uff0c\u6216\u8f93\u5165\u5355\u4e2a IP \u5e76\u4f7f\u7528\u62d2\u7edd\u547d\u4ee4\u963b\u6b62\u6240\u6709\u5269\u4f59\u7684 IP \u5730\u5740\u3002</p> <p>\u4e0b\u9762\u4f60\u5c06\u770b\u5230\u4e00\u4e9b\u793a\u4f8b\u8bbe\u7f6e\u3002\u5b8c\u6210\u8fd9\u4e9b\u4e4b\u540e\uff0c\u50cf\u5f80\u5e38\u4e00\u6837\u91cd\u65b0\u542f\u52a8 SSH \u670d\u52a1\u4ee5\u4fdd\u5b58\u66f4\u6539\u3002</p> <p>![[assets/Pasted image 20240411132556.png]]</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ssh/%E4%BF%9D%E6%8A%A4ssh%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/#_1","title":"\u53c2\u8003\uff1a","text":"<ul> <li>https://mp.weixin.qq.com/s/bUeLwMH1AATMTy2NliYezw</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/tcpdump/tcpdump%E5%91%BD%E4%BB%A4%E8%AF%B4%E6%98%8E/","title":"Tcpdump\u547d\u4ee4\u8bf4\u660e","text":"<pre><code>$ sudo tcpdump -i any -n -vvv tcp -c 20\ntcpdump: listening on any, link-type LINUX_SLL (Linux cooked), capture size 262144 bytes\n\n18:07:39.173432 IP (tos 0x0, ttl 48, id 10489, offset 0, flags [DF], proto TCP (6), length 40)\n    122.228.60.78.37000 &gt; 117.28.255.94.43896: Flags [.], cksum 0xe133 (correct), seq 2125271959, ack 4215250380, win 15265, length 0\n\n\n</code></pre> <ul> <li> <p>\u6293\u5305\u5206\u6790\uff1a</p> <ul> <li>\u65f6\u95f4\u6233\uff1a18:07:39.173432</li> <li>\u6e90 IP \u5730\u5740\uff1a122.228.60.78</li> <li>\u6e90\u7aef\u53e3\uff1a37000</li> <li>\u76ee\u6807 IP \u5730\u5740\uff1a117.28.255.94</li> <li>\u76ee\u6807\u7aef\u53e3\uff1a43896</li> <li>\u534f\u8bae\uff1aTCP</li> <li>TCP \u6807\u5fd7\uff1a[.]\uff08ACK\uff09</li> <li>\u5e8f\u5217\u53f7\uff1a2125271959</li> <li>\u786e\u8ba4\u53f7\uff1a4215250380</li> <li>\u7a97\u53e3\u5927\u5c0f\uff1a15265</li> <li>\u6570\u636e\u957f\u5ea6\uff1a0</li> </ul> </li> <li> <p><code>DF</code> \u6807\u5fd7\u51fa\u73b0\u5728 IP \u5934\u90e8\u7684\u6807\u5fd7\u5b57\u6bb5\u4e2d\uff0c\u8868\u793a IP \u6570\u636e\u5305\u4e2d\u8bbe\u7f6e\u4e86 <code>DF</code> \u6807\u5fd7\u3002\u8fd9\u610f\u5473\u7740 IP \u6570\u636e\u5305\u5e94\u8be5\u88ab\u89c6\u4e3a\u4e0d\u53ef\u5206\u7247\u7684\uff0c\u5373\u4e0d\u5e94\u8be5\u88ab\u8def\u7531\u5668\u5206\u7247\u4e3a\u8f83\u5c0f\u7684\u6570\u636e\u5305\u8fdb\u884c\u4f20\u8f93\u3002</p> </li> <li> <p>\u8fd8\u6709\u5176\u4ed6\u7684Flags\u8bf4\u660e\uff1a</p> </li> </ul> <pre><code>[S] \u2013 SYN (\u5f00\u59cb\u8fde\u63a5)\n[.] \u2013 \u6ca1\u6709\u6807\u8bb0 (\u8868\u793a\u786e\u8ba4\u7684ACK\u5305)\n[P] \u2013 PSH (\u6570\u636e\u63a8\u9001)\n[F] \u2013 FIN (\u7ed3\u675f\u8fde\u63a5)\n[R] \u2013 RST (\u91cd\u542f\u8fde\u63a5)\n</code></pre> <p>\u4e3a\u4e86\u63d0\u9ad8\u7f51\u7edc\u6548\u7387\uff0c\u4e00\u4e2a\u5305\u4e5f\u53ef\u4ee5\u5305\u542b\u6807\u5fd7\u7684\u7ec4\u5408\uff0c\u6bd4\u5982<code>[S.]</code>\uff0c<code>[FP.]</code></p> <ul> <li><code>seq</code>\uff1a\u5305\u5e8f\u53f7</li> <li><code>cksum</code>\uff1a\u6821\u9a8c\u7801\uff08\u89c1\u4e0b\u9762\u5e38\u89c1\u95ee\u9898\uff09</li> <li><code>win</code>\uff1a\u6ed1\u52a8\u7a97\u53e3\u5927\u5c0f</li> <li><code>length</code>\uff1a\u627f\u8f7d\u7684\u6570\u636e(payload)\u957f\u5ea6length\uff0c\u5982\u679c\u6ca1\u6709\u6570\u636e\u5219\u4e3a0</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/tcpdump/tcpdump%E5%91%BD%E4%BB%A4%E8%AF%B4%E6%98%8E/#_1","title":"\u547d\u4ee4\u53c2\u6570\u8bf4\u660e\uff1a","text":"<ul> <li>-n\uff1a\u4e0d\u8f6c\u6362\u4e3b\u673a\u540d\u3001\u7aef\u53e3\u53f7\uff08\u5f00\u542f\u540e\u770b\u5230\u7684\u662fIP\u5730\u5740\uff0c\u800c\u4e0d\u662f\u4e3b\u673a\u540d\uff0c\u5b9e\u9645\u4f7f\u7528\u4e2d\u6211\u4eec\u4e00\u822c\u90fd\u6bd4\u8f83\u5173\u6ce8\u670d\u52a1\u5668IP\u5730\u5740\uff09</li> <li>-v\uff1a\u663e\u793a\u8be6\u7ec6\u4fe1\u606f\uff0cv\u8d8a\u591a\u4fe1\u606f\u8d8a\u591a</li> <li>-i\uff1a\u6307\u5b9a\u7f51\u7edc\u63a5\u53e3\uff0c\u4e5f\u5c31\u7f51\u5361\u7684\u540d\u5b57\uff0c\u5e38\u7528\u7684\u6709<code>eth0</code>,<code>eth1</code>\u7b49\uff0c\u5982\u679c\u8981\u76d1\u542c\u6240\u6709\u7f51\u5361\u5c31\u662f\u7528<code>-i any</code>\u3002</li> <li>-w\uff1a\u6293\u53d6\u7684\u5305\u5199\u5165\u5230\u6587\u4ef6\uff0c\u65b9\u4fbf\u540e\u7eed\u5206\u6790\u3002\u5b9e\u9645\u4e2d\u7ecf\u5e38\u4f7f\u7528tcpdump\u6293\u5305\u4fdd\u5b58\uff0c\u7136\u540e\u4f7f\u7528Wireshark\u5206\u6790</li> <li>-r\uff1a\u6293\u5230\u7684\u5305\u4e5f\u53ef\u4ee5tcpdump\u6253\u5f00\u518d\u5206\u6790\uff0c<code>tcpdump -n -vvvv -r data.cap</code></li> <li>-c\uff1a\u6307\u5b9a\u6293\u53d6\u7684\u5305\u7684\u6570\u76ee</li> <li>-s\uff1a\u6307\u5b9a\u6293\u53d6\u7684\u6570\u636e\u7684\u957f\u5ea6</li> <li>-v: \u542f\u7528 verbose output\uff0c\u6293\u5305\u65f6\u8f93\u51fa\u5305\u7684\u9644\u52a0\u4fe1\u606f\uff08\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a\u00a0-v:\u00a0-v,\u00a0-vv,\u00a0-vvv\u00a0\u591a\u4e2a\u00a0v\u00a0\u4f1a\u663e\u793a\u66f4\u591a\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\uff09</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/tcpdump/tcpdump%E5%91%BD%E4%BB%A4%E8%AF%B4%E6%98%8E/#_2","title":"\u5e38\u7528\u8fc7\u6ee4\u89c4\u5219","text":"<ul> <li> <p>\u8fc7\u6ee4\u89c4\u5219\u4e00\u822c\u5305\u542b\u4e09\u79cd\u4fee\u9970\u7b26\u7684\u7ec4\u5408\uff1a</p> <ul> <li>type: <ul> <li>\u6307\u5b9aid \u6240\u4ee3\u8868\u7684\u5bf9\u8c61\u7c7b\u578b, id\u53ef\u4ee5\u662f\u540d\u5b57\u4e5f\u53ef\u4ee5\u662f\u6570\u5b57. \u53ef\u9009\u7684\u5bf9\u8c61\u7c7b\u578b\u6709: host, net, port \u4ee5\u53caportrange\uff0c\u9ed8\u8ba4\u662f host</li> </ul> </li> <li>dir: <ul> <li>\u63cf\u8ff0id \u6240\u5bf9\u5e94\u7684\u4f20\u8f93\u65b9\u5411, \u5373\u53d1\u5f80id \u8fd8\u662f\u4eceid \u63a5\u6536\uff08\u800cid \u5230\u5e95\u6307\u4ec0\u4e48\u9700\u8981\u770b\u5176\u524d\u9762\u7684type \u4fee\u9970\u7b26\uff09.\u53ef\u53d6\u7684\u65b9\u5411\u4e3a: src, dst, src or dst, src and dst</li> </ul> </li> <li>proto: <ul> <li>\u63cf\u8ff0id \u6240\u5c5e\u7684\u534f\u8bae. \u53ef\u9009\u7684\u534f\u8bae\u6709: ether, fddi, tr, wlan, ip, ip6, arp, rarp, decnet, tcp\u4ee5\u53ca upd</li> </ul> </li> </ul> </li> <li> <p>\u901a\u8fc7\u62ec\u53f7(( xxx )) \u548c bool \u64cd\u4f5c\u7b26\u53ef\u4ee5\u7ec4\u5408\u591a\u79cd\u8fc7\u6ee4\u89c4\u5219\uff0c\u4e00\u5bf9\u62ec\u53f7\u662f\u4e00\u7ec4:</p> <ul> <li>\u5426\u5b9a\u64cd\u4f5c:\u00a0!\u00a0\u6216\u00a0not</li> <li>\u4e0e\u64cd\u4f5c:\u00a0&amp;&amp;\u00a0\u6216\u00a0and</li> <li>\u6216\u64cd\u4f5c:\u00a0||\u00a0\u6216\u00a0or</li> </ul> </li> <li> <p>\u8be6\u60c5\u89c1\u6587\u6863\uff1aManpage of PCAP-FILTER</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/tcpdump/tcpdump%E5%91%BD%E4%BB%A4%E8%AF%B4%E6%98%8E/#_3","title":"\u6570\u636e\u89e3\u8bfb","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/tcpdump/tcpdump%E5%91%BD%E4%BB%A4%E8%AF%B4%E6%98%8E/#_4","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li> <p><code>tcpdump</code>\u9700\u8981<code>root</code>\u6743\u9650\uff1a\u4ece\u5b9e\u73b0\u539f\u7406\u6765\u770b\uff0c\u5982\u679c\u4e0d\u9700\u8981root\u6743\u9650\uff0c\u4e5f\u592a\u5413\u4eba\u4e86</p> </li> <li> <p>\u53c2\u8003\uff1a</p> <ul> <li>https://mozillazg.com/2018/01/tcpdump-common-useful-examples-cookbook.html</li> <li>https://www.jianshu.com/p/5db12786ed96</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/tcpdump/tcpdump%E5%B8%B8%E7%94%A8%E6%8A%93%E5%8C%85%E5%91%BD%E4%BB%A4/","title":"Tcpdump\u5e38\u7528\u6293\u5305\u547d\u4ee4","text":"<p>\u53c2\u8003\uff1a     - https://mozillazg.com/2018/01/tcpdump-common-useful-examples-cookbook.html</p> <p>\u6293 HTTP GET \u6570\u636e</p> <pre><code>tcpdump -i any 'tcp[(tcp[12]&gt;&gt;2):4] = 0x47455420'\n# \"GET \"\u7684\u5341\u516d\u8fdb\u5236\u662f 47455420\n</code></pre> <ul> <li>\u6293 SSH \u8fd4\u56de</li> </ul> <pre><code>tcpdump -i any 'tcp[(tcp[12]&gt;&gt;2):4] = 0x5353482D'\n# \"SSH-\"\u7684\u5341\u516d\u8fdb\u5236\u662f 0x5353482D\n</code></pre> <ul> <li>\u6293 DNS \u8bf7\u6c42\u6570\u636e</li> </ul> <pre><code>tcpdump -i any udp dst port 53\n</code></pre> <ul> <li>\u5927\u4e8e600\u5b57\u8282</li> </ul> <pre><code>tcpdump -i any 'ip[2:2] &gt; 600'\n</code></pre> <ul> <li>\u8fc7\u6ee4 ip/\u57df\u540d</li> </ul> <pre><code># \u8fc7\u6ee4\u76ee\u6807\u57df\u540d\u662f baidu.com:\ndst host baidu.com\n\n# \u6e90 ip \u6216\u8005\u76ee\u6807 ip \u662f 192.168.1.3:\nhost 192.168.1.3\n\n# \u6e90 ip \u662f 192.168.1.3:\nsrc host 192.168.1.3\n\n# \u76ee\u6807 ip \u662f 192.168.1.3:\ndst host 192.168.1.3\n\n# \u8fc7\u6ee4\u8303\u56f4\u5185\u7684 ip /\u7f51\u6bb5 ip:\nnet 192.168.0.0/24\nnet 192.168.0.0 mask 255.255.255.0\n\n</code></pre> <ul> <li>\u8fc7\u6ee4\u7aef\u53e3</li> </ul> <pre><code># \u8fc7\u6ee4 80 \u7aef\u53e3:\nport 80\n\n# DNS 53 \u7aef\u53e3:\nport 53\n\n# \u6392\u9664\u7aef\u53e3:\nnot port 80\nhost www.example.com and not \\(port 80 or port 25\\)\nhost www.example.com and not port 80 and not port 25\n\n# \u7aef\u53e3\u8303\u56f4:\n\\(tcp[0:2] &gt; 1500 and tcp[0:2] &lt; 1550) or (tcp[2:2] &gt; 1500 and tcp[2:2] &lt; 1550\\)\ntcp portrange 1501-1549\n\n</code></pre> <ul> <li>\u8fc7\u6ee4\u534f\u8bae</li> </ul> <pre><code>ipv4:\u00a0ip\n\nipv6:\u00a0ip6\n\ntcp:\u00a0tcp\n\nudp:\u00a0udp\n\narp:\u00a0arp\n\nicmp:\u00a0icmp\n</code></pre> <ul> <li>\u8fc7\u6ee4\u534f\u8bae\u5934 (\u6ce8\u610f\u8981\u7528\u5f15\u53f7\u5f15\u8d77\u6765)</li> </ul> <pre><code># \u8fc7\u6ee4 tcp SYN \u6d88\u606f\u5305:\n'tcp[tcpflags] &amp; (tcp-syn) != 0'\n\n#\u8fc7\u6ee4 tcp SYN/ACK \u6d88\u606f\u5305:\n'tcp[tcpflags] &amp; (tcp-syn|tcp-ack) != 0'\n\n# \u5e38\u7528\u7684 tcp \u6807\u8bb0:\ntcp-fin, tcp-syn, tcp-rst, tcp-push, tcp-ack, tcp-urg, tcp-ece, tcp-cwr\n\n#\u6e90\u7aef\u53e3\u5927\u4e8e1024\u7684TCP\u6570\u636e\u5305:\n'tcp[0:2] &gt; 1024'\n\n\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/centos7%E6%9B%B4%E6%96%B0%E6%B5%B7%E5%A4%96%E7%9A%84yum%E6%BA%90/","title":"Centos7\u66f4\u65b0\u6d77\u5916\u7684yum\u6e90","text":"<p>\u8981\u5c06 CentOS \u7684 <code>yum</code> \u6e90\u66f4\u6539\u4e3a\u6d77\u5916\u7684\u955c\u50cf\u6e90\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\u64cd\u4f5c\u3002\u8fd9\u6837\u53ef\u4ee5\u7ed5\u8fc7\u56fd\u5185\u7684\u955c\u50cf\u95ee\u9898\uff0c\u4f7f\u7528\u7a33\u5b9a\u7684\u6d77\u5916\u955c\u50cf\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/centos7%E6%9B%B4%E6%96%B0%E6%B5%B7%E5%A4%96%E7%9A%84yum%E6%BA%90/#1-yum","title":"1. \u5907\u4efd\u73b0\u6709\u7684 <code>yum</code> \u6e90\u914d\u7f6e","text":"<p>\u9996\u5148\uff0c\u5efa\u8bae\u4f60\u5907\u4efd\u73b0\u6709\u7684 <code>yum</code> \u6e90\u6587\u4ef6\uff0c\u4ee5\u4fbf\u5728\u5fc5\u8981\u65f6\u53ef\u4ee5\u6062\u590d\uff1a</p> <p><code>sudo cp /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/centos7%E6%9B%B4%E6%96%B0%E6%B5%B7%E5%A4%96%E7%9A%84yum%E6%BA%90/#2-yum","title":"2. \u66f4\u6362\u4e3a\u6d77\u5916\u7684 <code>yum</code> \u6e90","text":"<p>\u4f60\u53ef\u4ee5\u9009\u62e9\u4e00\u4e9b\u8457\u540d\u7684\u6d77\u5916\u955c\u50cf\u6e90\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>Vault CentOS Archive\uff08\u9002\u7528\u4e8e\u65e7\u7248\u672c\uff09\uff1aCentOS \u5b98\u65b9\u7684\u5b58\u6863\u5e93\uff0c\u9002\u7528\u4e8e EOL\uff08End of Life\uff09\u7248\u672c\u3002</li> <li>\u7f8e\u56fd\u7684 EPEL \u6e90\uff1aFedora \u9879\u76ee\u63d0\u4f9b\u7684\u7a33\u5b9a\u6e90\u3002</li> </ul> <p>\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u6b65\u9aa4\u6765\u66ff\u6362\u9ed8\u8ba4\u7684 <code>yum</code> \u6e90\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/centos7%E6%9B%B4%E6%96%B0%E6%B5%B7%E5%A4%96%E7%9A%84yum%E6%BA%90/#1-vault-centos-centos-7","title":"\u9009\u9879 1\uff1a\u66ff\u6362\u4e3a Vault CentOS \u6e90\uff08\u9002\u7528\u4e8e CentOS 7\uff09","text":"<p>\u7f16\u8f91 <code>CentOS-Base.repo</code> \u6587\u4ef6\uff1a</p> <pre><code>sudo vi /etc/yum.repos.d/CentOS-Base.repo\n</code></pre> <p>\u5c06\u5185\u5bb9\u66ff\u6362\u4e3a\u4ee5\u4e0b\u5185\u5bb9\uff08\u9002\u7528\u4e8e CentOS 7\uff09\uff1a</p> <pre><code>[base]\nname=CentOS-$releasever - Base\nbaseurl=http://vault.centos.org/7.9.2009/os/$basearch/\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7\n\n[updates]\nname=CentOS-$releasever - Updates\nbaseurl=http://vault.centos.org/7.9.2009/updates/$basearch/\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7\n\n[extras]\nname=CentOS-$releasever - Extras\nbaseurl=http://vault.centos.org/7.9.2009/extras/$basearch/\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7\n\n</code></pre> <p>\u4fdd\u5b58\u6587\u4ef6\u5e76\u9000\u51fa\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/centos7%E6%9B%B4%E6%96%B0%E6%B5%B7%E5%A4%96%E7%9A%84yum%E6%BA%90/#2-epel","title":"\u9009\u9879 2\uff1a\u66f4\u6362\u4e3a EPEL \u6e90","text":"<p>\u5982\u679c\u9700\u8981\u5b89\u88c5\u989d\u5916\u7684\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u5305\uff0c\u4e5f\u53ef\u4ee5\u542f\u7528 EPEL \u6e90\u3002\u9996\u5148\u5b89\u88c5 <code>epel-release</code> \u5305\uff1a</p> <p><code>sudo yum install -y epel-release</code></p> <p>\u542f\u7528\u540e\uff0cEPEL \u4ed3\u5e93\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5230 <code>yum</code> \u6e90\u4e2d\uff0c\u5e76\u63d0\u4f9b\u8bb8\u591a\u793e\u533a\u7ef4\u62a4\u7684\u8f6f\u4ef6\u5305\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/centos7%E6%9B%B4%E6%96%B0%E6%B5%B7%E5%A4%96%E7%9A%84yum%E6%BA%90/#3","title":"3. \u6e05\u9664\u7f13\u5b58\u5e76\u66f4\u65b0","text":"<p>\u5728\u4fee\u6539 <code>yum</code> \u6e90\u540e\uff0c\u6e05\u9664 <code>yum</code> \u7f13\u5b58\u5e76\u5c1d\u8bd5\u66f4\u65b0\uff1a</p> <pre><code>sudo yum clean all \nsudo yum makecache \nsudo yum update -y\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/centos7%E6%9B%B4%E6%96%B0%E6%B5%B7%E5%A4%96%E7%9A%84yum%E6%BA%90/#4","title":"4. \u9a8c\u8bc1","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u9a8c\u8bc1\u662f\u5426\u6210\u529f\u4f7f\u7528\u4e86\u65b0\u7684\u6d77\u5916\u6e90\uff1a</p> <pre><code>yum repolist\n</code></pre> <p>\u5982\u679c\u4e00\u5207\u6b63\u5e38\uff0c\u4f60\u73b0\u5728\u5e94\u8be5\u80fd\u591f\u4ece\u6d77\u5916\u7684\u955c\u50cf\u6e90\u83b7\u53d6\u548c\u5b89\u88c5\u8f6f\u4ef6\u5305\u4e86\u3002</p> <p>\u4e00\u952e\u66f4\u65b0\u547d\u4ee4\uff1a</p> <pre><code>curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo;yum clean all;yum makecache\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/yum%E5%8E%9F%E7%90%86/","title":"Yum\u539f\u7406","text":"<p>YUM(Yellowdog Updater Modified)\uff1a\u662f\u4e00\u4e2a\u57fa\u4e8eRPM\u7684\u8f6f\u4ef6\u5305\u7ba1\u7406\u5668\uff0c\u80fd\u591f\u4ece\u6307\u5b9a\u670d\u52a1\u5668\u81ea\u52a8RPM\u5305\u5e76\u4e14\u5b89\u88c5\uff0c\u53ef\u4ee5\u5904\u7406\u8f6f\u4ef6\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u4e00\u6b21\u6027\u5b89\u88c5\u6240\u6709\u4f9d\u8d56\u7684\u8f6f\u4ef6\u5305\uff0c\u65e0\u9700\u4e00\u4e2a\u4e2a\u5b89\u88c5\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/yum%E5%8E%9F%E7%90%86/#_1","title":"\u539f\u7406","text":"<p>\u5305\u62ecYUM\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u4e24\u4e2a\u90e8\u5206\uff1a - yum\u670d\u52a1\u5668</p> <pre><code>\u6240\u6709\u8981\u53d1\u884c\u7684rpm\u5305\u90fd\u653e\u5728yum\u670d\u52a1\u5668\u4e0a\u4ee5\u63d0\u4f9b\u522b\u4eba\u6765\u4e0b\u8f7d\uff0crpm\u5305\u6839\u636ekernel\u7684\u7248\u672c\u53f7\uff0ccpu\u7684\u7248\u672c\u53f7\u5206\u522b\u7f16\u8bd1\u53d1\u5e03\u3002yum\u670d\u52a1\u5668\u53ea\u8981\u63d0\u4f9b\u7b80\u5355\u7684\u4e0b\u8f7d\u5c31\u53ef\u4ee5\u4e86\uff0cftp\u6216\u8005httpd\u7684\u5f62\u5f0f\u90fd\u53ef\u4ee5\u3002yum\u670d\u52a1\u5668\u6709\u4e00\u4e2a\u6700\u91cd\u8981\u7684\u73af\u8282\u5c31\u662f\u6574\u7406\u51fa\u6bcf\u4e2arpm\u5305\u7684\u57fa\u672c\u4fe1\u606f\uff0c\u5305\u62ecrpm\u5305\u5bf9\u5e94\u7684\u7248\u672c\u53f7\uff0cconf\u6587\u4ef6\uff0cbinary\u4fe1\u606f\uff0c\u4ee5\u53ca\u5f88\u5173\u952e\u7684\u4f9d\u8d56\u4fe1\u606f\u3002\u5728yum\u670d\u52a1\u5668\u4e0a\u63d0\u4f9b\u4e86createrepo\u5de5\u5177\uff0c\u7528\u4e8e\u628arpm\u5305\u7684\u57fa\u672c\u6982\u8981\u4fe1\u606f\u505a\u6210\u4e00\u5f20\"\u6e05\u5355\"\uff0c\u8fd9\u5f20\"\u6e05\u5355\"\"\u5c31\u662f\u63cf\u8ff0\u6bcf\u4e2arpm\u5305\u7684spec\u6587\u4ef6\u4e2d\u4fe1\u606f\u3002\n</code></pre> <ul> <li> <p>yum client\u7aef</p> <p>client\u6bcf\u6b21\u8c03\u7528yum install\u6216\u8005search\u7684\u65f6\u5019\uff0c\u90fd\u4f1a\u53bb\u89e3\u6790/etc/yum.repos.d\u4e0b\u9762\u6240\u6709\u4ee5.repo\u7ed3\u5c3e\u7684\u914d\u7f6e\u6587\u4ef6\uff08\u5373yum\u6e90\uff09\uff0c\u8fd9\u4e9b\u914d\u7f6e\u6587\u4ef6\u6307\u5b9a\u4e86yum\u670d\u52a1\u5668\u7684\u5730\u5740\u3002yum\u4f1a\u5b9a\u671f\u53bb\"\u66f4\u65b0\"yum\u670d\u52a1\u5668\u4e0a\u7684rpm\u5305\"\u6e05\u5355\"\uff0c\u7136\u540e\u628a\"\u6e05\u5355\"\u4e0b\u8f7d\u4fdd\u5b58\u5230yum\u81ea\u5df1\u7684cache\u91cc\u9762\uff0c\u6839\u636e/etc/yum.conf\u91cc\u914d\u7f6e(\u9ed8\u8ba4\u662f\u5728/var/cache/yum\u4e0b\u9762)\uff0c\u6bcf\u6b21\u8c03\u7528yum\u88c5\u5305\u7684\u65f6\u5019\u90fd\u4f1a\u53bb\u8fd9\u4e2acache\u76ee\u5f55\u4e0b\u53bb\u627e\"\u6e05\u5355\"\uff0c\u6839\u636e\"\u6e05\u5355\"\u91cc\u7684rpm\u5305\u63cf\u8ff0\u4ece\u800c\u6765\u786e\u5b9a\u5b89\u88c5\u5305\u7684\u540d\u5b57\uff0c\u7248\u672c\u53f7\uff0c\u6240\u9700\u8981\u7684\u4f9d\u8d56\u5305\u7b49\uff0c\u7136\u540e\u518d\u53bbyum\u670d\u52a1\u5668\u4e0b\u8f7drpm\u5305\u5b89\u88c5\u3002(\u524d\u63d0\u662f\u4e0d\u5b58\u5728rpm\u5305\u7684cache)</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/yum%E5%8E%9F%E7%90%86/#yum","title":"yum\u7684\u8bbe\u7f6e\u6587\u4ef6","text":"<p>\u914d\u7f6e\u6587\u4ef6\u6240\u5728\u76ee\u5f55\uff1a<code>/etc/yum.repos.d/</code></p> <pre><code># vim /etc/yum.repos.d/CentOS-Base.repo\n</code></pre> <p>$releaserver\uff1a\u53d1\u884c\u7248\u672c\u53f7 $basearch\uff1a\u7cfb\u7edf\u57fa\u7840\u67b6\u6784\uff0c\u5982x86_64</p> <p>[base]\uff1a\u4ee3\u8868\u5bb9\u5668\u540d\u79f0\uff0c\u540d\u79f0\u53ef\u4ee5\u968f\u610f\u53d6 name\uff1a\u63cf\u8ff0\u5bb9\u5668\u542b\u4e49 mirrorlist\uff1a\u5217\u51fa\u8fd9\u4e2a\u5bb9\u5668\u53ef\u4ee5\u4f7f\u7528\u7684\u955c\u50cf\u7ad9\u70b9\uff0c\u5982\u679c\u4e0d\u60f3\u4f7f\u7528\uff0c\u53ef\u4ee5\u6ce8\u91ca baseurl\uff1a\u540e\u9762\u63a5\u5bb9\u5668\u5730\u5740\uff0cmirrorlist\u662f\u7531yum\u7a0b\u5e8f\u81ea\u884c\u627e\u955c\u50cf\u7ad9\u70b9\uff0cbaseurl\u5219\u662f\u6307\u5b9a\u4e00\u4e2a\u56fa\u5b9a\u5bb9\u5668\u5730\u5740 gpgcheck\uff1a\u662f\u5426\u9700\u8981\u67e5\u9605RPM\u6587\u4ef6\u5185\u6570\u5b57\u8bc1\u4e66 gpgkey\uff1a\u6570\u5b57\u8bc1\u4e66\u516c\u94a5\u6587\u4ef6\u6240\u5728\u4f4d\u7f6e\uff0c\u4f7f\u7528\u9ed8\u8ba4\u503c</p> <p>\u67e5\u770byum server\u6240\u4f7f\u7528\u7684\u5bb9\u5668\uff1a<code>yum repolist all</code> \u5220\u9664\u6240\u6709\u5df2\u4e0b\u8f7d\u7684\u6240\u6709\u5bb9\u5668\u76f8\u5173\u6570\u636e\uff1a<code>yum clean all</code></p> <p>\u53c2\u6570\u8bf4\u660e <code>enabled=1</code> \u8868\u793a <code>base</code> \u4ed3\u5e93\u662f\u542f\u7528\u7684\uff0c\u800c\u5982\u679c\u4f60\u6539\u4e3a <code>enabled=0</code>\uff0c<code>yum</code> \u5c31\u4e0d\u4f1a\u4ece\u8fd9\u4e2a\u4ed3\u5e93\u4e0b\u8f7d\u4efb\u4f55\u5305\u4e86\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/yum%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"Yum\u5e38\u7528\u547d\u4ee4","text":"<p>yum\u4ed3\u5e93\u4f4d\u7f6e\uff1a/etc/yum.repos.d/ yum\u914d\u7f6e\u6587\u4ef6\u4f4d\u7f6e\uff1a/etc/yum.conf</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/yum%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#1","title":"1 \u67e5\u8be2","text":"<pre><code># yum search raid    //\u641c\u7d22\u67d0\u4e2a\u8f6f\u4ef6\u540d\u79f0\u6216\u8005\u63cf\u8ff0\u7684\u91cd\u8981\u5173\u952e\u5b57\n# yum info mdadm     //\u5217\u51fa\u8f6f\u4ef6\u529f\u80fd\n# yum list           //\u5217\u51fayum\u670d\u52a1\u5668\u4e0a\u9762\u6240\u6709\u7684\u8f6f\u4ef6\u540d\u79f0\n# yum list pam*      //\u627e\u51fa\u4ee5pam\u5f00\u5934\u7684\u8f6f\u4ef6\u540d\u79f0\n# yum list updates   //\u5217\u51fayum\u670d\u52a1\u5668\u4e0a\u53ef\u63d0\u4f9b\u672c\u673a\u8fdb\u884c\u5347\u7ea7\u7684\u8f6f\u4ef6\n# yum clean package-xxx // \u5220\u9664\u672c\u5730\u6362\u7f13\u5b58\u7684\u8f6f\u4ef6\u5305package-xxx \uff08yum\u9ed8\u8ba4\u4f1a\u5148\u7f13\u5b58\u5230\u672c\u673a\u7684 /var/cache/yum\uff09\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/yum%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#2","title":"2 \u5b89\u88c5/\u5347\u7ea7","text":"<pre><code># yum install/update \u8f6f\u4ef6\u540d\u79f0 \n# yum install \u8f6f\u4ef6\u540d\u79f0 -y       //\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u514d\u8f93\u5165y\u786e\u8ba4\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/yum%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#3","title":"3 \u5220\u9664","text":"<pre><code># yum remove \u8f6f\u4ef6\u540d\u79f0\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/yum%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#4","title":"4 \u8f6f\u4ef6\u7ec4\u529f\u80fd","text":"<pre><code># yum grouplist                     //\u67e5\u770b\u5bb9\u5668\u548c\u672c\u673a\u4e0a\u53ef\u7528\u4e0e\u5b89\u88c5\u8fc7\u7684\u8f6f\u4ef6\u7ec4\n# yum groupinfo group_name          //\u67e5\u770bgroup\u5185\u6240\u6709\u7ec4\u540d\u79f0\n# yum install/remove group_name     //\u5b89\u88c5\u4e0e\u5220\u9664 \n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/yum%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#5-yum","title":"5 yum\u6e90","text":"<p>\u67e5\u770byum\u6e90\u5217\u8868</p> <pre><code>yum repolist\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/yum%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_1","title":"\u5168\u7cfb\u7edf\u5347\u7ea7","text":"<p>yum -y update \u5347\u7ea7\u6240\u6709\u5305\uff0c\u6539\u53d8\u8f6f\u4ef6\u8bbe\u7f6e\u548c\u7cfb\u7edf\u8bbe\u7f6e,\u7cfb\u7edf\u7248\u672c\u5185\u6838\u90fd\u5347\u7ea7 yum -y upgrade \u5347\u7ea7\u6240\u6709\u5305\uff0c\u4e0d\u6539\u53d8\u8f6f\u4ef6\u8bbe\u7f6e\u548c\u7cfb\u7edf\u8bbe\u7f6e\uff0c\u7cfb\u7edf\u7248\u672c\u5347\u7ea7\uff0c\u5185\u6838\u4e0d\u6539\u53d8 \u5df2\u7ecf\u4e0a\u7ebf\u7684\u7528yum -y upgrade \u6bd4\u8f83\u7a33 \u5168\u65b0\u7684\u7528yum -y update \u4f1a\u66f4\u597d</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B6%E4%BD%9Crpm%E5%8C%85/","title":"\u4e8c\u8fdb\u5236\u6587\u4ef6\u5236\u4f5crpm\u5305","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B6%E4%BD%9Crpm%E5%8C%85/#_1","title":"\u80cc\u666f","text":"<ul> <li>\u5c06\u4e8c\u8fdb\u5236\u6587\u4ef6\u5236\u4f5c\u4e3aRPM\u5305\uff0c\u5e76\u4e14\u52a0\u5165systemctl\u7684\u7ba1\u7406</li> <li>\u8fd9\u8fb9\u4f7f\u7528IPMI_export\u4e3a\u4f8b\uff1ahttps://github.com/prometheus-community/ipmi_exporter<ul> <li>\u8bf7\u63d0\u524d\u6839\u636e\u5b98\u7f51\u6587\u6863\u7f16\u8bd1\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff08AMD64\u7cfb\u7edf\uff09</li> </ul> </li> <li>\u5236\u4f5c\u7684RPM\u53ea\u9488\u5bf9AMD64\u7cfb\u7edf</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B6%E4%BD%9Crpm%E5%8C%85/#rpm","title":"\u5236\u4f5cRPM\u5305","text":"<p>\u4ee5\u4e0b\u662f\u521b\u5efa RPM \u5305\u5e76\u81ea\u52a8\u5c06\u7a0b\u5e8f\u52a0\u5165 <code>systemctl</code> \u7ba1\u7406\u7684\u6d41\u7a0b\uff0c\u5047\u8bbe\u4f60\u7684 IPMI export \u7a0b\u5e8f\u5df2\u7ecf\u7f16\u8bd1\u4e3a\u4e8c\u8fdb\u5236\u6587\u4ef6 <code>ipmi_exporter</code>\uff1a</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B6%E4%BD%9Crpm%E5%8C%85/#1","title":"1. \u51c6\u5907\u73af\u5883","text":"<p>\u786e\u4fdd\u5df2\u5b89\u88c5\u4ee5\u4e0b\u5de5\u5177\uff1a</p> <ul> <li><code>rpm-build</code></li> <li><code>rpmbuild</code></li> <li><code>systemd</code>\uff08\u7528\u4e8e\u521b\u5efa\u670d\u52a1\u6587\u4ef6\uff09</li> </ul> <p>\u5b89\u88c5\u547d\u4ee4\uff1a</p> <p><code>sudo yum install rpm-build</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B6%E4%BD%9Crpm%E5%8C%85/#2-rpm","title":"2. \u521b\u5efa RPM \u6784\u5efa\u76ee\u5f55\u7ed3\u6784","text":"<p>\u5728\u4f60\u7684\u4e3b\u76ee\u5f55\u4e0b\u521b\u5efa RPM \u6784\u5efa\u76ee\u5f55\u7ed3\u6784\uff1a</p> <p>bash</p> <p>\u590d\u5236\u4ee3\u7801</p> <p><code>mkdir -p ~/rpmbuild/{BUILD,RPMS,SOURCES,SPECS,SRPMS}</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B6%E4%BD%9Crpm%E5%8C%85/#3","title":"3. \u51c6\u5907\u6587\u4ef6","text":"<p>\u5c06\u4f60\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 <code>ipmi_exporter</code> \u653e\u5728 <code>~/rpmbuild/SOURCES</code> \u76ee\u5f55\u4e2d\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B6%E4%BD%9Crpm%E5%8C%85/#4-systemd","title":"4. \u521b\u5efa systemd \u670d\u52a1\u6587\u4ef6","text":"<p>\u5728 <code>~/rpmbuild/SOURCES</code> \u4e2d\u521b\u5efa <code>ipmi_exporter.service</code> \u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>[Unit]\nDescription=IPMI Exporter Service\nAfter=network.target\n\n[Service]\nExecStart=/usr/bin/ipmi_exporter --web.listen-address=:9289\nRestart=always\nUser=root\nGroup=root\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B6%E4%BD%9Crpm%E5%8C%85/#5-spec","title":"5. \u521b\u5efa SPEC \u6587\u4ef6","text":"<p>\u5728 <code>~/rpmbuild/SPECS</code> \u76ee\u5f55\u4e2d\u521b\u5efa <code>ipmi_exporter.spec</code> \u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>Name:           ipmi_exporter\nVersion:        1.0\nRelease:        1%{?dist}\nSummary:        IPMI Exporter for Prometheus\n\nLicense:        GPL\nURL:            https://example.com\nSource0:        ipmi_exporter\nSource1:        ipmi_exporter.service\nSource2:        ipmi_local.yml\n\nBuildArch:      x86_64\nRequires(post): systemd\nRequires(preun): systemd\nRequires(postun): systemd\n\n%description\nIPMI Exporter collects IPMI metrics and exposes them to Prometheus.\n\n%prep\n# Install freeipmi package as a dependency\nsudo yum install -y freeipmi\n\n\n%build\n\n%install\n# Create installation directories\nmkdir -p %{buildroot}/etc\nmkdir -p %{buildroot}/usr/bin\nmkdir -p %{buildroot}/usr/lib/systemd/system\n\n# Install config file\ninstall -m 0644 %{SOURCE2} %{buildroot}/etc/\n\n# Install the binary\ninstall -m 0755 %{SOURCE0} %{buildroot}/usr/bin/ipmi_exporter\n\n# Install the systemd service file\ninstall -m 0644 %{SOURCE1} %{buildroot}/usr/lib/systemd/system/ipmi_exporter.service\n\n%post\n# Reload systemd and enable the service\n%systemd_post ipmi_exporter.service\n\n%preun\n# Stop and disable the service\n%systemd_preun ipmi_exporter.service\n\n%postun\n# Reload systemd\n%systemd_postun ipmi_exporter.service\n\n%files\n/usr/bin/ipmi_exporter\n/usr/lib/systemd/system/ipmi_exporter.service\n\n%config(noreplace) /etc/ipmi_local.yml\n\n%changelog\n* Tue Dec 24 2024 Your Name &lt;yourname@example.com&gt; - 1.0-1\n- Initial RPM release\n\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B6%E4%BD%9Crpm%E5%8C%85/#6-ipmi-export","title":"6. ipmi export\u914d\u7f6e\u6587\u4ef6","text":"<p>\u751f\u6210\u914d\u7f6e\u6587\u4ef6\u914d\u7f6e\u76d1\u542c9289\u7aef\u53e3\uff1a</p> <p>`vi ~/rpmbuild/SOURCES/ipmi_local.yml</p> <p>\u52a0\u5165\u4e0b\u9762\u5185\u5bb9\uff1a</p> <pre><code># Configuration file for ipmi_exporter\n\n# This is an example config for scraping the local host.\n# In most cases, this should work without using a config file at all, but here\n# are some examples of things that can be customized. If you require privilege\n# elevation to get the local metrics, see the `ipmi_local_sudo.yml` example.\nmodules:\n  default:\n    # Available collectors are bmc, bmc-watchdog, ipmi, chassis, dcmi, sel, sel-events and sm-lan-mode\n    collectors:\n      - bmc\n      # - bmc-watchdog\n      - ipmi\n      - chassis\n      - dcmi\n      - sel\n      - sel-events\n      - sm-lan-mode\n    # Got any sensors you don't care about? Add them here.\n    # exclude_sensor_ids:\n    #  - 2\n    #  - 29\n    #  - 32\n    # Define custom metrics for SEL entries\n    # sel_events:\n      # - name: correctable_memory_error\n       # regex: Correctable memory error.*\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B6%E4%BD%9Crpm%E5%8C%85/#7-rpm","title":"7. \u6784\u5efa RPM \u5305","text":"<p>\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u6784\u5efa RPM \u5305\uff1a</p> <p><code>rpmbuild -ba ~/rpmbuild/SPECS/ipmi_exporter.spec</code></p> <p>\u6784\u5efa\u6210\u529f\u540e\uff0cRPM \u5305\u4f1a\u51fa\u73b0\u5728 <code>~/rpmbuild/RPMS/x86_64/</code> \u76ee\u5f55\u4e2d\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B6%E4%BD%9Crpm%E5%8C%85/#8-rpm","title":"8. \u5b89\u88c5 RPM \u5305","text":"<p>\u5c06 RPM \u5305\u5b89\u88c5\u5230\u76ee\u6807\u670d\u52a1\u5668\u5e76\u6d4b\u8bd5\uff1a</p> <p>`sudo rpm -ivh ~/rpmbuild/RPMS/x86_64/ipmi_exporter-1.0-1.el7.x86_64.rpm</p> <p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u52a0\u5165 <code>systemctl</code> \u7ba1\u7406\u5e76\u542f\u52a8\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E5%AE%89%E8%A3%85%E5%8C%85%E7%AE%A1%E7%90%86/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B6%E4%BD%9Crpm%E5%8C%85/#9","title":"9. \u9a8c\u8bc1","text":"<ol> <li> <p>\u67e5\u770b\u670d\u52a1\u72b6\u6001\uff1a</p> <p><code>systemctl status ipmi_exporter</code></p> </li> <li> <p>\u670d\u52a1\u5f00\u673a\u542f\u52a8\uff1a     <code>systemctl start ipmi_exporter</code> <code>systemctl enable ipmi_exporter</code></p> </li> </ol> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5b8c\u6574\u7684 RPM \u5305\uff0c\u5c06\u4e8c\u8fdb\u5236\u6587\u4ef6\u548c\u670d\u52a1\u914d\u7f6e\u6587\u4ef6\u6253\u5305\uff0c\u5e76\u786e\u4fdd\u7a0b\u5e8f\u80fd\u901a\u8fc7 <code>systemctl</code> \u7ba1\u7406\u548c\u542f\u52a8\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/BIOS%E8%AF%B4%E6%98%8E/%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8E%82%E5%95%86BIOS%E6%96%87%E6%A1%A3/%E6%B5%AA%E6%BD%AEBIOS%E8%AF%B4%E6%98%8E/","title":"\u6d6a\u6f6eBIOS\u8bf4\u660e","text":"<ul> <li>https://www.inspur.com/eportal/fileDir/active_download/platformBookZh/6740/%E6%B5%AA%E6%BD%AE%E8%8B%B1%E4%BF%A1%E6%9C%8D%E5%8A%A1%E5%99%A8%20BIOS%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C%20V2.0.pdf</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E5%BC%80%E6%9C%BA%E6%B5%81%E7%A8%8B/%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/","title":"\u7cfb\u7edf\u542f\u52a8\u6d41\u7a0b","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E5%BC%80%E6%9C%BA%E6%B5%81%E7%A8%8B/%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/#_1","title":"\u7b80\u4ecb","text":"<p>\u5f53\u4f60\u6309\u4e0b\u7535\u6e90\u6309\u952e\u540e\u8ba1\u7b97\u673a\u786c\u4ef6\u4f1a\u4e3b\u52a8\u7684\u8bfb\u53d6 BIOS \u6216 UEFI BIOS \u6765\u8f7d\u5165\u786c\u4ef6\u4fe1\u606f\u53ca \u8fdb\u884c\u786c\u4ef6\u7cfb\u7edf\u7684\u81ea\u6211\u6d4b\u8bd5\uff0c \u4e4b\u540e\u7cfb\u7edf\u4f1a\u4e3b\u52a8\u7684\u53bb\u8bfb\u53d6\u7b2c\u4e00\u4e2a\u53ef\u5f00\u673a\u7684\u8bbe\u5907 \uff08\u7531 BIOS \u8bbe\u7f6e \u7684\uff09 \uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u8bfb\u5165\u5f00\u673a\u7ba1\u7406\u7a0b\u5e8f \uff08Boot Loader\uff09\u4e86\u3002</p> <p>\u5f00\u673a\u7ba1\u7406\u7a0b\u5e8f \uff08Boot Loader\uff09 \u4f7f\u7528\u7684\u8f6f\u4ef6\u53ef\u80fd\u4e0d\u4e00\u6837\uff0c\u4f8b\u5982\u76ee\u524d\u5404\u5927 Linux distributions \u7684\u4e3b\u6d41\u4e3a grub2\uff0c\u4f46\u65e9\u671f Linux \u9ed8\u8ba4\u662f\u4f7f\u7528 grub1 \u6216 LILO \u3002</p> <p>\u5f00\u673a\u7ba1\u7406\u7a0b\u5e8f \uff08Boot Loader\uff09\u53ef\u4ee5\u6307\u5b9a\u4f7f\u7528\u54ea\u4e2a\u6838\u5fc3\u6587\u4ef6\u6765\u5f00\u673a\uff0c\u5e76\u5b9e\u9645\u8f7d\u5165\u7cfb\u7edf\u5185\u6838\u5230\u5185\u5b58\u5f53\u4e2d\u89e3\u538b\u7f29\u4e0e\u6267\u884c\uff0c \u6b64\u65f6\u7cfb\u7edf\u5185\u6838\u5c31\u80fd\u591f\u5f00\u59cb\u5728\u5185\u5b58\u5185\u6d3b\u52a8\uff0c\u5e76\u4fa6\u6d4b\u6240\u6709\u786c\u4ef6\u4fe1\u606f\u4e0e\u8f7d\u5165\u9002\u5f53\u7684\u9a71\u52a8\u7a0b\u5e8f\u6765\u4f7f\u6574\u90e8\u4e3b\u673a\u5f00\u59cb\u8fd0\u884c\uff0c \u7b49\u5230\u6838\u5fc3\u4fa6\u6d4b\u786c\u4ef6\u4e0e\u8f7d\u5165\u9a71\u52a8\u7a0b\u5e8f\u5b8c\u6bd5\u540e\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c31\u5f00\u59cb \u5728\u4f60\u7684 PC\u4e0a\u9762\u8dd1\u4e86\u3002</p> <p>\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>\u8f7d\u5165 BIOS \u7684\u786c\u4ef6\u4fe1\u606f\u4e0e\u8fdb\u884c\u81ea\u6211\u6d4b\u8bd5\uff0c\u5e76\u4f9d\u636e\u8bbe\u7f6e\u53d6\u5f97\u7b2c\u4e00\u4e2a\u53ef\u5f00\u673a\u7684\u8bbe\u5907\uff1b</li> <li>\u8bfb\u53d6\u5e76\u6267\u884c\u7b2c\u4e00\u4e2a\u5f00\u673a\u8bbe\u5907\u5185 MBR \u7684 boot Loader \uff08\u4ea6\u5373\u662f grub2, spfdisk \u7b49\u7a0b\u5e8f\uff09\uff1b</li> <li>\u4f9d\u636e boot loader \u7684\u8bbe\u7f6e\u8f7d\u5165 Kernel \uff0cKernel \u4f1a\u5f00\u59cb\u4fa6\u6d4b\u786c\u4ef6\u4e0e\u8f7d\u5165\u9a71\u52a8\u7a0b\u5e8f\uff1b</li> <li>\u5728\u786c\u4ef6\u9a71\u52a8\u6210\u529f\u540e\uff0cKernel \u4f1a\u4e3b\u52a8\u8c03\u7528 systemd \u7a0b\u5e8f\uff0c\u5e76\u4ee5 default.target \u6d41\u7a0b\u5f00\u673a\uff1b<ul> <li>systemd \u6267\u884c sysinit.target \u521d\u59cb\u5316\u7cfb\u7edf\u53ca basic.target \u51c6\u5907\u64cd\u4f5c\u7cfb\u7edf\uff1b</li> <li>systemd \u542f\u52a8 multi-user.target \u4e0b\u7684\u672c\u673a\u4e0e\u670d\u52a1\u5668\u670d\u52a1\uff1b</li> <li>systemd \u6267\u884c multi-user.target \u4e0b\u7684 /etc/rc.d/rc.local \u6587\u4ef6\uff1b</li> <li>systemd \u6267\u884c multi-user.target \u4e0b\u7684 getty.target \u53ca\u767b\u9646\u670d\u52a1\uff1b</li> <li>systemd \u6267\u884c graphical \u9700\u8981\u7684\u670d\u52a1</li> </ul> </li> </ol>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E5%BC%80%E6%9C%BA%E6%B5%81%E7%A8%8B/%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/#biosmbr-boot-loader","title":"BIOS\u3001MBR\u3001 Boot Loader","text":"<ul> <li> <p>BIOS\uff1a\u4e0d\u8bba\u4f20\u7edf BIOS \u8fd8\u662f UEFI BIOS \u90fd\u4f1a\u88ab\u7b80\u79f0\u4e3a BIOS\uff1b</p> <ul> <li>\u4f60\u60f3\u8981\u542f\u52a8\u6574 \u90e8\u7cfb\u7edf\u9996\u5148\u5c31\u5f97\u8981\u8ba9\u7cfb\u7edf\u53bb\u8f7d\u5165 BIOS \uff08Basic Input Output System\uff09\uff0c\u5e76\u901a\u8fc7 BIOS \u7a0b\u5e8f\u53bb \u8f7d\u5165 CMOS \u7684\u4fe1\u606f\uff0c\u5e76\u4e14\u501f\u7531 CMOS \u5185\u7684\u8bbe\u7f6e\u503c\u53d6\u5f97\u4e3b\u673a\u7684\u5404\u9879\u786c\u4ef6\u8bbe\u7f6e\u3002</li> <li>\u4f8b\u5982 CPU \u4e0e \u5468\u8fb9\u8bbe\u5907\u7684\u6c9f\u901a\u9891\u7387\u554a\u3001\u5f00\u673a\u8bbe\u5907\u7684\u641c\u5bfb\u987a\u5e8f\u554a\u3001\u786c\u76d8\u7684\u5927\u5c0f\u4e0e\u7c7b\u578b\u554a\u3001 \u7cfb\u7edf\u65f6\u95f4\u554a\u3001\u5404\u5468 \u8fb9\u603b\u7ebf\u7684\u662f\u5426\u542f\u52a8 Plug and Play \uff08PnP, \u968f\u63d2\u5373\u7528\u8bbe\u5907\uff09 \u554a\u3001 \u5404\u5468\u8fb9\u8bbe\u5907\u7684 I/O \u4f4d\u5740\u554a\u3001\u4ee5 \u53ca\u4e0e CPU \u6c9f\u901a\u7684 IRQ \u5c94\u65ad\u7b49\u7b49\u7684\u4fe1\u606f\u3002</li> <li>\u7531\u4e8e\u6211\u4eec\u7684\u7cfb\u7edf\u8f6f\u4ef6\u5927\u591a\u653e\u7f6e\u5230\u786c\u76d8\u4e2d\u561b\uff01\u6240\u4ee5 BIOS \u4f1a\u6307\u5b9a\u5f00\u673a\u7684\u8bbe\u5907\u597d\u8ba9\u6211\u4eec\u53ef\u4ee5\u8bfb\u53d6 \u78c1\u76d8\u4e2d\u7684\u64cd\u4f5c\u7cfb\u7edf\u6838\u5fc3\u6587\u4ef6\u3002 \u4f46\u7531\u4e8e\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u4ed6\u7684\u6587\u4ef6\u7cfb\u7edf\u683c\u5f0f\u4e0d\u76f8\u540c\uff0c\u56e0\u6b64\u6211\u4eec\u5fc5 \u987b\u8981\u4ee5\u4e00\u4e2a\u5f00\u673a\u7ba1\u7406\u7a0b\u5e8f\u6765\u5904\u7406\u6838\u5fc3\u6587\u4ef6\u8f7d\u5165 \uff08load\uff09 \u7684\u95ee\u9898\uff0c \u56e0\u6b64\u8fd9\u4e2a\u5f00\u673a\u7ba1\u7406\u7a0b\u5e8f\u5c31\u88ab \u79f0\u4e3a Boot Loader \u4e86\u3002</li> <li>\u90a3\u8fd9\u4e2a Boot Loader \u7a0b\u5e8f\u5b89\u88c5\u5728\u54ea\u91cc\u5462\uff1f\u5c31\u5728\u5f00\u673a\u8bbe\u5907\u7684\u7b2c\u4e00\u4e2a\u6247\u533a \uff08sector\uff09 \u5185\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u4e00\u76f4\u8c08\u5230\u7684 MBR \uff08Master Boot Record, \u4e3b\u8981\u5f00\u673a\u8bb0\u5f55\u533a\uff09\u3002</li> </ul> </li> <li> <p>MBR\uff1a\u867d\u7136\u5206\u533a\u8868\u6709\u4f20\u7edf MBR \u4ee5\u53ca\u65b0\u5f0f GPT\uff0c\u4e0d\u8fc7 GPT \u4e5f\u6709\u4fdd\u7559\u4e00\u5757\u76f8\u5bb9 MBR \u7684\u533a\u5757\uff0c\u56e0\u6b64\uff0c\u4e0b\u9762\u7684\u8bf4\u660e\u5728\u5b89\u88c5 boot loader \u7684\u90e8\u4efd\uff0c \u8fd8\u662f\u7b80\u79f0\u4e3a MBR \u5594\uff01\u603b\u4e4b\uff0cMBR \u5c31\u4ee3\u8868\u8be5\u78c1\u76d8\u7684\u6700\u524d\u9762\u53ef\u5b89\u88c5 boot loader \u7684\u90a3\u4e2a\u533a\u5757\u5c31\u5bf9\u4e86\uff01</p> <ul> <li>\u65e2\u7136\u6838\u5fc3\u6587\u4ef6\u9700\u8981 loader \u6765\u8bfb\u53d6\uff0c\u90a3\u6bcf\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u7684 loader \u90fd\u4e0d \u76f8\u540c\uff0c \u8fd9\u6837\u7684\u8bdd BIOS \u53c8\u662f\u5982\u4f55\u8bfb\u53d6 MBR \u5185\u7684 loader \u5462\uff1f\u5f88\u6709\u8da3\u7684\u95ee\u9898\u5427\uff01\u5176\u5b9e BIOS \u662f \u901a\u8fc7\u786c\u4ef6\u7684 INT 13 \u4e2d\u65ad\u529f\u80fd\u6765\u8bfb\u53d6 MBR \u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u8981 BIOS \u80fd\u591f\u4fa6\u6d4b\u7684\u5230\u4f60\u7684\u78c1\u76d8 \uff08\u4e0d\u8bba\u8be5\u78c1\u76d8\u662f SATA \u8fd8\u662f SAS \u63a5\u53e3\uff09\uff0c\u90a3\u4ed6\u5c31\u6709\u529e\u6cd5\u901a\u8fc7 INT 13 \u8fd9\u6761\u4fe1\u9053\u6765\u8bfb\u53d6\u8be5\u78c1\u76d8 \u7684\u7b2c\u4e00\u4e2a\u6247\u533a\u5185\u7684 MBR \u8f6f\u4ef6\u5566\uff01\u8fd9\u6837 boot loader \u4e5f\u5c31\u80fd\u591f\u88ab\u6267\u884c\u5570</li> <li>\u6bcf\u9897\u786c\u76d8\u7684\u6700\u524d\u9762\u533a\u5757\u542b\u6709 MBR \u6216 GPT \u5206\u533a\u8868\u7684\u63d0\u4f9b loader \u7684\u533a\u5757\uff0c\u90a3\u4e48 \u5982\u679c\u6211\u7684\u4e3b\u673a\u4e0a\u9762\u6709\u4e24\u9897\u786c\u76d8\u7684\u8bdd\uff0c \u7cfb\u7edf\u4f1a\u53bb\u54ea\u9897\u786c\u76d8\u7684\u6700\u524d\u9762\u533a\u5757\u8bfb\u53d6 boot loader \u5462\uff1f\u8fd9 \u4e2a\u5c31\u5f97\u8981\u770b BIOS \u7684\u8bbe\u7f6e\u4e86\u3002 \u57fa\u672c\u4e0a\uff0c\u6211\u4eec\u5e38\u5e38\u8bb2\u7684\u201c\u7cfb\u7edf\u7684 MBR\u201d\u5176\u5b9e\u6307\u7684\u662f \u7b2c\u4e00\u4e2a\u5f00\u673a\u8bbe \u5907\u7684 MBR \u624d\u5bf9\uff01</li> </ul> </li> <li> <p>Boot Loader\uff1a\u6700\u4e3b\u8981\u529f\u80fd\u662f\u8981\u8ba4\u8bc6\u64cd\u4f5c\u7cfb\u7edf\u7684\u6587\u4ef6\u683c\u5f0f\u5e76\u636e\u4ee5\u8f7d\u5165\u6838\u5fc3\u5230\u5185\u5b58\u4e2d\u53bb\u6267\u884c</p> <ul> <li>\u7531\u4e8e\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u7684\u6587\u4ef6\u683c\u5f0f\u4e0d\u4e00\u81f4\uff0c\u56e0\u6b64\u6bcf\u79cd\u64cd\u4f5c\u7cfb\u7edf\u90fd\u6709\u81ea\u5df1\u7684 boot loader \u5566\uff01\u7528 \u81ea\u5df1\u7684 loader \u624d\u6709\u529e\u6cd5\u8f7d\u5165\u6838\u5fc3\u6587\u4ef6\u561b</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E5%BC%80%E6%9C%BA%E6%B5%81%E7%A8%8B/%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/#_2","title":"\u591a\u91cd\u64cd\u4f5c\u7cfb\u7edf\u539f\u7406","text":"<ul> <li> <p>\u4f60\u5e94\u8be5\u6709\u542c\u8bf4\u8fc7\u591a\u91cd\u64cd\u4f5c\u7cfb\u7edf\u5427\uff1f \u4e5f\u5c31\u662f\u5728\u4e00\u90e8\u4e3b\u673a\u4e0a\u9762\u5b89\u88c5\u591a\u79cd\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002 \u65e2\u7136\u4f60\u5fc5\u987b\u8981\u4f7f\u7528\u81ea\u5df1\u7684 loader \u624d \u80fd\u591f\u8f7d\u5165\u5c5e\u4e8e\u81ea\u5df1\u7684\u64cd\u4f5c\u7cfb\u7edf\u6838\u5fc3\uff0c\u800c \u7cfb\u7edf\u7684 MBR \u53ea\u6709\u4e00\u4e2a\uff0c\u90a3\u4f60\u600e\u4e48\u4f1a\u6709\u529e\u6cd5\u540c\u65f6 \u5728\u4e00\u90e8\u4e3b\u673a\u4e0a\u9762\u5b89\u88c5 Windows \u4e0e Linux \u5462\uff1f</p> </li> <li> <p>\u5176\u5b9e\u6bcf\u4e2a\u6587\u4ef6\u7cfb\u7edf \uff08filesystem, \u6216\u8005\u662f partition\uff09 \u90fd\u4f1a\u4fdd\u7559\u4e00\u5757\u5f00\u673a\u6247\u533a \uff08boot sector\uff09 \u63d0\u4f9b\u64cd\u4f5c\u7cfb\u7edf\u5b89\u88c5 boot loader \uff0c \u800c\u901a\u5e38\u64cd\u4f5c\u7cfb\u7edf\u9ed8\u8ba4\u90fd\u4f1a\u5b89\u88c5\u4e00\u4efd loader \u5230\u4ed6\u6839\u76ee\u5f55\u6240\u5728\u7684\u6587\u4ef6\u7cfb\u7edf\u7684 boot sector \u4e0a\u3002\u5982\u679c\u6211\u4eec\u5728\u4e00\u90e8\u4e3b\u673a\u4e0a\u9762\u5b89\u88c5 Windows \u4e0e Linux \u540e\uff0c\u8be5 boot sector, boot loader \u4e0e MBR \u7684\u76f8\u5173\u6027\u4f1a\u6709\u70b9\u50cf\u4e0b\u56fe\uff1a </p> </li> <li> <p>\u6bcf\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u9ed8\u8ba4\u662f\u4f1a\u5b89\u88c5\u4e00\u5957 boot loader \u5230\u4ed6\u81ea\u5df1\u7684\u6587\u4ef6\u7cfb\u7edf\u4e2d \uff08\u5c31\u662f\u6bcf\u4e2a filesystem \u5de6\u4e0b\u89d2\u7684\u65b9\u6846\uff09\uff0c\u800c\u5728 Linux \u7cfb\u7edf\u5b89\u88c5\u65f6\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u5c06 boot loader \u5b89\u88c5\u5230 MBR \u53bb\uff0c\u4e5f\u53ef\u4ee5\u9009\u62e9\u4e0d\u5b89\u88c5\u3002 \u5982\u679c\u9009\u62e9\u5b89\u88c5\u5230 MBR \u7684\u8bdd\uff0c\u90a3\u7406\u8bba\u4e0a\u4f60\u5728 MBR \u4e0e boot sector \u90fd \u4f1a\u4fdd\u6709\u4e00\u4efd boot loader \u7a0b\u5e8f\u7684\u3002</p> </li> <li> <p>\u81f3\u4e8e Windows \u5b89\u88c5\u65f6\uff0c\u4ed6\u9ed8\u8ba4\u4f1a\u4e3b\u52a8\u7684\u5c06 MBR \u4e0e boot sector \u90fd\u88c5\u4e0a\u4e00\u4efd boot loader\uff01\u6240\u4ee5\u5566\uff0c \u4f60\u4f1a\u53d1\u73b0\u5b89\u88c5\u591a\u91cd\u64cd\u4f5c\u7cfb\u7edf\u65f6\uff0c\u4f60\u7684 MBR \u5e38\u5e38\u4f1a \u88ab\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u7684 boot loader \u6240\u8986\u76d6\u5566\uff01</p> </li> <li> <p>\u867d\u7136\u5404\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u90fd\u53ef\u4ee5\u5b89\u88c5\u4e00\u4efd boot loader \u5230 \u4ed6\u4eec\u7684 boot sector \u4e2d\uff0c \u8fd9\u6837\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u901a\u8fc7\u81ea\u5df1\u7684 boot loader \u6765\u8f7d\u5165\u6838\u5fc3\u4e86\u3002\u95ee\u9898\u662f\u7cfb \u7edf\u7684 MBR \u53ea\u6709\u4e00\u4e2a\u54e9\uff01 \u4f60\u8981\u600e\u4e48\u6267\u884c boot sector \u91cc\u9762\u7684 loader \u554a\uff1f\u8fd9\u4e2a\u6211\u4eec\u5f97\u8981\u56de\u5fc6\u4e00\u4e0bboot loader \u7684\u529f\u80fd\u4e86\u3002boot loader \u4e3b\u8981\u7684\u529f\u80fd\u5982\u4e0b\uff1a</p> <ul> <li>\u63d0\u4f9b\u83dc\u5355\uff1a\u4f7f\u7528\u8005\u53ef\u4ee5\u9009\u62e9\u4e0d\u540c\u7684\u5f00\u673a\u9879\u76ee\uff0c\u8fd9\u4e5f\u662f\u591a\u91cd\u5f00\u673a\u7684\u91cd\u8981\u529f\u80fd\uff01</li> <li>\u8f7d\u5165\u6838\u5fc3\u6587\u4ef6\uff1a\u76f4\u63a5\u6307\u5411\u53ef\u5f00\u673a\u7684\u7a0b\u5e8f\u533a\u6bb5\u6765\u5f00\u59cb\u64cd\u4f5c\u7cfb\u7edf\uff1b</li> <li>\u8f6c\u4ea4\u5176\u4ed6 loader\uff1a\u5c06\u5f00\u673a\u7ba1\u7406\u529f\u80fd\u8f6c\u4ea4\u7ed9\u5176\u4ed6 loader \u8d1f\u8d23\u3002</li> </ul> </li> <li> <p>\u7531\u4e8e\u5177\u6709\u83dc\u5355\u529f\u80fd\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u4e0d\u540c\u7684\u6838\u5fc3\u6765\u5f00\u673a\u3002\u800c\u7531\u4e8e\u5177\u6709\u63a7\u5236\u6743\u8f6c\u4ea4\u7684\u529f\u80fd\uff0c \u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8f7d\u5165\u5176\u4ed6 boot sector \u5185\u7684 loader \u5566\uff01\u4e0d\u8fc7 Windows \u7684 loader \u9ed8\u8ba4\u4e0d\u5177\u6709\u63a7\u5236 \u6743\u8f6c\u4ea4\u7684\u529f\u80fd\uff0c\u56e0\u6b64\u4f60\u4e0d\u80fd\u4f7f\u7528 Windows \u7684 loader \u6765\u8f7d\u5165 Linux \u7684 loader \u5594\uff01\u8fd9\u4e5f\u662f\u4e3a\u5565\u8c08\u5230 MBR \u4e0e\u591a\u91cd\u5f00\u673a\u65f6\uff0c\u4f1a\u7279\u522b\u5f3a\u8c03\u5148\u88c5 Windows \u518d\u88c5 Linux \u7684\u7f18\u6545\u3002 </p> </li> <li> <p>\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u6211\u7684 MBR \u4f7f\u7528 Linux \u7684 grub2 \u8fd9\u4e2a\u5f00\u673a\u7ba1\u7406\u7a0b\u5e8f\uff0c\u5e76\u4e14\u91cc\u9762\u5047\u8bbe\u5df2\u7ecf\u6709\u4e86\u4e09\u4e2a \u83dc\u5355\uff1a</p> <ul> <li>\u83dc\u5355\u4e00\uff1aMBR\uff08grub2\uff09 --&gt; kernel file --&gt; booting </li> <li>\u83dc\u5355\u4e8c\uff1aMBR\uff08grub2\uff09 --&gt; boot sector\uff08Windows loader\uff09 --&gt; Windows kernel --&gt; booting</li> <li>\u83dc\u5355\u4e09\uff1aMBR\uff08grub2\uff09 --&gt; boot sector\uff08grub2\uff09 --&gt; kernel file --&gt; booting </li> </ul> </li> <li> <p>\u8bf4\u660e\u5982\u4e0b\uff1a</p> <ul> <li>\u7b2c\u4e00\u4e2a\u83dc\u5355\u53ef\u4ee5\u76f4\u63a5\u6307\u5411 Linux \u7684\u6838\u5fc3\u6587\u4ef6\u5e76\u4e14\u76f4\u63a5\u8f7d\u5165\u6838\u5fc3\u6765\u5f00\u673a\uff1b</li> <li>\u7b2c\u4e8c\u4e2a\u83dc\u5355\u53ef \u4ee5\u5c06\u5f00\u673a\u7ba1\u7406\u7a0b\u63a7\u6743\u4ea4\u7ed9 Windows \u6765\u7ba1\u7406\uff0c\u6b64\u65f6 Windows \u7684 loader \u4f1a\u63a5\u7ba1\u5f00\u673a\u6d41\u7a0b\uff0c\u8fd9\u4e2a \u65f6\u5019\u4ed6\u5c31\u80fd\u591f\u542f\u52a8 windows \u4e86\u3002</li> <li>\u7b2c\u4e09\u4e2a\u83dc\u5355\u5219\u662f\u4f7f\u7528 Linux \u5728 boot sector \u5185\u7684\u5f00\u673a\u7ba1\u7406\u7a0b \u5e8f\uff0c\u6b64\u65f6\u5c31\u4f1a\u8df3\u51fa\u53e6\u4e00\u4e2a grub2 \u7684\u83dc\u5355\u5566</li> </ul> </li> <li> <p>\u800c\u6700\u7ec8 boot loader \u7684\u529f\u80fd\u5c31\u662f\u201c\u8f7d\u5165 kernel \u6587\u4ef6\u201d\u5566\uff01</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E5%BC%80%E6%9C%BA%E6%B5%81%E7%A8%8B/%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/#_3","title":"\u53c2\u8003\uff1a","text":"<ul> <li>https://linux.vbird.org/linux_basic/centos7/0510osloader.php#startup</li> <li>https://tiramisutes.github.io/images/PDF/vbird-linux-basic-4e.pdf</li> <li>https://github.com/wengmq/wengmq.github.io/blob/main/docs/%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E5%BC%80%E6%9C%BA%E6%B5%81%E7%A8%8B/assets/vbird-linux-basic-4e.pdf</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/000-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E4%BB%B6%E9%80%89%E5%9E%8B/","title":"000 \u8ba1\u7b97\u673a\u7ec4\u4ef6\u9009\u578b","text":"<ul> <li>CPU\uff1a\u00a0CPU\u9009\u8d2d\u6307\u5357\u53ca\u63a8\u8350</li> <li>\u6563\u70ed\u5668\uff1a\u00a0\u6563\u70ed\u5668\u9009\u8d2d\u6307\u5357\u53ca\u63a8\u8350</li> <li>\u4e3b\u677f\uff1a\u00a0\u4e3b\u677f\u9009\u8d2d\u653b\u7565\u53ca\u63a8\u8350</li> <li>\u663e\u5361\uff1a\u00a0\u663e\u5361\u9009\u8d2d\u6307\u5357\u53ca\u63a8\u8350</li> <li>\u5185\u5b58\uff1a\u00a0\u5185\u5b58\u9009\u8d2d\u6307\u5357\u53ca\u63a8\u8350</li> <li>\u56fa\u6001\u786c\u76d8\uff1a\u56fa\u6001\u786c\u76d8\u6027\u80fd\u53ca\u6027\u4ef7\u6bd4\u63a8\u8350</li> <li>\u673a\u68b0\u786c\u76d8\uff1a\u673a\u68b0\u786c\u76d8\u9009\u8d2d\u6307\u5357\u53ca\u63a8\u8350</li> <li>\u7535\u6e90\uff1a\u00a0\u7535\u6e90\u9009\u8d2d\u6307\u5357\u53ca\u63a8\u8350</li> <li>\u673a\u7bb1\uff1a\u00a0\u673a\u7bb1\u9009\u8d2d\u6307\u5357\u53ca\u63a8\u8350</li> <li>\u663e\u793a\u5668\uff1a\u00a0\u663e\u793a\u5668\u9009\u8d2d\u6307\u5357\u53ca\u63a8\u8350</li> <li>\u6563\u70ed\u98ce\u6247\uff1a\u673a\u7bb1\u6563\u70ed\u98ce\u6247\u9009\u8d2d\u6307\u5357\u53ca\u63a8\u8350</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/010-CPU/","title":"010 CPU","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/010-CPU/#_1","title":"\u7b80\u4ecb","text":"<p> - CPU\u662f\u4e2d\u592e\u5904\u7406\u5668\u7684\u7b80\u79f0\uff0c\u5b83\u662f\u8ba1\u7b97\u673a\u7684\u6838\u5fc3\u90e8\u4ef6\uff0c\u8d1f\u8d23\u6267\u884c\u5404\u79cd\u6307\u4ee4\u548c\u8fd0\u7b97\u3002CPU\u7531\u591a\u4e2a\u6838\u5fc3\uff08Core\uff09\u7ec4\u6210\uff0c\u6bcf\u4e2a\u6838\u5fc3\u53ef\u4ee5\u540c\u65f6\u5904\u7406\u4e00\u4e2a\u6216\u591a\u4e2a\u7ebf\u7a0b\uff08Thread\uff09\u3002\u7ebf\u7a0b\u662fCPU\u6267\u884c\u4efb\u52a1\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u7a0b\u5e8f\u6216\u4e00\u4e2a\u8fdb\u7a0b\u7684\u4e00\u90e8\u5206\u3002\u6838\u5fc3\u6570\u548c\u7ebf\u7a0b\u6570\u51b3\u5b9a\u4e86CPU\u7684\u5e76\u884c\u5904\u7406\u80fd\u529b\uff0c\u4e5f\u5c31\u662f\u540c\u65f6\u6267\u884c\u591a\u5c11\u4e2a\u4efb\u52a1\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/010-CPU/#amdintel","title":"amd\u548cintel","text":"<ul> <li> <p>amd\u548cIntel\u8fd9\u4fe9\u516c\u53f8\u7684\u6e0a\u6e90\u5f88\u6df1\uff0c\u65e9\u671f\u65f6Intel\u5148\u662f\u81ea\u5df1\u641e\u4e86\u4e2ax86\u67b6\u6784\uff0c\u7136\u540eamd\u62ff\u5230\u4e86x86\u7684\u6388\u6743\u4e5f\u53ef\u4ee5\u81ea\u5df1\u505ax86\u4e86\u3002\u63a5\u7740intel\u541164\u4f4d\u8fc7\u6e21\u7684\u65f6\u5019\u81ea\u5df1\u641e\u4e86\u4e2aia64\uff08x64\u67b6\u6784\uff09\u4f46\u662f\u56e0\u4e3a\u548cx86\u67b6\u6784\u4e0d\u517c\u5bb9\u5e02\u573a\u53cd\u5e94\u6781\u5dee\uff0camd\u7387\u5148\u641e\u4e86x86\u768464\u4f4d\u517c\u5bb9\uff0832\u548c64\u7684\u6df7\u5408\u67b6\u6784\uff09\u4e5f\u5c31\u662f\u540e\u6765\u7684x86-64\uff0c\u540e\u6765Intel\u4e5f\u62ff\u5230\u4e86\u751f\u4ea7\u8fd9\u8d27\u7684\u6388\u6743\uff08i\u548ca\u4e24\u5bb6\u4e13\u5229\u4ea4\u53c9\u7684\u5f88\u4e25\u91cd\uff09\uff0c\u4e5f\u641e\u4e86x86-64\uff0c\u56e0\u4e3aamd\u5148\u641e\u51fa\u6765\u7684\u6240\u4ee5x86-64\u4e5f\u53ebamd64</p> <ul> <li>Intel\u662f\u4e2a\u82af\u7247\u516c\u53f8\uff0c\u8bf4\u767d\u4e86\uff0c\u4e3b\u4e1a\u662f\u8bbe\u8ba1\u5e76\u5236\u9020CPU\u7684\uff08\u5f53\u7136\u8fd8\u6709\u522b\u7684\u4ea7\u54c1\uff09\uff0c\u4e3b\u8981\u67b6\u6784\u662fx86\u67b6\u6784\uff0cx86_64\u67b6\u6784</li> <li>AMD\u4e5f\u662f\u4e2a\u82af\u7247\u516c\u53f8\uff0c\u4e3b\u4e1a\u9664\u4e86\u8bbe\u8ba1CPU\uff08AMD\u4e0d\u6d41\u7247\uff0c\u6240\u4ee5\u6ca1\u6709\u5236\u9020\uff09\u8fd8\u6709\u8bbe\u8ba1\u663e\u5361\uff08\u6536\u8d2d\u7684ATI\uff09\uff0cAMD\u8bbe\u8ba1\u7684CPU\u548cintel x86/x86_64\u7cfb\u5217\u517c\u5bb9\u3002</li> </ul> </li> <li> <p>\u4e24\u8005CPU\u6027\u80fd\u6bd4\u8f83\uff1a</p> <ul> <li>AMD\u7684CPU\u901a\u5e38\u62e5\u6709\u66f4\u591a\u7684\u6838\u5fc3\u548c\u7ebf\u7a0b\uff0c\u4f8b\u5982AMD Ryzen 9 5950X\u62e5\u670916\u4e2a\u6838\u5fc3\u548c32\u4e2a\u7ebf\u7a0b\uff0c\u800c\u82f1\u7279\u5c14Core i9-11900K\u53ea\u67098\u4e2a\u6838\u5fc3\u548c16\u4e2a\u7ebf\u7a0b\u3002\u8fd9\u610f\u5473\u7740AMD\u7684CPU\u5728\u5904\u7406\u591a\u7ebf\u7a0b\u4efb\u52a1\u65f6\uff0c\u4f8b\u5982\u89c6\u9891\u7f16\u8f91\u30013D\u6e32\u67d3\u3001\u79d1\u5b66\u8ba1\u7b97\u7b49\uff0c\u4f1a\u6709\u66f4\u597d\u7684\u6027\u80fd\u8868\u73b0\u3002</li> <li>\u82f1\u7279\u5c14\u7684CPU\u901a\u5e38\u62e5\u6709\u66f4\u9ad8\u7684\u5355\u6838\u5fc3\u6027\u80fd\uff0c\u4f8b\u5982\u82f1\u7279\u5c14Core i9-11900K\u7684\u5355\u6838\u5fc3\u6027\u80fd\u6bd4AMD Ryzen 9 5950X\u9ad8\u51fa\u7ea610%\u3002\u8fd9\u610f\u5473\u7740\u82f1\u7279\u5c14\u7684CPU\u5728\u5904\u7406\u5355\u7ebf\u7a0b\u4efb\u52a1\u65f6\uff0c\u4f8b\u5982\u6e38\u620f\u3001\u7f51\u9875\u6d4f\u89c8\u3001\u529e\u516c\u8f6f\u4ef6\u7b49\uff0c\u4f1a\u6709\u66f4\u597d\u7684\u6027\u80fd\u8868\u73b0\u3002\u901a\u5e38\u6e38\u620f\u515a\u73a9\u5bb6\u9996\u9009intel\u7684cpu\u82af\u7247\u3002</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/010-CPU/#cpu","title":"CPU\u6307\u4ee4\u96c6","text":"<p>\u65e9\u671f\u7684cpu\u6709\u4e24\u4e2a\u8bbe\u8ba1\u601d\u8def\uff0c1\u662f\u628acpu\u5185\u7684\u903b\u8f91\u7535\u8def\u505a\u7684\u975e\u5e38\u590d\u6742\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u7528cpu\u786c\u4ef6\u4e8b\u5148\u590d\u6742\u6307\u4ee4\uff0c\u8fd9\u4e2a\u53eb\u590d\u6742\u6307\u4ee4\u96c6cisc\uff1b\u53e6\u4e00\u4e2a\u601d\u8def\u662f\u5c3d\u53ef\u80fd\u628acpu\u505a\u7684\u7b80\u5355\uff0c\u4f9d\u9760\u7b80\u5355\u6307\u4ee4\u7684\u7ec4\u5408\u8fed\u4ee3\u5b8c\u6210\u590d\u6742\u6307\u4ee4\uff0c\u8fd9\u4e2a\u53eb\u7cbe\u7b80\u6307\u4ee4\u96c6risc</p> <ul> <li> <p>\u590d\u6742\u6307\u4ee4\u96c6cisc</p> <ul> <li>x86\u76ee\u524d\u6cdb\u6307x86\u548cx86-64\u67b6\u6784\uff0c\u8fd9\u662f\u56e0\u4e3ax86-64\u5b8c\u5168\u517c\u5bb9x86\u3002\u65e9\u671f\u7684x86\u662fcisc\u7684\u4ee3\u8868\uff0c\u540e\u6765\u7684\u53d1\u5c55\u4e2d\u9010\u6b65\u5f15\u5165\u4e86risc\u7684\u90e8\u5206\u7406\u5ff5\uff0c\u5c06\u5185\u90e8\u6307\u4ee4\u7684\u5b9e\u73b0\u5927\u91cf\u6a21\u5757\u5316\uff0c\u51c6\u786e\u6765\u8bf4\u662f\u4e00\u4e2acisc\u5916\u52a0risc\u90e8\u5206\u6280\u672f\u7684\u67b6\u6784\u3002</li> </ul> </li> <li> <p>\u7cbe\u7b80\u6307\u4ee4\u96c6risc</p> <ul> <li> <p>arm\u662frisc\u7684\u5178\u578b\u4ee3\u8868\uff0c\u4e0d\u8fc7\u5728arm\u7684\u53d1\u5c55\u8fc7\u7a0b\u4e2d\u5f15\u5165\u4e86\u90e8\u5206\u590d\u6742\u6307\u4ee4\uff08\u5b8c\u5168\u6ca1\u6709\u590d\u6742\u6307\u4ee4\u7684\u8bdd\u64cd\u4f5c\u7cfb\u7edf\u8dd1\u8d77\u6765\u5f02\u5e38\u8270\u96be\uff09\uff0c\u6240\u4ee5\u662f\u4e00\u4e2arisc\u57fa\u7840\u5916\u52a0cisc\u6280\u672f\u7684cpu\u3002</p> </li> <li> <p>arm\u7684\u4e3b\u8981\u4e13\u5229\u6280\u672f\u5728arm\u516c\u53f8\u624b\u4e2d\uff0c\u50cf\u9ad8\u901a\uff0c\u4e09\u661f\uff0c\u82f9\u679c\u8fd9\u4e9b\u516c\u53f8\u9700\u8981\u62ff\u5230arm\u7684\u6388\u6743\uff0c\u4f8b\u5982\u73b0\u5728mac\u4f7f\u7528\u7684m\u7cfb\u5217\u7684\u82af\u7247\u7684\u7535\u8111\u90fd\u662f\u4f7f\u7528arm\u67b6\u6784\u7684\u3002</p> </li> <li> <p>\u53e6\u4e00\u4e2arisc\u7684\u5178\u578b\u5904\u7406\u5668\u5c31\u662fmips\u3002mips\u662f\u4e00\u4e2a\u5b66\u9662\u6d3e\u7684cpu\uff0c\u6388\u6743\u95e8\u69db\u6781\u4f4e\uff0c\u56e0\u6b64\u5f88\u591a\u5382\u5bb6\u90fd\u505amips\u6216\u8005mips\u884d\u751f\u67b6\u6784\u3002\u6211\u4eec\u5e73\u65f6\u63a5\u89e6\u5230\u7684mips\u67b6\u6784cpu\u4e3b\u8981\u7528\u5728\u5d4c\u5165\u5f0f\u9886\u57df\uff0c\u6bd4\u5982\u8def\u7531\u5668\u3002</p> </li> </ul> </li> <li> <p>\u4f8b\u5982\u5f88\u591a\u5f00\u6e90\u7684\u8f6f\u4ef6\u7684\u4e0b\u8f7d\u9700\u8981\u6839\u636e\u4f60\u7684\u3010CPU\u7c7b\u578b\u3011\u548c\u3010\u7cfb\u7edf\u7c7b\u578b\u3011\u4e0b\u8f7d\u4e0d\u540c\u7684\u8f6f\u4ef6\u7248\u672c</p> <ul> <li>\u8fd9\u91cc\u7684darwin\u662f\u6307\u82f9\u679c\u7684\u7cfb\u7edf\uff0c\u7531\u4e8e\u82f9\u679c\u7cfb\u7edf\u65e9\u671f\u7684CPU\u7528\u7684\u4e5f\u662famd\u7684\u82af\u7247\uff0c\u540e\u7eed\u5f00\u59cb\u4f7f\u7528m\u7cfb\u5217\u7684\u82af\u7247\uff08arm\u67b6\u6784\uff09\uff0c\u6240\u4ee5\u82f9\u679c\u7cfb\u7edf\u7684\u8f6f\u4ef6\u5305\u901a\u5e38\u5206\u6210\u4e86\u4e24\u4e2a\u7248\u672c</li> <li>\u5176\u4ed6windows\u548clinux\u7528\u7684\u7535\u8111\u5927\u90e8\u5206\u90fd\u662f\u4f7f\u7528amd64\uff08\u6216\u8005\u8bf4x86-64\uff09</li> </ul> </li> </ul> <p></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/010-CPU/#cpu_1","title":"CPU\u6027\u80fd\u6307\u6807","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/010-CPU/#cpu_2","title":"CPU\u6838\u5fc3\u6570\u548c\u7ebf\u7a0b\u6570","text":"<ul> <li> <p>CPU\u7684\u6838\u5fc3\u4e0e\u7ebf\u7a0b\u662f\u6700\u5bb9\u6613\u505a\u6587\u7ae0\u7684\u5730\u65b9\uff0c\u6838\u5fc3\u6570\u4f53\u73b0\u5728\u7269\u7406\u5c42\u9762\u4e0a\u3002\u4f8b\u59824\u6838\u5fc3\uff0c\u8bf4\u660e\u5904\u7406\u5668\u91cc\u9762\u662f\u771f\u5b9e\u5305\u542b4\u9897\u6838\u5fc3\uff0c\u4e25\u683c\u6765\u8bf4\u6838\u5fc3\u6570\u91cf\u8d8a\u591a\uff0c\u4e0d\u80fd\u8bf4\u8fd9\u4e2aCPU\u8d8a\u597d\uff0c\u4f46\u80fd\u660e\u786e\u7684\u662f\u6838\u5fc3\u6570\u8d8a\u591a\uff0cCPU\u6240\u80fd\u5904\u7406\u7684\u6570\u636e\u548c\u4efb\u52a1\u8d8a\u591a\u3002</p> </li> <li> <p>\u800c\u7ebf\u7a0b\u5e76\u4e0d\u662f\u771f\u5b9e\u5b58\u5728\u7684\uff0c\u800c\u662f\u4e00\u79cd\u6982\u5ff5\u51fa\u6765\u7684 \uff0c\u7ebf\u7a0b\u6570\u662f\u4f1a\u662f\u5927\u4e8e\u6216\u7b49\u4e8e\u6838\u5fc3\u6570\uff0c\u4e00\u4e2a\u6838\u5fc3\u6700\u5c11\u5bf9\u5e94\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u901a\u8fc7\u82f1\u7279\u5c14\u8d85\u7ebf\u7a0b\u4ee5\u53caAMD\u591a\u7ebf\u7a0b\u6280\u672f\uff0c\u53ef\u4ee5\u8ba9\u5355\u9897\u6838\u5fc3\u6a21\u62df\u51fa\u53cc\u9897\u6838\u5fc3\uff0c\u4e5f\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u4f1a\u89c1\u5230\u53cc\u6838\u5fc3\u56db\u7ebf\u7a0b\u3001\u516d\u6838\u5fc3\u5341\u4e8c\u7ebf\u7a0b\u7b49\u8fd9\u4e9b\u7406\u5668\uff0c\u591a\u4e00\u9897\u6838\u5fc3\u5c31\u591a\u4e00\u4e2a\u4eba\uff0c\u800c\u591a\u4e00\u4e2a\u7ebf\u7a0b\u5c31\u591a\u4e00\u53ea\u624b\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/010-CPU/#cpu_3","title":"CPU\u9891\u7387","text":"<ul> <li> <p>\u9891\u7387\u5728CPU\u4e2d\u5206\u4e3a\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u57fa\u672c\u9891\u7387\uff0c\u8fd8\u6709\u4e00\u79cd\u662f\u52a0\u901f\u9891\u7387\uff0c\u5176\u4e2d\u52a0\u901f\u9891\u7387\u82f1\u7279\u5c14\u53eb\u505a\u777f\u9891\u548cAMD\u53eb\u505a\u7cbe\u51c6\u52a0\u901f\u9891\u7387\uff0c\u5176\u5b9e\u90fd\u662f\u4e00\u4e2a\u610f\u601d\uff0cCPU\u7684\u9891\u7387\u901a\u5e38\u90fd\u662f\u53ea\u4e00\u9897\u6838\u5fc3\u53d1\u6325\u7684\u9891\u7387\uff0c\u5e76\u4e0d\u662f\u5168\u6838\u5fc3\u3002</p> </li> <li> <p>\u57fa\u672c\u9891\u7387\u662fCPU\u5728\u6b63\u5e38\u4efb\u52a1\u60c5\u51b5\u4e0b\u7684\u8fd0\u884c\u9891\u7387\uff0c\u800c\u52a0\u901f\u9891\u7387\u662f\u5f53\u4f60\u6253\u5f00\u4e00\u4e2a\u6e38\u620f\u6216\u7a0b\u5e8f\u540e\uff0cCPU\u4f1a\u81ea\u52a8\u5c06\u8c03\u6574\u5230\u5408\u9002\u9891\u7387\u3002\u5728\u4e0d\u8003\u8651\u624b\u52a8\u8d85\u9891\u7b49\u60c5\u51b5\u4e0b\uff0c\u4e00\u822c\u52a0\u901f\u9891\u7387\u662f\u51b3\u5b9a\u4e00\u4e2aCPU\u5355\u6838\u5fc3\u6027\u80fd\u53d1\u6325\u591a\u5c11\u7684\u5173\u952e\u3002</p> </li> <li> <p>\u5728\u6b64\uff0c\u4e0d\u5efa\u8bae\u65b0\u624b\u81ea\u5df1\u8d85\u9891\u3002\u539f\u56e0\u5176\u4e00\uff0c\u6709\u7684CPU\u4e0d\u80fd\u8d85\u9891\uff0c\u6709\u7684\u53ef\u4ee5\u8d85\u9891\uff1b\u5176\u4e8c\uff0c\u8d85\u9891\u6709\u70b9\u98ce\u9669\uff0c\u4e5f\u5c31\u662f\u8d85\u9891\u53ef\u80fd\u8ba9\u7535\u8111\u542f\u52a8\u4e0d\u4e86\uff0c\u6216\u8005\u542f\u52a8\u540e\u4e00\u76f4\u505c\u7559\u5728\u9ed1\u5c4f\u3002\u8fd9\u65f6\u5019\uff0c\u53ea\u80fd\u7ed9CMOS\u65ad\u7535\u6765\u8fd8\u539f\u4e86\u3002\u4f46\u662f\uff0c\u65b0\u624b\u53ef\u80fd\u4e0d\u592a\u4f1a\u64cd\u4f5c\u3002\u5176\u4e09\uff0c\u73b0\u5728\u7684CPU\u4f1a\u6839\u636e\u9700\u8981\u81ea\u52a8\u8c03\u9891\u7684\uff0c\u8fd9\u6837\u65e2\u53ef\u4ee5\u8282\u7ea6\u7535\uff0c\u8fd8\u53ef\u4ee5\u7701\u53bb\u8d85\u9891\u7684\u9ebb\u70e6\u3002\u6bd4\u5982\uff0c\u6211\u7684\u8fd9\u53f0\u7535\u8111\uff0c\u4e5f\u662f\u81ea\u52a8\u8c03\u9891\u7684\uff0c\u5176\u6700\u9ad8\u9891\u7387\u53ef\u8fbe3.1GHz\u3002\u4f46\u662f\uff0c\u6211\u624b\u52a8\u8d85\u9891\uff0cBIOS\u4e0a\u53ca\u5f00\u673a\u63d0\u793a\u8d85\u9891\u5230\u4e863.9\u51e0GHz\uff0c\u5176\u6548\u679c\u4e5f\u4e0d\u660e\u663e\u3002_\u4e5f\u5c31\u662f\u8bf4\u554a\uff0c\u8d85\u9891\u8fd8\u4e0e\u4e3b\u677f\u6709\u5173\uff0c\u4e0d\u5408\u9002\u7684\u4e3b\u677f\u4e5f\u4f1a\u9650\u5236\u8d85\u9891\u6548\u679c\u7684\u3002</p> </li> <li> <p>\u4e00\u9897CPU\u7684\u6838\u5fc3\u5982\u679c\u60f3\u8981\u53d1\u6325\u66f4\u9ad8\u7684\u6027\u80fd\uff0c\u5c31\u8981\u62e5\u6709\u66f4\u9ad8\u7684\u9891\u7387\u3002\u76ee\u524dCPU\u7684\u9891\u7387\u5df2\u7ecf\u8d8b\u4e8e\u74f6\u9888\uff0c\u4e3b\u6d41\u7ea7\u7684\u4ea7\u54c1\u52a0\u901f\u9891\u7387\u90fd\u57284-5Ghz\u4e4b\u95f4\uff0c\u800c\u4e00\u4e9b\u8001\u65e7\u7684\u591a\u6838\u5fc3\u81f3\u5f3a\u5904\u7406\u5668\uff0c\u867d\u7136\u6838\u5fc3\u6570\u5f88\u591a\uff088\u9897\u6838\u5fc3\u5e38\u89c1\uff09\uff0c\u4f46\u9891\u7387\u666e\u904d\u8f83\u4f4e\uff083Ghz\u5de6\u53f3\uff09\uff0c\u6240\u4ee5\u9664\u4e86\u7a33\u5b9a\u548c\u591a\u4efb\u52a1\u4ee5\u53ca\u6e32\u67d3\u5f3a\uff0c\u5728\u6e38\u620f\u6027\u80fd\u4e0a\uff0c\u4e0d\u59824\u6838\u5fc3\u7684\u516b\u4ee3\u9177\u777f\u5389\u5bb3</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/010-CPU/#cpu_4","title":"CPU\u7f13\u5b58","text":"<ul> <li>CPU\u7684\u7f13\u5b58\u662f\u4e00\u4e2a\u7279\u522b\u5bb9\u6613\u88ab\u5ffd\u89c6\u7684\u5730\u65b9\uff0c\u7f13\u5b58\u662fCPU\u4e0e\u5185\u5b58\u4e4b\u95f4\u7684\u7f13\u51b2\u5730\uff0c\u7528\u4e8e\u89e3\u51b3\u8fd9\u4e24\u8005\u4e4b\u95f4\u7684\u901f\u5ea6\u95ee\u9898\uff0c\u7f13\u5b58\u76ee\u524d\u4e3b\u8981\u503c\u5f97\u6ce8\u610f\u7684\u662f\u4e8c\u7ea7\u7f13\u5b58\u548c\u4e09\u7ea7\u7f13\u5b58\uff0c\u8fd9\u4e24\u9879\u53c2\u6570\u90fd\u4f1a\u5f71\u54cdCPU\u7684\u6027\u80fd\u3002</li> <li>cpu\u7f13\u5b58\u5b58\u5728\u7684\u76ee\u7684\uff1a\u6211cpu\u8fd9\u4e48\u5feb\uff0c\u6211\u6bcf\u6b21\u53bb\u4e3b\u5b58\u53bb\u53d6\u6570\u636e\u90a3\u4ee3\u4ef7\u4e5f\u592a\u5927\u4e86\uff0c\u6211\u5c31\u5728\u6211\u81ea\u5df1\u5f00\u8f9f\u4e00\u4e2a\u5185\u5b58\u6c60\uff0c\u6765\u5b58\u6211\u6700\u60f3\u8981\u7684\u4e00\u4e9b\u6570\u636e\u3002\u90a3\u54ea\u4e9b\u6570\u636e\u53ef\u4ee5\u88ab\u52a0\u8f7d\u5230cpu\u7f13\u5b58\u9053\u4e2d\u6765\u5462\uff1f\u590d\u6742\u7684\u8ba1\u7b97\u548c\u7f16\u7a0b\u4ee3\u7801\u5457\u3002<ul> <li>\u5982\u679c\u6211\u5728L1\u7684\u5185\u5b58\u6c60\u5f53\u4e2d\u6ca1\u6709\u627e\u5230\u6211\u60f3\u8981\u7684\u6570\u636e\u5462\uff1f\u5c31\u662f\u7f13\u5b58\u672a\u547d\u4e2d</li> <li>\u8fd8\u80fd\u600e\u4e48\u529e\uff0c\u53bbL2\u627e\u5457\uff0c\u4e00\u4e9b\u5904\u7406\u5668\u4f7f\u7528\u5305\u542b\u6027\u7f13\u5b58\u8bbe\u8ba1\uff08\u610f\u5473\u7740\u5b58\u50a8\u5728L1\u7f13\u5b58\u4e2d\u7684\u6570\u636e\u4e5f\u5c06\u5728L2\u7f13\u5b58\u4e2d\u91cd\u590d\uff09</li> <li>\u800c\u5176\u4ed6\u5904\u7406\u5668\u5219\u662f\u4e92\u65a5\u7684\uff08\u610f\u5473\u7740\u4e24\u4e2a\u7f13\u5b58\u6c38\u4e0d\u5171\u4eab\u6570\u636e\uff09\u3002\u5982\u679c\u5728L2\u9ad8\u901f\u7f13\u5b58\u4e2d\u627e\u4e0d\u5230\u6570\u636e\uff0c\u5219CPU\u4f1a\u7ee7\u7eed\u6cbf\u94fe\u6761\u5411\u4e0b\u79fb\u52a8\u5230L3\uff08\u901a\u5e38\u4ecd\u5728\u88f8\u7247\u4e0a\uff09\uff0c\u7136\u540e\u662fL4\uff08\u5982\u679c\u5b58\u5728\uff09\u548c\u4e3b\u5185\u5b58\uff08DRAM\uff09\u3002</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/010-CPU/#cpu_5","title":"CPU\u6027\u80fd\u5bf9\u6bd4","text":"<ul> <li> <p>CPU\u6027\u80fd\u5929\u68af\u56fe\uff1a</p> <ul> <li>https://www.mydrivers.com/zhuanti/tianti/cpu/index.html</li> <li>https://www.ludashi.com/rank/cpuRanking.html</li> </ul> </li> <li> <p>\u53c2\u8003\uff1a</p> <ul> <li>https://blog.csdn.net/weixin_42135087/article/details/131733640</li> <li>https://zhuanlan.zhihu.com/p/181676474</li> <li>https://juejin.cn/post/6932243675653095438</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/","title":"020 \u663e\u5361","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#_1","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>\u663e\u5361\uff08Graphics Card\uff0cGPU\uff0cGraphics Processing Unit \u901a\u5e38\u6cdb\u6307\u542b GPU \u7684\u663e\u5361\uff09\u662f\u8ba1\u7b97\u673a\u4e2d\u7684\u4e00\u4e2a\u5173\u952e\u786c\u4ef6\uff0c\u4e3b\u8981\u8d1f\u8d23\u56fe\u5f62\u548c\u56fe\u50cf\u7684\u6e32\u67d3\u8ba1\u7b97\uff0c\u628a CPU \u5904\u7406\u7684\u6570\u636e\u8f6c\u6362\u6210\u53ef\u4ee5\u5728\u663e\u793a\u5668\u4e0a\u663e\u793a\u7684\u753b\u9762\u3002\u5b83\u5728\u6e38\u620f\u3001\u89c6\u9891\u5904\u7406\u3001AI \u6df1\u5ea6\u5b66\u4e60\u3001\u79d1\u5b66\u8ba1\u7b97\u7b49\u9886\u57df\u90fd\u975e\u5e38\u91cd\u8981\u3002</p> <p></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#_2","title":"\u4e8c\u3001\u663e\u5361\u7684\u7ec4\u6210","text":"<ol> <li> <p>GPU \u6838\u5fc3\uff08Graphics Processing Unit\uff09</p> <p>\u7c7b\u4f3c CPU \u7684\u201c\u5927\u8111\u201d\uff0c\u8d1f\u8d23\u6267\u884c\u56fe\u5f62\u6e32\u67d3\u3001\u5e76\u884c\u8ba1\u7b97\u3002</p> </li> <li> <p>\u663e\u5b58\uff08VRAM, Video RAM\uff09</p> <p>\u50a8\u5b58\u6e32\u67d3\u8fc7\u7a0b\u4e2d\u9700\u8981\u7528\u5230\u7684\u7eb9\u7406\u3001\u5e27\u7f13\u5b58\u3001AI \u6a21\u578b\u53c2\u6570\u7b49\u3002</p> </li> <li> <p>\u4f9b\u7535\u4e0e\u6563\u70ed\u7cfb\u7edf</p> <p>\u5305\u62ec\u4f9b\u7535\u76f8\u6570\u3001\u7535\u5bb9\u7535\u611f\uff0c\u98ce\u6247\u3001\u6563\u70ed\u7247\u3001\u6c34\u51b7\u7b49\u3002</p> </li> <li> <p>\u8f93\u51fa\u63a5\u53e3</p> <p>HDMI\u3001DisplayPort\u3001DVI\u3001VGA \u7b49\u3002</p> </li> <li> <p>PCB \u7535\u8def\u677f\u4e0e\u4f9b\u7535\u63a5\u53e3</p> <p>PCIe \u63a5\u53e3\uff08\u63d2\u5728\u4e3b\u677f\u4e0a\uff09\uff0c\u5916\u63a5 6Pin/8Pin/12Pin \u7535\u6e90\u63a5\u53e3\u3002</p> </li> </ol>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#_3","title":"\u4e09\u3001\u663e\u5361\u7684\u4e3b\u8981\u7269\u7406\u53c2\u6570","text":"<p>\u8fd9\u4e9b\u53c2\u6570\u662f\u9009\u8d2d\u548c\u8bc4\u4f30\u663e\u5361\u6027\u80fd\u7684\u5173\u952e\u6307\u6807\uff1a</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#gpu","title":"GPU \u6838\u5fc3\u76f8\u5173","text":"<ul> <li> <p>\u5236\u7a0b\u5de5\u827a\uff08nm\uff09\uff1a\u8d8a\u5148\u8fdb\u529f\u8017\u8d8a\u4f4e\u3001\u6027\u80fd\u8d8a\u5f3a\uff0c\u4f8b\u5982 5nm\u30017nm\u3002</p> </li> <li> <p>CUDA \u6838\u5fc3/\u6d41\u5904\u7406\u5668\u6570\uff08NVIDIA/AMD\uff09\uff1a\u5e76\u884c\u8ba1\u7b97\u5355\u5143\u6570\u91cf\uff0c\u6570\u91cf\u8d8a\u591a\uff0c\u7406\u8bba\u7b97\u529b\u8d8a\u5f3a\u3002</p> </li> <li> <p>\u6838\u5fc3\u9891\u7387\uff08MHz/GHz\uff09\uff1aGPU \u8fd0\u884c\u901f\u5ea6\u3002</p> </li> <li> <p>\u5149\u8ffd\u6838\u5fc3\u3001Tensor \u6838\u5fc3\uff08NVIDIA \u7279\u6709\uff09\uff1a\u4e13\u95e8\u52a0\u901f\u5149\u7ebf\u8ffd\u8e2a\u3001AI \u8ba1\u7b97\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#vram","title":"\u663e\u5b58\uff08VRAM\uff09","text":"<ul> <li> <p>\u663e\u5b58\u5bb9\u91cf\uff08GB\uff09\uff1a\u5e38\u89c1 4GB\u201348GB\uff0c\u51b3\u5b9a\u80fd\u52a0\u8f7d\u591a\u5927\u573a\u666f\u6216\u6a21\u578b\u3002</p> </li> <li> <p>\u663e\u5b58\u7c7b\u578b\uff1aGDDR5\u3001GDDR6\u3001GDDR6X\u3001HBM2e\uff0c\u901f\u5ea6\u548c\u5e26\u5bbd\u5dee\u5f02\u5927\u3002</p> </li> <li> <p>\u663e\u5b58\u4f4d\u5bbd\uff08bit\uff09\uff1a\u5982 128bit\u3001192bit\u3001384bit\uff0c\u8d8a\u5bbd\u5e26\u5bbd\u8d8a\u5927\u3002</p> </li> <li> <p>\u663e\u5b58\u5e26\u5bbd\uff08GB/s\uff09\uff1a\u7b49\u4e8e\u663e\u5b58\u9891\u7387 \u00d7 \u4f4d\u5bbd \u00f7 8\uff0c\u5f71\u54cd\u6570\u636e\u4f20\u8f93\u901f\u5ea6\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#_4","title":"\u63a5\u53e3\u4e0e\u603b\u7ebf","text":"<ul> <li> <p>PCIe \u901a\u9053\u6570/\u7248\u672c\uff1aPCIe 3.0 \u00d716\u3001PCIe 4.0 \u00d716\u3001PCIe 5.0 \u00d716\u3002</p> </li> <li> <p>\u89c6\u9891\u8f93\u51fa\u63a5\u53e3\uff1aHDMI 2.1\u3001DP 1.4a\u3001DVI\u3001USB-C\uff08VR\uff09\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#_5","title":"\u529f\u8017\u4e0e\u6563\u70ed","text":"<ul> <li> <p>TDP \u529f\u8017\uff08W\uff09\uff1a\u5178\u578b 75W\u2013600W\uff0c\u9700\u8981\u5bf9\u5e94\u7535\u6e90\u3002</p> </li> <li> <p>\u4f9b\u7535\u63a5\u53e3\uff1a6Pin/8Pin/12Pin\uff0c\u51b3\u5b9a\u80fd\u4f9b\u7ed9\u591a\u5c11\u74e6\u6570\u3002</p> </li> <li> <p>\u6563\u70ed\u65b9\u5f0f\uff1a\u5355\u98ce\u6247/\u53cc\u98ce\u6247/\u4e09\u98ce\u6247/\u6c34\u51b7\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#_6","title":"\u5c3a\u5bf8\u4e0e\u7269\u7406\u5f62\u6001","text":"<ul> <li> <p>\u957f\u5ea6/\u539a\u5ea6\uff08mm\uff0c\u51e0\u69fd\u4f4d\uff09\uff1a\u51b3\u5b9a\u662f\u5426\u80fd\u88c5\u8fdb\u673a\u7bb1\u3002</p> </li> <li> <p>\u91cd\u91cf\uff1a\u90e8\u5206\u65d7\u8230\u663e\u5361\u9700\u652f\u67b6\u9632\u4e0b\u5782\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#_7","title":"\u8ba1\u7b97\u6027\u80fd\u6307\u6807","text":"<ul> <li> <p>\u5355\u7cbe\u5ea6\u6d6e\u70b9\u6027\u80fd\uff08TFLOPS\uff09</p> </li> <li> <p>\u53cc\u7cbe\u5ea6\u6027\u80fd\uff08TFLOPS\uff09</p> </li> <li> <p>\u5149\u8ffd\u6027\u80fd\uff08RT TFLOPS\uff09</p> </li> <li> <p>AI \u7b97\u529b\uff08Tensor TFLOPS / TOPS\uff09</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#_8","title":"\u56db\u3001\u663e\u5361\u5206\u7c7b","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#41","title":"4.1 \u663e\u5361\u4e24\u5927\u9635\u8425","text":"<p>\u663e\u5361\u4e3b\u8981\u6709\u4e24\u5927\u9635\u8425\uff1aAMD\uff08A\u5361\uff09\u548cNVIDIA \uff08N\u5361\uff09</p> <p>\u73b0\u5728Intel\u4e5f\u52a0\u5165\u7ade\u4e89\u4e4b\u4e2d\uff0c\u56fd\u4ea7\u54c1\u724c\u4e5f\u5728\u53d1\u529b\uff0c\u4e0d\u8fc7\u77ed\u671f\u5185\u8fd8\u65e0\u6cd5\u4e0eAMD\u548cNVIDIA\u6297\u8861\uff0c\u4e3b\u6d41\u9009\u62e9\u76ee\u524d\u5c31\u662fAMD\u548cNVIDIA\u3002</p> <p>AMD\u76ee\u524d\u6700\u65b0\u7684RX 9000\u7cfb\u5217\u653e\u5f03\u4e86\u9ad8\u7aef\u7cfb\u5217\uff0c\u4f46\u5728\u4e2d\u9ad8\u7aef\u5230\u4f4e\u7aef\u4ef7\u4f4d\u5728\u6027\u4ef7\u6bd4\u4e0a\u76f8\u6bd4N\u5361\u8981\u6709\u4e0d\u5c11\u7684\u4f18\u52bf\uff0c\u4f46\u662f\u5728\u5e94\u7528\u5e7f\u6cdb\u4e0a\u8fd8\u6709\u6e38\u620f\u5149\u8ffd\u6027\u80fd\u4e0a\u8981\u6bd4N\u5361\u5dee\u4e0d\u5c11\uff0c\u5305\u62ecN\u5361\u7684DLSS\u6280\u672f\uff0cA\u5361\u7684FSR\u4e5f\u6709\u4e00\u5b9a\u5dee\u8ddd\u3002</p> <p>\u4e2a\u4eba\u5efa\u8bae\uff0c\u6e38\u620f\u65b9\u9762\u6709\u5149\u8ffd\u9700\u6c42\u9009N\uff0c\u65e0\u5149\u8ffd\u9700\u6c42\u770b\u5177\u4f53\u7684\u6027\u4ef7\u6bd4\uff0c\u751f\u6001\u65b9\u9762\u7531\u4e8eN\u5361\u4e00\u76f4\u4fdd\u6301\u9886\u5148\uff0c\u5e03\u5c40\u6bd4A\u5361\u66f4\u5e7f\uff0c\u751f\u4ea7\u529bN\u5361\u5728\u90e8\u5206\u9886\u57df\u8fd8\u662f\u6709\u660e\u663e\u4f18\u52bf\u7684\uff0c\u5982\u679cCUDA\u751f\u6001\u5708\u751f\u4ea7\u529b\u7684\u8fd8\u662f\u9009N\u5361\u5427\uff0c\u5305\u62ec\u8fd9\u4e24\u5e74\u70ed\u95e8\u7684AIGC\u9886\u57dfN\u5361\u7684\u4f18\u52bf\u975e\u5e38\u660e\u663e\u3002</p> <p>\u663e\u5361\u7684\u7528\u9014\u4e3b\u8981\u662f\u6e38\u620f\u3001AIGC\u3001\u5efa\u6a21\u3001\u673a\u5668\u5b66\u4e60\u7b49\uff0c\u9996\u5148\u786e\u5b9a\u81ea\u5df1\u7684\u9700\u6c42\uff0c\u7136\u540e\u7ed3\u5408\u81ea\u5df1\u7684\u9884\u7b97\u9009\u62e9\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#42","title":"4.2 \u663e\u5361\u5bf9\u5206\u8fa8\u7387\u7684\u5f71\u54cd\uff1a","text":"<p>\u5206\u8fa8\u7387\u8d8a\u9ad8 \u2192 \u50cf\u7d20\u6570\u91cf\u8d8a\u591a \u2192 \u663e\u5361\u8d1f\u8f7d\u8d8a\u5927</p> <ul> <li> <p>720p\uff081280\u00d7720\uff09\u2248 92 \u4e07\u50cf\u7d20</p> </li> <li> <p>1080p\uff081920\u00d71080\uff09\u2248 207 \u4e07\u50cf\u7d20</p> </li> <li> <p>2K/QHD\uff082560\u00d71440\uff09\u2248 370 \u4e07\u50cf\u7d20</p> </li> <li> <p>4K\uff083840\u00d72160\uff09\u2248 829 \u4e07\u50cf\u7d20</p> </li> </ul> <p>\u2192 4K \u6bd4 1080p \u591a\u4e86 4 \u500d\u7684\u50cf\u7d20\u70b9\uff0c\u663e\u5361\u6bcf\u4e00\u5e27\u90fd\u8981\u7b97\u66f4\u591a\u6570\u636e\u3002</p> <p>\u76ee\u524d\u70ed\u95e8\u7684AIGC\u5bf9\u663e\u5361\u7684\u8981\u6c42\uff0c\u4e3b\u8981\u662f\u663e\u5361\u7684\u7b97\u529b\u548c\u663e\u5b58\u5bb9\u91cf\uff0c\u5bb9\u91cf\u51b3\u5b9a\u51fa\u56fe\u7684\u5206\u8fa8\u7387\uff0c\u7b97\u529b\u51b3\u5b9a\u51fa\u56fe\u7684\u6548\u7387\uff0c\u4e00\u822c\u6765\u8bf4\u4e2d\u7aef\u663e\u5361\u4f1a\u63a8\u835060Ti 16GB\uff0c\u4e2d\u9ad8\u7aef\u4f1a\u63a8\u83505070Ti\uff0c\u9ad8\u7aef\u63a8\u83505080\u548c5090D\uff0cAi\u7ed8\u56fe\u4e0d\u63a8\u8350A\u5361\u3002</p> <p>\u4ee5\u6e38\u620f\u4e3a\u4f8b\uff0c\u663e\u5361\u73a9\u6e38\u620f\u6700\u76f4\u89c2\u7684\u8868\u73b0\u5c31\u662f\u5e27\u6570\uff0c\u4e00\u822c\u6765\u8bf4\u6e38\u620f\u9700\u6c42\u9009\u62e9\u663e\u53613A\u9ad8\u753b\u8d2860\u5e27\u4e3a\u6807\u51c6\u3001FPS\u6e38\u620f144\u5e27+\u4e3a\u6807\u51c6</p> <p>1080P\u5206\u8fa8\u7387\u663e\u5361\u63a8\u8350\uff1aRTX 5050/RX 7600GRE\u53ca\u4ee5\u4e0b</p> <p>2K\u5206\u8fa8\u7387\u663e\u5361\u63a8\u8350\uff1aRTX 5060/RX 9060XT\u53ca\u4ee5\u4e0a</p> <p>4K\u5206\u8fa8\u7387\u663e\u5361\u63a8\u8350\uff1aRTX 5070/RX 9070\u53ca\u4ee5\u4e0a</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#43","title":"4.3 \u663e\u5361\u7684\u54c1\u724c\u53ca\u7248\u672c\u578b\u53f7","text":"<ul> <li> <p>N\u5361\u9635\u8425\uff1a</p> <ul> <li> <p>\u4e00\u7ebf\u54c1\u724c\uff1a\u534e\u7855\u3001\u5fae\u661f\u3001\u6280\u5609\u3001\u4e03\u5f69\u8679\uff08\u51c6\u4e00\u7ebf\uff09</p> </li> <li> <p>\u4e8c\u4e09\u7ebf\u54c1\u724c\uff1a\u7d22\u6cf0\u3001\u5f71\u9a70\u3001\u6620\u4f17\u3001\u8015\u5347\u3001\u94ed\u7444\u3001\u4e07\u4e3d\u3001\u76c8\u901a\u7b49</p> </li> </ul> </li> <li> <p>A\u5361\u9635\u8425\uff1a</p> <ul> <li> <p>\u4e00\u7ebf\u54c1\u724c\uff1a\u84dd\u5b9d\u77f3\u3001\u534e\u7855</p> </li> <li> <p>\u4e8c\u4e09\u7ebf\u54c1\u724c\uff1a\u5fae\u661f\u3001\u8baf\u666f\u3001\u64bc\u8baf\u3001\u534e\u64ce\u3001\u76c8\u901a\u3001\u901f\u9a79\u3001\u701a\u94e0\u7b49</p> </li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#_9","title":"\u4e94\u3001\u663e\u5361\u6027\u80fd\u6392\u884c","text":"<ul> <li> <p>\u663e\u5361\u6392\u884c\u67e5\u770b\uff1a</p> <ul> <li>\u9c81\u5927\u5e08\u5929\u68af\u699c  https://www.mydrivers.com/zhuanti/tianti/gpu/index.html</li> <li>\u9a71\u52a8\u4e4b\u5bb6 https://www.mydrivers.com/zhuanti/tianti/gpu/index.html</li> </ul> </li> <li> <p>\u5bf9\u4e8eNVIDIA\u7684\u663e\u5361\uff0c\u76ee\u524d\u4e3b\u6d41\u7684\u547d\u540d\u65b9\u5f0f\u662f GTX \u63a5\u4e00\u4e32\u6570\u5b57\u548c\u5b57\u6bcd\u3002</p> <ul> <li>\u5176\u4e2d\u7b2c\u4e00\u4f4d\uff0c\u6216\u8005\u524d\u4e24\u4f4d\u8868\u793a\u7b2c\u51e0\u4ee3\u4ea7\u54c1</li> <li>\u540e\u4e24\u4f4d\u662f\u663e\u5361\u7684\u6027\u80fd\u5b9a\u4f4d</li> <li>\u540e\u7f00\u90e8\u5206\u6709 M \u548c Ti\uff0cM \u662f\u4e3a\u79fb\u52a8\u5e73\u53f0\u63a8\u51fa\u7684\u4ea7\u54c1\uff0c\u800c Ti \u7248\u8981\u6bd4\u666e\u901a\u663e\u5361\u5f3a\u52b2</li> <li>\u4e3e\u4f8b\u6765\u8bf4\uff0c\u6bd4\u5982 GTX 1050Ti<ul> <li>GTX \u54c1\u724c\u7684\u79f0\u547c\uff0c\u8fd8\u6709\u56db\u79cd\u6027\u80fd\u4f9d\u6b21\u964d\u4f4e GTX &gt; GTS &gt; GT &gt; GF</li> <li>1050 \u4e2d\uff0c10\u8868\u793a\u7684\u663e\u5361\u4ee3\u6570\uff0c10 \u5c31\u662f10\u4ee3\u663e\u5361\uff0c50 \u8868\u793a\u7684\u662f\u663e\u5361\u6027\u80fd\u5b9a\u4f4d\uff0c1060 \u5c31\u8981\u6bd41050\u8981\u5f3a</li> <li>\u540e\u7f00\u5b57\u6bcd Ti<ul> <li>Ti \u6027\u80fd\u52a0\u5f3a\u7248 m \u79fb\u52a8\u7aef\u663e\u5361 mx \u79fb\u52a8\u52a0\u5f3a\u7248 SLI \u540e\u7f00\u8868\u793a\u53ef\u4ee5\u901a\u8fc7\u7279\u6b8a\u63a5\u53e3\u5c06\u663e\u5361\u5e76\u8054\u63d0\u9ad8\u5de5\u4f5c\u6027\u80fd Max-Q \u540e\u7f00\u8868\u793a\u8be5\u663e\u5361\u662f Max-Q \u8bbe\u8ba1\u65b9\u6848\uff0c\u8c03\u6574\u4e86\u786c\u4ef6\u8ba9\u65b0\u663e\u5361\u80fd\u591f\u653e\u5230\u8f7b\u8584\u672c\u4e2d</li> </ul> </li> </ul> </li> </ul> </li> <li> <p></p> </li> <li> <p>AMD\u7684\u663e\u5361\u5927\u90e8\u5206\u662fRX\u5f00\u5934\u7684</p> <ul> <li>\u547d\u540d\uff1aRadeon RX &lt;\u7cfb\u5217\u53f7&gt;&lt;\u540e\u7f00&gt;</li> <li>\u7cfb\u5217\u53f7\uff08\u56db\u4f4d\u6570\u5b57\uff09<ul> <li>\u7b2c\u4e00\u4f4d\u6570\u5b57 \u2192 GPU \u67b6\u6784\u4e16\u4ee3<ul> <li>\u4f8b\u5982\uff1a6xxx \u7cfb\u5217 \u2192 \u7b2c\u516d\u4ee3 RDNA \u67b6\u6784\uff08RDNA 2\uff09\uff0c7xxx \u2192 RDNA 3\u3002</li> </ul> </li> <li>\u7b2c\u4e8c\u4f4d\u6570\u5b57 \u2192 \u6027\u80fd\u6863\u6b21\uff08\u901a\u5e38\u8d8a\u5927\u8d8a\u9ad8\u7aef<ul> <li>\u4f8b\u5982\uff1aRX 6700 &lt; RX 6800 &lt; RX 6900\u3002</li> </ul> </li> <li>\u540e\u4e24\u4f4d\u6570\u5b57 \u2192 \u7ec6\u5206\u578b\u53f7<ul> <li>\u7528\u4e8e\u533a\u5206\u540c\u4e00\u6027\u80fd\u6863\u6b21\u7684\u4e0d\u540c\u663e\u5361\uff08\u6bd4\u5982\u5185\u5b58\u5927\u5c0f\u6216\u5c0f\u5e45\u63d0\u5347\uff09\u3002</li> </ul> </li> </ul> </li> <li>\u540e\u7f00<ul> <li>XT\uff1a\u589e\u5f3a\u7248\uff0c\u6838\u5fc3\u9891\u7387\u3001\u6d41\u5904\u7406\u5668\u6570\u91cf\u6216\u663e\u5b58\u5e26\u5bbd\u66f4\u9ad8\u3002</li> <li>XTX\uff1a\u6bd4 XT \u66f4\u9ad8\u7684\u9876\u7ea7\u7248\u672c\u3002</li> <li>M\uff1a\u79fb\u52a8\u7aef\uff08\u7b14\u8bb0\u672c\uff09\u663e\u5361\u3002</li> <li>Pro\uff1a\u4e13\u4e1a\u663e\u5361\uff0c\u5982 Radeon Pro \u7cfb\u5217\u3002 </li> </ul> </li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/020-%E6%98%BE%E5%8D%A1/#_10","title":"\u53c2\u8003","text":"<ul> <li>https://zhuanlan.zhihu.com/p/269635708</li> <li>https://einverne.github.io/notebook-buyer-guide/laptop/graphics-card.html</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/030-%E5%86%85%E5%AD%98/","title":"030 \u5185\u5b58","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/030-%E5%86%85%E5%AD%98/#_1","title":"\u7b80\u4ecb","text":"<p> - \u4e3e\u4e2a\u4f8b\u5b50\uff1a     - \u5546\u5bb6\u5c31\u662f\u786c\u76d8\uff0c\u6709\u591a\u5c11\u9053\u83dc\u4f9b\u4f60\u9009\u62e9\uff0c\u53d6\u51b3\u4e8e\u4e0e\u5546\u5bb6\u7684\u89c4\u6a21\uff0c\u4f60\u7535\u8111\u91cc\u80fd\u50a8\u5b58\u591a\u5c11\u90e8\u5c9b\u56fd\u52a8\u4f5c\u7247\uff0c\u53d6\u51b3\u4e8e\u4f60\u7684\u786c\u76d8\u5927\u5c0f\uff1b     - \u4f60\u5bb6\u7684\u9910\u684c\u5c31\u662f\u5185\u5b58\uff0c\u684c\u5b50\u4e0a\u80fd\u653e\u591a\u5c11\u9053\u83dc\uff0c\u6bcf\u9053\u83dc\u7684\u91cf\u6709\u591a\u5c11\uff0c\u53d6\u51b3\u4e8e\u4f60\u684c\u5b50\u7684\u5927\u5c0f\uff0c\u4f60\u7684\u7535\u8111\u80fd\u540c\u65f6\u8fd0\u884c\u591a\u5c11\u4e2a\u7a0b\u5e8f\uff0c\u80fd\u8fd0\u884c\u591a\u5927\u7684\u7a0b\u5e8f\uff0c\u53d6\u51b3\u4e8e\u4f60\u7684\u5185\u5b58\u5927\u5c0f\uff1b     - \u987a\u5e26\u518d\u63d0\u4e00\u4e0bCPU\uff0cCPU\u5c31\u662f\u4f60\u7684\u5634\u548c\u7259\uff0c\u56bc\u5f97\u987a\u4e0d\u987a\uff0c\u5403\u7684\u5feb\u4e0d\u5feb\uff0c\u5c31\u53d6\u51b3\u4e8e\u4f60\u7684\u7259\u53e3\u6709\u591a\u597d\uff0c\u8f6f\u4ef6\u8fd0\u884c\u5f97\u987a\u7545\u4e0d\u987a\u7545\uff0cCPU\u5728\u5176\u4e2d\u6709\u7740\u4e0d\u53ef\u5ffd\u89c6\u7684\u4f5c\u7528\u3002</p> <p></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/030-%E5%86%85%E5%AD%98/#_2","title":"\u5185\u5b58\u6761\u53c2\u6570","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/030-%E5%86%85%E5%AD%98/#_3","title":"\u5185\u5b58\u5bb9\u91cf","text":"<ul> <li>\u5185\u5b58\u5bb9\u91cf\u7684\u5355\u4f4d\u662fGB\uff0c\u76ee\u524d\u5355\u6761\u7684\u5bb9\u91cf\u5927\u5c0f\u4e00\u822c\u662f4GB\u30018GB\u300116GB\u300132GB\uff0c\u5982\u679c\u628a\u5185\u5b58\u6bd4\u4f5c\u9910\u684c\u7684\u8bdd\uff0c\u90a3\u4e48\u5185\u5b58\u5bb9\u91cf\u5c31\u662f\u9910\u684c\u7684\u5927\u5c0f\uff0c\u9910\u684c\u8d8a\u5927\uff0c\u80fd\u653e\u7684\u83dc\u5c31\u8d8a\u591a\uff0c\u6bcf\u9053\u83dc\u7684\u91cf\u5c31\u8d8a\u5927\uff0c\u5bf9\u5e94\u5230\u7535\u8111\u5c31\u662f\u80fd\u540c\u65f6\u8fd0\u884c\u7684\u7a0b\u5e8f\u8d8a\u591a\uff0c\u80fd\u8fd0\u884c\u7684\u7a0b\u5e8f\u8d8a\u5927\uff1b</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/030-%E5%86%85%E5%AD%98/#_4","title":"\u5185\u5b58\u6761\u7c7b\u578b","text":"<p>\u9009\u8d2d\u5185\u5b58\u6761\u9996\u5148\u8981\u4e86\u89e3\u81ea\u5df1\u7684\u7535\u8111\u652f\u6301\u4ec0\u4e48\u7c7b\u578b\u7684\u5185\u5b58\u6761\uff0c\u56e0\u4e3a\u4e0d\u540c\u7c7b\u578b\u5185\u5b58\u6761\u7684\u63d2\u69fd\u662f\u4e92\u4e0d\u517c\u5bb9\u7684\u3002\u76ee\u524d\u5185\u5b58\u6761\u7c7b\u578b\u4e3b\u8981\u6709DDR3\u548cDDR4\uff0cDDR5\u4e09\u79cd\uff0cDDR4\u5185\u5b58\u6761\u662fDDR3\u7684\u5347\u7ea7\u7248\uff0c\u662f\u73b0\u4eca\u7535\u8111\u4e3b\u6d41\u5185\u5b58\u6761\u4e4b\u9009\u3002DDR5\u5185\u5b58\u6761\u662fDDR4\u7684\u5347\u7ea7\u7248</p> <ul> <li> <p>DDR3\u5185\u5b58\u6761\uff1aDDR3\u5185\u5b58\u7684\u91d1\u624b\u6307\u662f\u76f4\u7ebf\u5e73\u6ed1\u8bbe\u8ba1\uff0c\u6700\u5927\u5355\u6761\u53ef\u8fbe64GB\u7684\u5bb9\u91cf\uff0c\u8d77\u59cb\u9891\u7387\u4ec5\u6709800MHz\uff0c\u6700\u9ad8\u9891\u7387\u53ef\u8fbe2133MHz\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5176\u5de5\u4f5c\u7535\u538b\u4e3a1.5V\uff0c\u8017\u7535\u8f83\u591a\uff0c\u6545\u5bb9\u6613\u53d1\u70ed\u964d\u9891\uff0c\u5f71\u54cd\u6027\u80fd\u3002</p> </li> <li> <p>DDR4\u5185\u5b58\u6761\uff1aDDR4\u5185\u5b58\u7684\u91d1\u624b\u6307\u5448\u5f2f\u66f2\u5f27\u5f62\uff0c\u6700\u5927\u5355\u6761\u5bb9\u91cf\u4e3a128GB\uff0c\u8d77\u59cb\u9891\u7387\u5c31\u67092133MHz\uff0c\u6700\u9ad8\u9891\u7387\u53ef\u8fbe3200MHz\u3002\u5176\u5de5\u4f5c\u7535\u538b\u591a\u4e3a1.2V\u751a\u81f3\u66f4\u4f4e\uff0c\u529f\u8017\u66f4\u5c0f\uff0c\u57fa\u672c\u4e0d\u4f1a\u51fa\u73b0\u53d1\u70ed\u5f15\u8d77\u7684\u964d\u9891\u73b0\u8c61\u3002</p> </li> <li> <p>DDR5\u5185\u5b58\u6761\uff1a\u4e0eDDR4\u5185\u5b58\u76f8\u6bd4\uff0cDDR5\u6807\u51c6\u6027\u80fd\u66f4\u5f3a\uff0c\u529f\u8017\u66f4\u4f4e\u3002\u5176\u5b83\u53d8\u5316\u8fd8\u6709\uff0c\u7535\u538b\u4ece1.2V\u964d\u4f4e\u52301.1V\uff0c\u540c\u65f6\u6bcf\u901a\u905332/40\u4f4d\uff08ECC\uff09\u3001\u603b\u7ebf\u6548\u7387\u63d0\u9ad8\u3001\u589e\u52a0\u9884\u53d6\u7684Bank Group\u6570\u91cf\u4ee5\u6539\u5584\u6027\u80fd\u7b49\u3002\u76f4\u63a5\u4ece\u201c3200MHz\u201d\u589e\u957f\u81f3\u201c4800MHz\u201d\uff0c\u968f\u7740\u5f53\u4e0bDDR5\u5185\u5b58\u8c03\u53c2\u7684\u6df1\u5165\uff0c6400MHz\u6216\u5c06\u6210\u4e3a\u4e3b\u6d41\u6c34\u5e73\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/030-%E5%86%85%E5%AD%98/#_5","title":"\u5185\u5b58\u6761\u9891\u7387","text":"<ul> <li> <p>\u7406\u8bba\u4e0a\u5185\u5b58\u6761\u9891\u7387\u8d8a\u9ad8\uff0cCPU\u5bf9\u5185\u5b58\u8fdb\u884c\u8bfb\u5199\u7684\u901f\u5ea6\u5c31\u8d8a\u5feb\u3002\u76ee\u524dDDR3\u4ee3\u7684\u5185\u5b58\u6761\u9891\u7387\u4e00\u822c\u4e3a1333MHz\u548c1666MHz\u3002DDR4\u4ee3\u7684\u5185\u5b58\u6761\u9891\u7387\u4e00\u822c\u4e3a2133MHz\u548c2400MHz\u548c3200MHz\u3002</p> </li> <li> <p>\u8d85\u9891\u5185\u5b58\u6761\uff1a\u8d85\u9ad8\u9891\u7387\u7684\u5185\u5b58\u6761\u53ef\u8fbe3000MHz\uff0c\u751a\u81f34000MHz\u4ee5\u4e0a\uff0c\u4f46\u662f\u9700\u8981\u66f4\u9ad8\u7aef\u7684\u4e3b\u677f\u548cCPU\u7684\u652f\u6301\uff0c\u4e00\u822c\u9002\u5408\u4e13\u4e1a\u7535\u7ade\u3001\u53d1\u70e7\u7ea7\u73a9\u5bb6\u4f7f\u7528\uff0c\u800c\u4e00\u822c\u7684\u666e\u901a\u7528\u6237\u9009\u62e92400MHz\u7684\u5c31\u5df2\u7ecf\u8db3\u591f\u7528\u4e86\u3002</p> </li> <li> <p>\u9009\u8d2dTIPS\uff1a\u5982\u679c\u6709\u4e24\u6839\u6216\u591a\u6839\u4e0d\u540c\u9891\u7387\u7684\u5185\u5b58\u6761\u540c\u65f6\u4f7f\u7528\uff0c\u4f1a\u6309\u7167\u5176\u4e2d\u9891\u7387\u6700\u4f4e\u7684\u6765\u7edf\u4e00\u9891\u7387\u3002\u6bd4\u5982\u6709\u4e00\u68392133MHz\u3001\u4e00\u68392400MHz\u3001\u4e00\u68393200MHz\u7684\u5185\u5b58\u6761\u540c\u65f6\u4f7f\u7528\u7684\u8bdd\uff0c\u6240\u6709\u5185\u5b58\u6761\u90fd\u662f\u6309\u71672133MHz\u6765\u4f7f\u7528\u3002\u6240\u4ee5\u5982\u679c\u662f\u5347\u7ea7\u5185\u5b58\u6761\u7684\u7528\u6237\uff0c\u4e00\u5b9a\u8981\u770b\u770b\u5df2\u6709\u7684\u662f\u591a\u5c11\u9891\u7387\u7684\uff0c\u4e0d\u8981\u76f2\u76ee\u8d2d\u4e70\u9ad8\u9891\u5185\u5b58\u6761\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/030-%E5%86%85%E5%AD%98/#_6","title":"\u5185\u5b58\u65f6\u5e8f","text":"<ul> <li>\u65f6\u5e8f\u662f\u6307\u5185\u5b58\u7684\u5ef6\u8fdf\u65f6\u95f4\uff0c\u4e00\u822c\u4f7f\u7528\u56db\u7ec4\u53c2\u6570\u52a0\u7834\u6298\u53f7\u7684\u65b9\u5f0f\u6765\u5c55\u793a\uff0c\u4f8b\u5982\uff1a16-18-18-36\uff0c\u5206\u522b\u662fCL-TRCD-TRP-TRAS\uff1b</li> <li>\u6211\u4eec\u4e00\u822c\u53ea\u5173\u6ce8\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u4e5f\u5c31\u662fCL\u503c\uff0c\u53ef\u4ee5\u7c97\u66b4\u7684\u628a\u5b83\u7406\u89e3\u4e3a\u53cd\u6620\u65f6\u95f4\uff1b</li> <li>\u5927\u90e8\u5206\u60c5\u51b5\u4e2d\uff0c\u5728\u5185\u5b58\u9891\u7387\u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0cCL\u503c\u8d8a\u4f4e\u8d8a\u597d\uff1b</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/030-%E5%86%85%E5%AD%98/#_7","title":"\u4f20\u8f93\u5e26\u5bbd","text":"<ul> <li>\u5355\u4f4d\u662fMB/S\uff08\u5146\u5b57\u8282\u6bcf\u79d2\uff09\uff0c\u5b83\u662f\u5185\u5b58\u548cCPU\u4e4b\u95f4\u7684\u4f20\u9001\u5e26\uff0c\u6570\u5b57\u8d8a\u5927\uff0c\u4f20\u9001\u5e26\u8d8a\u5bbd\uff0c\u4f20\u9001\u901f\u5ea6\u8d8a\u5feb\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/030-%E5%86%85%E5%AD%98/#_8","title":"\u9488\u811a\u6570","text":"<ul> <li>\u901a\u5e38\u5199\u4f5c\"\u6570\u5b57-Pin\"\uff0c\u4ee5\u201c288-Pin\u201d\u4e3a\u4f8b\uff0c288\u8bf4\u660e\u4e86\u5185\u5b58\u6761\u53cc\u9762\u7684\u91d1\u624b\u6307\u4e2a\u6570\u4e3a288\u4e2a\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/030-%E5%86%85%E5%AD%98/#_9","title":"\u5916\u89c2\u7c7b\u578b","text":"<ul> <li>RGB\u706f\u6761\u5c31\u662f\u5728\u5916\u89c2\u4e0a\u8fdb\u4e00\u6b65\u5347\u7ea7\u7684\u9a6c\u7532\u6761\uff1b</li> <li>\u5728\u540c\u7b49\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\uff1a\u9a6c\u7532\u6761\u6563\u70ed\u4f18\u4e8e\u666e\u6761\uff0c\u9a6c\u7532\u6761\u6027\u80fd\u7565\u4f18\u4e8e\u666e\u6761\uff1b</li> <li>\u4f46\u8fd9\u4e9b\u5dee\u8ddd\u90fd\u4e0d\u5927\uff0c\u6240\u4ee5\u5728\u5916\u89c2\u7c7b\u578b\u4e0a\u7684\u9009\u62e9\u66f4\u591a\u8fd8\u662f\u4f9d\u636e\u4e2a\u4eba\u7684\u5ba1\u7f8e\u504f\u597d\u548c\u9884\u7b97\u6765\u51b3\u5b9a</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/030-%E5%86%85%E5%AD%98/#_10","title":"\u5982\u4f55\u9009\u8d2d\u5185\u5b58\u6761","text":"<ul> <li> <p>\u5728\u4f60\u9009CPU\u548c\u4e3b\u677f\u65f6\uff0c\u5185\u5b58\u6761\u5c31\u5df2\u7ecf\u57fa\u672c\u786e\u5b9a\u4e86\u3002\u9009\u62e9\u4e3b\u677f\u65f6\uff0c\u4ea7\u54c1\u8bf4\u660e\u4e0b\u9762\u7684\u53c2\u6570\u4f1a\u544a\u8bc9\u4f60\u652f\u6301\u7684\u5185\u5b58\u9891\u901f\u548c\u6700\u5927\u5bb9\u91cf </p> </li> <li> <p>\u9009\u62e9CPU\u65f6\uff0c\u4ea7\u54c1\u8bf4\u660e\u4f1a\u8fdb\u4e00\u6b65\u5e2e\u4f60\u7f29\u5c0f\u9009\u62e9\u8303\u56f4\uff1a  </p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/030-%E5%86%85%E5%AD%98/#_11","title":"\u53c2\u8003","text":"<ul> <li>https://blog.csdn.net/weixin_39568083/article/details/111371165</li> <li>https://zhuanlan.zhihu.com/p/680757079</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/040-%E6%9C%BA%E6%A2%B0%E7%A1%AC%E7%9B%98/","title":"040 \u673a\u68b0\u786c\u76d8","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/040-%E6%9C%BA%E6%A2%B0%E7%A1%AC%E7%9B%98/#_1","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>\u786c\u76d8\u9a71\u52a8\u5668\uff08\u82f1\u8bed\uff1aHard Disk Drive\uff0c\u7f29\u5199\uff1aHDD\uff09\uff0c\u7b80\u79f0\u786c\u76d8\uff08hard disk\uff09\u6216\u786c\u9a71\uff08hard drive\uff09\uff0c\u53c8\u79f0\u201c\u673a\u68b0\u786c\u76d8\u201d\u6216\u201c\u4f20\u7edf\u786c\u76d8\u201d(https://zh.wikipedia.org/wiki/%E7%A1%AC%E7%9B%98#cite_note-2)\uff0c\u662f\u7535\u8111\u4e0a\u4f7f\u7528\u575a\u786c\u7684\u65cb\u8f6c\u78c1\u6027\u76d8\u7247\u4e3a\u57fa\u7840\u7684\u975e\u4f9d\u7535\u6027\u5b58\u50a8\u5668\uff0c\u5b83\u5728\u5e73\u6574\u7684\u78c1\u6027\u8868\u9762\u5b58\u50a8\u548c\u68c0\u7d22\u6570\u5b57\u6570\u636e\uff0c\u6570\u636e\u901a\u8fc7\u79bb\u78c1\u6027\u8868\u9762\u5f88\u8fd1\u7684\u78c1\u5934\u7531\u7535\u78c1\u6d41\u6765\u6539\u53d8\u6781\u6027\u7684\u65b9\u5f0f\u88ab\u5199\u5165\u5230\u78c1\u76d8\u4e0a\uff0c\u6570\u636e\u53ef\u4ee5\u901a\u8fc7\u76d8\u7247\u88ab\u8bfb\u53d6</p> <p></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/040-%E6%9C%BA%E6%A2%B0%E7%A1%AC%E7%9B%98/#_2","title":"\u4e8c\u3001\u673a\u68b0\u786c\u76d8\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u673a\u68b0\u786c\u76d8\u662f\u57fa\u4e8e\u78c1\u8bb0\u5f55\u7684\u5b58\u50a8\u8bbe\u5907\uff0c\u5b83\u7684\u4e3b\u8981\u6784\u6210\u548c\u5de5\u4f5c\u8fc7\u7a0b\u5982\u4e0b\uff1a 1. \u76d8\u7247\uff08Platter\uff09     - \u5706\u5f62\u91d1\u5c5e\u6216\u73bb\u7483\u57fa\u7247\uff0c\u4e0a\u9762\u6d82\u6709\u78c1\u6027\u6750\u6599\u3002     - \u6bcf\u4e2a\u76d8\u7247\u6709\u4e24\u4e2a\u5b58\u50a8\u9762\uff0c\u53ef\u4ee5\u5b58\u50a8\u6570\u636e\u3002 2. \u78c1\u5934\uff08Read/Write Head\uff09     - \u8bfb\u5199\u78c1\u5934\u60ac\u6d6e\u5728\u76d8\u7247\u8868\u9762\u6781\u8fd1\u7684\u4f4d\u7f6e\uff08\u7eb3\u7c73\u7ea7\uff09\uff0c\u901a\u8fc7\u7535\u78c1\u65b9\u5f0f\u5728\u76d8\u7247\u4e0a\u5199\u5165\uff08\u78c1\u5316\u67d0\u4e00\u533a\u57df\uff09\u6216\u8bfb\u53d6\uff08\u611f\u5e94\u78c1\u573a\u53d8\u5316\uff09\u6570\u636e\u3002 3. \u4e3b\u8f74\u7535\u673a\uff08Spindle Motor\uff09     - \u8d1f\u8d23\u9ad8\u901f\u65cb\u8f6c\u76d8\u7247\uff08\u5e38\u89c1\u8f6c\u901f 5400 RPM\u30017200 RPM\u300110000 RPM\uff09\u3002     - \u76d8\u7247\u8f6c\u5f97\u8d8a\u5feb\uff0c\u78c1\u5934\u7b49\u5f85\u76ee\u6807\u6247\u533a\u7684\u65f6\u95f4\u8d8a\u77ed\u3002 4. \u6267\u884c\u5668\uff08Actuator\uff09     - \u5e26\u52a8\u78c1\u5934\u5728\u534a\u5f84\u65b9\u5411\u79fb\u52a8\uff0c\u4f7f\u5176\u80fd\u591f\u8bbf\u95ee\u76d8\u7247\u4e0a\u7684\u4e0d\u540c\u78c1\u9053\u3002 5. \u78c1\u9053 / \u6247\u533a / \u7c07     - \u78c1\u9053\uff08Track\uff09\uff1a\u540c\u4e00\u534a\u5f84\u4e0a\u7684\u4e00\u5708\u78c1\u6027\u533a\u57df\u3002     - \u6247\u533a\uff08Sector\uff09\uff1a\u78c1\u9053\u88ab\u5212\u5206\u7684\u6700\u5c0f\u7269\u7406\u5b58\u50a8\u5355\u5143\uff08\u901a\u5e38 512B \u6216 4KB\uff09\u3002     - \u7c07\uff08Cluster\uff09\uff1a\u6587\u4ef6\u7cfb\u7edf\u5206\u914d\u7684\u6700\u5c0f\u903b\u8f91\u5b58\u50a8\u5355\u5143\uff0c\u7531\u591a\u4e2a\u6247\u533a\u7ec4\u6210\u3002 \u27a1\ufe0f \u5de5\u4f5c\u8fc7\u7a0b\uff1a \u5f53\u4e3b\u673a\u8981\u8bfb\u5199\u6570\u636e\u65f6\uff0c\u78c1\u5934\u5148\u79fb\u52a8\u5230\u76ee\u6807\u78c1\u9053\uff08\u5bfb\u9053\uff09\uff0c\u7136\u540e\u7b49\u5f85\u76d8\u7247\u65cb\u8f6c\u5230\u76ee\u6807\u6247\u533a\uff08\u65cb\u8f6c\u5ef6\u8fdf\uff09\uff0c\u518d\u6267\u884c\u8bfb\u5199\u64cd\u4f5c\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/040-%E6%9C%BA%E6%A2%B0%E7%A1%AC%E7%9B%98/#_3","title":"\u4e09\u3001\u673a\u68b0\u786c\u76d8\u7684\u5173\u952e\u53c2\u6570\u53ca\u610f\u4e49","text":"<ol> <li>\u5bb9\u91cf\uff08Capacity\uff09<ul> <li>\u5355\u4f4d\uff1aGB\u3001TB</li> <li>\u7531 \u76d8\u7247\u6570\u91cf \u00d7 \u6bcf\u7247\u9762\u5b58\u50a8\u5bc6\u5ea6 \u51b3\u5b9a\u3002</li> </ul> </li> <li>\u8f6c\u901f\uff08RPM, Revolutions Per Minute\uff09<ul> <li>\u5e38\u89c1\uff1a5400 RPM\u30017200 RPM\u300110000 RPM\u300115000 RPM</li> <li>\u8f6c\u901f\u8d8a\u9ad8 \u2192 \u65cb\u8f6c\u5ef6\u8fdf\u8d8a\u77ed \u2192 \u968f\u673a\u8bfb\u5199\u901f\u5ea6\u66f4\u5feb\u3002</li> <li>\u5e73\u5747\u65cb\u8f6c\u5ef6\u8fdf\u8ba1\u7b97\uff1a      \u4f8b\u5982 7200 RPM \u2248 4.17 ms\u3002</li> </ul> </li> <li>\u5e73\u5747\u5bfb\u9053\u65f6\u95f4\uff08Seek Time\uff09<ul> <li>\u78c1\u5934\u79fb\u52a8\u5230\u76ee\u6807\u78c1\u9053\u6240\u9700\u65f6\u95f4\u3002</li> <li>\u666e\u901a\u684c\u9762 HDD\uff1a8~12 ms\uff1b\u4f01\u4e1a\u7ea7 HDD\uff1a3~5 ms\u3002</li> </ul> </li> <li>\u5e73\u5747\u8bbf\u95ee\u65f6\u95f4\uff08Access Time\uff09     \u8bbf\u95ee\u65f6\u95f4=\u5bfb\u9053\u65f6\u95f4+\u65cb\u8f6c\u5ef6\u8fdf\u8bbf\u95ee\u65f6\u95f4 = \u5bfb\u9053\u65f6\u95f4 + \u65cb\u8f6c\u5ef6\u8fdf\u8bbf\u95ee\u65f6\u95f4=\u5bfb\u9053\u65f6\u95f4+\u65cb\u8f6c\u5ef6\u8fdf     \u5178\u578b HDD \u2248 10~15 ms\u3002</li> <li>\u7f13\u5b58\uff08Cache, Buffer\uff09<ul> <li>\u786c\u76d8\u81ea\u5e26\u7684 DRAM \u7f13\u5b58\uff0c\u7528\u4e8e\u9884\u53d6\u548c\u5199\u56de\u6570\u636e\u3002</li> <li>\u5e38\u89c1 32MB\u300164MB\u3001256MB\u3002\u7f13\u5b58\u5927\uff0c\u53ef\u4ee5\u51cf\u5c11\u78c1\u76d8\u4e0e\u4e3b\u673a I/O \u7684\u5ef6\u8fdf\u3002</li> </ul> </li> <li>\u63a5\u53e3\u7c7b\u578b\uff08Interface\uff09<ul> <li>SATA\uff1a\u5e38\u89c1\u4e8e\u6d88\u8d39\u7ea7\uff08\u6700\u9ad8 6 Gbps\uff09\u3002</li> <li>SAS\uff1a\u4f01\u4e1a\u7ea7\u670d\u52a1\u5668\u7528\uff0812 Gbps \u6216\u66f4\u9ad8\uff0c\u652f\u6301\u53cc\u7aef\u53e3\u5197\u4f59\uff09\u3002</li> <li>USB\uff1a\u5916\u7f6e\u786c\u76d8\u4f7f\u7528\u3002</li> </ul> </li> <li>\u6570\u636e\u4f20\u8f93\u7387\uff08Data Transfer Rate\uff09<ul> <li>\u5916\u90e8\u4f20\u8f93\u7387\uff1a\u786c\u76d8\u63a5\u53e3\u5230\u4e3b\u673a\u4e4b\u95f4\u7684\u901f\u5ea6\uff08\u53d7\u63a5\u53e3\u9650\u5236\uff0c\u5982 SATA 6 Gbps \u2248 600 MB/s\uff09\u3002</li> <li>\u5185\u90e8\u4f20\u8f93\u7387\uff1a\u78c1\u5934\u4e0e\u76d8\u7247\u4e4b\u95f4\u7684\u901f\u5ea6\uff0c\u4f9d\u8d56\u5b58\u50a8\u5bc6\u5ea6\u548c\u8f6c\u901f\uff08\u901a\u5e38 100\u2013250 MB/s\uff09\u3002</li> </ul> </li> <li>MTBF\uff08Mean Time Between Failures\uff09\u5e73\u5747\u65e0\u6545\u969c\u65f6\u95f4<ul> <li>\u8861\u91cf\u786c\u76d8\u53ef\u9760\u6027\u3002\u4f01\u4e1a\u7ea7 HDD \u5e38\u89c1 1.2\u20132.5 million hours\u3002</li> </ul> </li> <li>\u529f\u8017\u4e0e\u53d1\u70ed<ul> <li>\u9ad8\u8f6c\u901f HDD\uff0810k/15k RPM\uff09\u8017\u7535\u548c\u53d1\u70ed\u91cf\u660e\u663e\u589e\u52a0\u3002</li> </ul> </li> <li>\u566a\u97f3\uff08Acoustic Noise\uff09<ul> <li>\u78c1\u5934\u79fb\u52a8\u4e0e\u76d8\u7247\u65cb\u8f6c\u90fd\u4f1a\u4ea7\u751f\u566a\u97f3\u3002</li> <li>5400 RPM \u901a\u5e38\u66f4\u5b89\u9759\uff0c\u9002\u5408\u4f4e\u529f\u8017\u573a\u666f\u3002</li> </ul> </li> </ol>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/","title":"050 \u56fa\u6001\u786c\u76d8","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#_1","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>\u56fa\u6001\u786c\u76d8\u4e5f\u79f0SSD\uff0cSSD \u662f\u4e00\u79cd \u57fa\u4e8e\u95ea\u5b58\u5b58\u50a8\u7684\u5b58\u50a8\u8bbe\u5907\uff0c\u5176\u6838\u5fc3\u662f NAND \u95ea\u5b58\uff08\u975e\u6613\u5931\u6027\u5b58\u50a8\u5668\uff09\u3002\u4e0e\u673a\u68b0\u786c\u76d8\uff08HDD\uff09\u4f9d\u9760\u78c1\u6027\u4ecb\u8d28\u548c\u673a\u68b0\u8bfb\u5199\u5934\u4e0d\u540c\uff0cSSD \u901a\u8fc7\u7535\u5b50\u4fe1\u53f7\u8bfb\u5199\u6570\u636e\uff0c\u6ca1\u6709\u673a\u68b0\u8fd0\u52a8\u90e8\u4ef6\u3002 </p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#ssd","title":"\u4e8c\u3001SSD \u7684\u7269\u7406\u7ec4\u6210","text":"<p>\u4e00\u4e2a\u5178\u578b SSD \u7684\u5185\u90e8\u7ed3\u6784\u4e3b\u8981\u5305\u62ec\uff1a</p> <ol> <li>NAND Flash \u82af\u7247<ul> <li>\u5b58\u50a8\u6570\u636e\u7684\u6838\u5fc3\u90e8\u5206\uff0c\u57fa\u4e8e\u6d6e\u52a8\u6805\uff08Floating Gate\uff09\u6676\u4f53\u7ba1\u5b58\u50a8\u7535\u5b50\u3002</li> <li>\u591a\u9897\u82af\u7247\u5e76\u884c\u6784\u6210\u5927\u5bb9\u91cf\u5b58\u50a8\u9635\u5217</li> <li>NAND \u7c7b\u578b\uff1aSLC &gt; MLC &gt; TLC &gt; QLC\uff0c\u6027\u80fd\u548c\u5bff\u547d\u9012\u51cf\u3002</li> </ul> </li> <li>\u4e3b\u63a7\u82af\u7247\uff08Controller\uff09<ul> <li>\u7c7b\u4f3c SSD \u7684\u201c\u5927\u8111\u201d\uff0c\u8d1f\u8d23\u7ba1\u7406\u6570\u636e\u548c NAND \u82af\u7247\u7684\u4ea4\u4e92</li> </ul> </li> <li>\u7f13\u5b58\u82af\u7247\uff08DRAM \u6216 SRAM\uff09<ul> <li>\u4e34\u65f6\u5b58\u50a8\u6620\u5c04\u8868\uff08Mapping Table\uff09\u548c\u52a0\u901f\u6570\u636e\u8bbf\u95ee</li> <li>\u63d0\u9ad8\u5199\u5165\u6027\u80fd\uff0c\u51cf\u5c11\u76f4\u63a5\u5199\u5165 NAND \u7684\u5ef6\u8fdf\u3002</li> </ul> </li> <li>PCB \u677f<ul> <li>\u6240\u6709\u82af\u7247\u5b89\u88c5\u5728 PCB \u4e0a\uff0c\u7535\u8def\u8fde\u63a5</li> </ul> </li> <li>\u63a5\u53e3<ul> <li>SATA / NVMe\uff08PCIe\uff09\u7b49\uff0c\u51b3\u5b9a\u4f20\u8f93\u901f\u5ea6\u4e0a\u9650</li> <li>\u63a5\u53e3\u5e26\u5bbd\uff1aNVMe PCIe 4.0 / 5.0 &gt; PCIe 3.0 &gt; SATA 3</li> </ul> </li> <li>\u5916\u58f3<ul> <li>\u4fdd\u62a4\u5185\u90e8\u7535\u8def\uff0c\u6563\u70ed\u8bbe\u8ba1</li> </ul> </li> </ol>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#ssd_1","title":"\u4e09\u3001SSD \u7684\u7269\u7406\u53c2\u6570","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#1-capacity","title":"1. \u5bb9\u91cf\uff08Capacity\uff09","text":"<ul> <li>\u542b\u4e49\uff1aSSD \u53ef\u5b58\u50a8\u7684\u6700\u5927\u6570\u636e\u91cf\uff0c\u901a\u5e38\u4ee5 GB \u6216 TB \u4e3a\u5355\u4f4d\u3002</li> <li>\u7ec6\u8282\uff1a<ul> <li>\u6807\u79f0\u5bb9\u91cf\u4e0e\u5b9e\u9645\u53ef\u7528\u5bb9\u91cf\u7565\u6709\u5dee\u5f02\uff08\u90e8\u5206\u7a7a\u95f4\u7528\u4e8e\u63a7\u5236\u5668\u3001\u56fa\u4ef6\u548c\u5197\u4f59\uff09\u3002</li> <li>\u5178\u578b\u5bb9\u91cf\uff1a256GB\u3001512GB\u30011TB\u30012TB\u3002</li> </ul> </li> <li>\u5f71\u54cd\uff1a<ul> <li>\u5bb9\u91cf\u8d8a\u5927\uff0c\u901a\u5e38\u5e76\u884c\u7684 NAND \u901a\u9053\u8d8a\u591a\uff0c\u968f\u673a\u8bfb\u5199\u6027\u80fd\u53ef\u80fd\u66f4\u9ad8\u3002</li> <li>\u5927\u5bb9\u91cf SSD \u5bff\u547d\uff08TBW\uff09\u901a\u5e38\u4e5f\u66f4\u9ad8\u3002</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#2-interface","title":"2. \u63a5\u53e3\u7c7b\u578b\uff08Interface\uff09","text":"<ul> <li>\u542b\u4e49\uff1aSSD \u4e0e\u4e3b\u673a\u7684\u901a\u4fe1\u65b9\u5f0f\uff0c\u51b3\u5b9a\u7406\u8bba\u5e26\u5bbd\u3002</li> <li>\u5e38\u89c1\u63a5\u53e3\uff1a<ul> <li>SATA 3\uff1a6Gbps \u2192 \u987a\u5e8f\u8bfb\u5199\u7ea6 500-600 MB/s</li> <li>PCIe NVMe\uff1a<ul> <li>PCIe 3.0 x4 \u2192 \u987a\u5e8f\u8bfb\u5199\u7ea6 3.5 GB/s</li> <li>PCIe 4.0 x4 \u2192 \u987a\u5e8f\u8bfb\u5199\u7ea6 7 GB/s</li> <li>PCIe 5.0 x4 \u2192 \u987a\u5e8f\u8bfb\u5199\u53ef\u8fbe 14 GB/s+</li> </ul> </li> </ul> </li> <li>\u5f71\u54cd\uff1a<ul> <li>\u51b3\u5b9a\u987a\u5e8f\u4f20\u8f93\u901f\u5ea6\u4e0a\u9650\u3002</li> <li>NVMe SSD \u5ef6\u8fdf\u66f4\u4f4e\uff08\u03bcs \u7ea7\uff09\uff0c\u9002\u5408\u6570\u636e\u5e93\u3001AI \u6a21\u578b\u52a0\u8f7d\u3001\u865a\u62df\u5316\u7b49\u9ad8 IOPS \u573a\u666f\u3002</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#3-nand","title":"3. NAND \u7c7b\u578b","text":"<ul> <li>\u542b\u4e49\uff1a\u5b58\u50a8\u5355\u5143\u6bcf\u4e2a\u6676\u4f53\u7ba1\u5b58\u50a8\u7684\u6bd4\u7279\u6570\u3002</li> <li>\u7c7b\u578b\u4e0e\u7279\u70b9\uff1a</li> </ul> \u7c7b\u578b \u4f4d/\u5355\u5143 \u5bff\u547d \u901f\u5ea6 \u6210\u672c SLC 1 \u6700\u9ad8 \u5feb \u9ad8 MLC 2 \u9ad8 \u8f83\u5feb \u4e2d TLC 3 \u4e2d \u4e2d \u8f83\u4f4e QLC 4 \u8f83\u4f4e \u6162 \u6700\u4f4e <ul> <li>\u5f71\u54cd\uff1a<ul> <li>\u4f4d\u6570\u8d8a\u591a\uff0c\u5355\u5143\u7535\u8377\u72b6\u6001\u8d8a\u591a\uff0c\u5199\u5165\u901f\u5ea6\u6162\u3001\u5bff\u547d\u77ed\u3002</li> <li>SLC \u5e38\u7528\u4e8e\u4f01\u4e1a\u7ea7\uff0c\u9ad8\u6027\u80fd\u8981\u6c42\u573a\u666f\u3002</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#4-controller","title":"4. \u63a7\u5236\u5668\u578b\u53f7\uff08Controller\uff09","text":"<ul> <li>\u542b\u4e49\uff1aSSD \u5185\u90e8\u7ba1\u7406 NAND\u3001\u7f13\u5b58\u548c\u6570\u636e\u6620\u5c04\u7684\u82af\u7247\u3002</li> <li> <p>\u4f5c\u7528\uff1a</p> <ul> <li>ECC\uff08\u9519\u8bef\u7ea0\u6b63\uff09</li> <li>TRIM \u652f\u6301</li> <li>\u5747\u8861\u78e8\u635f\uff08Wear Leveling\uff09</li> <li>\u574f\u5757\u7ba1\u7406</li> <li>\u591a\u901a\u9053\u5e76\u884c\u8bbf\u95ee</li> </ul> </li> <li> <p>\u5f71\u54cd\uff1a</p> <ul> <li>\u51b3\u5b9a\u968f\u673a\u8bfb\u5199\u6027\u80fd\u3001\u7a33\u5b9a\u6027\u548c\u5bff\u547d\u3002</li> <li>\u9ad8\u7aef\u63a7\u5236\u5668\u901a\u5e38\u652f\u6301\u66f4\u591a NAND \u901a\u9053\uff0c\u63d0\u9ad8\u541e\u5410\u91cf\u3002</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#5","title":"5. \u8bfb\u5199\u901f\u5ea6","text":"<ul> <li>\u987a\u5e8f\u8bfb\u5199\uff08Sequential Read/Write\uff09\uff1a<ul> <li>\u6d4b\u91cf\u8fde\u7eed\u5927\u6587\u4ef6\u7684\u8bfb\u5199\u901f\u5ea6\uff08MB/s\uff09</li> <li>\u5bf9\u5e94\u63a5\u53e3\u5e26\u5bbd\u4e0a\u9650</li> </ul> </li> <li>\u968f\u673a\u8bfb\u5199\uff08Random Read/Write\uff09\uff1a<ul> <li>\u6d4b\u91cf\u5c0f\u6587\u4ef6\u968f\u673a\u5b58\u53d6\u6027\u80fd\uff0c\u901a\u5e38\u7528 IOPS\uff08\u6bcf\u79d2\u8f93\u5165\u8f93\u51fa\u64cd\u4f5c\u6570\uff09 \u8868\u793a</li> <li>\u5bf9\u6570\u636e\u5e93\u548c\u865a\u62df\u5316\u6027\u80fd\u5f71\u54cd\u5927</li> </ul> </li> <li>\u5f71\u54cd\uff1a<ul> <li>\u9ad8\u987a\u5e8f\u901f\u5ea6\u9002\u5408\u5927\u6587\u4ef6\u4f20\u8f93</li> <li>\u9ad8\u968f\u673a IOPS \u5bf9\u7cfb\u7edf\u54cd\u5e94\u901f\u5ea6\u548c\u591a\u4efb\u52a1\u5904\u7406\u66f4\u5173\u952e</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#6-endurance","title":"6. \u5199\u5165\u5bff\u547d\uff08Endurance\uff09","text":"<ul> <li>\u542b\u4e49\uff1aSSD \u5728\u5931\u6548\u524d\u53ef\u4ee5\u5199\u5165\u7684\u6570\u636e\u603b\u91cf\u3002</li> <li>\u6307\u6807\uff1a<ul> <li>TBW\uff08Terabytes Written\uff09\uff1a\u603b\u53ef\u5199\u5165\u5b57\u8282\u6570</li> <li>DWPD\uff08Drive Writes Per Day\uff09\uff1a\u6bcf\u5929\u53ef\u5199\u5165\u7684\u6574\u76d8\u5bb9\u91cf\u500d\u6570</li> </ul> </li> <li>\u793a\u4f8b\uff1a<ul> <li>1TB SSD\uff0cTBW=600TB \u2192 \u7406\u8bba\u6bcf\u5929\u53ef\u5199 0.5TB\uff0c\u4f7f\u7528 3 \u5e74</li> </ul> </li> <li>\u5f71\u54cd\uff1a<ul> <li>\u4f01\u4e1a\u7ea7 SSD \u5bff\u547d\u8981\u6c42\u9ad8\uff08DWPD 3-10\uff09</li> <li>\u6d88\u8d39\u7ea7 SSD \u5bff\u547d\u901a\u5e38\u8f83\u77ed\uff08DWPD 0.3-1\uff09</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#7-cache","title":"7. \u7f13\u5b58\u5bb9\u91cf\uff08Cache\uff09","text":"<ul> <li>\u542b\u4e49\uff1aSSD \u5185\u90e8 DRAM \u6216 SLC Cache \u7528\u4e8e\u52a0\u901f\u6570\u636e\u8bfb\u5199\u3002</li> <li>\u4f5c\u7528\uff1a<ul> <li>\u4e34\u65f6\u5b58\u50a8\u6620\u5c04\u8868\u548c\u5199\u5165\u6570\u636e</li> <li>\u51cf\u5c11 NAND \u76f4\u63a5\u5199\u5165\uff0c\u964d\u4f4e\u5199\u5165\u653e\u5927</li> </ul> </li> <li>\u5f71\u54cd\uff1a<ul> <li>\u5927\u7f13\u5b58 \u2192 \u5199\u5165\u7a81\u53d1\u6027\u80fd\u9ad8</li> <li>\u65e0 DRAM SSD \u4f9d\u8d56 Host Memory Buffer\uff0c\u968f\u673a\u6027\u80fd\u7565\u4f4e</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#8-latency","title":"8. \u5ef6\u8fdf\uff08Latency\uff09","text":"<ul> <li>\u542b\u4e49\uff1a\u6570\u636e\u4ece\u8bf7\u6c42\u5230\u5b8c\u6210\u7684\u65f6\u95f4\u3002</li> <li>\u5355\u4f4d\uff1a<ul> <li>SATA SSD\uff1a\u7ea6 50-100 \u03bcs</li> <li>NVMe SSD\uff1a\u7ea6 10-30 \u03bcs</li> </ul> </li> <li>\u5f71\u54cd\uff1a<ul> <li>\u4f4e\u5ef6\u8fdf \u2192 \u66f4\u5feb\u7684\u54cd\u5e94\u901f\u5ea6</li> <li>\u5bf9\u6570\u636e\u5e93\u3001\u865a\u62df\u5316\u3001AI \u8bad\u7ec3\u7b49\u9ad8\u9891 I/O \u5e94\u7528\u975e\u5e38\u5173\u952e</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#9","title":"9. \u5176\u5b83\u53c2\u6570\uff08\u53ef\u9009\uff09","text":"<ul> <li>\u529f\u8017\uff08Power Consumption\uff09<ul> <li>\u8fd0\u884c\u529f\u8017\u901a\u5e38 2-5W\uff0c\u4f4e\u529f\u8017 SSD \u9002\u5408\u7b14\u8bb0\u672c</li> </ul> </li> <li>\u5de5\u4f5c\u6e29\u5ea6<ul> <li>\u4f01\u4e1a\u7ea7 SSD \u53ef\u627f\u53d7 0~70\u00b0C\uff0c\u9ad8\u6e29\u4e0b\u5bff\u547d\u53d7\u5f71\u54cd</li> </ul> </li> <li>\u9707\u52a8/\u51b2\u51fb\u8010\u53d7<ul> <li>SSD \u65e0\u673a\u68b0\u90e8\u4ef6\uff0c\u6bd4 HDD \u6297\u9707\u6027\u9ad8</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#_2","title":"\u56db\u3001\u56fa\u6001\u786c\u76d8\u548c\u673a\u68b0\u786c\u76d8\u5bf9\u6bd4","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#1","title":"1. \u5de5\u4f5c\u539f\u7406","text":"\u7c7b\u578b \u5de5\u4f5c\u539f\u7406 \u5173\u952e\u7279\u70b9 HDD\uff08\u673a\u68b0\u786c\u76d8\uff09 \u4f7f\u7528\u65cb\u8f6c\u7684\u78c1\u76d8\uff08platter\uff09\u5b58\u50a8\u6570\u636e\uff0c\u901a\u8fc7\u78c1\u5934\u5728\u76d8\u7247\u4e0a\u8bfb\u5199\u6570\u636e \u673a\u68b0\u8fd0\u52a8\u90e8\u4ef6\uff0c\u8bfb\u5199\u4f9d\u8d56\u78c1\u5934\u79fb\u52a8\u548c\u76d8\u7247\u65cb\u8f6c SSD\uff08\u56fa\u6001\u786c\u76d8\uff09 \u4f7f\u7528 NAND \u95ea\u5b58\u82af\u7247\u5b58\u50a8\u6570\u636e\uff0c\u901a\u8fc7\u63a7\u5236\u5668\u76f4\u63a5\u8bbf\u95ee\u5b58\u50a8\u5355\u5143 \u65e0\u673a\u68b0\u8fd0\u52a8\u90e8\u4ef6\uff0c\u6570\u636e\u4ee5\u7535\u5b50\u65b9\u5f0f\u5b58\u53d6\uff0c\u901f\u5ea6\u5feb <p>\u6838\u5fc3\u5dee\u5f02\uff1aHDD \u662f\u673a\u68b0\u5b58\u50a8\uff0cSSD \u662f\u7535\u5b50\u5b58\u50a8\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#2","title":"2. \u8bfb\u5199\u901f\u5ea6","text":"\u7c7b\u578b \u987a\u5e8f\u8bfb\u5199 \u968f\u673a\u8bfb\u5199 \u5ef6\u8fdf HDD 100~250 MB/s\uff087200 RPM\u76d8\uff09 0.5~2 MB/s 5~15 ms SATA SSD 500~600 MB/s 50~100 MB/s 0.05~0.1 ms NVMe SSD 3000~7500 MB/s\uff08PCIe 3.0/4.0/5.0\uff09 500~1000 MB/s 0.01~0.05 ms <ul> <li>\u987a\u5e8f\u8bfb\u5199\uff1a\u4e3b\u8981\u5f71\u54cd\u5927\u6587\u4ef6\u4f20\u8f93\uff0c\u4f8b\u5982\u89c6\u9891\u526a\u8f91\u3002</li> <li>\u968f\u673a\u8bfb\u5199\uff1a\u5f71\u54cd\u7cfb\u7edf\u542f\u52a8\u3001\u8f6f\u4ef6\u52a0\u8f7d\u3001\u6570\u636e\u5e93\u7b49\u5c0f\u6587\u4ef6\u9891\u7e41\u8bbf\u95ee\u7684\u573a\u666f\u3002</li> <li>\u5ef6\u8fdf\uff1aSSD \u5ef6\u8fdf\u8fdc\u4f4e\u4e8e HDD\uff0c\u51e0\u4e4e\u77ac\u65f6\u54cd\u5e94\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#3","title":"3. \u5bff\u547d\u4e0e\u8010\u4e45\u6027","text":"\u7c7b\u578b \u5bff\u547d \u5e38\u89c1\u6307\u6807 HDD \u53ef\u7528\u5e74\u9650\uff1a3~8\u5e74 \u574f\u9053\u3001\u78c1\u5934\u635f\u574f SSD \u4f9d\u8d56\u5199\u5165\u5bff\u547d\uff08TBW/Total Bytes Written\uff09 \u4f8b\u5982 1TB SATA SSD TBW\uff1a600TB\uff1b\u4f01\u4e1a\u7ea7 NVMe SSD TBW\uff1a3~5PB <ul> <li>SSD \u65e0\u673a\u68b0\u78e8\u635f\uff0c\u4f46 NAND \u5b58\u50a8\u5355\u5143\u6709\u5199\u5165\u6b21\u6570\u9650\u5236\u3002</li> <li>HDD \u673a\u68b0\u90e8\u4ef6\u78e8\u635f\uff0c\u5bb9\u6613\u53d7\u5230\u9707\u52a8\u635f\u574f\u3002</li> <li>\u65e5\u5e38\u529e\u516c/\u6e38\u620f\u573a\u666f\u4e0b\uff0cSSD \u5bff\u547d\u901a\u5e38\u8d85\u8fc7 HDD\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#4","title":"4. \u5bb9\u91cf\u4e0e\u6210\u672c","text":"\u7c7b\u578b \u5bb9\u91cf \u6210\u672c\uff08\u6bcfGB\uff09 \u4f18\u52bf HDD 500GB ~ 22TB \u7ea6 $0.02~0.04/GB \u5927\u5bb9\u91cf\uff0c\u4f4e\u6210\u672c SSD 120GB ~ 8TB\uff08\u6d88\u8d39\u7ea7\uff09 \u7ea6 $0.06~0.15/GB \u6027\u80fd\u9ad8\u4f46\u5bb9\u91cf\u5927\u6210\u672c\u9ad8 <ul> <li>\u5927\u5bb9\u91cf\u5b58\u50a8\uff0cHDD \u4ecd\u6709\u4f18\u52bf\u3002</li> <li>SSD \u5bb9\u91cf\u589e\u957f\u8fc5\u901f\uff0c\u4f01\u4e1a\u7ea7 NVMe SSD \u4e5f\u53ef\u505a\u5230\u6570 TB\uff0c\u4f46\u6210\u672c\u9ad8\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#5_1","title":"5. \u529f\u8017\u4e0e\u566a\u97f3","text":"\u7c7b\u578b \u529f\u8017 \u566a\u97f3 \u53d1\u70ed HDD 6~9W \u65cb\u8f6c\u566a\u97f3 + \u5bfb\u9053\u566a\u97f3 \u9ad8\uff0c\u5c24\u5176\u591a\u76d8\u9635\u5217 SSD 2~5W\uff08SATA\uff09 \u65e0\u566a\u97f3 \u4f4e\uff0cNVMe \u9ad8\u901f\u8bfb\u5199\u4f1a\u53d1\u70ed <p>SSD \u66f4\u8282\u80fd\u3001\u65e0\u566a\u97f3\u3001\u4f4e\u632f\u52a8\uff0c\u9002\u5408\u7b14\u8bb0\u672c\u548c\u6570\u636e\u4e2d\u5fc3\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#6","title":"6. \u4f53\u79ef\u4e0e\u63a5\u53e3","text":"\u7c7b\u578b \u5f62\u6001 \u63a5\u53e3 HDD 3.5\"/2.5\" SATA SSD 2.5\", M.2, PCIe\u5361 SATA, PCIe/NVMe <ul> <li>SSD \u66f4\u5c0f\u5de7\u7075\u6d3b\uff0c\u4fbf\u4e8e\u8f7b\u8584\u7b14\u8bb0\u672c\u548c\u670d\u52a1\u5668\u9ad8\u5bc6\u5ea6\u5b58\u50a8\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/050-%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98/#7","title":"7. \u53ef\u9760\u6027\u4e0e\u9707\u52a8\u8010\u53d7\u6027","text":"\u7c7b\u578b \u6297\u9707\u80fd\u529b \u6570\u636e\u4e22\u5931\u98ce\u9669 HDD \u4f4e \u673a\u68b0\u6545\u969c\u3001\u6389\u7535\u3001\u9707\u52a8\u6613\u635f\u574f SSD \u9ad8 \u7535\u6c14\u6545\u969c\u98ce\u9669\u66f4\u9ad8\uff0c\u4f46\u6297\u9707\u80fd\u529b\u8fdc\u8d85 HDD <ul> <li>\u6570\u636e\u4e2d\u5fc3\u6216\u79fb\u52a8\u8bbe\u5907\u66f4\u503e\u5411\u4f7f\u7528 SSD\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/060-%E6%98%BE%E7%A4%BA%E5%99%A8/","title":"060 \u663e\u793a\u5668","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/060-%E6%98%BE%E7%A4%BA%E5%99%A8/#1-panel-type","title":"1. \u9762\u677f\u7c7b\u578b (Panel Type)","text":"<p>\u8fd9\u662f\u51b3\u5b9a\u663e\u793a\u5668\u201c\u6027\u683c\u201d\u7684\u6838\u5fc3\uff0c\u4e0d\u540c\u7684\u9762\u677f\u6280\u672f\u51b3\u5b9a\u4e86\u5b83\u7684\u4f18\u52bf\u9886\u57df\u3002</p> <ul> <li> <p>IPS (In-Plane Switching): \u201c\u4e07\u91d1\u6cb9\u201d</p> <ul> <li> <p>\u7279\u70b9: \u8272\u5f69\u8fd8\u539f\u597d\uff0c\u53ef\u89c6\u89d2\u5ea6\u5e7f\uff08\u4fa7\u9762\u770b\u53d8\u8272\u5c11\uff09\u3002</p> </li> <li> <p>\u7f3a\u70b9: \u5bf9\u6bd4\u5ea6\u4e00\u822c\uff08\u901a\u5e38\u4e3a1000:1\uff09\uff0c\u9ed1\u8272\u663e\u793a\u4e0d\u591f\u7eaf\u7cb9\uff08\u5bb9\u6613\u6709\u6f0f\u5149\u73b0\u8c61\uff09\u3002</p> </li> <li> <p>\u9002\u7528: \u529e\u516c\u3001\u8bbe\u8ba1\u3001\u5927\u90e8\u5206\u6e38\u620f\u73a9\u5bb6\u3002</p> </li> </ul> </li> <li> <p>VA (Vertical Alignment): \u201c\u5f71\u97f3\u795e\u5668\u201d</p> <ul> <li> <p>\u7279\u70b9: \u5bf9\u6bd4\u5ea6\u9ad8\uff08\u901a\u5e38\u4e3a3000:1\uff09\uff0c\u9ed1\u8272\u6df1\u9083\uff0c\u5e38\u7528\u4e8e\u66f2\u9762\u5c4f\u3002</p> </li> <li> <p>\u7f3a\u70b9: \u54cd\u5e94\u901f\u5ea6\u76f8\u5bf9\u8f83\u6162\uff0c\u5feb\u901f\u79fb\u52a8\u753b\u9762\u53ef\u80fd\u6709\u62d6\u5f71\u3002</p> </li> <li> <p>\u9002\u7528: \u770b\u7535\u5f71\u3001\u5355\u673a3A\u5927\u4f5c\u3001\u8ffd\u6c42\u6c89\u6d78\u611f\u7684\u73a9\u5bb6\u3002</p> </li> </ul> </li> <li> <p>TN (Twisted Nematic): \u201c\u7535\u7ade\u8001\u5c06\u201d</p> <ul> <li> <p>\u7279\u70b9: \u54cd\u5e94\u901f\u5ea6\u6781\u5feb\uff0c\u4fbf\u5b9c\u3002</p> </li> <li> <p>\u7f3a\u70b9: \u8272\u5f69\u6cdb\u767d\uff0c\u53ef\u89c6\u89d2\u5ea6\u6781\u5dee\uff08\u7a0d\u5fae\u504f\u5934\u770b\u989c\u8272\u5c31\u53d8\u4e86\uff09\u3002</p> </li> <li> <p>\u9002\u7528: \u9884\u7b97\u6709\u9650\u7684\u6781\u9650FPS\u7ade\u6280\u73a9\u5bb6\uff08\u76ee\u524d\u9010\u6e10\u88abFast-IPS\u53d6\u4ee3\uff09\u3002</p> </li> </ul> </li> <li> <p>OLED / Mini-LED: \u201c\u9ad8\u7aef\u65b0\u8d35\u201d</p> <ul> <li> <p>\u7279\u70b9: \u6781\u9ad8\u7684\u5bf9\u6bd4\u5ea6\u3001\u6781\u5feb\u7684\u54cd\u5e94\u901f\u5ea6\u3001\u8272\u5f69\u6781\u4f73\u3002</p> </li> <li> <p>\u7f3a\u70b9: \u4ef7\u683c\u6602\u8d35\uff0cOLED\u6709\u201c\u70e7\u5c4f\u201d\u98ce\u9669\u3002</p> </li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/060-%E6%98%BE%E7%A4%BA%E5%99%A8/#2-clarity-size","title":"2. \u753b\u9762\u7cbe\u5ea6 (Clarity &amp; Size)","text":"<p>\u51b3\u5b9a\u4e86\u753b\u9762\u7684\u7ec6\u817b\u7a0b\u5ea6\u548c\u89c6\u91ce\u5927\u5c0f\u3002</p> <ul> <li> <p>\u5c3a\u5bf8 (Size): \u5bf9\u89d2\u7ebf\u957f\u5ea6\uff0c\u5355\u4f4d\u662f\u82f1\u5bf8\u3002</p> <ul> <li> <p>24\u82f1\u5bf8: \u9002\u5408\u7535\u7ade\uff08\u89c6\u7ebf\u80fd\u4e00\u773c\u770b\u5168\u5c4f\u5e55\uff09\u6216\u5c0f\u684c\u5b50\u3002</p> </li> <li> <p>27\u82f1\u5bf8: \u9ec4\u91d1\u5c3a\u5bf8\uff0c\u517c\u987e\u529e\u516c\u548c\u5a31\u4e50\u3002</p> </li> <li> <p>32\u82f1\u5bf8\u53ca\u4ee5\u4e0a: \u6c89\u6d78\u611f\u5f3a\uff0c\u9002\u5408\u770b\u5267\u6216\u591a\u7a97\u53e3\u529e\u516c\uff0c\u4f46\u9700\u8981\u8f83\u5927\u7684\u684c\u6df1\u3002</p> </li> </ul> </li> <li> <p>\u5206\u8fa8\u7387 (Resolution): \u5c4f\u5e55\u4e0a\u7684\u50cf\u7d20\u70b9\u6570\u91cf\u3002</p> <ul> <li> <p>1080P (1920x1080): \u57fa\u7840\u6e05\u6670\u5ea6\uff0c24\u5bf8\u4ee5\u5185\u5408\u9002\uff0c27\u5bf8\u4f1a\u6709\u9897\u7c92\u611f\u3002</p> </li> <li> <p>2K (2560x1440): \u76ee\u524d\u7684\u751c\u871c\u70b9\uff0c27\u5bf8\u7684\u6700\u4f73\u642d\u6863\uff0c\u6e05\u6670\u5ea6\u4e0e\u663e\u5361\u538b\u529b\u7684\u5e73\u8861\u3002</p> </li> <li> <p>4K (3840x2160): \u6781\u5176\u7ec6\u817b\uff0c\u9002\u5408\u8bbe\u8ba1\u3001\u5f71\u97f3\u548c\u62e5\u6709\u9876\u7ea7\u663e\u5361\u7684\u73a9\u5bb6\u3002</p> </li> </ul> </li> <li> <p>PPI (\u50cf\u7d20\u5bc6\u5ea6): \u8fd9\u662f\u4e00\u4e2a\u7ed3\u5408\u4e86\u5c3a\u5bf8\u548c\u5206\u8fa8\u7387\u7684\u6307\u6807\u3002PPI\u8d8a\u9ad8\uff0c\u753b\u9762\u8d8a\u7ec6\u817b\u3002</p> <ul> <li>\u6ce8\u610f: 27\u5bf84K\u7684\u7ec6\u817b\u5ea6 &gt; 32\u5bf84K\u3002</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/060-%E6%98%BE%E7%A4%BA%E5%99%A8/#3-speed-motion","title":"3. \u901f\u5ea6\u6027\u80fd (Speed &amp; Motion)","text":"<p>\u8fd9\u90e8\u5206\u53c2\u6570\u5bf9\u6e38\u620f\u73a9\u5bb6\u81f3\u5173\u91cd\u8981\uff0c\u529e\u516c\u7528\u6237\u53ef\u9002\u5f53\u653e\u5bbd\u3002</p> <ul> <li> <p>\u5237\u65b0\u7387 (Refresh Rate): \u5c4f\u5e55\u6bcf\u79d2\u949f\u5237\u65b0\u7684\u6b21\u6570\uff0c\u5355\u4f4d\u8d6b\u5179 (Hz)\u3002</p> <ul> <li> <p>60Hz/75Hz: \u6807\u51c6\u529e\u516c\uff0c\u7f51\u9875\u6d4f\u89c8\u3002</p> </li> <li> <p>144Hz/165Hz/180Hz: \u4e3b\u6d41\u7535\u7ade\uff0c\u753b\u9762\u6d41\u7545\u4e1d\u6ed1\u3002</p> </li> <li> <p>240Hz/360Hz+: \u804c\u4e1a\u7535\u7ade\u7ea7\u522b\u3002</p> </li> <li> <p>\u4f53\u9a8c\u5dee\u5f02: \u4ece60Hz\u5230144Hz\u7684\u63d0\u5347\u662f\u8089\u773c\u53ef\u89c1\u7684\u5de8\u5927\uff0c\u9f20\u6807\u6ed1\u52a8\u90fd\u4f1a\u53d8\u987a\u7545\u3002</p> </li> </ul> </li> <li> <p>\u54cd\u5e94\u65f6\u95f4 (Response Time): \u50cf\u7d20\u70b9\u989c\u8272\u8f6c\u53d8\u6240\u9700\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u6beb\u79d2 (ms)\u3002</p> <ul> <li> <p>\u901a\u5e38\u6307 GtG (\u7070\u9636\u54cd\u5e94\u65f6\u95f4)\u3002</p> </li> <li> <p>\u6570\u503c\u8d8a\u4f4e\u8d8a\u597d\u30021ms GtG\u662f\u76ee\u524d\u4f18\u79c0\u7535\u7ade\u5c4f\u7684\u6807\u51c6\u3002</p> </li> <li> <p>\u5f71\u54cd: \u54cd\u5e94\u65f6\u95f4\u8fc7\u957f\u4f1a\u5bfc\u81f4\u753b\u9762\u62d6\u5f71\uff08Ghosting\uff09\uff0c\u5728\u5feb\u901f\u8f6c\u52a8\u89c6\u89d2\u65f6\u753b\u9762\u53d8\u7cca\u3002</p> </li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/060-%E6%98%BE%E7%A4%BA%E5%99%A8/#4-color-performance","title":"4. \u8272\u5f69\u8868\u73b0 (Color Performance)","text":"<p>\u8fd9\u90e8\u5206\u53c2\u6570\u5bf9\u8bbe\u8ba1\u5e08\u3001\u6444\u5f71\u5e08\u3001\u89c6\u9891\u526a\u8f91\u81f3\u5173\u91cd\u8981\u3002</p> <ul> <li> <p>\u8272\u57df (Color Gamut): \u663e\u793a\u5668\u80fd\u663e\u793a\u7684\u989c\u8272\u8303\u56f4\u3002</p> <ul> <li> <p>sRGB: \u4e92\u8054\u7f51\u6807\u51c6\u8272\u57df\u3002\u8986\u76d6\u738799%\u6216100% sRGB\u662f\u597d\u663e\u793a\u5668\u7684\u53ca\u683c\u7ebf\u3002Windows\u7cfb\u7edf\u9ed8\u8ba4\u57fa\u4e8e\u6b64\u3002</p> </li> <li> <p>DCI-P3: \u7535\u5f71\u7ea7\u8272\u57df\uff0c\u8986\u76d6\u8303\u56f4\u6bd4sRGB\u5e7f\uff0c\u989c\u8272\u66f4\u9c9c\u8273\u3002\u82f9\u679c\u8bbe\u5907\u548c\u73b0\u4ee3\u6e38\u620f\u5e38\u91c7\u7528\u6b64\u6807\u51c6\uff08\u63a8\u835090%\u4ee5\u4e0a\uff09\u3002</p> </li> <li> <p>Adobe RGB: \u5370\u5237\u4e13\u4e1a\u8272\u57df\uff0c\u4e3b\u8981\u7528\u4e8e\u4e13\u4e1a\u6444\u5f71\u548c\u6253\u5370\u8f93\u51fa\uff0c\u666e\u901a\u7528\u6237\u65e0\u9700\u8ffd\u6c42\u3002</p> </li> </ul> </li> <li> <p>\u8272\u51c6 (Color Accuracy / $\\Delta E$): \u989c\u8272\u663e\u793a\u7684\u51c6\u786e\u5ea6\u3002</p> <ul> <li> <p>$\\Delta E$ (Delta E): \u6570\u503c\u8d8a\u5c0f\u8d8a\u597d\u3002</p> </li> <li> <p>$\\Delta E &lt; 2$: \u4e13\u4e1a\u7ea7\uff0c\u8089\u773c\u51e0\u4e4e\u770b\u4e0d\u51fa\u504f\u8272\u3002</p> </li> <li> <p>$\\Delta E &lt; 3$: \u4f18\u79c0\uff0c\u9002\u5408\u7edd\u5927\u591a\u6570\u7528\u6237\u3002</p> </li> </ul> </li> <li> <p>\u8272\u6df1 (Color Depth): \u8272\u5f69\u8fc7\u6e21\u7684\u65ad\u5c42\u60c5\u51b5\u3002</p> <ul> <li> <p>8bit: \u4e3b\u6d41\u6807\u51c6\uff0c\u80fd\u663e\u793a1670\u4e07\u8272\u3002</p> </li> <li> <p>10bit: \u80fd\u591f\u663e\u793a10.7\u4ebf\u8272\uff0c\u8272\u5f69\u8fc7\u6e21\u66f4\u5e73\u6ed1\uff08\u901a\u5e38\u9700\u8981\u8bbe\u8ba1\u8f6f\u4ef6\u652f\u6301\uff09\u3002</p> </li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B/060-%E6%98%BE%E7%A4%BA%E5%99%A8/#5-others","title":"5. \u5176\u4ed6\u91cd\u8981\u6307\u6807 (Others)","text":"<ul> <li> <p>\u4eae\u5ea6 (Brightness): \u5355\u4f4d\u5c3c\u7279 (nits)\u3002</p> <ul> <li> <p>\u666e\u901a\u5ba4\u5185\u4f7f\u7528 250-300 nits \u8db3\u591f\u3002</p> </li> <li> <p>\u5982\u679c\u9700\u8981 HDR (\u9ad8\u52a8\u6001\u8303\u56f4) \u6548\u679c\uff0c\u901a\u5e38\u9700\u8981\u81f3\u5c11 400 nits (HDR400)\uff0c\u6700\u597d\u7684\u4f53\u9a8c\u9700\u8981 600-1000 nits (Mini-LED\u6216OLED)\u3002</p> </li> </ul> </li> <li> <p>\u63a5\u53e3 (Interface):</p> <ul> <li> <p>HDMI: \u901a\u7528\u6027\u5f3a\uff0c\u8fde\u63a5\u6e38\u620f\u673a\uff08PS5/Xbox\uff09\u9996\u9009\uff08\u9700HDMI 2.1\u652f\u63014K 120Hz\uff09\u3002</p> </li> <li> <p>DP (DisplayPort): \u8fde\u63a5PC\u663e\u5361\u7684\u9996\u9009\uff0c\u5e26\u5bbd\u66f4\u5927\uff0c\u66f4\u7a33\u5b9a\u3002</p> </li> <li> <p>Type-C (\u5168\u529f\u80fd): \u7b14\u8bb0\u672c\u7528\u6237\u7684\u798f\u97f3\uff0c\u4e00\u6839\u7ebf\u53ef\u4ee5\u540c\u65f6\u5b9e\u73b0\u89c6\u9891\u4f20\u8f93\u3001\u6570\u636e\u4f20\u8f93\u548c\u7ed9\u7b14\u8bb0\u672c\u5145\u7535\uff08\u6ce8\u610f\u770b\u652f\u6301\u591a\u5c11W\u7684\u53cd\u5411\u5145\u7535\uff09\u3002</p> </li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/Oracle%E5%AE%89%E8%A3%85/","title":"Oracle\u5b89\u88c5","text":"<ul> <li>\u955c\u50cf\u4e0b\u8f7d\u5730\u5740\uff1ahttps://yum.oracle.com/oracle-linux-isos.html</li> <li>Oracle\u662fredhat\u7684\u53e6\u4e2a\u5206\u652f\uff0c\u5b89\u88c5\u8fc7\u7a0b\u57fa\u672c\u540ccentos\u8fc7\u7a0b\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/Rocky%E5%AE%89%E8%A3%85/","title":"Rocky\u5b89\u88c5","text":"<p>\u5b98\u7f51\uff1a https://rockylinux.org/zh-CN/news \u4e0b\u8f7d\uff1ahttps://www.rockylinux.cn/download</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/Rocky%E5%AE%89%E8%A3%85/#rocky-linux","title":"Rocky Linux \u5b98\u65b9\u955c\u50cf\u6e90","text":"<p>\u5730\u5740\uff1a\u00a0<code>https://mirror.rockylinux.org/mirrormanager/mirrors</code> https://dl.rockylinux.org/vault/rocky/</p> <p>\u5e38\u7528\u7248\u672c\uff1aRocky Linux release 8.9 - https://dl.rockylinux.org/vault/rocky/8.9/isos/x86_64/Rocky-8.9-x86_64-minimal.iso Rocky Linux release 8.6 - https://dl.rockylinux.org/vault/rocky/8.6/isos/x86_64/Rocky-8.6-x86_64-minimal.iso</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/centos%E5%AE%89%E8%A3%85/","title":"Centos\u5b89\u88c5","text":"<ul> <li>\u4e0b\u8f7dcentos\u7cfb\u7edf\u955c\u50cf </li> <li>dd\u955c\u50cf\u5230\u67d0\u4e2a\u78c1\u76d8\u540e\u5f00\u673a\u9009\u62e9\u8fd9\u5757\u76d8\u542f\u52a8\uff0c\u8fc7\u7a0b\u53c2\u8003ubuntu\u5b89\u88c5</li> <li>\u8bbe\u7f6e\u8bed\u8a00\u4e3a\u82f1\u6587</li> <li>\u8bbe\u7f6e\u5b89\u88c5\u5206\u533a<ul> <li>\u9009\u62e9\u81ea\u52a8\u914d\u7f6e\u5206\u533a\u3001\u5982\u679c\u539f\u672c\u7684\u78c1\u76d8\u6709\u7cfb\u7edf\uff0c\u53ef\u80fd\u4f1a\u8981\u6c42\u4f60\u683c\u5f0f\u5316\u78c1\u76d8 </li> </ul> </li> </ul> <ul> <li>\u914d\u7f6e\u7f51\u7edc </li> <li>\u9664\u4e86unplugged \u7684\u7f51\u5361\uff0c\u5176\u4ed6\u968f\u4fbf\u9009\u62e9\u4e00\u4e2a\u7f51\u5361\u8fdb\u884c\u914d\u7f6eIPV4\u4fe1\u606f </li> </ul> <ul> <li> <p>\u914d\u7f6e\u9759\u6001IP </p> </li> <li> <p>\u8fd9\u8fb9\u8bb0\u5f97\u8981on\u6253\u5f00 </p> </li> <li> <p>\u7f51\u7edc\u548c\u5f15\u5bfc\u76d8\u8bbe\u7f6e\u597d\u4e4b\u540e\u5c31\u53ef\u4ee5\u70b9\u51fb\u5b89\u88c5\u4e86</p> </li> <li> <p>\u8bbe\u7f6eroot\u7528\u6237\u7684\u8d26\u53f7\u5bc6\u7801  </p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/centos%E5%AE%89%E8%A3%85/#-centos-httpsmirrorsaliyuncomcentos","title":"- centos\u5b98\u65b9\u7f51\u7ad9\u63a8\u8350\u53bb\u7b2c\u4e09\u65b9\u7f51\u7ad9\u4e0b\u8f7d\u955c\u50cf\u53ef\u4ee5\u53bb\u963f\u91cc\u4e91\u4e0b\u8f7d https://mirrors.aliyun.com/centos","text":"<ul> <li>\u901a\u5e38\u9ed8\u8ba4\u5b89\u88c5\u6700\u5c0f\u7248\u672c\uff08Minmal\uff09\uff0c\u6ca1\u6709\u989d\u5916\u7684\u5b89\u88c5\u8f6f\u4ef6\uff0c\u955c\u50cf\u4e0d\u52301G\u6bd4\u8f83\u5c0f\uff0cDVD\u7248\u672c\u7684\u6bd4\u8f83\u5927\uff0c\u6ca1\u6709\u591a\u5927\u5fc5\u8981<ul> <li>https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Minimal-2009.iso</li> </ul> </li> <li></li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/debian%E5%AE%89%E8%A3%85/","title":"Debian\u5b89\u88c5","text":"<ul> <li>debian\u5b98\u65b9\u955c\u50cf https://cdimage.debian.org/cdimage/archive/</li> <li>\u5e38\u7528\u955c\u50cf\u5730\u5740\u4e3a\uff1a<ul> <li>https://cdimage.debian.org/cdimage/archive/10.12.0/amd64/iso-dvd/<ul> <li>\u5982 https://cdimage.debian.org/cdimage/archive/10.12.0/amd64/iso-dvd/debian-10.12.0-amd64-DVD-1.iso</li> </ul> </li> <li>https://cdimage.debian.org/cdimage/archive/9.13.0/amd64/iso-dvd/</li> <li>\u5e38\u7528\u7684mini\u6700\u5c0f\u7f51\u7edc\u955c\u50cf\u6709\uff1a\uff08Debian 10.13\uff09<ul> <li>https://mirrors.ustc.edu.cn/debian/dists/buster/main/installer-amd64/20190702/images/netboot/mini.iso</li> </ul> </li> </ul> </li> </ul> <p>\u8fd9\u8fb9\u9009\u62e9\u4f60\u7684\u5f15\u5bfc\u76d8</p> <p></p> <p>\u8fd9\u8fb9\u9009\u62e9\u4f60\u8981\u5b89\u88c5\u7684\u7cfb\u7edf\u76d8\u7684\u4f4d\u7f6e  </p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/pve%E5%AE%89%E8%A3%85/","title":"Pve\u5b89\u88c5","text":"<ul> <li> <p>\u5b98\u65b9\u6587\u6863\uff1ahttps://pve.proxmox.com/wiki/Installation</p> </li> <li> <p>PVE\u955c\u50cf\u4e0b\u8f7d\u9875\u9762\uff1ahttps://www.proxmox.com/en/downloads/proxmox-virtual-environment/iso</p> </li> <li> <p>\u63a8\u8350\u4e0b\u8f7d\u4f7f\u75287.4.-1\u7684iso\uff1ahttps://enterprise.proxmox.com/iso/proxmox-ve_7.4-1.iso</p> </li> <li> <p>\u5907\u6ce8\uff1a</p> <ul> <li>pve\u7cfb\u7edf\u5e95\u5c42\u8fd8\u662f\u57fa\u4e8edebian</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/ubuntu%E5%AE%89%E8%A3%85/","title":"Ubuntu\u5b89\u88c5","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/ubuntu%E5%AE%89%E8%A3%85/#nvme","title":"\u767b\u5f55\u673a\u5668\u4f7f\u7528 nvme \u76d8\u5236\u4f5c\u542f\u52a8\u7cfb\u7edf\u76d8\uff1a","text":"<ul> <li>ubuntu\u5e38\u7528\u7684\u955c\u50cf\u53ef\u4ee5\u4e0a\u5b98\u7f51\u53bb\u4e0b\u8f7d https://releases.ubuntu.com/ \uff0c\u5e38\u7528\u7684\u670922.04\u300120.04\u300118.04 </li> <li>\u6709\u4e24\u4e2a\u7248\u672c\u7684\u6ce8\u610f\u4e0d\u8981\u4e0b\u8f7d\u684c\u9762\u7248\u7684\uff0c\u4e0b\u8f7d\u4e0b\u9762\u7684</li> <li></li> <li>\u4e0b\u8f7d\u955c\u50cf\uff1awget\u00a0https://releases.ubuntu.com/focal/ubuntu-20.04.6-live-server-amd64.iso</li> <li>\u683c\u5f0f\u5316 nvme \u76d8\uff1amkfs.ext4\u00a0/dev/nvme0n1</li> <li>\u5199\u5165\u5230 nvme \u76d8\uff1add if=/root/ubuntu-20.04.6-live-server-amd64.iso of=/dev/nvme0n1 bs=100M status=progress</li> <li>\u540e\u9762\u5c31\u662f\u8fdb\u5165 ipmi \u9009\u62e9nvme \u76d8\u7684 iso \u8fdb\u884c\u91cd\u88c5\u7cfb\u7edf\uff0c\u7c7b\u4f3c\u4e8e \u672c\u5730U \u76d8\u91cd\u88c5\u7cfb\u7edf\uff0c \u4e0d\u53d7\u7f51\u7edc\u5f71\u54cd\uff0c\u9700\u8981\u8bbe\u7f6e boot options  </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/ubuntu%E5%AE%89%E8%A3%85/#_1","title":"\u8bed\u8a00\u8bbe\u7f6e\u4e3a\u82f1\u6587","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/ubuntu%E5%AE%89%E8%A3%85/#_2","title":"\u914d\u7f6e\u7f51\u5361\u4fe1\u606f\uff1a","text":"<ul> <li>\u53ef\u4ee5\u6309 table \u952e\u79fb\u52a8\u5149\u6807\u5411\u4e0b\uff0c\u914d\u7f6e\u7b2c\u4e00\u4e2a\u7f51\u5361\uff0c\u9009\u62e9\u914d\u7f6e IPV4 \u5730\u5740\uff0cMethod \u9009\u62e9 manual \u624b\u52a8</li> <li>\u914d\u7f6e\u5b50\u7f51\u63a9\u7801\u3001IPV4 \u5730\u5740\u3001\u7f51\u5173\u3001DNS \u670d\u52a1\u5668</li> <li>\u8fd9\u91cc\u914d\u7f6e\u9519\u7684\u8bddssh \u4f1a\u8fde\u63a5\u4e0d\u4e0a\uff0c\u68c0\u67e5\u4e0b\uff0c\u914d\u7f6e\u597d\u4e4b\u540e\u9009\u62e9 Save</li> <li>\u9009\u62e9 Done\uff0c\u7ee7\u7eed\u4e0b\u4e00\u6b65   \u5b50\u7f51\u4f7f\u7528CIDR\u7684\u683c\u5f0f  \u7f51\u5173\u548c\u5b50\u7f51\u4fe1\u606f\u9700\u8981\u63d0\u524d\u786e\u8ba4\u6e05\u695a  </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/ubuntu%E5%AE%89%E8%A3%85/#_3","title":"\u8bbe\u7f6e\u5f15\u5bfc\u76d8","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/ubuntu%E5%AE%89%E8%A3%85/#_4","title":"\u8bbe\u7f6e\u8d26\u53f7\u5bc6\u7801","text":"<p>\u8fd9\u91cc\u7684 Install OpenSSL server \u8981\u52fe\u9009\uff0c\u518d\u7ee7\u7eed </p> <p>\u8fd9\u8fb9\u626b\u63cf\u4f1a\u6bd4\u8f83\u4e45\uff0c\u5f53\u51fa\u73b0 cancel update and reboot \u7684\u65f6\u5019\u53ef\u4ee5\u76f4\u63a5\u9009\u62e9\u8fd9\u4e2a</p> <p>\u6b64\u65f6\u4e0d\u51fa\u610f\u5916\u7684\u8bdd\uff0c\u7a0d\u7b49\u4e00\u4f1a\u513f\uff0c\u673a\u5668\u5c31\u53ef\u4ee5\u4f7f\u7528 ssh \u767b\u5f55\u4e0a\u53bb\uff0c \u8d26\u53f7\u5bc6\u7801\u5c31\u662f\u4e0a\u9762\u8bbe\u7f6e\u7684 </p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/ubuntu%E5%AE%89%E8%A3%85/#_5","title":"\u5176\u4ed6","text":"<ul> <li>ubuntu mini\u955c\u50cf\u4e0b\u8f7d\uff1a<ul> <li>ubuntu18:<ul> <li>http://archive.ubuntu.com/ubuntu/dists/bionic/main/installer-amd64/current/images/netboot/mini.iso</li> </ul> </li> <li>ubuntu20\uff1a<ul> <li>http://archive.ubuntu.com/ubuntu/dists/focal/main/installer-amd64/current/legacy-images/netboot/mini.iso</li> </ul> </li> <li>ubuntu24\uff1a<ul> <li>https://cdimage.ubuntu.com/ubuntu-mini-iso/noble/daily-live/current/noble-mini-iso-amd64.iso</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/windows%E5%AE%89%E8%A3%85/","title":"Windows\u5b89\u88c5","text":"<ul> <li>\u955c\u50cf\u4e0b\u8f7d\uff1a<ul> <li>windows10\u955c\u50cf\u4e0b\u8f7d\uff1a<ul> <li>https://www.microsoft.com/zh-cn/software-download/windows10ISO</li> </ul> </li> <li>windows11\u955c\u50cf\u4e0b\u8f7d\uff1a<ul> <li>https://www.microsoft.com/zh-cn/software-download/windows11</li> </ul> </li> <li>windows PE\u8bf4\u660e\uff1a<ul> <li>https://learn.microsoft.com/zh-cn/windows-hardware/manufacture/desktop/winpe-intro?view=windows-11</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/%E4%BA%91%E9%95%9C%E5%83%8F%E5%AE%89%E8%A3%85/","title":"\u4e91\u955c\u50cf\u5b89\u88c5","text":"<ul> <li> <p>\u4f7f\u7528\u516c\u6709\u4e91\u5e73\u53f0\u7684\u7cfb\u7edf\u955c\u50cf\uff0c\u901a\u5e38\u4f1a\u5e2e\u6211\u4eec\u7701\u53bb\u7cfb\u7edf\u5b89\u88c5\u7684\u73af\u5883\uff0c\u5728\u516c\u6709\u4e91\u5e73\u53f0\u4e0a\u4f20\u4e91\u955c\u50cf\u540e\u5373\u53ef\u76f4\u63a5\u5728\u5e73\u53f0\u521b\u5efa\u4e91\u4e3b\u673a\uff0c\u901a\u5e38\u4f7f\u7528qcow2\u7684\u955c\u50cf\uff1a</p> </li> <li> <p>centos\u4e91\u955c\u50cf\u4e0b\u8f7d\uff1ahttps://cloud.centos.org/centos/7/images/</p> <ul> <li>\u4f8b\u5982centos7.9: https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud-2009.qcow2</li> </ul> </li> <li> <p>rocky\u4e91\u955c\u50cf\uff1a</p> <ul> <li>https://rockylinux.org/zh-CN/download?arch=x86_64</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/ipmi/ipmitool%E4%BF%AE%E6%94%B9ipmi%E7%9A%84ip%E4%BF%A1%E6%81%AF/","title":"Ipmitool\u4fee\u6539ipmi\u7684ip\u4fe1\u606f","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/ipmi/ipmitool%E4%BF%AE%E6%94%B9ipmi%E7%9A%84ip%E4%BF%A1%E6%81%AF/#_1","title":"\u80cc\u666f","text":"<p>\u5728\u673a\u5668\u53ef\u4ee5\u767b\u5f55\u7684\u60c5\u51b5\uff0c\u4fee\u6539\u81ea\u8eabIPMI\u7684IP\u5730\u5740</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/ipmi/ipmitool%E4%BF%AE%E6%94%B9ipmi%E7%9A%84ip%E4%BF%A1%E6%81%AF/#_2","title":"\u64cd\u4f5c","text":"<p>\u4ee5\u901a\u8fc7 <code>ipmitool</code> \u6765\u4fee\u6539 Ubuntu \u7cfb\u7edf\u4e0a IPMI \u7684\u7f51\u7edc\u914d\u7f6e\u4fe1\u606f\uff0c\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li>\u67e5\u770b\u5f53\u524d\u7684 IPMI \u7f51\u7edc\u914d\u7f6e\u4fe1\u606f\uff1a \u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u67e5\u770b\u5f53\u524d\u7684\u7f51\u7edc\u914d\u7f6e\uff1a</li> </ol> <pre><code>ipmitool lan print 1\n</code></pre> <ol> <li>\u4fee\u6539 IP \u5730\u5740\u3001\u5b50\u7f51\u63a9\u7801\u548c\u7f51\u5173\uff1a \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u8bbe\u7f6e\u65b0\u7684 IP \u5730\u5740\u3001\u5b50\u7f51\u63a9\u7801\u548c\u7f51\u5173\u4fe1\u606f\uff1a</li> </ol> <pre><code>    ipmitool lan set 1 ipaddr &lt;\u65b0\u7684IP\u5730\u5740&gt; \n    ipmitool lan set 1 netmask &lt;\u65b0\u7684\u5b50\u7f51\u63a9\u7801&gt; \n    ipmitool lan set 1 defgw ipaddr &lt;\u65b0\u7684\u7f51\u5173\u5730\u5740&gt;\n</code></pre> <ol> <li> <p>\u8bbe\u7f6e IPMI \u7684 IP \u5206\u914d\u6a21\u5f0f\uff1a \u4f60\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528\u9759\u6001 IP \u6216 DHCP \u5206\u914d IP \u5730\u5740\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u8bbe\u7f6e\uff1a</p> <p>-\u8bbe\u7f6e\u4e3a\u9759\u6001 IP\uff1a</p> </li> </ol> <pre><code>     ipmitool lan set 1 ipsrc static\n</code></pre> <pre><code>-\u8bbe\u7f6e\u4e3a DHCP\uff1a\n</code></pre> <pre><code>    ipmitool lan set 1 ipsrc dhcp\n</code></pre> <ol> <li>\u91cd\u542f BMC \u670d\u52a1\uff08\u53ef\u9009\uff09\uff1a \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4fee\u6539 IPMI \u914d\u7f6e\u540e\u9700\u8981\u91cd\u542f BMC \u670d\u52a1\u4ee5\u4f7f\u66f4\u6539\u751f\u6548\uff1a</li> </ol> <pre><code>    pmitool mc reset warm\n</code></pre> <p>\u4fee\u6539\u5b8c\u6210\u540e\uff0c\u4f60\u53ef\u4ee5\u518d\u6b21\u4f7f\u7528 <code>ipmitool lan print 1</code> \u547d\u4ee4\u786e\u8ba4\u914d\u7f6e\u5df2\u7ecf\u66f4\u65b0\u3002</p> <p>\u547d\u4ee4\u5b9e\u4f8b\uff1a</p> <pre><code>ipmitool lan print 1\nipmitool lan set 1 ipaddr 38.175.38.121\nipmitool lan set 1 netmask 255.255.255.0\nipmitool lan set 1 defgw ipaddr 38.175.38.1\nipmitool lan set 1 ipsrc static\nipmitool mc reset cold\nipmitool lan print 1\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/ipmi/ipmitool%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%94%A8%E6%88%B7/","title":"Ipmitool\u521b\u5efa\u4e00\u4e2a\u65b0\u7528\u6237","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/ipmi/ipmitool%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%94%A8%E6%88%B7/#ipmi","title":"\u5728IPMI\u7684\u672c\u673a\u4e0a\u6267\u884c","text":"<ul> <li>\u8fd9\u91cc\u76843\u662f\u901a\u9053\u53f7\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u7528\u6237\u7684ID \uff08\u53ef\u4ee5\u901a\u8fc7ipmitool user list 1\u67e5\u770b\uff09</li> </ul> <pre><code># \u67e5\u770b\u5f53\u524d\u7528\u6237\u5217\u8868 1\u8868\u793a\u901a\u9053\u53f7\uff0c\u901a\u5e38\u662f 1\uff0c\u5982\u679c\u4e0d\u5bf9\uff0c\u53ef\u4ee5\u8bd5\u8bd5 0 \u6216 2\nipmitool user list 1\n\n# \u8bbe\u7f6e\u901a\u90533\u7684\u8d26\u53f7 \u540d\u79f0\u4e3aroot\nipmitool user set name 3 root\n\n# \u8bbe\u7f6e\u901a\u90533\u7684\u8d26\u53f7\u7684\u5bc6\u7801\nipmitool user set password 3 '9Xd6@^Ja0t6?+0A'\n\n# \u8bbe\u7f6e\u6743\u9650 \n\n# 3\uff1a\u7528\u6237 ID\uff08User ID 3\uff09\uff0c4\uff1a\u6743\u9650\u7b49\u7ea7\uff0c4 \u8868\u793a Administrator\uff08\u7ba1\u7406\u5458\u6743\u9650\uff09\uff0c1\uff1a\u901a\u9053\u53f7\uff0c\u4e00\u822c\u901a\u9053 1 \u662f LAN \u901a\u9053\nipmitool user privilege 3 4 1\n\n# 1\uff1a\u901a\u9053\u53f7\uff08\u901a\u5e38\u662f LAN\uff0c 3\uff1a\u7528\u6237 ID\uff0ccallin=on\uff1a\u5141\u8bb8\u901a\u8fc7 call-in\uff08\u4e3b\u52a8\u8fde\u63a5\uff09\u65b9\u5f0f\u4f7f\u7528 IPMI\uff0cipmi=on\uff1a\u5141\u8bb8\u4f7f\u7528 IPMI \u547d\u4ee4\uff0clink=on\uff1a\u5141\u8bb8\u7269\u7406\u94fe\u63a5\u8bbf\u95ee\u8be5\u901a\u9053\uff0cprivilege=4\uff1a\u8bbe\u7f6e\u8be5\u7528\u6237\u5728\u8be5\u901a\u9053\u4e0a\u7684\u6700\u5927\u6743\u9650\u4e3a Administrator\nipmitool -I open channel setaccess 1 3 callin=on ipmi=on link=on privilege=4\n\n# \u542f\u7528 User ID \u4e3a 3 \u7684\u7528\u6237\u8d26\u6237\uff08\u9ed8\u8ba4\u65b0\u5efa\u7684\u7528\u6237\u901a\u5e38\u662f\u7981\u7528\u72b6\u6001\uff09\nipmitool user enable 3\n\nipmitool user list 1\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/ipmi/ipmi%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"Ipmi\u5e38\u7528\u547d\u4ee4","text":"<ul> <li>ipmi\u67e5\u770b\u5bf9\u5e94\u7684\u7535\u6e90\u72b6\u6001<ul> <li><code>ipmitool -H $\u5bf9\u5e94ipmi_ip -U $ipmi\u8d26\u53f7 -P $ipmi\u5bc6\u7801 -I lanplus power status</code></li> </ul> </li> </ul> <pre><code>ipmitool -H 10.20.2.28 -U bmsipmi -P aswPk6%5W_13366 -I lanplus power status\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/ipmi/ipmi%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E3%80%90%E6%9C%AC%E6%9C%BA%E6%89%A7%E8%A1%8C%E3%80%91/","title":"Ipmi\u5e38\u7528\u547d\u4ee4\u3010\u672c\u673a\u6267\u884c\u3011","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/ipmi/ipmi%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E3%80%90%E6%9C%AC%E6%9C%BA%E6%89%A7%E8%A1%8C%E3%80%91/#bmc","title":"\u67e5\u770b BMC \u7f51\u7edc\u4fe1\u606f","text":"<p><code>ipmitool lan print</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/ipmi/ipmi%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E3%80%90%E6%9C%AC%E6%9C%BA%E6%89%A7%E8%A1%8C%E3%80%91/#sel","title":"\u67e5\u770b\u7cfb\u7edf\u4e8b\u4ef6\u65e5\u5fd7\uff08SEL\uff09","text":"<p><code>ipmitool sel list</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/ipmi/ipmi%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E3%80%90%E6%9C%AC%E6%9C%BA%E6%89%A7%E8%A1%8C%E3%80%91/#_1","title":"\u5217\u51fa\u7528\u6237\u5217\u8868","text":"<ul> <li>\u5217\u51fa\u6240\u6709 BMC \u7528\u6237\uff08\u901a\u5e38\u7528\u6237\u69fd\u4f4d <code>1</code> \u662f\u9ed8\u8ba4\u7ba1\u7406\u69fd\u4f4d\uff09\u3002</li> </ul> <p><code>ipmitool user list 1</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/ipmi/ipmi%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E3%80%90%E6%9C%AC%E6%9C%BA%E6%89%A7%E8%A1%8C%E3%80%91/#_2","title":"\u67e5\u8be2\u4f20\u611f\u5668\u6570\u636e","text":"<ul> <li>\u9ed8\u8ba4\u5c55\u793a\u5168\u90e8\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528type\u8fc7\u6ee4\u5177\u4f53\u7684\u4f20\u611f\u5668\u8be6\u7ec6\u6570\u636e<ul> <li>\u4f8b\u5982\uff08\u5185\u5b58\uff09\uff1aipmitool sdr type memory</li> </ul> </li> </ul> <p>`ipmitool sdr</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/ipmi/ipmi%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E3%80%90%E6%9C%AC%E6%9C%BA%E6%89%A7%E8%A1%8C%E3%80%91/#bmc_1","title":"\u91cd\u542f BMC \u7ba1\u7406\u63a7\u5236\u5668","text":"<p><code>ipmitool mc reset cold</code></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E5%8E%9F%E7%90%86/","title":"Mtr\u539f\u7406","text":"<ul> <li>\u539f\u7406\u53c2\u8003\uff1ahttps://www.cloudflare.com/zh-cn/learning/network-layer/what-is-mtr/</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E5%8E%9F%E7%90%86/#traceroute","title":"\u4ec0\u4e48\u662f Traceroute\uff1f","text":"<p>Traceroute \u662f\u4e00\u79cd\u7528\u4e8e\u8bca\u65ad\u7f51\u7edc\u8def\u5f84\u95ee\u9898\u7684\u5de5\u5177\u3002Traceroute \u7528\u4e8e\u4e86\u89e3\u00a0IP \u6570\u636e\u5305\u4ece\u4e00\u53f0\u8ba1\u7b97\u673a\uff08\u6e90 IP \u5730\u5740\uff09\u5230\u53e6\u4e00\u53f0\u8ba1\u7b97\u673a\uff08\u76ee\u6807\u00a0IP \u5730\u5740\uff09\u7684\u8def\u5f84\u3002\u547d\u4ee4 traceroute\uff08\u5728 Linux \u6216 macOS \u4e0a\uff09\u6216 tracert\uff08\u5728 Windows \u4e0a\uff09\u53ef\u4ee5\u4f7f\u5176\u4e86\u89e3\uff1a</p> <ul> <li>\u60a8\u7684\u6570\u636e\u5305\u7684\u8def\u5f84\uff08\u5305\u62ec\u6bcf\u4e2a\u8def\u7531\u5668\u7684 IP \u5730\u5740\uff09</li> <li>\u5728\u7f51\u7edc\u8def\u5f84\u4e2d\uff0c\u6765\u6e90\u4e0e\u6570\u636e\u5305\u7ecf\u8fc7\u7684\u6bcf\u4e2a\u8dc3\u70b9\u6216\u8def\u7531\u5668\u4e4b\u95f4\u7684 RTT*</li> </ul> <p>*\u5f80\u8fd4\u65f6\u95f4 (RTT)\u00a0\u662f\u6307\u6570\u636e\u5728\u7f51\u7edc\u4e0a\u5f80\u8fd4\u4e8e\u67d0\u4e00\u70b9\u6240\u9700\u7684\u65f6\u95f4\u91cf\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u5230 1.1.1.1 \u7684 Traceroute \u793a\u4f8b\u3002\u5e26\u661f\u53f7\u7684\u884c ( * ) \u4ee3\u8868\u6ca1\u6709\u8fd4\u56de\u6570\u636e\u5305\u7684\u8dc3\u70b9\u6570\uff1b\u5f53\u8def\u7531\u5668\u88ab\u914d\u7f6e\u4e3a\u5ffd\u7565 Traceroute \u6570\u636e\u5305\u65f6\u53ef\u80fd\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u3002\u7b2c\u4e00\u884c\u8868\u793a\uff0c\u6700\u5927 64 \u4e2a\u8dc3\u70b9\uff0c52 \u5b57\u8282\u6570\u636e\u5305\uff0c\u4e0b\u9762\u6bcf\u4e00\u884c\u4e2d\u7684\u6beb\u79d2\u65f6\u95f4\u662f\u6bcf\u4e2a\u6570\u636e\u5305\u4ece\u6765\u6e90\u5230\u8be5\u8dc3\u70b9\u7684\u5f80\u8fd4\u65f6\u95f4\uff08Traceroute \u6bcf\u6b21\u53d1\u9001\u4e09\u4e2a\u6570\u636e\u5305\u4ee5\u9a8c\u8bc1\u7ed3\u679c\uff09\u3002 </p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E5%8E%9F%E7%90%86/#_1","title":"\u4ec0\u4e48\u662f\u7f51\u7edc\u8def\u5f84\uff1f","text":"<p>\u7f51\u7edc\u8def\u5f84\u662f\u6307\u4e00\u4e2a\u6570\u636e\u5305\u4e3a\u5230\u8fbe\u76ee\u7684\u5730\u800c\u7ecf\u8fc7\u7684\u7f51\u7edc\u5e8f\u5217\u3002</p> <p>\u4e92\u8054\u7f51\u662f\u901a\u8fc7\u8def\u7531\u76f8\u4e92\u8fde\u63a5\u7684\u5927\u89c4\u6a21\u7f51\u7edc\u96c6\u5408\u3002\u5927\u591a\u6570\u4e92\u8054\u7f51\u7aef\u70b9\uff08\u4f8b\u5982\uff0c\u8bd5\u56fe\u8bbf\u95ee\u7f51\u7ad9\u7684 Web \u6d4f\u89c8\u5668\u548c\u6258\u7ba1\u8be5\u7f51\u7ad9\u7684\u670d\u52a1\u5668\uff09\u4e0d\u662f\u540c\u4e00\u4e2a\u7f51\u7edc\u7684\u4e00\u90e8\u5206\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c\u6240\u8ff0 Web \u6d4f\u89c8\u5668\u5411\u7f51\u7ad9\u7684\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u5219\u8be5\u8bf7\u6c42\u53ef\u80fd\u5fc5\u987b\u6cbf\u9014\u5728\u591a\u4e2a\u4e2d\u95f4\u7f51\u7edc\u4e4b\u95f4\u8df3\u8dc3\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E5%8E%9F%E7%90%86/#traceroute_1","title":"Traceroute \u5982\u4f55\u5de5\u4f5c\uff1f","text":"<p>Traceroute \u5de5\u5177\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u76ee\u6807 IP\uff0c\u5e76\u5c06\u751f\u5b58\u65f6\u95f4 (TTL)\u00a0\u8bbe\u7f6e\u4e3a 1\uff0c\u56e0\u6b64\u6570\u636e\u5305\u5230\u8fbe\u7684\u7b2c\u4e00\u4e2a\u8def\u7531\u5668\u5c06\u53d1\u56de\u9519\u8bef\uff08\u201c\u8d85\u65f6\u201d\uff09\u3002\u5f53\u9519\u8bef\u8fd4\u56de\u65f6\uff0cTraceroute \u5de5\u5177\u8bb0\u5f55\u7b2c\u4e00\u4e2a\u8def\u7531\u5668\u7684\u8eab\u4efd\u548c\u5f80\u8fd4\u65f6\u95f4\uff0c\u589e\u52a0 TTL\uff0c\u5e76\u53d1\u9001\u65b0\u6570\u636e\u5305\uff0c\u91cd\u590d\u6b64\u8fc7\u7a0b\u76f4\u5230\uff1a1\uff09\u540e\u4e00\u4e2a\u6570\u636e\u5305\u5230\u8fbe\u76ee\u6807 IP\uff0c\u6216 2\uff09\u4e24\u7ec4\u6570\u636e\u5305\u88ab\u4e22\u5f03\u3002</p> <p>\u901a\u8fc7\u8fd9\u6837\u505a\uff0c\u8be5\u5de5\u5177\u8ba9\u60a8\u80fd\u591f\u4e86\u89e3\u6570\u636e\u5305\u6240\u91c7\u7528\u7684\u8def\u5f84\u4ee5\u53ca\u5230\u6bcf\u4e2a\u8dc3\u70b9\u7684\u5f80\u8fd4\u65f6\u95f4\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u5bf9\u6570\u636e\u5305\u4e22\u5931\u548c\u5ef6\u8fdf\u8fdb\u884c\u6545\u969c\u6392\u9664\u3002</p> <p>Traceroute \u4f9d\u8d56\u4e8e\u00a0ICMP\uff08\u4e92\u8054\u7f51\u63a7\u5236\u6d88\u606f\u534f\u8bae\uff09\u534f\u8bae\u3002ICMP \u662f\u4e00\u4e2a\u7528\u4e8e\u9519\u8bef\u6d4b\u8bd5\u7684\u7f51\u7edc\u5c42\u534f\u8bae\u3002\u5b83\u6ca1\u6709\u76f8\u5173\u7684\u4f20\u8f93\u534f\u8bae\uff0c\u76f4\u63a5\u5728\u4e92\u8054\u7f51\u534f\u8bae (IP) \u4e0a\u8fd0\u884c\u3002\u5f53 Traceroute \u5de5\u5177\u53d1\u9001\u7684\u6570\u636e\u5305\u7684 TTL \u88ab\u8d85\u8fc7\u65f6\uff0c\u8def\u7531\u5668\u4f1a\u53d1\u56de\u4e00\u4e2a ICMP Type 11\uff08\u8d85\u65f6\u9519\u8bef\uff09\u6570\u636e\u5305\u3002</p> <p>\u4f20\u51fa\u6570\u636e\u5305\uff08\u4ece\u8d77\u59cb\u8def\u7531\u5668\u53d1\u9001\uff09\u53ef\u4ee5\u4f7f\u7528 ICMP\uff08MacOS \u548c Linux \u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u9ed8\u8ba4\u503c\uff09\u6216 UDP\uff08Windows \u4e0a\u7684\u9ed8\u8ba4\u503c\uff09\u3002\u5982\u679c\u5c06\u7f51\u7edc\u8def\u5f84\u4e0a\u7684\u8def\u7531\u5668\u914d\u7f6e\u4e3a\u8fc7\u6ee4\u6389\u7279\u5b9a\u534f\u8bae\u7684\u6570\u636e\u5305\uff0c\u5219\u4e3a\u4f20\u51fa\u7684 Traceroute \u6570\u636e\u5305\u9009\u62e9\u4e0d\u540c\u7684\u534f\u8bae\u80fd\u591f\u83b7\u5f97\u66f4\u5b8c\u6574\u7ed3\u679c\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E5%8E%9F%E7%90%86/#my-traceroute-mtr","title":"\u4ec0\u4e48\u662f My Traceroute (MTR)\uff1f","text":"<p>My Traceroute (MTR) \u662f\u4e00\u4e2a\u7ed3\u5408\u4e86 traceroute \u548c ping \u7684\u5de5\u5177\uff0c\u8fd9\u662f\u6d4b\u8bd5\u7f51\u7edc\u8fde\u63a5\u548c\u901f\u5ea6\u7684\u53e6\u4e00\u4e2a\u5e38\u7528\u65b9\u6cd5\u3002\u9664\u4e86\u7f51\u7edc\u8def\u5f84\u4e0a\u7684\u8dc3\u70b9\u5916\uff0cMTR \u8fd8\u663e\u793a\u5230\u76ee\u7684\u5730\u7684\u8def\u7ebf\u4e2d\u4e0d\u65ad\u66f4\u65b0\u7684\u5ef6\u8fdf\u548c\u4e22\u5305\u4fe1\u606f\u3002\u8fd9\u53ef\u8ba9\u60a8\u5b9e\u65f6\u770b\u5230\u8def\u5f84\u4e0a\u53d1\u751f\u7684\u60c5\u51b5\uff0c\u534f\u52a9\u6392\u9664\u7f51\u7edc\u95ee\u9898\u3002</p> <p>MTR \u4ee5\u4e0e traceroute \u7c7b\u4f3c\u7684\u65b9\u5f0f\u53d1\u73b0\u7f51\u7edc\u8def\u5f84\uff0c\u7136\u540e\u5b9a\u671f\u53d1\u9001\u6570\u636e\u5305\u4ee5\u7ee7\u7eed\u6536\u96c6\u4fe1\u606f\uff0c\u4ee5\u63d0\u4f9b\u6709\u5173\u7f51\u7edc\u8fd0\u884c\u72b6\u51b5\u548c\u901f\u5ea6\u7684\u66f4\u65b0\u89c6\u56fe\u3002</p> <p>\u4e0e traceroute \u4e00\u6837\uff0cMTR \u53ef\u4ee5\u5c06 ICMP \u6216 UDP \u7528\u4e8e\u4f20\u51fa\u6570\u636e\u5305\uff0c\u4f46\u4f9d\u8d56 ICMP \u8fd4\u56de (Type 11: Time Exceeded) \u6570\u636e\u5305\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E5%8E%9F%E7%90%86/#mtr","title":"\u5982\u4f55\u9605\u8bfb MTR","text":"<p>\u4ee5\u4e0b\u662f\u5982\u4f55\u9605\u8bfb MTR \u8f93\u51fa\u5e76\u4ece\u4e2d\u5f97\u51fa\u7ed3\u8bba\u7684\u4e09\u4e2a\u793a\u4f8b\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E5%8E%9F%E7%90%86/#mtr-1","title":"MTR #1\uff1a\u5168\u90e8\u6e05\u6d01","text":"\u6e05\u6d01 MTR \u5f00\u59cb\uff1a2020-04-08T13:28:52+0100 \u4e3b\u673a\uff1amyrouter \u4e22\u5305\u7387 Snt \u6700\u540e\u4e00\u6b21 \u5e73\u5747 \u6700\u4f73 Wrst StDev 1.|-- 10.10.1.1 0.0% 10 0.3 0.4 0.3 0.4 0.0 2.|-- 141.0.147.177.bcube.co.uk 0.0% 10 2.7 2.7 2.5 3.1 0.2 3.|-- 172.16.28.38 0.0% 10 2.8 6.4 2.8 22.2 6.1 4.|-- 172.17.13.76 0.0% 10 1.1 2.8 1.1 14.6 4.2 5.|-- 172.17.13.49 0.0% 10 1.4 4.0 1.3 25.0 7.4 6.|-- 172.17.13.24 0.0% 10 2.5 2.7 2.0 5.1 1.1 7.|-- one.one.one.one 0.0% 10 1.3 1.2 1.2 1.3 0.0 <p>\u6b64\u793a\u4f8b\u9075\u5faa\u8d77\u59cb\u8def\u7531\u5668\u548c Cloudflare \u7684\u00a01.1.1.1 DNS\u00a0\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u7f51\u7edc\u8def\u5f84\u3002MTR \u8f93\u51fa\u6ca1\u6709\u8868\u660e\u4efb\u4f55\u95ee\u9898\u2014\u2014 \u9700\u8981 7 \u6b21\u8df3\u8dc3\u624d\u80fd\u5230\u8fbe 1.1.1.1\uff0c\u5e76\u4e14\u6ca1\u6709\u4efb\u4f55\u4e00\u9879\u8868\u793a\u53d1\u751f\u4efb\u4f55\u4e22\u5305\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E5%8E%9F%E7%90%86/#mtr-2","title":"MTR #2\uff1a \u4e22\u5305\u4e86\u5417\uff1f","text":"\u8def\u5f84\u4e0a\u7684\u4e22\u5305 \u5f00\u59cb\uff1a2020-04-08T12:48:28+0000 \u4e3b\u673a\uff1amyrouter \u4e22\u5305\u7387 Snt \u6700\u540e\u4e00\u6b21 \u5e73\u5747 \u6700\u4f73 Wrst StDev 1.|-- 2400:cb00:207:1000::1 0.0% 10 1.1 6.0 0.6 15.7 5.9 2.|-- 2404:d400:4000:27::1 0.0% 10 0.4 0.6 0.2 2.9 0.8 3.|-- 2404:d400:0:8:: 0.0% 10 125.7 125.7 125.7 126.2 0.2 4.|-- 2001:978:2:42::e:1 50.0% 10 129.2 129.6 129.2 130.5 0.6 5.|-- be2846.ccr42.fra03.atlas.cogentco.com 80.0% 10 151.9 139.5 127.1 151.9 17.6 6.|-- be2814.ccr42.ams03.atlas.cogentco.com 80.0% 10 136.2 137.0 136.2 137.8 1.1 7.|-- be2183.ccr22.lpl01.atlas.cogentco.com 50.0% 10 146.3 146.2 145.9 146.3 0.1 8.|-- be3043.ccr22.ymq01.atlas.cogentco.com 30.0% 10 215.3 215.2 215.0 215.4 0.2 9.|-- be3260.ccr32.yyz02.atlas.cogentco.com 90.0% 10 227.8 227.8 227.8 227.8 0.0 10.|-- be2994.ccr22.cle04.atlas.cogentco.com 30.0% 10 234.9 234.9 234.5 235.1 0.2 11.|-- be2718.ccr42.ord01.atlas.cogentco.com 70.0% 10 233.7 233.8 233.7 233.9 0.1 12.|-- be2832.ccr22.mci01.atlas.cogentco.com 50.0% 10 244.8 245.1 244.8 245.5 0.3 13.|-- be3036.ccr22.den01.atlas.cogentco.com 30.0% 10 259.6 259.6 259.3 259.8 0.2 14.|-- be3038.ccr32.slc01.atlas.cogentco.com 90.0% 10 267.2 267.2 267.2 267.2 0.0 15.|-- be3110.ccr22.sfo01.atlas.cogentco.com 10.0% 10 291.0 291.1 291.0 291.4 0.1 16.|-- be3670.ccr41.sjc03.atlas.cogentco.com 30.0% 10 292.6 292.7 292.6 292.8 0.1 17.|-- 2001:550:2:1f::29:2 0.0% 10 312.3 291.5 287.0 312.3 8.6 8.6 0.0% 10 298.7 299.5 298.7 306.1 2.3 19.|-- ??? 100.0 10 0.0 0.0 0.0 0.0 0.0 20.|-- ??? 100.0 9 0.0 0.0 0.0 0.0 0.0 21.|-- 2400:cb00:36:1008::a29e:40e2 0.0% 9 302.9 302.9 302.8 303.2 0.1 <p>\u8fd9\u4e2a\u4f8b\u5b50\u663e\u793a\u4e86\u8d77\u59cb\u8def\u7531\u5668\u548c 2400:cb00:36:1008::a29e:40e2 \u4e4b\u95f4\u7684\u7f51\u7edc\u8def\u5f84\uff0c\u8fd9\u662f\u4e00\u4e2a\u00a0IPv6\u00a0\u5730\u5740\u3002\u8f93\u51fa\u663e\u793a\u6240\u6709 Cogent \u8dc3\u70b9\u4e0a\u7684\u5927\u91cf\u6570\u636e\u5305\u4e22\u5931\u3002\u4f46\u662f\uff0c\u5728\u6700\u540e\u4e00\u4e2a\u8dc3\u70b9 (21) \u4e0a\u6ca1\u6709\u4e22\u5305\u3002\u8fd9\u8868\u660e\u7f51\u7edc\u8def\u5f84\u5b9e\u9645\u4e0a\u6ca1\u6709\u95ee\u9898\u3002\u6b63\u5728\u53d1\u751f\u7684\u4e8b\u60c5\u901a\u5e38\u88ab\u79f0\u4e3a\u201c\u63a7\u5236\u5e73\u9762\u76d1\u7ba1\u201d\u3002</p> <p>\u5982\u524d\u6240\u8ff0\uff0cMTR \u901a\u8fc7\u53d1\u9001\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff09ICMP Echo \u6570\u636e\u5305\u6765\u5de5\u4f5c\uff0c\u6bcf\u4e2a\u6570\u636e\u5305\u5177\u6709\u9012\u589e\u7684 TTL\uff08\u751f\u5b58\u65f6\u95f4\uff09\u3002\u5f53 TTL \u8fc7\u671f\u65f6\uff0c\u8def\u7531\u5668\u4f1a\u53d1\u56de\u4e00\u4e2a ICMP Type 11 (Time Exceeded)\uff0c\u8868\u793a\u4ece A \u70b9\u5230 B \u70b9\u6709\u591a\u5c11\u4e2a\u8dc3\u70b9\u3002</p> <p>\u8bb8\u591a\u7f51\u7edc\u8fd0\u8425\u5546\uff08\u5305\u62ec Cloudflare\uff09\u5bf9\u5141\u8bb8\u5230\u8fbe\u8def\u7531\u5668\u63a7\u5236\u5e73\u9762\u7684 ICMP \u6570\u636e\u5305\u6570\u91cf\u8bbe\u7f6e\u4e86\u4efb\u610f\u9650\u5236\u3002\uff08\u63a7\u5236\u5e73\u9762\u662f\u8def\u7531\u5668\u7684\u5927\u8111\u3002\uff09\u8d85\u8fc7\u8def\u7531\u5668 TTL \u7684\u6570\u636e\u5305\u5fc5\u987b\u7531\u63a7\u5236\u5e73\u9762\u5904\u7406\u3002\u4e3a\u4e86\u9632\u6b62\u63a7\u5236\u5e73\u9762\u88ab\u8fc7\u591a\u7684\u6b64\u7c7b\u6570\u636e\u5305\u6df9\u6ca1\uff0c\u8bbe\u7f6e\u4e86\u901f\u7387\u9650\u5236\uff08\u6216\u76d1\u7ba1\u5668\uff09\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u770b\u5230\u6240\u6709\u4e22\u5305\u90fd\u53d1\u751f\u5728\u4e2d\u95f4\u8dc3\u70b9\u4e0a\uff0c\u800c\u4e0d\u662f\u5728\u6700\u540e\u4e00\u4e2a\u8dc3\u70b9\u4e0a\uff1a\u4e2d\u95f4\u8dc3\u70b9\u4e0a\u7684\u8def\u7531\u5668\u7684\u63a7\u5236\u5e73\u9762\u901f\u7387\u9650\u5236\u88ab\u8d85\u8fc7\uff0c\u56e0\u6b64\u5bf9\u4e8e\u8d85\u8fc7\u8fd9\u4e9b\u9650\u5236\u7684 traceroute \u6570\u636e\u5305\u4e0d\u4f1a\u53d1\u56de Type 11 \u6570\u636e\u5305\uff0c\u4f46\u6570\u636e\u5305\u80fd\u591f\u5b89\u5168\u5730\u5230\u8fbe\u76ee\u7684\u5730\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E5%8E%9F%E7%90%86/#mtr-3","title":"MTR #3\uff1a\u5b9e\u9645\u4e22\u5305","text":"\u8fd4\u56de\u8def\u5f84\u4e0a\u7684\u4e22\u5305 \u5f00\u59cb\uff1a2020-04-08T13:32:30+0000 \u4e3b\u673a\uff1amyrouter \u4e22\u5305\u7387 Snt \u6700\u540e\u4e00\u6b21 \u5e73\u5747 \u6700\u4f73 Wrst StDev 1.|-- 162.158.216.129 0.0% 10 0.7 6.9 0.7 62.6 19.6 2.|-- 118.69.221.209 0.0% 10 0.2 0.3 0.2 1.3 0.3 3.|-- 118.69.252.172 0.0% 10 0.7 1.0 0.6 2.9 0.7 4.|-- 118.69.132.169 0.0% 10 11.4 11.3 11.2 11.5 0.1 5.|-- 118.69.247.64 0.0% 10 34.2 34.4 33.9 37.2 1.0 6.|-- 13335.sgw.equinix.com 50.0% 10 27.5 27.9 27.1 29.1 0.8 7.|-- 162.158.161.251 30.0% 10 26.8 26.8 26.8 26.8 0.0 <p>\u6b64\u793a\u4f8b\u663e\u793a\u8d77\u59cb\u8def\u7531\u5668\u548c 162.158.161.251 \u4e4b\u95f4\u7684\u7f51\u7edc\u8def\u5f84\u3002\u8f93\u51fa\u663e\u793a\u6700\u540e 2 \u4e2a\u8dc3\u70b9\u4e0a\u7684\u6570\u636e\u5305\u4e22\u5931\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"Mtr\u5e38\u7528\u547d\u4ee4","text":"<p>MTR \u662f\u4e00\u4e2a\u7b80\u5355\u7684\u3001\u8de8\u5e73\u53f0\u7684\u547d\u4ee4\u884c\u7f51\u7edc\u8bca\u65ad\u5de5\u5177\uff0c\u5b83\u5c06\u5e38\u7528\u7684 traceroute \u548c ping \u547d\u4ee4\u6574\u5408\u5230\u4e00\u4e2a\u5de5\u5177\u4e2d\u3002\u4e0e traceroute \u7c7b\u4f3c\uff0cmtr \u6253\u5370\u4ece\u8fd0\u884c mtr \u7684\u4e3b\u673a\u5230\u7528\u6237\u6307\u5b9a\u7684\u76ee\u6807\u4e3b\u673a\u7684\u8def\u7531\u4fe1\u606f\u200b\u200b\u3002</p> <p>\u4f46\u662f\uff0cmtr \u663e\u793a\u7684\u4fe1\u606f\u6bd4 traceroute \u4e30\u5bcc\uff0c\u5b83\u786e\u5b9a\u5230\u8fdc\u7a0b\u8ba1\u7b97\u673a\u7684\u8def\u5f84\uff0c\u540c\u65f6\u6253\u5370\u54cd\u5e94\u767e\u5206\u6bd4\u4ee5\u53ca\u672c\u5730\u7cfb\u7edf\u548c\u8fdc\u7a0b\u8ba1\u7b97\u673a\u4e4b\u95f4\u7684\u4e92\u8054\u7f51\u8def\u7531\u4e2d\u6240\u6709\u7f51\u7edc\u8dc3\u70b9\u7684\u54cd\u5e94\u65f6\u95f4\u3002</p> <p>\u8fd0\u884c mtr \u547d\u4ee4\u540e\uff0c\u5b83\u4f1a\u63a2\u6d4b\u672c\u5730\u7cfb\u7edf\u4e0e\u8fdc\u7a0b\u4e3b\u673a\u4e4b\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\u3002\u5b83\u9996\u5148\u5728\u4e0d\u540c\u4e3b\u673a\u4e4b\u95f4\u5efa\u7acb\u6bcf\u4e2a\u7f51\u7edc\u8bbe\u5907\u7684\u8dc3\u70b9\uff08\u7f51\u6865\u3001\u8def\u7531\u5668\u548c\u7f51\u5173\u7b49\uff09\u7684\u5730\u5740\uff0c\u7136\u540e\u5411\u6bcf\u4e00\u4e2a\u8dc3\u70b9\u53d1\u9001\u4e00\u7cfb\u5217 ICMP \u8bf7\u6c42\uff08ping\uff09\uff0c\u5982\u679c\u63a5\u6536\u65b9\u53ef\u7528\uff0c\u5b83\u5c06\u4f7f\u7528 ICMP \u56de\u590d\u6570\u636e\u5305\u8fdb\u884c\u54cd\u5e94\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#mtr","title":"MTR \u5de5\u5177\u5e38\u7528\u53c2\u6570\u8bf4\u660e\uff1a","text":"<ul> <li>-r \u6216 -report\uff1a\u4ee5\u62a5\u544a\u6a21\u5f0f\u663e\u793a\u8f93\u51fa</li> <li>-c\u6216 --report-cycles: \u53d1\u9001\u7684ping\u5305\u7684\u6570\u91cf </li> <li>-s \u6216 -psize\uff1a\u6307\u5b9aping\u6570\u636e\u5305\u7684\u5927\u5c0f</li> <li>-n \u6216 -no-dns\uff1a\u4e0d\u5bf9IP\u5730\u5740\u505a\u57df\u540d\u53cd\u89e3\u6790</li> <li>-m\u6216--max-ttl: \u6307\u5b9a\u5728\u672c\u5730\u7cfb\u7edf\u548c\u8fdc\u7a0b\u4e3b\u673a\u4e4b\u95f4\u63a2\u6d4b\u7684\u6700\u5927\u8df3\u6570\uff08\u9ed8\u8ba4\u4e3a30\uff09</li> <li>-a \u6216 -address\uff1a\u8bbe\u7f6e\u53d1\u9001\u6570\u636e\u5305\u7684IP\u5730\u5740\u3002\u7528\u4e8e\u4e3b\u673a\u6709\u591a\u4e2aIP\u65f6</li> <li>-4\uff1a\u53ea\u4f7f\u7528IPv4\u534f\u8bae</li> <li>-6\uff1a\u53ea\u4f7f\u7528IPv6\u534f\u8bae</li> <li>-z: \u8f93\u5165\u6bcf\u4e00\u6761IP\u5bf9\u5e94\u7684ASN</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_1","title":"\u5e38\u7528\u547d\u4ee4","text":"<pre><code># \u4ee5\u62a5\u544a\u7684\u5f62\u5f0f\uff0c\u5c55\u793a\u6bcf\u6761\u7684IP\u548c\u5bf9\u5e94\u7684ASN\n$ mtr -rnz 1.1.1.1\n\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_2","title":"\u8f93\u51fa\u9879\u76ee\u8bf4\u660e\uff1a","text":"<pre><code>[tx@root@14:35:36@ ~]$ mtr -rn -c 10 www.baidu.com\nStart: 2024-05-06T14:37:18+0800\nHOST: VM-4-14-ubuntu              Loss%   Snt   Last   Avg  Best  Wrst StDev\n  1.|-- 11.73.8.193               80.0%    10    1.3   1.3   1.3   1.3   0.0\n  2.|-- 11.73.55.70               80.0%    10    1.3   1.2   1.2   1.3   0.1\n  3.|-- 10.162.66.221             70.0%    10    1.4   1.4   1.3   1.4   0.1\n  4.|-- 10.200.66.101              0.0%    10    2.8   2.8   2.8   3.0   0.1\n  5.|-- 220.196.197.170            0.0%    10    2.7   2.7   2.6   3.2   0.2\n  6.|-- 220.196.197.169            0.0%    10    3.2   3.2   3.2   3.3   0.0\n  7.|-- 211.95.32.169              0.0%    10    4.5   3.7   3.1   4.6   0.5\n  8.|-- 219.158.104.214            0.0%    10   10.8  10.0   9.1  11.0   0.6\n  9.|-- 153.3.228.114             30.0%    10    8.4   8.4   8.3   8.4   0.0\n 10.|-- 153.37.96.254              0.0%    10    8.5   8.5   8.4   8.6   0.0\n 11.|-- ???                       100.0    10    0.0   0.0   0.0   0.0   0.0\n 12.|-- ???                       100.0    10    0.0   0.0   0.0   0.0   0.0\n 13.|-- ???                       100.0    10    0.0   0.0   0.0   0.0   0.0\n 14.|-- 153.3.238.102              0.0%    10    8.9   8.9   8.9   9.0   0.0\n</code></pre> <ul> <li>Host: \u663e\u793a\u7ecf\u8fc7\u6bcf\u4e00\u8df3\u7684\u5730\u5740</li> <li>LOSS%:\u5230\u6b64\u6b64\u8282\u70b9\u6570\u636e\u5305\u4e22\u5305\u7387,\u663e\u793a\u6bcf\u4e2a\u8282\u70b9\u7684\u4e22\u5305\u7387</li> <li>Snt: \u53d1\u9001\u5305\u7684\u6570\u91cf</li> <li>Last: \u663e\u793a\u7684\u6700\u8fd1\u4e00\u6b21\u7684\u8fd4\u56de\u5ef6\u65f6</li> <li>Avg: \u53d1\u9001ping\u5305\u7684\u5e73\u5747\u5ef6\u8fdf</li> <li>Best: \u6700\u4f4e\u5ef6\u8fdf\u65f6\u95f4</li> <li>Wrst: \u6700\u5927\u5ef6\u8fdf\u65f6\u95f4</li> <li>StDev:\u6807\u51c6\u504f\u5dee</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/","title":"Mtr\u7ed3\u679c\u5206\u6790","text":"<ul> <li>\u53c2\u8003\uff1ahttps://22vps.com/p/1Brm4vd</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#mtr","title":"MTR\u793a\u4f8b\u8f93\u51fa","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#_1","title":"\u8fd4\u56de\u7ed3\u679c\u8bf4\u660e","text":"<p>\u9ed8\u8ba4\u914d\u7f6e\u4e0b\uff0c\u8fd4\u56de\u7ed3\u679c\u4e2d\u5404\u6570\u636e\u5217\u7684\u8bf4\u660e\u5982\u4e0b\u3002</p> <ul> <li> <p>\u7b2c\u4e00\u5217\uff08Host\uff09\uff1a\u8282\u70b9IP\u5730\u5740\u548c\u57df\u540d\u3002\u5982\u524d\u9762\u6240\u793a\uff0c\u6309n\u952e\u53ef\u4ee5\u5207\u6362\u663e\u793a\u3002</p> </li> <li> <p>\u7b2c\u4e8c\u5217\uff08Loss%\uff09\uff1a\u8282\u70b9\u4e22\u5305\u7387\u3002</p> </li> <li> <p>\u7b2c\u4e09\u5217\uff08Snt\uff09\uff1a\u6bcf\u79d2\u53d1\u9001\u6570\u636e\u5305\u6570\u3002\u9ed8\u8ba4\u503c\u662f10\uff0c\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\u201c-c\u201d\u6307\u5b9a\u3002</p> </li> <li> <p>\u7b2c\u56db\u5217\uff08Last\uff09\uff1a\u6700\u8fd1\u4e00\u6b21\u7684\u63a2\u6d4b\u5ef6\u8fdf\u503c\u3002</p> </li> <li> <p>\u7b2c\u4e94\u3001\u516d\u3001\u4e03\u5217\uff08Avg\u3001Best\u3001Wrst\uff09\uff1a\u5206\u522b\u662f\u63a2\u6d4b\u5ef6\u8fdf\u7684\u5e73\u5747\u503c\u3001\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u3002</p> </li> <li> <p>\u7b2c\u516b\u5217\uff08StDev\uff09\uff1a\u6807\u51c6\u504f\u5dee\u3002\u8d8a\u5927\u8bf4\u660e\u76f8\u5e94\u8282\u70b9\u8d8a\u4e0d\u7a33\u5b9a\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#_2","title":"\u7ed3\u679c\u5206\u6790","text":"<ul> <li>\u672c\u6587\u4ee5\u5176\u6d4b\u8bd5\u7ed3\u679c\u4e3a\u4f8b\uff0c\u5bf9\u94fe\u8def\u6d4b\u8bd5\u7ed3\u679c\u7684\u5206\u6790\u8fdb\u884c\u7b80\u8981\u8bf4\u660e\u3002\u540e\u7eed\u7684\u8bf4\u660e\uff0c\u4ee5\u5982\u4e0b\u94fe\u8def\u6d4b\u8bd5\u7ed3\u679c\u793a\u4f8b\u56fe\u4e3a\u57fa\u7840\u8fdb\u884c\u9610\u8ff0\u3002</li> </ul> <ul> <li> <p>\u5bf9\u94fe\u8def\u6d4b\u8bd5\u7ed3\u679c\u8fdb\u884c\u5206\u6790\u65f6\uff0c\u9700\u8981\u5173\u6ce8\u5982\u4e0b\u51e0\u70b9\uff1a</p> <ul> <li> <p>\u7f51\u7edc\u533a\u57df</p> </li> <li> <p>\u94fe\u8def\u8d1f\u8f7d\u5747\u8861</p> </li> <li> <p>\u7ed3\u5408Avg\uff08\u5e73\u5747\u503c\uff09\u548c StDev\uff08\u6807\u51c6\u504f\u5dee\uff09\u7efc\u5408\u5224\u65ad</p> </li> <li> <p>Loss%\uff08\u4e22\u5305\u7387\uff09\u7684\u5224\u65ad</p> </li> <li> <p>\u5ef6\u8fdf</p> </li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#_3","title":"\u7f51\u7edc\u533a\u57df","text":"<p>[!NOTE] \u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4ece\u5ba2\u6237\u7aef\u5230\u76ee\u6807\u670d\u52a1\u5668\u7684\u6574\u4e2a\u94fe\u8def\uff0c\u4f1a\u663e\u8457\u7684\u5305\u542b\u5982\u4e0b\u533a\u57df\uff1a</p> <p>\u5ba2\u6237\u7aef\u672c\u5730\u7f51\u7edc\uff1a\u672c\u5730\u5c40\u57df\u7f51\u548c\u672c\u5730\u7f51\u7edc\u63d0\u4f9b\u5546\u7f51\u7edc\u3002\u5982\u524d\u6587\u94fe\u8def\u6d4b\u8bd5\u7ed3\u679c\u793a\u4f8b\u56fe\u4e2d\u7684\u533a\u57dfA\u3002\u5982\u679c\u8be5\u533a\u57df\u51fa\u73b0\u5f02\u5e38\uff0c\u5982\u679c\u662f\u5ba2\u6237\u7aef\u672c\u5730\u7f51\u7edc\u76f8\u5173\u8282\u70b9\u51fa\u73b0\u5f02\u5e38\uff0c\u5219\u9700\u8981\u5bf9\u672c\u5730\u7f51\u7edc\u8fdb\u884c\u76f8\u5e94\u6392\u67e5\u5206\u6790\u3002\u5426\u5219\uff0c\u5982\u679c\u662f\u672c\u5730\u7f51\u7edc\u63d0\u4f9b\u5546\u7f51\u7edc\u76f8\u5173\u8282\u70b9\u51fa\u73b0\u5f02\u5e38\uff0c\u5219\u9700\u8981\u5411\u5f53\u5730\u8fd0\u8425\u5546\u53cd\u9988\u95ee\u9898\u3002</p> <p>\u8fd0\u8425\u5546\u7f51\u7edc\uff1a\u5982\u524d\u6587\u94fe\u8def\u6d4b\u8bd5\u7ed3\u679c\u793a\u4f8b\u56fe\u4e2d\u7684\u533a\u57dfB\u3002\u5982\u679c\u8be5\u533a\u57df\u51fa\u73b0\u5f02\u5e38\uff0c\u53ef\u4ee5\u6839\u636e\u5f02\u5e38\u8282\u70b9IP\u67e5\u8be2\u5f52\u5c5e\u8fd0\u8425\u5546\uff0c\u7136\u540e\u76f4\u63a5\u6216\u901a\u8fc7\u963f\u91cc\u4e91\u552e\u540e\u6280\u672f\u652f\u6301\uff0c\u5411\u76f8\u5e94\u8fd0\u8425\u5546\u53cd\u9988\u95ee\u9898\u3002 \u76ee\u6807\u670d\u52a1\u5668\u672c\u5730\u7f51\u7edc\uff1a\u76ee\u6807\u4e3b\u673a\u5f52\u5c5e\u7f51\u7edc\u63d0\u4f9b\u5546\u7f51\u7edc\u3002\u5982\u524d\u6587\u94fe\u8def\u6d4b\u8bd5\u7ed3\u679c\u793a\u4f8b\u56fe\u4e2d\u7684\u533a\u57dfC\u3002\u5982\u679c\u8be5\u533a\u57df\u51fa\u73b0\u5f02\u5e38\uff0c\u5219\u9700\u8981\u5411\u76ee\u6807\u4e3b\u673a\u5f52\u5c5e\u7f51\u7edc\u63d0\u4f9b\u5546\u53cd\u9988\u95ee\u9898\u3002</p> <p>\u94fe\u8def\u8d1f\u8f7d\u5747\u8861\uff1a\u5982\u524d\u6587\u94fe\u8def\u6d4b\u8bd5\u7ed3\u679c\u793a\u4f8b\u56fe\u4e2d\u7684\u533a\u57dfD\u3002\u5982\u679c\u4e2d\u95f4\u94fe\u8def\u67d0\u4e9b\u90e8\u5206\u542f\u7528\u4e86\u94fe\u8def\u8d1f\u8f7d\u5747\u8861\uff0c\u5219mtr\u547d\u4ee4\u53ea\u4f1a\u5bf9\u9996\u5c3e\u8282\u70b9\u8fdb\u884c\u7f16\u53f7\u548c\u63a2\u6d4b\u7edf\u8ba1\u3002\u4e2d\u95f4\u8282\u70b9\u53ea\u4f1a\u663e\u793a\u76f8\u5e94\u7684IP\u6216\u57df\u540d\u4fe1\u606f\u3002 </p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#avgstdev","title":"\u7ed3\u5408Avg\uff08\u5e73\u5747\u503c\uff09\u548cStDev\uff08\u6807\u51c6\u504f\u5dee\uff09\u7efc\u5408\u5224\u65ad","text":"<p>[!NOTE] \u7531\u4e8e\u94fe\u8def\u6296\u52a8\u6216\u5176\u5b83\u56e0\u7d20\u7684\u5f71\u54cd\uff0c\u8282\u70b9\u7684Best\u548cWorst\u503c\u53ef\u80fd\u76f8\u5dee\u5f88\u5927\u3002\u800cAvg\uff08\u5e73\u5747\u503c\uff09\u7edf\u8ba1\u4e86\u81ea\u94fe\u8def\u6d4b\u8bd5\u4ee5\u6765\u6240\u6709\u63a2\u6d4b\u7684\u5e73\u5747\u503c\uff0c\u6240\u4ee5\u80fd\u66f4\u597d\u7684\u53cd\u5e94\u51fa\u76f8\u5e94\u8282\u70b9\u7684\u7f51\u7edc\u8d28\u91cf\u3002\u800cStDev\uff08\u6807\u51c6\u504f\u5dee\u503c\uff09\u8d8a\u9ad8\uff0c\u5219\u8bf4\u660e\u6570\u636e\u5305\u5728\u76f8\u5e94\u8282\u70b9\u7684\u5ef6\u65f6\u503c\u8d8a\u4e0d\u76f8\u540c\uff08\u8d8a\u79bb\u6563\uff09\u3002\u6240\u4ee5\u6807\u51c6\u504f\u5dee\u503c\u53ef\u7528\u4e8e\u534f\u52a9\u5224\u65adAvg\u662f\u5426\u771f\u5b9e\u53cd\u5e94\u4e86\u76f8\u5e94\u8282\u70b9\u7684\u7f51\u7edc\u8d28\u91cf\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6807\u51c6\u504f\u5dee\u5f88\u5927\uff0c\u8bf4\u660e\u6570\u636e\u5305\u7684\u5ef6\u8fdf\u662f\u4e0d\u786e\u5b9a\u7684\u3002\u53ef\u80fd\u67d0\u4e9b\u6570\u636e\u5305\u5ef6\u8fdf\u5f88\u5c0f\uff08\u4f8b\u5982\uff1a25ms\uff09\uff0c\u800c\u53e6\u4e00\u4e9b\u5ef6\u8fdf\u5374\u5f88\u5927\uff08\u4f8b\u5982\uff1a350ms\uff09\uff0c\u4f46\u6700\u7ec8\u5f97\u5230\u7684\u5e73\u5747\u5ef6\u8fdf\u53cd\u800c\u53ef\u80fd\u662f\u6b63\u5e38\u7684\u3002\u6240\u4ee5\u6b64\u65f6Avg\u5e76\u4e0d\u80fd\u5f88\u597d\u7684\u53cd\u5e94\u51fa\u5b9e\u9645\u7684\u7f51\u7edc\u8d28\u91cf\u60c5\u51b5\u3002</p> <p>\u7efc\u4e0a\uff0c\u5efa\u8bae\u7684\u5206\u6790\u6807\u51c6\u5982\u4e0b\uff1a</p> <ul> <li> <p>\u5982\u679cStDev\u5f88\u9ad8\uff0c\u5219\u540c\u6b65\u89c2\u5bdf\u76f8\u5e94\u8282\u70b9\u7684Best\u548cWrst\uff0c\u6765\u5224\u65ad\u76f8\u5e94\u8282\u70b9\u662f\u5426\u5b58\u5728\u5f02\u5e38\u3002</p> </li> <li> <p>\u5982\u679cStDev\u4e0d\u9ad8\uff0c\u5219\u901a\u8fc7Avg\u6765\u5224\u65ad\u76f8\u5e94\u8282\u70b9\u662f\u5426\u5b58\u5728\u5f02\u5e38\u3002</p> <p>\u8bf4\u660e\uff1a\u4e0a\u8ff0StDev\u201c\u9ad8\u201d\u6216\u8005\u201c\u4e0d\u9ad8\u201d\uff0c\u5e76\u6ca1\u6709\u5177\u4f53\u7684\u65f6\u95f4\u8303\u56f4\u6807\u51c6\u3002\u800c\u9700\u8981\u6839\u636e\u540c\u4e00\u8282\u70b9\u5176\u5b83\u5217\u7684\u5ef6\u8fdf\u503c\u5927\u5c0f\u6765\u8fdb\u884c\u76f8\u5bf9\u8bc4\u4f30\u3002\u4f8b\u5982\uff0c\u5982\u679cAvg\u4e3a30ms\uff0c\u90a3\u4e48\uff0c\u5f53StDev\u4e3a25ms\uff0c\u5219\u8ba4\u4e3a\u662f\u5f88\u9ad8\u7684\u504f\u5dee\u3002\u800c\u5982\u679cAvg\u4e3a325ms\uff0c\u5219\u540c\u6837\u7684StDev\uff0825ms\uff09\uff0c\u53cd\u800c\u8ba4\u4e3a\u662f\u4e0d\u9ad8\u7684\u504f\u5dee\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#loss","title":"Loss%\uff08\u4e22\u5305\u7387\uff09\u7684\u5224\u65ad","text":"<p>[!NOTE] \u4efb\u4e00\u8282\u70b9\u7684Loss%\uff08\u4e22\u5305\u7387\uff09\u5982\u679c\u4e0d\u4e3a\u96f6\uff0c\u5219\u8bf4\u660e\u8fd9\u4e00\u8df3\u7f51\u7edc\u53ef\u80fd\u5b58\u5728\u95ee\u9898\u3002\u5bfc\u81f4\u76f8\u5e94\u8282\u70b9\u4e22\u5305\u7684\u539f\u56e0\u901a\u5e38\u6709\u4e24\u79cd\u3002</p> <ul> <li> <p>\u8fd0\u8425\u5546\u57fa\u4e8e\u5b89\u5168\u6216\u6027\u80fd\u9700\u6c42\uff0c\u4eba\u4e3a\u9650\u5236\u4e86\u8282\u70b9\u7684ICMP\u53d1\u9001\u901f\u7387\uff0c\u5bfc\u81f4\u4e22\u5305\u3002</p> </li> <li> <p>\u8282\u70b9\u786e\u5b9e\u5b58\u5728\u5f02\u5e38\uff0c\u5bfc\u81f4\u4e22\u5305\u3002</p> </li> </ul> <p>\u53ef\u4ee5\u7ed3\u5408\u5f02\u5e38\u8282\u70b9\u53ca\u5176\u540e\u7eed\u8282\u70b9\u7684\u4e22\u5305\u60c5\u51b5\uff0c\u6765\u5224\u5b9a\u4e22\u5305\u539f\u56e0\u3002</p> <ul> <li> <p>\u5982\u679c\u968f\u540e\u8282\u70b9\u5747\u6ca1\u6709\u4e22\u5305\uff0c\u5219\u901a\u5e38\u8bf4\u660e\u5f02\u5e38\u8282\u70b9\u4e22\u5305\u662f\u7531\u4e8e\u8fd0\u8425\u5546\u7b56\u7565\u9650\u5236\u6240\u81f4\u3002\u53ef\u4ee5\u5ffd\u7565\u76f8\u5173\u4e22\u5305\u3002\u5982\u524d\u6587\u94fe\u8def\u6d4b\u8bd5\u7ed3\u679c\u793a\u4f8b\u56fe\u4e2d\u7684\u7b2c2\u8df3\u6240\u793a\u3002</p> </li> <li> <p>\u5982\u679c\u968f\u540e\u8282\u70b9\u4e5f\u51fa\u73b0\u4e22\u5305\uff0c\u5219\u901a\u5e38\u8bf4\u660e\u5f02\u5e38\u8282\u70b9\u786e\u5b9e\u5b58\u5728\u7f51\u7edc\u5f02\u5e38\uff0c\u5bfc\u81f4\u4e22\u5305\u3002\u5982\u524d\u6587\u94fe\u8def\u6d4b\u8bd5\u7ed3\u679c\u793a\u4f8b\u56fe\u4e2d\u7684\u7b2c5\u8df3\u6240\u793a\u3002</p> </li> <li> <p>\u53e6\u5916\uff0c\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u524d\u8ff0\u4e24\u79cd\u60c5\u51b5\u53ef\u80fd\u540c\u65f6\u53d1\u751f\u3002\u5373\u76f8\u5e94\u8282\u70b9\u65e2\u5b58\u5728\u7b56\u7565\u9650\u901f\uff0c\u53c8\u5b58\u5728\u7f51\u7edc\u5f02\u5e38\u3002\u5bf9\u4e8e\u8fd9\u79cd\u60c5\u51b5\uff0c\u5982\u679c\u5f02\u5e38\u8282\u70b9\u53ca\u5176\u540e\u7eed\u8282\u70b9\u8fde\u7eed\u51fa\u73b0\u4e22\u5305\uff0c\u800c\u4e14\u5404\u8282\u70b9\u7684\u4e22\u5305\u7387\u4e0d\u540c\uff0c\u5219\u901a\u5e38\u4ee5\u6700\u540e\u51e0\u8df3\u7684\u4e22\u5305\u7387\u4e3a\u51c6\u3002\u5982\u524d\u6587\u94fe\u8def\u6d4b\u8bd5\u7ed3\u679c\u793a\u4f8b\u56fe\u6240\u793a\uff0c\u5728\u7b2c 5\u30016\u30017\u8df3\u5747\u51fa\u73b0\u4e86\u4e22\u5305\u3002\u6240\u4ee5\uff0c\u6700\u7ec8\u4e22\u5305\u60c5\u51b5\uff0c\u4ee5\u7b2c7\u8df3\u768440%\u4f5c\u4e3a\u53c2\u8003\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#_4","title":"\u5173\u4e8e\u5ef6\u8fdf","text":"<p>[!NOTE]</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#_5","title":"\u5ef6\u8fdf\u8df3\u53d8","text":"<p>\u5982\u679c\u5728\u67d0\u4e00\u8df3\u4e4b\u540e\u5ef6\u8fdf\u660e\u663e\u9661\u589e\uff0c\u5219\u901a\u5e38\u5224\u65ad\u8be5\u8282\u70b9\u5b58\u5728\u7f51\u7edc\u5f02\u5e38\u3002\u5982\u524d\u6587\u94fe\u8def\u6d4b\u8bd5\u7ed3\u679c\u793a\u4f8b\u56fe\u6240\u793a\uff0c\u4ece\u7b2c5\u8df3\u4e4b\u540e\u7684\u540e\u7eed\u8282\u70b9\u5ef6\u8fdf\u660e\u663e\u9661\u589e\uff0c\u5219\u63a8\u65ad\u662f\u7b2c5\u8df3\u8282\u70b9\u51fa\u73b0\u4e86\u7f51\u7edc\u5f02\u5e38\u3002\u4e0d\u8fc7\uff0c\u9ad8\u5ef6\u8fdf\u5e76\u4e0d\u4e00\u5b9a\u5b8c\u5168\u610f\u5473\u7740\u76f8\u5e94\u8282\u70b9\u5b58\u5728\u5f02\u5e38\u3002\u5982\u524d\u6587\u94fe\u8def\u6d4b\u8bd5\u7ed3\u679c\u793a\u4f8b\u56fe\u6240\u793a\uff0c\u7b2c5\u8df3\u4e4b\u540e\uff0c\u867d\u7136\u540e\u7eed\u8282\u70b9\u5ef6\u8fdf\u660e\u663e\u9661\u589e\uff0c\u4f46\u6d4b\u8bd5\u6570\u636e\u6700\u7ec8\u4ecd\u7136\u6b63\u5e38\u5230\u8fbe\u4e86\u76ee\u7684\u4e3b\u673a\u3002\u6240\u4ee5\uff0c\u5ef6\u8fdf\u5927\u4e5f\u6709\u53ef\u80fd\u662f\u5728\u6570\u636e\u56de\u5305\u94fe\u8def\u4e2d\u5f15\u53d1\u7684\u3002\u6240\u4ee5\uff0c\u6700\u597d\u7ed3\u5408\u53cd\u5411\u94fe\u8def\u6d4b\u8bd5\u4e00\u5e76\u5206\u6790\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#icmp","title":"ICMP\u9650\u901f\u5bfc\u81f4\u5ef6\u8fdf\u589e\u52a0","text":"<p>ICMP\u7b56\u7565\u9650\u901f\u4e5f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u76f8\u5e94\u8282\u70b9\u7684\u5ef6\u8fdf\u9661\u589e\uff0c\u4f46\u540e\u7eed\u8282\u70b9\u901a\u5e38\u4f1a\u6062\u590d\u6b63\u5e38\u3002\u5982\u524d\u6587\u94fe\u8def\u6d4b\u8bd5\u7ed3\u679c\u793a\u4f8b\u56fe\u6240\u793a\uff0c\u7b2c3\u8df3\u6709 100%\u7684\u4e22\u5305\u7387\uff0c\u540c\u65f6\u5ef6\u8fdf\u4e5f\u660e\u663e\u9661\u589e\u3002\u4f46\u968f\u540e\u8282\u70b9\u7684\u5ef6\u8fdf\u9a6c\u4e0a\u6062\u590d\u4e86\u6b63\u5e38\u3002\u6240\u4ee5\u5224\u65ad\u8be5\u8282\u70b9\u7684\u5ef6\u8fdf\u9661\u589e\u53ca\u4e22\u5305\u662f\u7531\u4e8e\u7b56\u7565\u9650\u901f\u6240\u81f4\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#_6","title":"\u5e38\u89c1\u94fe\u8def\u5f02\u5e38\u573a\u666f\u548c\u6d4b\u8bd5\u62a5\u544a\u5206\u6790","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#_7","title":"\u76ee\u6807\u4e3b\u673a\u7f51\u7edc\u914d\u7f6e\u4e0d\u5f53","text":"<p> \u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5728\u8be5\u793a\u4f8b\u4e2d\uff0c\u6570\u636e\u5305\u5728\u76ee\u6807\u5730\u5740\u51fa\u73b0\u4e86100%\u7684\u4e22\u5305\u3002\u4e4d\u4e00\u770b\u662f\u6570\u636e\u5305\u6ca1\u6709\u5230\u8fbe\uff0c\u5176\u5b9e\u5f88\u6709\u53ef\u80fd\u662f\u76ee\u6807\u670d\u52a1\u5668\u76f8\u5173\u5b89\u5168\u7b56\u7565\uff0c\u4f8b\u5982\u9632\u706b\u5899\u3001iptables\u7b49\u7981\u7528\u4e86ICMP\u6240\u81f4\uff0c\u5bfc\u81f4\u76ee\u7684\u4e3b\u673a\u65e0\u6cd5\u53d1\u9001\u4efb\u4f55\u5e94\u7b54\u3002\u6240\u4ee5\uff0c\u8be5\u573a\u666f\u9700\u8981\u6392\u67e5\u76ee\u6807\u670d\u52a1\u5668\u7684\u5b89\u5168\u7b56\u7565\u914d\u7f6e\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#icmp_1","title":"ICMP\u9650\u901f","text":"<p> \u5982\u4e0a\u56fe\u6240\u793a\uff0c\u65f6\u5ef6\u523013\u8df3\u7684\u65f6\u5019\u7a81\u7136\u589e\u52a0\uff0c\u5e76\u4e14\u540e\u9762\u51e0\u6761\u7684\u65f6\u5ef6\u4e5f\u5f88\u9ad8\uff0c\u5f88\u53ef\u80fd\u662f\u8fd9\u4e00\u8df3\u7684\u8fd0\u8425\u5546\u505a\u4e86ICMP\u9650\u901f</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#_8","title":"\u73af\u8def","text":"<p> \u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5728\u8be5\u793a\u4f8b\u4e2d\u6570\u636e\u5305\u5728\u7b2c5\u8df3\u4e4b\u540e\u51fa\u73b0\u4e86\u5faa\u73af\u8df3\u8f6c\uff0c\u5bfc\u81f4\u6700\u7ec8\u65e0\u6cd5\u5230\u8fbe\u76ee\u6807\u670d\u52a1\u5668\u3002\u8fd9\u901a\u5e38\u662f\u7531\u4e8e\u8fd0\u8425\u5546\u76f8\u5173\u8282\u70b9\u8def\u7531\u914d\u7f6e\u5f02\u5e38\u6240\u81f4\u3002\u6240\u4ee5\uff0c\u8be5\u573a\u666f\u9700\u8981\u8054\u7cfb\u76f8\u5e94\u8282\u70b9\u5f52\u5c5e\u8fd0\u8425\u5546\u5904\u7406\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/mtr/mtr%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90/#_9","title":"\u94fe\u8def\u4e2d\u65ad","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84%E4%B8%89%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%AB%AF%E5%8F%A3%E6%A8%A1%E5%BC%8F/","title":"\u4ea4\u6362\u673a\u7684\u4e09\u79cd\u4e3b\u8981\u7aef\u53e3\u6a21\u5f0f","text":"<p>\u4ea4\u6362\u673a\u7684\u4e09\u79cd\u4e3b\u8981\u7aef\u53e3\u6a21\u5f0f\u2014\u2014Access\u3001Trunk\u548cHybrid\u2014\u2014\u5404\u6709\u5176\u72ec\u7279\u7684\u529f\u80fd\u548c\u9002\u7528\u573a\u666f\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84%E4%B8%89%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%AB%AF%E5%8F%A3%E6%A8%A1%E5%BC%8F/#access","title":"Access\u7aef\u53e3","text":"<p>Access\u7aef\u53e3\uff0c\u987e\u540d\u601d\u4e49\uff0c\u662f\u201c\u63a5\u5165\u201d\u7aef\u53e3\uff0c\u901a\u5e38\u7528\u4e8e\u8fde\u63a5\u7ec8\u7aef\u8bbe\u5907\uff0c\u5982\u8ba1\u7b97\u673a\u3001\u6253\u5370\u673a\u6216IP\u7535\u8bdd\u3002\u5b83\u7684\u6838\u5fc3\u7279\u70b9\u662f\u53ea\u5141\u8bb8\u4e00\u4e2aVLAN\uff08\u865a\u62df\u5c40\u57df\u7f51\uff09\u7684\u6570\u636e\u901a\u8fc7\uff0c\u5e76\u4e14\u5728\u8f6c\u53d1\u6570\u636e\u65f6\u4f1a\u5265\u53bbVLAN\u6807\u7b7e\uff08Tag\uff09\uff0c\u4ee5\u786e\u4fdd\u7ec8\u7aef\u8bbe\u5907\u65e0\u9700\u5904\u7406\u590d\u6742\u7684VLAN\u4fe1\u606f\u3002</p> <ul> <li> <p>\u2022\u00a0\u5355\u4e00VLAN\u5f52\u5c5e\uff1aAccess\u7aef\u53e3\u53ea\u5173\u8054\u4e00\u4e2aVLAN\uff0c\u6570\u636e\u5e27\u5728\u8fdb\u5165\u6216\u79bb\u5f00\u65f6\u4f1a\u88ab\u5f3a\u5236\u6253\u4e0a\u6216\u5265\u53bb\u8be5VLAN\u7684\u6807\u7b7e\u3002</p> </li> <li> <p>\u2022\u00a0\u65e0\u6807\u7b7e\u4f20\u8f93\uff1a\u7ec8\u7aef\u8bbe\u5907\u63a5\u6536\u5230\u7684\u6570\u636e\u5e27\u662f\u4e0d\u5e26VLAN\u6807\u7b7e\u7684\u666e\u901a\u4ee5\u592a\u7f51\u5e27\uff0c\u7b80\u5316\u4e86\u8bbe\u5907\u5904\u7406\u6d41\u7a0b\u3002</p> </li> <li> <p>\u2022\u00a0\u5178\u578b\u5e94\u7528\uff1a\u9002\u5408\u8fde\u63a5\u666e\u901a\u7ec8\u7aef\u8bbe\u5907\uff0c\u5982\u529e\u516c\u5ba4\u7684PC\u6216\u670d\u52a1\u5668\uff0c\u573a\u666f\u5355\u4e00\u4e14\u65e0\u9700\u8de8VLAN\u901a\u4fe1\u3002</p> </li> </ul> <p>\u5047\u8bbe\u67d0\u4ea4\u6362\u673a\u7684\u7aef\u53e3G0/1\u88ab\u914d\u7f6e\u4e3aAccess\u7aef\u53e3\uff0c\u5c5e\u4e8eVLAN 10\u3002\u5f53\u4e00\u53f0PC\u901a\u8fc7\u8be5\u7aef\u53e3\u53d1\u9001\u6570\u636e\u5e27\u65f6\uff0c\u4ea4\u6362\u673a\u4f1a\u4e3a\u8be5\u6570\u636e\u5e27\u6253\u4e0aVLAN 10\u7684\u6807\u7b7e\uff08Tagged Frame\uff09\uff0c\u5e76\u5728\u4ea4\u6362\u673a\u5185\u90e8\u6309\u7167VLAN\u89c4\u5219\u8f6c\u53d1\u3002\u5f53\u6570\u636e\u5e27\u79bb\u5f00\u8be5\u7aef\u53e3\u65f6\uff0c\u4ea4\u6362\u673a\u4f1a\u5265\u53bbVLAN\u6807\u7b7e\uff0c\u5c06\u5176\u8fd8\u539f\u4e3a\u666e\u901a\u4ee5\u592a\u7f51\u5e27\u53d1\u9001\u7ed9PC\u3002\u8fd9\u79cd\u673a\u5236\u786e\u4fdd\u4e86\u7ec8\u7aef\u8bbe\u5907\u65e0\u9700\u652f\u6301VLAN\u534f\u8bae\u5373\u53ef\u6b63\u5e38\u901a\u4fe1\u3002</p> <p>\u4ee5\u534e\u4e3a\u4ea4\u6362\u673a\u4e3a\u4f8b\uff0c\u914d\u7f6eAccess\u7aef\u53e3\u7684\u5178\u578b\u6b65\u9aa4\u5982\u4e0b\uff08\u4ee5VLAN 10\u4e3a\u4f8b\uff09\uff1a</p> <pre><code># \u8fdb\u5165\u7cfb\u7edf\u89c6\u56fe  \nsystem-view  \n# \u521b\u5efaVLAN 10  \nvlan 10  \n# \u8fdb\u5165\u7aef\u53e3G0/1\u914d\u7f6e\u6a21\u5f0f  \ninterface GigabitEthernet0/0/1  \n# \u8bbe\u7f6e\u7aef\u53e3\u6a21\u5f0f\u4e3aAccess  \nport link-type access  \n# \u5c06\u7aef\u53e3\u5206\u914d\u5230VLAN 10  \nport default vlan 10  \n# \u4fdd\u5b58\u914d\u7f6e  \nquit  \nsave\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84%E4%B8%89%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%AB%AF%E5%8F%A3%E6%A8%A1%E5%BC%8F/#access_1","title":"Access\u7aef\u53e3\u7684\u5178\u578b\u5e94\u7528\u573a\u666f","text":"<ul> <li> <p>\u2022\u00a0\u4f01\u4e1a\u529e\u516c\u7f51\u7edc\uff1a\u5458\u5de5PC\u901a\u8fc7Access\u7aef\u53e3\u63a5\u5165\u516c\u53f8\u7f51\u7edc\uff0c\u5206\u914d\u5230\u7279\u5b9a\u90e8\u95e8VLAN\uff08\u5982\u8d22\u52a1VLAN\u3001\u9500\u552eVLAN\uff09\uff0c\u5b9e\u73b0\u6570\u636e\u9694\u79bb\u3002</p> </li> <li> <p>\u2022\u00a0\u5b66\u6821\u673a\u623f\uff1a\u5b66\u751f\u7535\u8111\u901a\u8fc7Access\u7aef\u53e3\u8fde\u63a5\u5230\u6559\u5b66VLAN\uff0c\u786e\u4fdd\u6559\u5b66\u8d44\u6e90\u4e0e\u7ba1\u7406\u7f51\u7edc\u5206\u79bb\u3002</p> </li> <li> <p>\u2022\u00a0\u5c0f\u578b\u7f51\u7edc\uff1a\u5728\u5bb6\u5ead\u6216\u5c0f\u578b\u529e\u516c\u5ba4\u4e2d\uff0cAccess\u7aef\u53e3\u8fde\u63a5\u8def\u7531\u5668\u6216\u6253\u5370\u673a\uff0c\u7b80\u5316\u914d\u7f6e\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84%E4%B8%89%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%AB%AF%E5%8F%A3%E6%A8%A1%E5%BC%8F/#_1","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li> <p>\u2022\u00a0\u5355\u4e00VLAN\u9650\u5236\uff1aAccess\u7aef\u53e3\u65e0\u6cd5\u5904\u7406\u591a\u4e2aVLAN\u7684\u6570\u636e\uff0c\u82e5\u9700\u8de8VLAN\u901a\u4fe1\uff0c\u5fc5\u987b\u501f\u52a9\u8def\u7531\u5668\u6216\u4e09\u5c42\u4ea4\u6362\u673a\u3002</p> </li> <li> <p>\u2022\u00a0\u5b89\u5168\u6027\u8003\u8651\uff1a\u4e3a\u9632\u6b62\u672a\u6388\u6743\u8bbe\u5907\u63a5\u5165\uff0c\u5efa\u8bae\u7ed3\u5408MAC\u5730\u5740\u7ed1\u5b9a\u6216\u7aef\u53e3\u5b89\u5168\u529f\u80fd\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84%E4%B8%89%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%AB%AF%E5%8F%A3%E6%A8%A1%E5%BC%8F/#trunk","title":"Trunk\u7aef\u53e3","text":"<p>Trunk\u7aef\u53e3\u662f\u4ea4\u6362\u673a\u4e4b\u95f4\u6216\u4ea4\u6362\u673a\u4e0e\u8def\u7531\u5668\u4e4b\u95f4\u7684\u201c\u6865\u6881\u201d\uff0c\u7528\u4e8e\u627f\u8f7d\u591a\u4e2aVLAN\u7684\u6570\u636e\u6d41\u91cf\u3002\u5b83\u7684\u6838\u5fc3\u7279\u70b9\u662f\u5141\u8bb8\u591a\u4e2aVLAN\u7684\u6570\u636e\u5e27\u901a\u8fc7\uff0c\u5e76\u4e14\u901a\u5e38\u4fdd\u7559VLAN\u6807\u7b7e\uff0c\u4ee5\u4fbf\u63a5\u6536\u7aef\u80fd\u591f\u8bc6\u522b\u6570\u636e\u6240\u5c5e\u7684VLAN\u3002</p> <ul> <li> <p>\u591aVLAN\u652f\u6301\uff1aTrunk\u7aef\u53e3\u53ef\u4ee5\u914d\u7f6e\u5141\u8bb8\u901a\u8fc7\u7684VLAN\u5217\u8868\uff0c\u652f\u6301\u8de8VLAN\u901a\u4fe1\u3002</p> </li> <li> <p>\u2022\u00a0\u5e26\u6807\u7b7e\u4f20\u8f93\uff1a\u6570\u636e\u5e27\u5728Trunk\u94fe\u8def\u4e0a\u901a\u5e38\u643a\u5e26VLAN\u6807\u7b7e\uff08IEEE 802.1Q\u6807\u51c6\uff09\uff0c\u786e\u4fddVLAN\u4fe1\u606f\u5728\u7f51\u7edc\u4e2d\u4f20\u9012\u3002</p> </li> <li> <p>\u2022\u00a0\u5178\u578b\u5e94\u7528\uff1a\u5e38\u7528\u4e8e\u4ea4\u6362\u673a\u4e4b\u95f4\u7684\u4e92\u8054\uff0c\u6216\u8fde\u63a5\u652f\u6301VLAN\u7684\u8bbe\u5907\uff08\u5982\u670d\u52a1\u5668\u6216\u8def\u7531\u5668\uff09\u3002</p> </li> </ul> <p>\u5047\u8bbe\u4e24\u53f0\u4ea4\u6362\u673a\u901a\u8fc7Trunk\u7aef\u53e3\u8fde\u63a5\uff0c\u7aef\u53e3G0/2\u88ab\u914d\u7f6e\u4e3aTrunk\u6a21\u5f0f\uff0c\u5141\u8bb8VLAN 10\u548cVLAN 20\u901a\u8fc7\u3002\u5f53VLAN 10\u7684\u6570\u636e\u5e27\u4ece\u4ea4\u6362\u673aA\u53d1\u9001\u5230\u4ea4\u6362\u673aB\u65f6\uff0c\u6570\u636e\u5e27\u4f1a\u643a\u5e26VLAN 10\u7684\u6807\u7b7e\u901a\u8fc7Trunk\u94fe\u8def\u3002\u4ea4\u6362\u673aB\u63a5\u6536\u540e\uff0c\u6839\u636e\u6807\u7b7e\u5c06\u6570\u636e\u5e27\u8f6c\u53d1\u5230\u5bf9\u5e94\u7684VLAN 10\u8bbe\u5907\u3002\u8fd9\u79cd\u673a\u5236\u5b9e\u73b0\u4e86\u591a\u4e2aVLAN\u5728\u540c\u4e00\u7269\u7406\u94fe\u8def\u4e0a\u7684\u590d\u7528\u3002</p> <p>\u4ee5\u534e\u4e3a\u4ea4\u6362\u673a\u4e3a\u4f8b\uff0c\u914d\u7f6eTrunk\u7aef\u53e3\u7684\u6b65\u9aa4\u5982\u4e0b\uff08\u5141\u8bb8VLAN 10\u548c20\uff09\uff1a</p> <pre><code># \u8fdb\u5165\u7cfb\u7edf\u89c6\u56fe  \nsystem-view  \n# \u521b\u5efaVLAN 10\u548c20  \nvlan batch 10 20  \n# \u8fdb\u5165\u7aef\u53e3G0/2\u914d\u7f6e\u6a21\u5f0f  \ninterface GigabitEthernet0/0/2  \n# \u8bbe\u7f6e\u7aef\u53e3\u6a21\u5f0f\u4e3aTrunk  \nport link-type trunk  \n# \u5141\u8bb8VLAN 10\u548c20\u901a\u8fc7  \nport trunk allow-pass vlan 10 20  \n# \u4fdd\u5b58\u914d\u7f6e  \nquit  \nsave\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84%E4%B8%89%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%AB%AF%E5%8F%A3%E6%A8%A1%E5%BC%8F/#hybrid","title":"Hybrid\u7aef\u53e3","text":"<p>Hybrid\u7aef\u53e3\u662f\u534e\u4e3a\u4ea4\u6362\u673a\u7279\u6709\u7684\u7aef\u53e3\u6a21\u5f0f\uff0c\u7ed3\u5408\u4e86Access\u548cTrunk\u7aef\u53e3\u7684\u4f18\u70b9\uff0c\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7684\u7075\u6d3b\u6027\u3002\u5b83\u53ef\u4ee5\u540c\u65f6\u5904\u7406\u5e26\u6807\u7b7e\u548c\u4e0d\u5e26\u6807\u7b7e\u7684\u6570\u636e\u5e27\uff0c\u5e76\u80fd\u6839\u636eVLAN\u914d\u7f6e\u51b3\u5b9a\u6570\u636e\u5e27\u7684\u5904\u7406\u65b9\u5f0f\u3002</p> <ul> <li> <p>\u2022\u00a0\u7075\u6d3bVLAN\u5904\u7406\uff1aHybrid\u7aef\u53e3\u53ef\u4ee5\u914d\u7f6e\u4e3a\u5bf9\u67d0\u4e9bVLAN\u5265\u53bb\u6807\u7b7e\uff08\u5982Access\u7aef\u53e3\uff09\uff0c\u5bf9\u5176\u4ed6VLAN\u4fdd\u7559\u6807\u7b7e\uff08\u5982Trunk\u7aef\u53e3\uff09\u3002</p> </li> <li> <p>\u2022\u00a0\u591a\u573a\u666f\u9002\u914d\uff1a\u65e2\u80fd\u8fde\u63a5\u7ec8\u7aef\u8bbe\u5907\uff0c\u4e5f\u80fd\u8fde\u63a5\u5176\u4ed6\u4ea4\u6362\u673a\uff0c\u9002\u5408\u590d\u6742\u7f51\u7edc\u73af\u5883\u3002</p> </li> <li> <p>\u2022\u00a0\u5178\u578b\u5e94\u7528\uff1a\u9700\u8981\u540c\u65f6\u652f\u6301\u7ec8\u7aef\u63a5\u5165\u548c\u8de8VLAN\u901a\u4fe1\u7684\u573a\u666f\u3002</p> </li> </ul> <p>Hybrid\u7aef\u53e3\u7684\u5de5\u4f5c\u65b9\u5f0f\u4f9d\u8d56\u4e8e\u5176VLAN\u6807\u7b7e\u5904\u7406\u89c4\u5219\uff1a\u7aef\u53e3\u53ef\u4ee5\u914d\u7f6e\u4e3a\u5bf9\u67d0\u4e9bVLAN\u53d1\u9001\u65f6\u5265\u53bb\u6807\u7b7e\uff08Untagged\uff09\uff0c\u5bf9\u5176\u4ed6VLAN\u4fdd\u7559\u6807\u7b7e\uff08Tagged\uff09\u3002\u4f8b\u5982\uff0c\u7aef\u53e3G0/3\u914d\u7f6e\u4e3aHybrid\u6a21\u5f0f\uff0cVLAN 10\u4e3aUntagged\uff0cVLAN 20\u4e3aTagged\u3002\u5f53PC\u901a\u8fc7\u8be5\u7aef\u53e3\u53d1\u9001\u6570\u636e\u65f6\uff0c\u4ea4\u6362\u673a\u4f1a\u4e3a\u6570\u636e\u6253\u4e0aVLAN 10\u6807\u7b7e\u5e76\u5265\u53bb\u6807\u7b7e\u540e\u53d1\u9001\uff1b\u5f53VLAN 20\u7684\u6570\u636e\u5230\u8fbe\u65f6\uff0c\u4f1a\u4fdd\u7559\u6807\u7b7e\u8f6c\u53d1\u3002</p> <p>\u4ee5\u534e\u4e3a\u4ea4\u6362\u673a\u4e3a\u4f8b\uff0c\u914d\u7f6eHybrid\u7aef\u53e3\u7684\u6b65\u9aa4\u5982\u4e0b\uff08VLAN 10\u4e0d\u5e26\u6807\u7b7e\uff0cVLAN 20\u5e26\u6807\u7b7e\uff09\uff1a</p> <pre><code># \u8fdb\u5165\u7cfb\u7edf\u89c6\u56fe  \nsystem-view  \n# \u521b\u5efaVLAN 10\u548c20  \nvlan batch 10 20  \n# \u8fdb\u5165\u7aef\u53e3G0/3\u914d\u7f6e\u6a21\u5f0f  \ninterface GigabitEthernet0/0/3  \n# \u8bbe\u7f6e\u7aef\u53e3\u6a21\u5f0f\u4e3aHybrid  \nport link-type hybrid  \n# \u914d\u7f6eVLAN 10\u4e3a\u4e0d\u5e26\u6807\u7b7e  \nport hybrid untagged vlan 10  \n# \u914d\u7f6eVLAN 20\u4e3a\u5e26\u6807\u7b7e  \nport hybrid tagged vlan 20  \n# \u8bbe\u7f6e\u7aef\u53e3\u7684\u9ed8\u8ba4VLAN\uff08PVID\uff09  \nport hybrid pvid vlan 10  \n# \u4fdd\u5b58\u914d\u7f6e  \nquit  \nsave\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84%E4%B8%89%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%AB%AF%E5%8F%A3%E6%A8%A1%E5%BC%8F/#hybrid_1","title":"Hybrid\u7aef\u53e3\u7684\u5178\u578b\u5e94\u7528\u573a\u666f","text":"<ul> <li> <p>\u2022\u00a0\u6df7\u5408\u7f51\u7edc\u73af\u5883\uff1a\u5728\u65e2\u6709\u7ec8\u7aef\u8bbe\u5907\u53c8\u6709\u4ea4\u6362\u673a\u4e92\u8054\u7684\u573a\u666f\u4e2d\uff0cHybrid\u7aef\u53e3\u80fd\u540c\u65f6\u5904\u7406\u666e\u901a\u8bbe\u5907\u548cVLAN\u6807\u7b7e\u6570\u636e\u3002</p> </li> <li> <p>\u2022\u00a0IPTV\u7f51\u7edc\uff1aIPTV\u7ec8\u7aef\u901a\u8fc7Hybrid\u7aef\u53e3\u63a5\u5165\uff0c\u89c6\u9891\u6d41\u4f7f\u7528\u5e26\u6807\u7b7eVLAN\uff0c\u63a7\u5236\u4fe1\u53f7\u4f7f\u7528\u65e0\u6807\u7b7eVLAN\u3002</p> </li> <li> <p>\u2022\u00a0\u4e2d\u5c0f\u578b\u4f01\u4e1a\uff1a\u5728\u8d44\u6e90\u6709\u9650\u7684\u7f51\u7edc\u4e2d\uff0cHybrid\u7aef\u53e3\u51cf\u5c11\u4e86\u7aef\u53e3\u7c7b\u578b\u914d\u7f6e\u7684\u590d\u6742\u6027\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84%E4%B8%89%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%AB%AF%E5%8F%A3%E6%A8%A1%E5%BC%8F/#_2","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li> <p>\u2022\u00a0\u914d\u7f6e\u590d\u6742\u6027\uff1aHybrid\u7aef\u53e3\u7684\u7075\u6d3b\u6027\u5e26\u6765\u66f4\u9ad8\u7684\u914d\u7f6e\u590d\u6742\u6027\uff0c\u9700\u4ed4\u7ec6\u89c4\u5212VLAN\u6807\u7b7e\u89c4\u5219\u3002</p> </li> <li> <p>\u2022\u00a0\u5382\u5546\u72ec\u6709\uff1aHybrid\u7aef\u53e3\u4e3a\u534e\u4e3a\u4e13\u6709\uff0c\u5176\u4ed6\u5382\u5546\uff08\u5982\u601d\u79d1\uff09\u65e0\u6b64\u6a21\u5f0f\uff0c\u9700\u6ce8\u610f\u8bbe\u5907\u517c\u5bb9\u6027\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84%E4%B8%89%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%AB%AF%E5%8F%A3%E6%A8%A1%E5%BC%8F/#_3","title":"\u4e09\u79cd\u7aef\u53e3\u7684\u5bf9\u6bd4\u4e0e\u9009\u62e9","text":"<p>\u4e3a\u4e86\u66f4\u76f4\u89c2\u5730\u7406\u89e3Access\u3001Trunk\u548cHybrid\u7aef\u53e3\u7684\u533a\u522b\uff0c\u4ee5\u4e0b\u662f\u5b83\u4eec\u7684\u5bf9\u6bd4\u8868\u683c\uff1a</p> \u7aef\u53e3\u7c7b\u578b VLAN\u652f\u6301 \u6807\u7b7e\u5904\u7406 \u5178\u578b\u5e94\u7528\u573a\u666f \u914d\u7f6e\u590d\u6742\u5ea6 Access \u5355\u4e00VLAN \u5265\u53bb\u6807\u7b7e \u7ec8\u7aef\u8bbe\u5907\u63a5\u5165 \u4f4e Trunk \u591a\u4e2aVLAN \u4fdd\u7559\u6807\u7b7e \u4ea4\u6362\u673a\u4e92\u8054 \u4e2d Hybrid \u591a\u4e2aVLAN \u7075\u6d3b\u5904\u7406 \u6df7\u5408\u573a\u666f \u9ad8 <p>\u9009\u62e9\u5efa\u8bae\uff1a</p> <ul> <li> <p>\u2022 \u5982\u679c\u7aef\u53e3\u53ea\u8fde\u63a5\u7ec8\u7aef\u8bbe\u5907\uff0c\u9996\u9009Access\u7aef\u53e3\uff0c\u7b80\u5355\u9ad8\u6548\u3002</p> </li> <li> <p>\u2022 \u5982\u679c\u9700\u8981\u627f\u8f7d\u591a\u4e2aVLAN\u6d41\u91cf\uff08\u5982\u4ea4\u6362\u673a\u4e92\u8054\uff09\uff0c\u9009\u62e9Trunk\u7aef\u53e3\u3002</p> </li> <li> <p>\u2022 \u5982\u679c\u573a\u666f\u590d\u6742\uff0c\u9700\u8981\u540c\u65f6\u5904\u7406\u7ec8\u7aef\u63a5\u5165\u548cVLAN\u4e92\u8054\uff0cHybrid\u7aef\u53e3\u662f\u6700\u4f73\u9009\u62e9\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84%E4%B8%89%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%AB%AF%E5%8F%A3%E6%A8%A1%E5%BC%8F/#_4","title":"\u53c2\u8003","text":"<ul> <li>https://mp.weixin.qq.com/s/tP90OToUoJT65DOCVX9cBA</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/","title":"\u4ec0\u4e48\u662fvlan","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#vlan","title":"\u4e00\u3001\u4e3a\u4ec0\u4e48\u9700\u8981VLAN","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#11vlan","title":"1.1\u3001\u4ec0\u4e48\u662fVLAN\uff1f","text":"<p>VLAN\uff08Virtual LAN\uff09\uff0c\u7ffb\u8bd1\u6210\u4e2d\u6587\u662f\u201c\u865a\u62df\u5c40\u57df\u7f51\u201d\u3002LAN\u53ef\u4ee5\u662f\u7531\u5c11\u6570\u51e0\u53f0\u5bb6\u7528\u8ba1\u7b97\u673a\u6784\u6210\u7684\u7f51\u7edc\uff0c\u4e5f\u53ef\u4ee5\u662f\u6570\u4ee5\u767e\u8ba1\u7684\u8ba1\u7b97\u673a\u6784\u6210\u7684\u4f01\u4e1a\u7f51\u7edc\u3002VLAN\u6240\u6307\u7684LAN\u7279\u6307\u4f7f\u7528\u8def\u7531\u5668\u5206\u5272\u7684\u7f51\u7edc\u2014\u2014\u4e5f\u5c31\u662f\u5e7f\u64ad\u57df\u3002</p> <p>\u5728\u6b64\u8ba9\u6211\u4eec\u5148\u590d\u4e60\u4e00\u4e0b\u5e7f\u64ad\u57df\u7684\u6982\u5ff5\u3002\u5e7f\u64ad\u57df\uff0c\u6307\u7684\u662f\u5e7f\u64ad\u5e27\uff08\u76ee\u6807MAC\u5730\u5740\u5168\u90e8\u4e3a1\uff09\u6240\u80fd\u4f20\u9012\u5230\u7684\u8303\u56f4\uff0c\u4ea6\u5373\u80fd\u591f\u76f4\u63a5\u901a\u4fe1\u7684\u8303\u56f4\u3002\u4e25\u683c\u5730\u8bf4\uff0c\u5e76\u4e0d\u4ec5\u4ec5\u662f\u5e7f\u64ad\u5e27\uff0c\u591a\u64ad\u5e27\uff08Multicast Frame\uff09\u548c\u76ee\u6807\u4e0d\u660e\u7684\u5355\u64ad\u5e27\uff08Unknown Unicast Frame\uff09\u4e5f\u80fd\u5728\u540c\u4e00\u4e2a\u5e7f\u64ad\u57df\u4e2d\u7545\u884c\u65e0\u963b\u3002</p> <p>\u672c\u6765\uff0c\u4e8c\u5c42\u4ea4\u6362\u673a\u53ea\u80fd\u6784\u5efa\u5355\u4e00\u7684\u5e7f\u64ad\u57df\uff0c\u4e0d\u8fc7\u4f7f\u7528VLAN\u529f\u80fd\u540e\uff0c\u5b83\u80fd\u591f\u5c06\u7f51\u7edc\u5206\u5272\u6210\u591a\u4e2a\u5e7f\u64ad\u57df\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#12","title":"1.2\u3001\u672a\u5206\u5272\u5e7f\u64ad\u57df\u65f6\u5c06\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f","text":"<p>\u90a3\u4e48\uff0c\u4e3a\u4ec0\u4e48\u9700\u8981\u5206\u5272\u5e7f\u64ad\u57df\u5462\uff1f\u90a3\u662f\u56e0\u4e3a\uff0c\u5982\u679c\u4ec5\u6709\u4e00\u4e2a\u5e7f\u64ad\u57df\uff0c\u6709\u53ef\u80fd\u4f1a\u5f71\u54cd\u5230\u7f51\u7edc\u6574\u4f53\u7684\u4f20\u8f93\u6027\u80fd\u3002\u5177\u4f53\u539f\u56e0\uff0c\u8bf7\u53c2\u770b\u9644\u56fe\u52a0\u6df1\u7406\u89e3\u3002</p> <p></p> <p>\u56fe\u4e2d\uff0c\u662f\u4e00\u4e2a\u75315\u53f0\u4e8c\u5c42\u4ea4\u6362\u673a\uff08\u4ea4\u6362\u673a1\uff5e5\uff09\u8fde\u63a5\u4e86\u5927\u91cf\u5ba2\u6237\u673a\u6784\u6210\u7684\u7f51\u7edc\u3002\u5047\u8bbe\u8fd9\u65f6\uff0c\u8ba1\u7b97\u673aA\u9700\u8981\u4e0e\u8ba1\u7b97\u673aB\u901a\u4fe1\u3002\u5728\u57fa\u4e8e\u4ee5\u592a\u7f51\u7684\u901a\u4fe1\u4e2d\uff0c\u5fc5\u987b\u5728\u6570\u636e\u5e27\u4e2d\u6307\u5b9a\u76ee\u6807MAC\u5730\u5740\u624d\u80fd\u6b63\u5e38\u901a\u4fe1\uff0c\u56e0\u6b64\u8ba1\u7b97\u673aA\u5fc5\u987b\u5148\u5e7f\u64ad\u201cARP\u8bf7\u6c42\uff08ARP Request\uff09\u4fe1\u606f\u201d\uff0c\u6765\u5c1d\u8bd5\u83b7\u53d6\u8ba1\u7b97\u673aB\u7684MAC\u5730\u5740\u3002</p> <p>\u4ea4\u6362\u673a1\u6536\u5230\u5e7f\u64ad\u5e27\uff08ARP\u8bf7\u6c42\uff09\u540e\uff0c\u4f1a\u5c06\u5b83\u8f6c\u53d1\u7ed9\u9664\u63a5\u6536\u7aef\u53e3\u5916\u7684\u5176\u4ed6\u6240\u6709\u7aef\u53e3\uff0c\u4e5f\u5c31\u662fFlooding\u4e86\u3002\u63a5\u7740\uff0c\u4ea4\u6362\u673a2\u6536\u5230\u5e7f\u64ad\u5e27\u540e\u4e5f\u4f1aFlooding\u3002\u4ea4\u6362\u673a3\u30014\u30015\u4e5f\u8fd8\u4f1aFlooding\u3002\u6700\u7ec8ARP\u8bf7\u6c42\u4f1a\u88ab\u8f6c\u53d1\u5230\u540c\u4e00\u7f51\u7edc\u4e2d\u7684\u6240\u6709\u5ba2\u6237\u673a\u4e0a\u3002</p> <p></p> <p>\u8bf7\u5927\u5bb6\u6ce8\u610f\u4e00\u4e0b\uff0c\u8fd9\u4e2aARP\u8bf7\u6c42\u539f\u672c\u662f\u4e3a\u4e86\u83b7\u5f97\u8ba1\u7b97\u673aB\u7684MAC\u5730\u5740\u800c\u53d1\u51fa\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff1a\u53ea\u8981\u8ba1\u7b97\u673aB\u80fd\u6536\u5230\u5c31\u4e07\u4e8b\u5927\u5409\u4e86\u3002\u53ef\u662f\u4e8b\u5b9e\u4e0a\uff0c\u6570\u636e\u5e27\u5374\u4f20\u904d\u6574\u4e2a\u7f51\u7edc\uff0c\u5bfc\u81f4\u6240\u6709\u7684\u8ba1\u7b97\u673a\u90fd\u6536\u5230\u4e86\u5b83\u3002\u5982\u6b64\u4e00\u6765\uff0c\u4e00\u65b9\u9762\u5e7f\u64ad\u4fe1\u606f\u6d88\u8017\u4e86\u7f51\u7edc\u6574\u4f53\u7684\u5e26\u5bbd\uff0c\u53e6\u4e00\u65b9\u9762\uff0c\u6536\u5230\u5e7f\u64ad\u4fe1\u606f\u7684\u8ba1\u7b97\u673a\u8fd8\u8981\u6d88\u8017\u4e00\u90e8\u5206CPU\u65f6\u95f4\u6765\u5bf9\u5b83\u8fdb\u884c\u5904\u7406\u3002\u9020\u6210\u4e86\u7f51\u7edc\u5e26\u5bbd\u548cCPU\u8fd0\u7b97\u80fd\u529b\u7684\u5927\u91cf\u65e0\u8c13\u6d88\u8017\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#13","title":"1.3\u3001\u5e7f\u64ad\u4fe1\u606f\u662f\u90a3\u4e48\u7ecf\u5e38\u53d1\u51fa\u7684\u5417\uff1f","text":"<p>\u8bfb\u5230\u8fd9\u91cc\uff0c\u4f60\u4e5f\u8bb8\u4f1a\u95ee\uff1a\u5e7f\u64ad\u4fe1\u606f\u771f\u662f\u90a3\u4e48\u9891\u7e41\u51fa\u73b0\u7684\u5417\uff1f</p> <p>\u7b54\u6848\u662f\uff1a\u662f\u7684\uff01\u5b9e\u9645\u4e0a\u5e7f\u64ad\u5e27\u4f1a\u975e\u5e38\u9891\u7e41\u5730\u51fa\u73b0\u3002\u5229\u7528TCP/IP\u534f\u8bae\u6808\u901a\u4fe1\u65f6\uff0c\u9664\u4e86\u524d\u9762\u51fa\u73b0\u7684ARP\u5916\uff0c\u8fd8\u6709\u53ef\u80fd\u9700\u8981\u53d1\u51faDHCP\u3001RIP\u7b49\u5f88\u591a\u5176\u4ed6\u7c7b\u578b\u7684\u5e7f\u64ad\u4fe1\u606f\u3002</p> <p>ARP\u5e7f\u64ad\uff0c\u662f\u5728\u9700\u8981\u4e0e\u5176\u4ed6\u4e3b\u673a\u901a\u4fe1\u65f6\u53d1\u51fa\u7684\u3002\u5f53\u5ba2\u6237\u673a\u8bf7\u6c42DHCP\u670d\u52a1\u5668\u5206\u914dIP\u5730\u5740\u65f6\uff0c\u5c31\u5fc5\u987b\u53d1\u51faDHCP\u7684\u5e7f\u64ad\u3002\u800c\u4f7f\u7528RIP\u4f5c\u4e3a\u8def\u7531\u534f\u8bae\u65f6\uff0c\u6bcf\u969430\u79d2\u8def\u7531\u5668\u90fd\u4f1a\u5bf9\u90bb\u8fd1\u7684\u5176\u4ed6\u8def\u7531\u5668\u5e7f\u64ad\u4e00\u6b21\u8def\u7531\u4fe1\u606f\u3002RIP\u4ee5\u5916\u7684\u5176\u4ed6\u8def\u7531\u534f\u8bae\u4f7f\u7528\u591a\u64ad\u4f20\u8f93\u8def\u7531\u4fe1\u606f\uff0c\u8fd9\u4e5f\u4f1a\u88ab\u4ea4\u6362\u673a\u8f6c\u53d1\uff08Flooding\uff09\u3002\u9664\u4e86TCP/IP\u4ee5\u5916\uff0cNetBEUI\u3001IPX\u548cApple Talk\u7b49\u534f\u8bae\u4e5f\u7ecf\u5e38\u9700\u8981\u7528\u5230\u5e7f\u64ad\u3002\u4f8b\u5982\u5728Windows\u4e0b\u53cc\u51fb\u6253\u5f00\u201c\u7f51\u7edc\u8ba1\u7b97\u673a\u201d\u65f6\u5c31\u4f1a\u53d1\u51fa\u5e7f\u64ad\uff08\u591a\u64ad\uff09\u4fe1\u606f\u3002\uff08Windows XP\u9664\u5916\u2026\u2026\uff09</p> <p>\u603b\u4e4b\uff0c\u5e7f\u64ad\u5c31\u5728\u6211\u4eec\u8eab\u8fb9\u3002\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u5e7f\u64ad\u901a\u4fe1\uff1a</p> <p>\u25a0 ARP\u8bf7\u6c42\uff1a\u5efa\u7acbIP\u5730\u5740\u548cMAC\u5730\u5740\u7684\u6620\u5c04\u5173\u7cfb\u3002</p> <p>\u25a0 RIP\uff1a\u4e00\u79cd\u8def\u7531\u534f\u8bae\u3002</p> <p>\u25a0 DHCP\uff1a\u7528\u4e8e\u81ea\u52a8\u8bbe\u5b9aIP\u5730\u5740\u7684\u534f\u8bae\u3002</p> <p>\u25a0 NetBEUI\uff1aWindows\u4e0b\u4f7f\u7528\u7684\u7f51\u7edc\u534f\u8bae\u3002</p> <p>\u25a0 IPX\uff1aNovell Netware\u4f7f\u7528\u7684\u7f51\u7edc\u534f\u8bae\u3002</p> <p>\u25a0 Apple Talk\uff1a\u82f9\u679c\u516c\u53f8\u7684Macintosh\u8ba1\u7b97\u673a\u4f7f\u7528\u7684\u7f51\u7edc\u534f\u8bae\u3002</p> <p>\u5982\u679c\u6574\u4e2a\u7f51\u7edc\u53ea\u6709\u4e00\u4e2a\u5e7f\u64ad\u57df\uff0c\u90a3\u4e48\u4e00\u65e6\u53d1\u51fa\u5e7f\u64ad\u4fe1\u606f\uff0c\u5c31\u4f1a\u4f20\u904d\u6574\u4e2a\u7f51\u7edc\uff0c\u5e76\u4e14\u5bf9\u7f51\u7edc\u4e2d\u7684\u4e3b\u673a\u5e26\u6765\u989d\u5916\u7684\u8d1f\u62c5\u3002\u56e0\u6b64\uff0c\u5728\u8bbe\u8ba1LAN\u65f6\uff0c\u9700\u8981\u6ce8\u610f\u5982\u4f55\u624d\u80fd\u6709\u6548\u5730\u5206\u5272\u5e7f\u64ad\u57df\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#14vlan","title":"1.4\u3001\u5e7f\u64ad\u57df\u7684\u5206\u5272\u4e0eVLAN\u7684\u5fc5\u8981\u6027","text":"<p>\u5206\u5272\u5e7f\u64ad\u57df\u65f6\uff0c\u4e00\u822c\u90fd\u5fc5\u987b\u4f7f\u7528\u5230\u8def\u7531\u5668\u3002\u4f7f\u7528\u8def\u7531\u5668\u540e\uff0c\u53ef\u4ee5\u4ee5\u8def\u7531\u5668\u4e0a\u7684\u7f51\u7edc\u63a5\u53e3\uff08LAN Interface\uff09\u4e3a\u5355\u4f4d\u5206\u5272\u5e7f\u64ad\u57df\u3002</p> <p>\u4f46\u662f\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\u8def\u7531\u5668\u4e0a\u4e0d\u4f1a\u6709\u592a\u591a\u7684\u7f51\u7edc\u63a5\u53e3\uff0c\u5176\u6570\u76ee\u591a\u57281\uff5e4\u4e2a\u5de6\u53f3\u3002\u968f\u7740\u5bbd\u5e26\u8fde\u63a5\u7684\u666e\u53ca\uff0c\u5bbd\u5e26\u8def\u7531\u5668\uff08\u6216\u8005\u53ebIP\u5171\u4eab\u5668\uff09\u53d8\u5f97\u8f83\u4e3a\u5e38\u89c1\uff0c\u4f46\u662f\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5b83\u4eec\u4e0a\u9762\u867d\u7136\u5e26\u7740\u591a\u4e2a\uff08\u4e00\u822c\u4e3a4\u4e2a\u5de6\u53f3\uff09\u8fde\u63a5LAN\u4e00\u4fa7\u7684\u7f51\u7edc\u63a5\u53e3\uff0c\u4f46\u90a3\u5b9e\u9645\u4e0a\u662f\u8def\u7531\u5668\u5185\u7f6e\u7684\u4ea4\u6362\u673a\uff0c\u5e76\u4e0d\u80fd\u5206\u5272\u5e7f\u64ad\u57df\u3002</p> <p>\u51b5\u4e14\u4f7f\u7528\u8def\u7531\u5668\u5206\u5272\u5e7f\u64ad\u57df\u7684\u8bdd\uff0c\u6240\u80fd\u5206\u5272\u7684\u4e2a\u6570\u5b8c\u5168\u53d6\u51b3\u4e8e\u8def\u7531\u5668\u7684\u7f51\u7edc\u63a5\u53e3\u4e2a\u6570\uff0c\u4f7f\u5f97\u7528\u6237\u65e0\u6cd5\u81ea\u7531\u5730\u6839\u636e\u5b9e\u9645\u9700\u8981\u5206\u5272\u5e7f\u64ad\u57df\u3002</p> <p>\u4e0e\u8def\u7531\u5668\u76f8\u6bd4\uff0c\u4e8c\u5c42\u4ea4\u6362\u673a\u4e00\u822c\u5e26\u6709\u591a\u4e2a\u7f51\u7edc\u63a5\u53e3\u3002\u56e0\u6b64\u5982\u679c\u80fd\u4f7f\u7528\u5b83\u5206\u5272\u5e7f\u64ad\u57df\uff0c\u90a3\u4e48\u65e0\u7591\u8fd0\u7528\u4e0a\u7684\u7075\u6d3b\u6027\u4f1a\u5927\u5927\u63d0\u9ad8\u3002</p> <p>\u7528\u4e8e\u5728\u4e8c\u5c42\u4ea4\u6362\u673a\u4e0a\u5206\u5272\u5e7f\u64ad\u57df\u7684\u6280\u672f\uff0c\u5c31\u662fVLAN\u3002\u901a\u8fc7\u5229\u7528VLAN\uff0c\u6211\u4eec\u53ef\u4ee5\u81ea\u7531\u8bbe\u8ba1\u5e7f\u64ad\u57df\u7684\u6784\u6210\uff0c\u63d0\u9ad8\u7f51\u7edc\u8bbe\u8ba1\u7684\u81ea\u7531\u5ea6\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#vlan_1","title":"\u4e8c\u3001\u5b9e\u73b0VLAN\u7684\u673a\u5236","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#21vlan","title":"2.1\u3001\u5b9e\u73b0VLAN\u7684\u673a\u5236","text":"<p>\u5728\u7406\u89e3\u4e86\u201c\u4e3a\u4ec0\u4e48\u9700\u8981VLAN\u201d\u4e4b\u540e\uff0c\u63a5\u4e0b\u6765\u8ba9\u6211\u4eec\u6765\u4e86\u89e3\u4e00\u4e0b\u4ea4\u6362\u673a\u662f\u5982\u4f55\u4f7f\u7528VLAN\u5206\u5272\u5e7f\u64ad\u57df\u7684\u3002</p> <p>\u9996\u5148\uff0c\u5728\u4e00\u53f0\u672a\u8bbe\u7f6e\u4efb\u4f55VLAN\u7684\u4e8c\u5c42\u4ea4\u6362\u673a\u4e0a\uff0c\u4efb\u4f55\u5e7f\u64ad\u5e27\u90fd\u4f1a\u88ab\u8f6c\u53d1\u7ed9\u9664\u63a5\u6536\u7aef\u53e3\u5916\u7684\u6240\u6709\u5176\u4ed6\u7aef\u53e3\uff08Flooding\uff09\u3002\u4f8b\u5982\uff0c\u8ba1\u7b97\u673aA\u53d1\u9001\u5e7f\u64ad\u4fe1\u606f\u540e\uff0c\u4f1a\u88ab\u8f6c\u53d1\u7ed9\u7aef\u53e32\u30013\u30014\u3002</p> <p></p> <p>\u8fd9\u65f6\uff0c\u5982\u679c\u5728\u4ea4\u6362\u673a\u4e0a\u751f\u6210\u7ea2\u3001\u84dd\u4e24\u4e2aVLAN\uff1b\u540c\u65f6\u8bbe\u7f6e\u7aef\u53e31\u30012\u5c5e\u4e8e\u7ea2\u8272VLAN\u3001\u7aef\u53e33\u30014\u5c5e\u4e8e\u84dd\u8272VLAN\u3002\u518d\u4eceA\u53d1\u51fa\u5e7f\u64ad\u5e27\u7684\u8bdd\uff0c\u4ea4\u6362\u673a\u5c31\u53ea\u4f1a\u628a\u5b83\u8f6c\u53d1\u7ed9\u540c\u5c5e\u4e8e\u4e00\u4e2aVLAN\u7684\u5176\u4ed6\u7aef\u53e3\u2014\u2014\u4e5f\u5c31\u662f\u540c\u5c5e\u4e8e\u7ea2\u8272VLAN\u7684\u7aef\u53e32\uff0c\u4e0d\u4f1a\u518d\u8f6c\u53d1\u7ed9\u5c5e\u4e8e\u84dd\u8272VLAN\u7684\u7aef\u53e3\u3002</p> <p>\u540c\u6837\uff0cC\u53d1\u9001\u5e7f\u64ad\u4fe1\u606f\u65f6\uff0c\u53ea\u4f1a\u88ab\u8f6c\u53d1\u7ed9\u5176\u4ed6\u5c5e\u4e8e\u84dd\u8272VLAN\u7684\u7aef\u53e3\uff0c\u4e0d\u4f1a\u88ab\u8f6c\u53d1\u7ed9\u5c5e\u4e8e\u7ea2\u8272VLAN\u7684\u7aef\u53e3\u3002</p> <p></p> <p>\u5c31\u8fd9\u6837\uff0cVLAN\u901a\u8fc7\u9650\u5236\u5e7f\u64ad\u5e27\u8f6c\u53d1\u7684\u8303\u56f4\u5206\u5272\u4e86\u5e7f\u64ad\u57df\u3002\u4e0a\u56fe\u4e2d\u4e3a\u4e86\u4fbf\u4e8e\u8bf4\u660e\uff0c\u4ee5\u7ea2\u3001\u84dd\u4e24\u8272\u8bc6\u522b\u4e0d\u540c\u7684VLAN\uff0c\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\u5219\u662f\u7528\u201cVLAN ID\u201d\u6765\u533a\u5206\u7684\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#22vlan","title":"2.2\u3001\u76f4\u89c2\u5730\u63cf\u8ff0VLAN","text":"<p>\u5982\u679c\u8981\u66f4\u4e3a\u76f4\u89c2\u5730\u63cf\u8ff0VLAN\u7684\u8bdd\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u7406\u89e3\u4e3a\u5c06\u4e00\u53f0\u4ea4\u6362\u673a\u5728\u903b\u8f91\u4e0a\u5206\u5272\u6210\u4e86\u6570\u53f0\u4ea4\u6362\u673a\u3002\u5728\u4e00\u53f0\u4ea4\u6362\u673a\u4e0a\u751f\u6210\u7ea2\u3001\u84dd\u4e24\u4e2aVLAN\uff0c\u4e5f\u53ef\u4ee5\u770b\u4f5c\u662f\u5c06\u4e00\u53f0\u4ea4\u6362\u673a\u6362\u505a\u4e00\u7ea2\u4e00\u84dd\u4e24\u53f0\u865a\u62df\u7684\u4ea4\u6362\u673a\u3002</p> <p></p> <p>\u5728\u7ea2\u3001\u84dd\u4e24\u4e2aVLAN\u4e4b\u5916\u751f\u6210\u65b0\u7684VLAN\u65f6\uff0c\u53ef\u4ee5\u60f3\u8c61\u6210\u53c8\u6dfb\u52a0\u4e86\u65b0\u7684\u4ea4\u6362\u673a\u3002</p> <p>\u4f46\u662f\uff0cVLAN\u751f\u6210\u7684\u903b\u8f91\u4e0a\u7684\u4ea4\u6362\u673a\u662f\u4e92\u4e0d\u76f8\u901a\u7684\u3002\u56e0\u6b64\uff0c\u5728\u4ea4\u6362\u673a\u4e0a\u8bbe\u7f6eVLAN\u540e\uff0c\u5982\u679c\u672a\u505a\u5176\u4ed6\u5904\u7406\uff0cVLAN\u95f4\u662f\u65e0\u6cd5\u901a\u4fe1\u7684\u3002</p> <p>\u660e\u660e\u63a5\u5728\u540c\u4e00\u53f0\u4ea4\u6362\u673a\u4e0a\uff0c\u4f46\u5374\u504f\u504f\u65e0\u6cd5\u901a\u4fe1\u2014\u2014\u8fd9\u4e2a\u4e8b\u5b9e\u4e5f\u8bb8\u8ba9\u4eba\u96be\u4ee5\u63a5\u53d7\u3002\u4f46\u5b83\u65e2\u662fVLAN\u65b9\u4fbf\u6613\u7528\u7684\u7279\u5f81\uff0c\u53c8\u662f\u4f7fVLAN\u4ee4\u4eba\u96be\u4ee5\u7406\u89e3\u7684\u539f\u56e0\u3002</p> <p>2.3\u3001\u9700\u8981VLAN\u95f4\u901a\u4fe1\u65f6\u600e\u4e48\u529e\uff1f</p> <p>\u90a3\u4e48\uff0c\u5f53\u6211\u4eec\u9700\u8981\u5728\u4e0d\u540c\u7684VLAN\u95f4\u901a\u4fe1\u65f6\u53c8\u8be5\u5982\u4f55\u662f\u597d\u5462\uff1f</p> <p>\u8bf7\u5927\u5bb6\u518d\u6b21\u56de\u5fc6\u4e00\u4e0b\uff1aVLAN\u662f\u5e7f\u64ad\u57df\u3002\u800c\u901a\u5e38\u4e24\u4e2a\u5e7f\u64ad\u57df\u4e4b\u95f4\u7531\u8def\u7531\u5668\u8fde\u63a5\uff0c\u5e7f\u64ad\u57df\u4e4b\u95f4\u6765\u5f80\u7684\u6570\u636e\u5305\u90fd\u662f\u7531\u8def\u7531\u5668\u4e2d\u7ee7\u7684\u3002\u56e0\u6b64\uff0cVLAN\u95f4\u7684\u901a\u4fe1\u4e5f\u9700\u8981\u8def\u7531\u5668\u63d0\u4f9b\u4e2d\u7ee7\u670d\u52a1\uff0c\u8fd9\u88ab\u79f0\u4f5c\u201cVLAN\u95f4\u8def\u7531\u201d\u3002</p> <p>VLAN\u95f4\u8def\u7531\uff0c\u53ef\u4ee5\u4f7f\u7528\u666e\u901a\u7684\u8def\u7531\u5668\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e09\u5c42\u4ea4\u6362\u673a\u3002\u5176\u4e2d\u7684\u5177\u4f53\u5185\u5bb9\uff0c\u7b49\u6709\u673a\u4f1a\u518d\u7ec6\u8bf4\u5427\u3002\u5728\u8fd9\u91cc\u5e0c\u671b\u5927\u5bb6\u5148\u8bb0\u4f4f\u4e0d\u540cVLAN\u95f4\u4e92\u76f8\u901a\u4fe1\u65f6\u9700\u8981\u7528\u5230\u8def\u7531\u529f\u80fd\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#vlan_2","title":"\u4e09\u3001VLAN\u7684\u8bbf\u95ee\u94fe\u63a5","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#31","title":"3.1\u3001\u4ea4\u6362\u673a\u7684\u7aef\u53e3","text":"<p>\u4ea4\u6362\u673a\u7684\u7aef\u53e3\uff0c\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u4e24\u79cd\uff1a</p> <p>\u25a0 \u8bbf\u95ee\u94fe\u63a5\uff08Access Link\uff09</p> <p>\u25a0 \u6c47\u805a\u94fe\u63a5\uff08Trunk Link\uff09</p> <p>\u63a5\u4e0b\u6765\u5c31\u8ba9\u6211\u4eec\u6765\u4f9d\u6b21\u5b66\u4e60\u8fd9\u4e24\u79cd\u4e0d\u540c\u7aef\u53e3\u7684\u7279\u5f81\u3002\u8fd9\u4e00\u8bb2\uff0c\u9996\u5148\u5b66\u4e60\u201c\u8bbf\u95ee\u94fe\u63a5\u201d\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#32","title":"3.2\u3001\u8bbf\u95ee\u94fe\u63a5","text":"<p>\u8bbf\u95ee\u94fe\u63a5\uff0c\u6307\u7684\u662f\u201c\u53ea\u5c5e\u4e8e\u4e00\u4e2aVLAN\uff0c\u4e14\u4ec5\u5411\u8be5VLAN\u8f6c\u53d1\u6570\u636e\u5e27\u201d\u7684\u7aef\u53e3\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8bbf\u95ee\u94fe\u63a5\u6240\u8fde\u7684\u662f\u5ba2\u6237\u673a\u3002</p> <p>\u901a\u5e38\u8bbe\u7f6eVLAN\u7684\u987a\u5e8f\u662f\uff1a</p> <p>\u25cf\u751f\u6210VLAN</p> <p>\u25cf\u8bbe\u5b9a\u8bbf\u95ee\u94fe\u63a5\uff08\u51b3\u5b9a\u5404\u7aef\u53e3\u5c5e\u4e8e\u54ea\u4e00\u4e2aVLAN\uff09</p> <p>\u8bbe\u5b9a\u8bbf\u95ee\u94fe\u63a5\u7684\u624b\u6cd5\uff0c\u53ef\u4ee5\u662f\u4e8b\u5148\u56fa\u5b9a\u7684\u3001\u4e5f\u53ef\u4ee5\u662f\u6839\u636e\u6240\u8fde\u7684\u8ba1\u7b97\u673a\u800c\u52a8\u6001\u6539\u53d8\u8bbe\u5b9a\u3002\u524d\u8005\u88ab\u79f0\u4e3a\u201c\u9759\u6001VLAN\u201d\u3001\u540e\u8005\u81ea\u7136\u5c31\u662f\u201c\u52a8\u6001VLAN\u201d\u4e86\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#321vlan","title":"3.2.1\u3001\u9759\u6001VLAN","text":"<p>\u9759\u6001VLAN\u53c8\u88ab\u79f0\u4e3a\u57fa\u4e8e\u7aef\u53e3\u7684VLAN\uff08Port Based VLAN\uff09\u3002\u987e\u540d\u601d\u4e49\uff0c\u5c31\u662f\u660e\u786e\u6307\u5b9a\u5404\u7aef\u53e3\u5c5e\u4e8e\u54ea\u4e2aVLAN\u7684\u8bbe\u5b9a\u65b9\u6cd5\u3002</p> <p></p> <p>\u7531\u4e8e\u9700\u8981\u4e00\u4e2a\u4e2a\u7aef\u53e3\u5730\u6307\u5b9a\uff0c\u56e0\u6b64\u5f53\u7f51\u7edc\u4e2d\u7684\u8ba1\u7b97\u673a\u6570\u76ee\u8d85\u8fc7\u4e00\u5b9a\u6570\u5b57\uff08\u6bd4\u5982\u6570\u767e\u53f0\uff09\u540e\uff0c\u8bbe\u5b9a\u64cd\u4f5c\u5c31\u4f1a\u53d8\u5f97\u70e6\u6742\u65e0\u6bd4\u3002\u5e76\u4e14\uff0c\u5ba2\u6237\u673a\u6bcf\u6b21\u53d8\u66f4\u6240\u8fde\u7aef\u53e3\uff0c\u90fd\u5fc5\u987b\u540c\u65f6\u66f4\u6539\u8be5\u7aef\u53e3\u6240\u5c5eVLAN\u7684\u8bbe\u5b9a\u2014\u2014\u8fd9\u663e\u7136\u9759\u6001VLAN\u4e0d\u9002\u5408\u90a3\u4e9b\u9700\u8981\u9891\u7e41\u6539\u53d8\u62d3\u8865\u7ed3\u6784\u7684\u7f51\u7edc\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#322vlan","title":"3.2.2\u3001\u52a8\u6001VLAN","text":"<p>\u53e6\u4e00\u65b9\u9762\uff0c\u52a8\u6001VLAN\u5219\u662f\u6839\u636e\u6bcf\u4e2a\u7aef\u53e3\u6240\u8fde\u7684\u8ba1\u7b97\u673a\uff0c\u968f\u65f6\u6539\u53d8\u7aef\u53e3\u6240\u5c5e\u7684VLAN\u3002\u8fd9\u5c31\u53ef\u4ee5\u907f\u514d\u4e0a\u8ff0\u7684\u66f4\u6539\u8bbe\u5b9a\u4e4b\u7c7b\u7684\u64cd\u4f5c\u3002\u52a8\u6001VLAN\u53ef\u4ee5\u5927\u81f4\u5206\u4e3a3\u7c7b\uff1a</p> <p>\u25cf \u57fa\u4e8eMAC\u5730\u5740\u7684VLAN\uff08MAC Based VLAN\uff09</p> <p>\u25cf \u57fa\u4e8e\u5b50\u7f51\u7684VLAN\uff08Subnet Based VLAN\uff09</p> <p>\u25cf \u57fa\u4e8e\u7528\u6237\u7684VLAN\uff08User Based VLAN\uff09</p> <p>\u5176\u95f4\u7684\u5dee\u5f02\uff0c\u4e3b\u8981\u5728\u4e8e\u6839\u636eOSI\u53c2\u7167\u6a21\u578b\u54ea\u4e00\u5c42\u7684\u4fe1\u606f\u51b3\u5b9a\u7aef\u53e3\u6240\u5c5e\u7684VLAN\u3002</p> <p>\u2460\u3001\u57fa\u4e8eMAC\u5730\u5740\u7684VLAN\uff0c\u5c31\u662f\u901a\u8fc7\u67e5\u8be2\u5e76\u8bb0\u5f55\u7aef\u53e3\u6240\u8fde\u8ba1\u7b97\u673a\u4e0a\u7f51\u5361\u7684MAC\u5730\u5740\u6765\u51b3\u5b9a\u7aef\u53e3\u7684\u6240\u5c5e\u3002\u5047\u5b9a\u6709\u4e00\u4e2aMAC\u5730\u5740\u201cA\u201d\u88ab\u4ea4\u6362\u673a\u8bbe\u5b9a\u4e3a\u5c5e\u4e8eVLAN\u201c10\u201d\uff0c\u90a3\u4e48\u4e0d\u8bbaMAC\u5730\u5740\u4e3a\u201cA\u201d\u7684\u8fd9\u53f0\u8ba1\u7b97\u673a\u8fde\u5728\u4ea4\u6362\u673a\u54ea\u4e2a\u7aef\u53e3\uff0c\u8be5\u7aef\u53e3\u90fd\u4f1a\u88ab\u5212\u5206\u5230VLAN10\u4e2d\u53bb\u3002\u8ba1\u7b97\u673a\u8fde\u5728\u7aef\u53e31\u65f6\uff0c\u7aef\u53e31\u5c5e\u4e8eVLAN10\uff1b\u800c\u8ba1\u7b97\u673a\u8fde\u5728\u7aef\u53e32\u65f6\uff0c\u5219\u662f\u7aef\u53e32\u5c5e\u4e8eVLAN10\u3002</p> <p> \u2461\u3001\u57fa\u4e8e\u5b50\u7f51\u7684VLAN\uff0c\u5219\u662f\u901a\u8fc7\u6240\u8fde\u8ba1\u7b97\u673a\u7684IP\u5730\u5740\uff0c\u6765\u51b3\u5b9a\u7aef\u53e3\u6240\u5c5eVLAN\u7684\u3002\u4e0d\u50cf\u57fa\u4e8eMAC\u5730\u5740\u7684VLAN\uff0c\u5373\u4f7f\u8ba1\u7b97\u673a\u56e0\u4e3a\u4ea4\u6362\u4e86\u7f51\u5361\u6216\u662f\u5176\u4ed6\u539f\u56e0\u5bfc\u81f4MAC\u5730\u5740\u6539\u53d8\uff0c\u53ea\u8981\u5b83\u7684IP\u5730\u5740\u4e0d\u53d8\uff0c\u5c31\u4ecd\u53ef\u4ee5\u52a0\u5165\u539f\u5148\u8bbe\u5b9a\u7684VLAN\u3002</p> <p>\u56e0\u6b64\uff0c\u4e0e\u57fa\u4e8eMAC\u5730\u5740\u7684VLAN\u76f8\u6bd4\uff0c\u80fd\u591f\u66f4\u4e3a\u7b80\u4fbf\u5730\u6539\u53d8\u7f51\u7edc\u7ed3\u6784\u3002IP\u5730\u5740\u662fOSI\u53c2\u7167\u6a21\u578b\u4e2d\u7b2c\u4e09\u5c42\u7684\u4fe1\u606f\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7406\u89e3\u4e3a\u57fa\u4e8e\u5b50\u7f51\u7684VLAN\u662f\u4e00\u79cd\u5728OSI\u7684\u7b2c\u4e09\u5c42\u8bbe\u5b9a\u8bbf\u95ee\u94fe\u63a5\u7684\u65b9\u6cd5\u3002</p> <p>\u2462\u3001\u57fa\u4e8e\u7528\u6237\u7684VLAN\uff0c\u5219\u662f\u6839\u636e\u4ea4\u6362\u673a\u5404\u7aef\u53e3\u6240\u8fde\u7684\u8ba1\u7b97\u673a\u4e0a\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\uff0c\u6765\u51b3\u5b9a\u8be5\u7aef\u53e3\u5c5e\u4e8e\u54ea\u4e2aVLAN\u3002\u8fd9\u91cc\u7684\u7528\u6237\u8bc6\u522b\u4fe1\u606f\uff0c\u4e00\u822c\u662f\u8ba1\u7b97\u673a\u64cd\u4f5c\u7cfb\u7edf\u767b\u5f55\u7684\u7528\u6237\uff0c\u6bd4\u5982\u53ef\u4ee5\u662fWindows\u57df\u4e2d\u4f7f\u7528\u7684\u7528\u6237\u540d\u3002\u8fd9\u4e9b\u7528\u6237\u540d\u4fe1\u606f\uff0c\u5c5e\u4e8eOSI\u7b2c\u56db\u5c42\u4ee5\u4e0a\u7684\u4fe1\u606f\u3002</p> <p>\u603b\u7684\u6765\u8bf4\uff0c\u51b3\u5b9a\u7aef\u53e3\u6240\u5c5eVLAN\u65f6\u5229\u7528\u7684\u4fe1\u606f\u5728OSI\u4e2d\u7684\u5c42\u9762\u8d8a\u9ad8\uff0c\u5c31\u8d8a\u9002\u4e8e\u6784\u5efa\u7075\u6d3b\u591a\u53d8\u7684\u7f51\u7edc\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#323","title":"3.2.3\u3001\u8bbf\u95ee\u94fe\u63a5\u7684\u603b\u7ed3","text":"<p>\u7efc\u4e0a\u6240\u8ff0\uff0c\u8bbe\u5b9a\u8bbf\u95ee\u94fe\u63a5\u7684\u624b\u6cd5\u6709\u9759\u6001VLAN\u548c\u52a8\u6001VLAN\u4e24\u79cd\uff0c\u5176\u4e2d\u52a8\u6001VLAN\u53c8\u53ef\u4ee5\u7ee7\u7eed\u7ec6\u5206\u6210\u51e0\u4e2a\u5c0f\u7c7b\u3002</p> <p>\u5176\u4e2d\u57fa\u4e8e\u5b50\u7f51\u7684VLAN\u548c\u57fa\u4e8e\u7528\u6237\u7684VLAN\u6709\u53ef\u80fd\u662f\u7f51\u7edc\u8bbe\u5907\u5382\u5546\u4f7f\u7528\u72ec\u6709\u7684\u534f\u8bae\u5b9e\u73b0\u7684\uff0c\u4e0d\u540c\u5382\u5546\u7684\u8bbe\u5907\u4e4b\u95f4\u4e92\u8054\u6709\u53ef\u80fd\u51fa\u73b0\u517c\u5bb9\u6027\u95ee\u9898\uff1b\u56e0\u6b64\u5728\u9009\u62e9\u4ea4\u6362\u673a\u65f6\uff0c\u4e00\u5b9a\u8981\u6ce8\u610f\u4e8b\u5148\u786e\u8ba4\u3002</p> <p>\u4e0b\u8868\u603b\u7ed3\u4e86\u9759\u6001VLAN\u548c\u52a8\u6001VLAN\u7684\u76f8\u5173\u4fe1\u606f\u3002</p> \u79cd\u7c7b \u89e3\u8bf4 \u9759\u6001VLAN\uff08\u57fa\u4e8e\u7aef\u53e3\u7684VLAN\uff09 \u5c06\u4ea4\u6362\u673a\u7684\u5404\u7aef\u53e3\u56fa\u5b9a\u6307\u6d3e\u7ed9VLAN \u52a8\u6001VLAN \u57fa\u4e8eMAC\u5730\u5740\u7684VLAN \u6839\u636e\u5404\u7aef\u53e3\u6240\u8fde\u8ba1\u7b97\u673a\u7684MAC\u5730\u5740\u8bbe\u5b9a \u57fa\u4e8e\u5b50\u7f51\u7684VLAN \u6839\u636e\u5404\u7aef\u53e3\u6240\u8fde\u8ba1\u7b97\u673a\u7684IP\u5730\u5740\u8bbe\u5b9a \u57fa\u4e8e\u7528\u6237\u7684VLAN \u6839\u636e\u7aef\u53e3\u6240\u8fde\u8ba1\u7b97\u673a\u4e0a\u767b\u5f55\u7528\u6237\u8bbe\u5b9a"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#vlan_3","title":"\u56db\u3001VLAN\u7684\u6c47\u805a\u94fe\u63a5","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#41vlan","title":"4.1\u3001\u8bbe\u7f6e\u8de8\u8d8a\u591a\u53f0\u4ea4\u6362\u673a\u7684VLAN","text":"<p>\u5230\u6b64\u4e3a\u6b62\uff0c\u6211\u4eec\u5b66\u4e60\u7684\u90fd\u662f\u4f7f\u7528\u5355\u53f0\u4ea4\u6362\u673a\u8bbe\u7f6eVLAN\u65f6\u7684\u60c5\u51b5\u3002\u90a3\u4e48\uff0c\u5982\u679c\u9700\u8981\u8bbe\u7f6e\u8de8\u8d8a\u591a\u53f0\u4ea4\u6362\u673a\u7684VLAN\u65f6\u53c8\u5982\u4f55\u5462\uff1f</p> <p>\u5728\u89c4\u5212\u4f01\u4e1a\u7ea7\u7f51\u7edc\u65f6\uff0c\u5f88\u6709\u53ef\u80fd\u4f1a\u9047\u5230\u96b6\u5c5e\u4e8e\u540c\u4e00\u90e8\u95e8\u7684\u7528\u6237\u5206\u6563\u5728\u540c\u4e00\u5ea7\u5efa\u7b51\u7269\u4e2d\u7684\u4e0d\u540c\u697c\u5c42\u7684\u60c5\u51b5\uff0c\u8fd9\u65f6\u53ef\u80fd\u5c31\u9700\u8981\u8003\u8651\u5230\u5982\u4f55\u8de8\u8d8a\u591a\u53f0\u4ea4\u6362\u673a\u8bbe\u7f6eVLAN\u7684\u95ee\u9898\u4e86\u3002\u5047\u8bbe\u6709\u5982\u4e0b\u56fe\u6240\u793a\u7684\u7f51\u7edc\uff0c\u4e14\u9700\u8981\u5c06\u4e0d\u540c\u697c\u5c42\u7684A\u3001C\u548cB\u3001D\u8bbe\u7f6e\u4e3a\u540c\u4e00\u4e2aVLAN\u3002</p> <p></p> <p>\u8fd9\u65f6\u6700\u5173\u952e\u7684\u5c31\u662f\u201c\u4ea4\u6362\u673a1\u548c\u4ea4\u6362\u673a2\u8be5\u5982\u4f55\u8fde\u63a5\u624d\u597d\u5462\uff1f\u201d</p> <p>\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff0c\u81ea\u7136\u662f\u5728\u4ea4\u6362\u673a1\u548c\u4ea4\u6362\u673a2\u4e0a\u5404\u8bbe\u4e00\u4e2a\u7ea2\u3001\u84ddVLAN\u4e13\u7528\u7684\u63a5\u53e3\u5e76\u4e92\u8054\u4e86\u3002</p> <p></p> <p>\u4f46\u662f\uff0c\u8fd9\u4e2a\u529e\u6cd5\u4ece\u6269\u5c55\u6027\u548c\u7ba1\u7406\u6548\u7387\u6765\u770b\u90fd\u4e0d\u597d\u3002\u4f8b\u5982\uff0c\u5728\u73b0\u6709\u7f51\u7edc\u57fa\u7840\u4e0a\u518d\u65b0\u5efaVLAN\u65f6\uff0c\u4e3a\u4e86\u8ba9\u8fd9\u4e2aVLAN\u80fd\u591f\u4e92\u901a\uff0c\u5c31\u9700\u8981\u5728\u4ea4\u6362\u673a\u95f4\u8fde\u63a5\u65b0\u7684\u7f51\u7ebf\u3002\u5efa\u7b51\u7269\u697c\u5c42\u95f4\u7684\u7eb5\u5411\u5e03\u7ebf\u662f\u6bd4\u8f83\u9ebb\u70e6\u7684\uff0c\u4e00\u822c\u4e0d\u80fd\u7531\u57fa\u5c42\u7ba1\u7406\u4eba\u5458\u968f\u610f\u8fdb\u884c\u3002\u5e76\u4e14\uff0cVLAN\u8d8a\u591a\uff0c\u697c\u5c42\u95f4\uff08\u4e25\u683c\u5730\u8bf4\u662f\u4ea4\u6362\u673a\u95f4\uff09\u4e92\u8054\u6240\u9700\u7684\u7aef\u53e3\u4e5f\u8d8a\u6765\u8d8a\u591a\uff0c\u4ea4\u6362\u673a\u7aef\u53e3\u7684\u5229\u7528\u6548\u7387\u4f4e\u662f\u5bf9\u8d44\u6e90\u7684\u4e00\u79cd\u6d6a\u8d39\u3001\u4e5f\u9650\u5236\u4e86\u7f51\u7edc\u7684\u6269\u5c55\u3002</p> <p>\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u4f4e\u6548\u7387\u7684\u8fde\u63a5\u65b9\u5f0f\uff0c\u4eba\u4eec\u60f3\u529e\u6cd5\u8ba9\u4ea4\u6362\u673a\u95f4\u4e92\u8054\u7684\u7f51\u7ebf\u96c6\u4e2d\u5230\u4e00\u6839\u4e0a\uff0c\u8fd9\u65f6\u4f7f\u7528\u7684\u5c31\u662f\u6c47\u805a\u94fe\u63a5\uff08Trunk Link\uff09\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#42","title":"4.2\u3001\u4f55\u8c13\u6c47\u805a\u94fe\u63a5\uff1f","text":"<p>\u6c47\u805a\u94fe\u63a5\uff08Trunk Link\uff09\u6307\u7684\u662f\u80fd\u591f\u8f6c\u53d1\u591a\u4e2a\u4e0d\u540cVLAN\u7684\u901a\u4fe1\u7684\u7aef\u53e3\u3002</p> <p>\u6c47\u805a\u94fe\u8def\u4e0a\u6d41\u901a\u7684\u6570\u636e\u5e27\uff0c\u90fd\u88ab\u9644\u52a0\u4e86\u7528\u4e8e\u8bc6\u522b\u5206\u5c5e\u4e8e\u54ea\u4e2aVLAN\u7684\u7279\u6b8a\u4fe1\u606f\u3002</p> <p>\u73b0\u5728\u518d\u8ba9\u6211\u4eec\u56de\u8fc7\u5934\u6765\u8003\u8651\u4e00\u4e0b\u521a\u624d\u90a3\u4e2a\u7f51\u7edc\u5982\u679c\u91c7\u7528\u6c47\u805a\u94fe\u8def\u53c8\u4f1a\u5982\u4f55\u5462\uff1f\u7528\u6237\u53ea\u9700\u8981\u7b80\u5355\u5730\u5c06\u4ea4\u6362\u673a\u95f4\u4e92\u8054\u7684\u7aef\u53e3\u8bbe\u5b9a\u4e3a\u6c47\u805a\u94fe\u63a5\u5c31\u53ef\u4ee5\u4e86\u3002\u8fd9\u65f6\u4f7f\u7528\u7684\u7f51\u7ebf\u8fd8\u662f\u666e\u901a\u7684UTP\u7ebf\uff0c\u800c\u4e0d\u662f\u4ec0\u4e48\u5176\u4ed6\u7684\u7279\u6b8a\u5e03\u7ebf\u3002\u56fe\u4f8b\u4e2d\u662f\u4ea4\u6362\u673a\u95f4\u4e92\u8054\uff0c\u56e0\u6b64\u9700\u8981\u7528\u4ea4\u53c9\u7ebf\u6765\u8fde\u63a5\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u8ba9\u6211\u4eec\u5177\u4f53\u770b\u770b\u6c47\u805a\u94fe\u63a5\u662f\u5982\u4f55\u5b9e\u73b0\u8de8\u8d8a\u4ea4\u6362\u673a\u95f4\u7684VLAN\u7684\u3002</p> <p>\u2460\u3001A\u53d1\u9001\u7684\u6570\u636e\u5e27\u4ece\u4ea4\u6362\u673a1\u7ecf\u8fc7\u6c47\u805a\u94fe\u8def\u5230\u8fbe\u4ea4\u6362\u673a2\u65f6\uff0c\u5728\u6570\u636e\u5e27\u4e0a\u9644\u52a0\u4e86\u8868\u793a\u5c5e\u4e8e\u7ea2\u8272VLAN\u7684\u6807\u8bb0\u3002</p> <p>\u2461\u3001\u4ea4\u6362\u673a2\u6536\u5230\u6570\u636e\u5e27\u540e\uff0c\u7ecf\u8fc7\u68c0\u67e5VLAN\u6807\u8bc6\u53d1\u73b0\u8fd9\u4e2a\u6570\u636e\u5e27\u662f\u5c5e\u4e8e\u7ea2\u8272VLAN\u7684\u3002</p> <p>\u2462\u3001\u56e0\u6b64\u53bb\u9664\u6807\u8bb0\u540e\u6839\u636e\u9700\u8981\u5c06\u590d\u539f\u7684\u6570\u636e\u5e27\u53ea\u8f6c\u53d1\u7ed9\u5176\u4ed6\u5c5e\u4e8e\u7ea2\u8272VLAN\u7684\u7aef\u53e3\u3002</p> <p>\u8fd9\u65f6\u7684\u8f6c\u9001\uff0c\u662f\u6307\u7ecf\u8fc7\u786e\u8ba4\u76ee\u6807MAC\u5730\u5740\u5e76\u4e0eMAC\u5730\u5740\u5217\u8868\u6bd4\u5bf9\u540e\u53ea\u8f6c\u53d1\u7ed9\u76ee\u6807MAC\u5730\u5740\u6240\u8fde\u7684\u7aef\u53e3\u3002</p> <p>\u53ea\u6709\u5f53\u6570\u636e\u5e27\u662f\u4e00\u4e2a\u5e7f\u64ad\u5e27\u3001\u591a\u64ad\u5e27\u6216\u662f\u76ee\u6807\u4e0d\u660e\u7684\u5e27\u65f6\uff0c\u5b83\u624d\u4f1a\u88ab\u8f6c\u53d1\u5230\u6240\u6709\u5c5e\u4e8e\u7ea2\u8272VLAN\u7684\u7aef\u53e3\u3002</p> <p>\u540c\u7406\uff0c\u84dd\u8272VLAN\u53d1\u9001\u6570\u636e\u5e27\u65f6\u7684\u60c5\u5f62\u4e5f\u4e0e\u6b64\u76f8\u540c\u3002</p> <p></p> <p>\u901a\u8fc7\u6c47\u805a\u94fe\u8def\u65f6\u9644\u52a0\u7684VLAN\u8bc6\u522b\u4fe1\u606f\uff0c\u6709\u53ef\u80fd\u652f\u6301\u6807\u51c6\u7684\u201cIEEE 802.1Q\u201d\u534f\u8bae\uff0c\u4e5f\u53ef\u80fd\u662fCisco\u4ea7\u54c1\u72ec\u6709\u7684\u201cISL\uff08Inter Switch Link\uff09\u201d\u3002\u5982\u679c\u4ea4\u6362\u673a\u652f\u6301\u8fd9\u4e9b\u89c4\u683c\uff0c\u90a3\u4e48\u7528\u6237\u5c31\u80fd\u591f\u9ad8\u6548\u7387\u5730\u6784\u7b51\u6a2a\u8de8\u591a\u53f0\u4ea4\u6362\u673a\u7684VLAN\u3002</p> <p>\u53e6\u5916\uff0c\u6c47\u805a\u94fe\u8def\u4e0a\u6d41\u901a\u7740\u591a\u4e2aVLAN\u7684\u6570\u636e\uff0c\u81ea\u7136\u8d1f\u8f7d\u8f83\u91cd\u3002\u56e0\u6b64\uff0c\u5728\u8bbe\u5b9a\u6c47\u805a\u94fe\u63a5\u65f6\uff0c\u6709\u4e00\u4e2a\u524d\u63d0\u5c31\u662f\u5fc5\u987b\u652f\u6301100Mbps\u4ee5\u4e0a\u7684\u4f20\u8f93\u901f\u5ea6\u3002</p> <p>\u53e6\u5916\uff0c\u9ed8\u8ba4\u6761\u4ef6\u4e0b\uff0c\u6c47\u805a\u94fe\u63a5\u4f1a\u8f6c\u53d1\u4ea4\u6362\u673a\u4e0a\u5b58\u5728\u7684\u6240\u6709VLAN\u7684\u6570\u636e\u3002\u6362\u4e00\u4e2a\u89d2\u5ea6\u770b\uff0c\u53ef\u4ee5\u8ba4\u4e3a\u6c47\u805a\u94fe\u63a5\uff08\u7aef\u53e3\uff09\u540c\u65f6\u5c5e\u4e8e\u4ea4\u6362\u673a\u4e0a\u6240\u6709\u7684VLAN\u3002\u7531\u4e8e\u5b9e\u9645\u5e94\u7528\u4e2d\u5f88\u53ef\u80fd\u5e76\u4e0d\u9700\u8981\u8f6c\u53d1\u6240\u6709VLAN\u7684\u6570\u636e\uff0c\u56e0\u6b64\u4e3a\u4e86\u51cf\u8f7b\u4ea4\u6362\u673a\u7684\u8d1f\u8f7d\u3001\u4e5f\u4e3a\u4e86\u51cf\u5c11\u5bf9\u5e26\u5bbd\u7684\u6d6a\u8d39\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u7528\u6237\u8bbe\u5b9a\u9650\u5236\u80fd\u591f\u7ecf\u7531\u6c47\u805a\u94fe\u8def\u4e92\u8054\u7684VLAN\u3002</p> <p>\u5173\u4e8eIEEE802.1Q\u548cISL\u7684\u5177\u4f53\u5185\u5bb9\uff0c\u5c06\u5728\u4e0b\u4e00\u8bb2\u4e2d\u63d0\u5230\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#vlanieee8021qisl","title":"\u4e94\u3001VLAN\u7684\u6c47\u805a\u65b9\u5f0f\uff08IEEE802.1Q\u4e0eISL\uff09","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#51","title":"5.1\u3001\u6c47\u805a\u65b9\u5f0f","text":"<p>\u5728\u4ea4\u6362\u673a\u7684\u6c47\u805a\u94fe\u63a5\u4e0a\uff0c\u53ef\u4ee5\u901a\u8fc7\u5bf9\u6570\u636e\u5e27\u9644\u52a0VLAN\u4fe1\u606f\uff0c\u6784\u5efa\u8de8\u8d8a\u591a\u53f0\u4ea4\u6362\u673a\u7684VLAN\u3002</p> <p>\u9644\u52a0VLAN\u4fe1\u606f\u7684\u65b9\u6cd5\uff0c\u6700\u5177\u6709\u4ee3\u8868\u6027\u7684\u6709\uff1a</p> <p>\u25cf IEEE802.1Q</p> <p>\u25cf ISL</p> <p>\u73b0\u5728\u5c31\u8ba9\u6211\u4eec\u770b\u770b\u8fd9\u4e24\u79cd\u534f\u8bae\u5206\u522b\u5982\u4f55\u5bf9\u6570\u636e\u5e27\u9644\u52a0VLAN\u4fe1\u606f\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#52ieee8021q","title":"5.2\u3001IEEE802.1Q","text":"<p>IEEE802.1Q\uff0c\u4fd7\u79f0\u201cDot One Q\u201d\uff0c\u662f\u7ecf\u8fc7IEEE\u8ba4\u8bc1\u7684\u5bf9\u6570\u636e\u5e27\u9644\u52a0VLAN\u8bc6\u522b\u4fe1\u606f\u7684\u534f\u8bae\u3002</p> <p>\u5728\u6b64\uff0c\u8bf7\u5927\u5bb6\u5148\u56de\u5fc6\u4e00\u4e0b\u4ee5\u592a\u7f51\u6570\u636e\u5e27\u7684\u6807\u51c6\u683c\u5f0f\u3002</p> <p>IEEE802.1Q\u6240\u9644\u52a0\u7684VLAN\u8bc6\u522b\u4fe1\u606f\uff0c\u4f4d\u4e8e\u6570\u636e\u5e27\u4e2d\u201c\u53d1\u9001\u6e90MAC\u5730\u5740\u201d\u4e0e\u201c\u7c7b\u522b\u57df\uff08Type Field\uff09\u201d\u4e4b\u95f4\u3002\u5177\u4f53\u5185\u5bb9\u4e3a2\u5b57\u8282\u7684TPID\u548c2\u5b57\u8282\u7684TCI\uff0c\u5171\u8ba14\u5b57\u8282\u3002</p> <p>\u5728\u6570\u636e\u5e27\u4e2d\u6dfb\u52a0\u4e864\u5b57\u8282\u7684\u5185\u5bb9\uff0c\u90a3\u4e48CRC\u503c\u81ea\u7136\u4e5f\u4f1a\u6709\u6240\u53d8\u5316\u3002\u8fd9\u65f6\u6570\u636e\u5e27\u4e0a\u7684CRC\u662f\u63d2\u5165TPID\u3001TCI\u540e\uff0c\u5bf9\u5305\u62ec\u5b83\u4eec\u5728\u5185\u7684\u6574\u4e2a\u6570\u636e\u5e27\u91cd\u65b0\u8ba1\u7b97\u540e\u6240\u5f97\u7684\u503c\u3002</p> <p></p> <p>\u800c\u5f53\u6570\u636e\u5e27\u79bb\u5f00\u6c47\u805a\u94fe\u8def\u65f6\uff0cTPID\u548cTCI\u4f1a\u88ab\u53bb\u9664\uff0c\u8fd9\u65f6\u8fd8\u4f1a\u8fdb\u884c\u4e00\u6b21CRC\u7684\u91cd\u65b0\u8ba1\u7b97\u3002</p> <p>TPID\u7684\u503c\uff0c\u56fa\u5b9a\u4e3a0x8100\u3002\u4ea4\u6362\u673a\u901a\u8fc7TPID\uff0c\u6765\u786e\u5b9a\u6570\u636e\u5e27\u5185\u9644\u52a0\u4e86\u57fa\u4e8eIEEE802.1Q\u7684VLAN\u4fe1\u606f\u3002\u800c\u5b9e\u8d28\u4e0a\u7684VLAN ID\uff0c\u662fTCI\u4e2d\u768412\u4f4d\u5143\u3002\u7531\u4e8e\u603b\u5171\u670912\u4f4d\uff0c\u56e0\u6b64\u6700\u591a\u53ef\u4f9b\u8bc6\u522b4096\u4e2aVLAN\u3002</p> <p>\u57fa\u4e8eIEEE802.1Q\u9644\u52a0\u7684VLAN\u4fe1\u606f\uff0c\u5c31\u50cf\u5728\u4f20\u9012\u7269\u54c1\u65f6\u9644\u52a0\u7684\u6807\u7b7e\u3002\u56e0\u6b64\uff0c\u5b83\u4e5f\u88ab\u79f0\u4f5c\u201c\u6807\u7b7e\u578bVLAN\uff08Tagging VLAN\uff09\u201d\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#53islinter-switch-link","title":"5.3\u3001ISL\uff08Inter Switch Link\uff09","text":"<p>ISL\uff0c\u662fCisco\u4ea7\u54c1\u652f\u6301\u7684\u4e00\u79cd\u4e0eIEEE802.1Q\u7c7b\u4f3c\u7684\u3001\u7528\u4e8e\u5728\u6c47\u805a\u94fe\u8def\u4e0a\u9644\u52a0VLAN\u4fe1\u606f\u7684\u534f\u8bae\u3002</p> <p>\u4f7f\u7528ISL\u540e\uff0c\u6bcf\u4e2a\u6570\u636e\u5e27\u5934\u90e8\u90fd\u4f1a\u88ab\u9644\u52a026\u5b57\u8282\u7684\u201cISL\u5305\u5934\uff08ISL Header\uff09\u201d\uff0c\u5e76\u4e14\u5728\u5e27\u5c3e\u5e26\u4e0a\u901a\u8fc7\u5bf9\u5305\u62ecISL\u5305\u5934\u5728\u5185\u7684\u6574\u4e2a\u6570\u636e\u5e27\u8fdb\u884c\u8ba1\u7b97\u540e\u5f97\u5230\u76844\u5b57\u8282CRC\u503c\u3002\u6362\u800c\u8a00\u4e4b\uff0c\u5c31\u662f\u603b\u5171\u589e\u52a0\u4e8630\u5b57\u8282\u7684\u4fe1\u606f\u3002</p> <p>\u5728\u4f7f\u7528ISL\u7684\u73af\u5883\u4e0b\uff0c\u5f53\u6570\u636e\u5e27\u79bb\u5f00\u6c47\u805a\u94fe\u8def\u65f6\uff0c\u53ea\u8981\u7b80\u5355\u5730\u53bb\u9664ISL\u5305\u5934\u548c\u65b0CRC\u5c31\u53ef\u4ee5\u4e86\u3002\u7531\u4e8e\u539f\u5148\u7684\u6570\u636e\u5e27\u53ca\u5176CRC\u90fd\u88ab\u5b8c\u6574\u4fdd\u7559\uff0c\u56e0\u6b64\u65e0\u9700\u91cd\u65b0\u8ba1\u7b97CRC\u3002</p> <p></p> <p>ISL\u6709\u5982\u7528ISL\u5305\u5934\u548c\u65b0CRC\u5c06\u539f\u6570\u636e\u5e27\u6574\u4e2a\u5305\u88f9\u8d77\u6765\uff0c\u56e0\u6b64\u4e5f\u88ab\u79f0\u4e3a\u201c\u5c01\u88c5\u578bVLAN\uff08Encapsulated VLAN\uff09\u201d\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e0d\u8bba\u662fIEEE802.1Q\u7684\u201cTagging VLAN\u201d\uff0c\u8fd8\u662fISL\u7684\u201cEncapsulated VLAN\u201d\uff0c\u90fd\u4e0d\u662f\u5f88\u4e25\u5bc6\u7684\u79f0\u8c13\u3002\u4e0d\u540c\u7684\u4e66\u7c4d\u4e0e\u53c2\u8003\u8d44\u6599\u4e2d\uff0c\u4e0a\u8ff0\u8bcd\u8bed\u6709\u53ef\u80fd\u88ab\u6df7\u5408\u4f7f\u7528\uff0c\u56e0\u6b64\u9700\u8981\u5927\u5bb6\u5728\u5b66\u4e60\u65f6\u683c\u5916\u6ce8\u610f\u3002</p> <p>\u5e76\u4e14\u7531\u4e8eISL\u662fCisco\u72ec\u6709\u7684\u534f\u8bae\uff0c\u56e0\u6b64\u53ea\u80fd\u7528\u4e8eCisco\u7f51\u7edc\u8bbe\u5907\u4e4b\u95f4\u7684\u4e92\u8054\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#vlan_4","title":"\u516d\u3001VLAN\u95f4\u8def\u7531","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#61vlan","title":"6.1\u3001VLAN\u95f4\u8def\u7531\u7684\u5fc5\u8981\u6027","text":"<p>\u6839\u636e\u76ee\u524d\u4e3a\u6b62\u5b66\u4e60\u7684\u77e5\u8bc6\uff0c\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u4e24\u53f0\u8ba1\u7b97\u673a\u5373\u4f7f\u8fde\u63a5\u5728\u540c\u4e00\u53f0\u4ea4\u6362\u673a\u4e0a\uff0c\u53ea\u8981\u6240\u5c5e\u7684VLAN\u4e0d\u540c\u5c31\u65e0\u6cd5\u76f4\u63a5\u901a\u4fe1\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u8981\u5b66\u4e60\u7684\u5c31\u662f\u5982\u4f55\u5728\u4e0d\u540c\u7684VLAN\u95f4\u8fdb\u884c\u8def\u7531\uff0c\u4f7f\u5206\u5c5e\u4e0d\u540cVLAN\u7684\u4e3b\u673a\u80fd\u591f\u4e92\u76f8\u901a\u4fe1\u3002</p> <p>\u9996\u5148\uff0c\u5148\u6765\u590d\u4e60\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u4e0d\u540cVLAN\u95f4\u4e0d\u901a\u8fc7\u8def\u7531\u5c31\u65e0\u6cd5\u901a\u4fe1\u3002\u5728LAN\u5185\u7684\u901a\u4fe1\uff0c\u5fc5\u987b\u5728\u6570\u636e\u5e27\u5934\u4e2d\u6307\u5b9a\u901a\u4fe1\u76ee\u6807\u7684MAC\u5730\u5740\u3002\u800c\u4e3a\u4e86\u83b7\u53d6MAC\u5730\u5740\uff0cTCP/IP\u534f\u8bae\u4e0b\u4f7f\u7528\u7684\u662fARP\u3002ARP\u89e3\u6790MAC\u5730\u5740\u7684\u65b9\u6cd5\uff0c\u5219\u662f\u901a\u8fc7\u5e7f\u64ad\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5e7f\u64ad\u62a5\u6587\u65e0\u6cd5\u5230\u8fbe\uff0c\u90a3\u4e48\u5c31\u65e0\u4ece\u89e3\u6790MAC\u5730\u5740\uff0c\u4ea6\u5373\u65e0\u6cd5\u76f4\u63a5\u901a\u4fe1\u3002</p> <p>\u8ba1\u7b97\u673a\u5206\u5c5e\u4e0d\u540c\u7684VLAN\uff0c\u4e5f\u5c31\u610f\u5473\u7740\u5206\u5c5e\u4e0d\u540c\u7684\u5e7f\u64ad\u57df\uff0c\u81ea\u7136\u6536\u4e0d\u5230\u5f7c\u6b64\u7684\u5e7f\u64ad\u62a5\u6587\u3002\u56e0\u6b64\uff0c\u5c5e\u4e8e\u4e0d\u540cVLAN\u7684\u8ba1\u7b97\u673a\u4e4b\u95f4\u65e0\u6cd5\u76f4\u63a5\u4e92\u76f8\u901a\u4fe1\u3002\u4e3a\u4e86\u80fd\u591f\u5728VLAN\u95f4\u901a\u4fe1\uff0c\u9700\u8981\u5229\u7528OSI\u53c2\u7167\u6a21\u578b\u4e2d\u66f4\u9ad8\u4e00\u5c42\u2014\u2014\u7f51\u7edc\u5c42\u7684\u4fe1\u606f\uff08IP\u5730\u5740\uff09\u6765\u8fdb\u884c\u8def\u7531\u3002\u5173\u4e8e\u8def\u7531\u7684\u5177\u4f53\u5185\u5bb9\uff0c\u4ee5\u540e\u6709\u673a\u4f1a\u518d\u8be6\u7ec6\u89e3\u8bf4\u5427\u3002</p> <p>\u8def\u7531\u529f\u80fd\uff0c\u4e00\u822c\u4e3b\u8981\u7531\u8def\u7531\u5668\u63d0\u4f9b\u3002\u4f46\u5728\u4eca\u5929\u7684\u5c40\u57df\u7f51\u91cc\uff0c\u6211\u4eec\u4e5f\u7ecf\u5e38\u5229\u7528\u5e26\u6709\u8def\u7531\u529f\u80fd\u7684\u4ea4\u6362\u673a\u2014\u2014\u4e09\u5c42\u4ea4\u6362\u673a\uff08Layer 3 Switch\uff09\u6765\u5b9e\u73b0\u3002\u63a5\u4e0b\u6765\u5c31\u8ba9\u6211\u4eec\u5206\u522b\u770b\u770b\u4f7f\u7528\u8def\u7531\u5668\u548c\u4e09\u5c42\u4ea4\u6362\u673a\u8fdb\u884cVLAN\u95f4\u8def\u7531\u65f6\u7684\u60c5\u51b5\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#62vlan","title":"6.2\u3001\u4f7f\u7528\u8def\u7531\u5668\u8fdb\u884cVLAN\u95f4\u8def\u7531","text":"<p>\u5728\u4f7f\u7528\u8def\u7531\u5668\u8fdb\u884cVLAN\u95f4\u8def\u7531\u65f6\uff0c\u4e0e\u6784\u5efa\u6a2a\u8de8\u591a\u53f0\u4ea4\u6362\u673a\u7684VLAN\u65f6\u7684\u60c5\u51b5\u7c7b\u4f3c\uff0c\u6211\u4eec\u8fd8\u662f\u4f1a\u9047\u5230\u201c\u8be5\u5982\u4f55\u8fde\u63a5\u8def\u7531\u5668\u4e0e\u4ea4\u6362\u673a\u201d\u8fd9\u4e2a\u95ee\u9898\u3002\u8def\u7531\u5668\u548c\u4ea4\u6362\u673a\u7684\u63a5\u7ebf\u65b9\u5f0f\uff0c\u5927\u81f4\u6709\u4ee5\u4e0b\u4e24\u79cd\uff1a</p> <p>\u25cf \u5c06\u8def\u7531\u5668\u4e0e\u4ea4\u6362\u673a\u4e0a\u7684\u6bcf\u4e2aVLAN\u5206\u522b\u8fde\u63a5</p> <p>\u25cf \u4e0d\u8bbaVLAN\u6709\u591a\u5c11\u4e2a\uff0c\u8def\u7531\u5668\u4e0e\u4ea4\u6362\u673a\u90fd\u53ea\u7528\u4e00\u6761\u7f51\u7ebf\u8fde\u63a5</p> <p>\u2460\u3001\u6700\u5bb9\u6613\u60f3\u5230\u7684\uff0c\u5f53\u7136\u8fd8\u662f\u201c\u628a\u8def\u7531\u5668\u548c\u4ea4\u6362\u673a\u4ee5VLAN\u4e3a\u5355\u4f4d\u5206\u522b\u7528\u7f51\u7ebf\u8fde\u63a5\u201d\u4e86\u3002\u5c06\u4ea4\u6362\u673a\u4e0a\u7528\u4e8e\u548c\u8def\u7531\u5668\u4e92\u8054\u7684\u6bcf\u4e2a\u7aef\u53e3\u8bbe\u4e3a\u8bbf\u95ee\u94fe\u63a5\uff0c\u7136\u540e\u5206\u522b\u7528\u7f51\u7ebf\u4e0e\u8def\u7531\u5668\u4e0a\u7684\u72ec\u7acb\u7aef\u53e3\u4e92\u8054\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u4ea4\u6362\u673a\u4e0a\u67092\u4e2aVLAN\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5728\u4ea4\u6362\u673a\u4e0a\u9884\u75592\u4e2a\u7aef\u53e3\u7528\u4e8e\u4e0e\u8def\u7531\u5668\u4e92\u8054\uff1b\u8def\u7531\u5668\u4e0a\u540c\u6837\u9700\u8981\u67092\u4e2a\u7aef\u53e3\uff1b\u4e24\u8005\u4e4b\u95f4\u75282\u6761\u7f51\u7ebf\u5206\u522b\u8fde\u63a5\u3002</p> <p></p> <p>\u5982\u679c\u91c7\u7528\u8fd9\u4e2a\u529e\u6cd5\uff0c\u5927\u5bb6\u5e94\u8be5\u4e0d\u96be\u60f3\u8c61\u5b83\u7684\u6269\u5c55\u6027\u5f88\u6210\u95ee\u9898\u3002\u6bcf\u589e\u52a0\u4e00\u4e2a\u65b0\u7684VLAN\uff0c\u90fd\u9700\u8981\u6d88\u8017\u8def\u7531\u5668\u7684\u7aef\u53e3\u548c\u4ea4\u6362\u673a\u4e0a\u7684\u8bbf\u95ee\u94fe\u63a5\uff0c\u800c\u4e14\u8fd8\u9700\u8981\u91cd\u65b0\u5e03\u8bbe\u4e00\u6761\u7f51\u7ebf\u3002\u800c\u8def\u7531\u5668\uff0c\u901a\u5e38\u4e0d\u4f1a\u5e26\u6709\u592a\u591aLAN\u63a5\u53e3\u7684\u3002\u65b0\u5efaVLAN\u65f6\uff0c\u4e3a\u4e86\u5bf9\u5e94\u589e\u52a0\u7684VLAN\u6240\u9700\u7684\u7aef\u53e3\uff0c\u5c31\u5fc5\u987b\u5c06\u8def\u7531\u5668\u5347\u7ea7\u6210\u5e26\u6709\u591a\u4e2aLAN\u63a5\u53e3\u7684\u9ad8\u7aef\u4ea7\u54c1\uff0c\u8fd9\u90e8\u5206\u6210\u672c\u3001\u8fd8\u6709\u91cd\u65b0\u5e03\u7ebf\u6240\u5e26\u6765\u7684\u5f00\u9500\uff0c\u90fd\u4f7f\u5f97\u8fd9\u79cd\u63a5\u7ebf\u6cd5\u6210\u4e3a\u4e00\u79cd\u4e0d\u53d7\u6b22\u8fce\u7684\u529e\u6cd5\u3002</p> <p>\u2461\u3001\u90a3\u4e48\uff0c\u7b2c\u4e8c\u79cd\u529e\u6cd5\u201c\u4e0d\u8bbaVLAN\u6570\u76ee\u591a\u5c11\uff0c\u90fd\u53ea\u7528\u4e00\u6761\u7f51\u7ebf\u8fde\u63a5\u8def\u7531\u5668\u4e0e\u4ea4\u6362\u673a\u201d\u5462\uff1f\u5f53\u4f7f\u7528\u4e00\u6761\u7f51\u7ebf\u8fde\u63a5\u8def\u7531\u5668\u4e0e\u4ea4\u6362\u673a\u3001\u8fdb\u884cVLAN\u95f4\u8def\u7531\u65f6\uff0c\u9700\u8981\u7528\u5230\u6c47\u805a\u94fe\u63a5\u3002</p> <p>\u5177\u4f53\u5b9e\u73b0\u8fc7\u7a0b\u4e3a\uff1a\u9996\u5148\u5c06\u7528\u4e8e\u8fde\u63a5\u8def\u7531\u5668\u7684\u4ea4\u6362\u673a\u7aef\u53e3\u8bbe\u4e3a\u6c47\u805a\u94fe\u63a5\uff0c\u800c\u8def\u7531\u5668\u4e0a\u7684\u7aef\u53e3\u4e5f\u5fc5\u987b\u652f\u6301\u6c47\u805a\u94fe\u8def\u3002\u53cc\u65b9\u7528\u4e8e\u6c47\u805a\u94fe\u8def\u7684\u534f\u8bae\u81ea\u7136\u4e5f\u5fc5\u987b\u76f8\u540c\u3002\u63a5\u7740\u5728\u8def\u7531\u5668\u4e0a\u5b9a\u4e49\u5bf9\u5e94\u5404\u4e2aVLAN\u7684\u201c\u5b50\u63a5\u53e3\uff08Sub Interface\uff09\u201d\u3002\u5c3d\u7ba1\u5b9e\u9645\u4e0e\u4ea4\u6362\u673a\u8fde\u63a5\u7684\u7269\u7406\u7aef\u53e3\u53ea\u6709\u4e00\u4e2a\uff0c\u4f46\u5728\u7406\u8bba\u4e0a\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u5206\u5272\u4e3a\u591a\u4e2a\u865a\u62df\u7aef\u53e3\u3002</p> <p></p> <p>VLAN\u5c06\u4ea4\u6362\u673a\u4ece\u903b\u8f91\u4e0a\u5206\u5272\u6210\u4e86\u591a\u53f0\uff0c\u56e0\u800c\u7528\u4e8eVLAN\u95f4\u8def\u7531\u7684\u8def\u7531\u5668\uff0c\u4e5f\u5fc5\u987b\u62e5\u6709\u5206\u522b\u5bf9\u5e94\u5404\u4e2aVLAN\u7684\u865a\u62df\u63a5\u53e3\u3002</p> <p>\u91c7\u7528\u8fd9\u79cd\u65b9\u6cd5\u7684\u8bdd\uff0c\u5373\u4f7f\u4e4b\u540e\u5728\u4ea4\u6362\u673a\u4e0a\u65b0\u5efaVLAN\uff0c\u4ecd\u53ea\u9700\u8981\u4e00\u6761\u7f51\u7ebf\u8fde\u63a5\u4ea4\u6362\u673a\u548c\u8def\u7531\u5668\u3002\u7528\u6237\u53ea\u9700\u8981\u5728\u8def\u7531\u5668\u4e0a\u65b0\u8bbe\u4e00\u4e2a\u5bf9\u5e94\u65b0VLAN\u7684\u5b50\u63a5\u53e3\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u4e0e\u524d\u9762\u7684\u65b9\u6cd5\u76f8\u6bd4\uff0c\u8fd9\u79cd\u65b9\u6cd5\u6269\u5c55\u6027\u8981\u5f3a\u5f97\u591a\uff0c\u4e5f\u4e0d\u7528\u62c5\u5fc3\u9700\u8981\u5347\u7ea7LAN\u63a5\u53e3\u6570\u4e0d\u8db3\u7684\u8def\u7531\u5668\u6216\u662f\u91cd\u65b0\u5e03\u7ebf\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#63vlan","title":"6.3\u3001\u540c\u4e00VLAN\u5185\u7684\u901a\u4fe1\u65f6\u6570\u636e\u7684\u6d41\u7a0b","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u7ee7\u7eed\u5b66\u4e60\u4f7f\u7528\u6c47\u805a\u94fe\u8def\u8fde\u63a5\u4ea4\u6362\u673a\u4e0e\u8def\u7531\u5668\u65f6\uff0cVLAN\u95f4\u8def\u7531\u662f\u5982\u4f55\u8fdb\u884c\u7684\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u4e3a\u5404\u53f0\u8ba1\u7b97\u673a\u4ee5\u53ca\u8def\u7531\u5668\u7684\u5b50\u63a5\u53e3\u8bbe\u5b9aIP\u5730\u5740\u3002</p> <p></p> <p>\u7ea2\u8272VLAN\uff08VLAN ID=1\uff09\u7684\u7f51\u7edc\u5730\u5740\u4e3a192.168.1.0/24\uff0c\u84dd\u8272VLAN\uff08VLAN ID=2\uff09\u7684\u7f51\u7edc\u5730\u5740\u4e3a192.168.2.0/24\u3002\u5404\u8ba1\u7b97\u673a\u7684MAC\u5730\u5740\u5206\u522b\u4e3aA/B/C/D\uff0c\u8def\u7531\u5668\u6c47\u805a\u94fe\u63a5\u7aef\u53e3\u7684MAC\u5730\u5740\u4e3aR\u3002\u4ea4\u6362\u673a\u901a\u8fc7\u5bf9\u5404\u7aef\u53e3\u6240\u8fde\u8ba1\u7b97\u673aMAC\u5730\u5740\u7684\u5b66\u4e60\uff0c\u751f\u6210\u5982\u4e0b\u7684MAC\u5730\u5740\u5217\u8868\u3002</p> \u7aef\u53e3 MAC\u5730\u5740 VLAN 1 A 1 2 B 1 3 C 2 4 D 2 5 \uff0d \uff0d 6 R \u6c47\u805a <p>\u9996\u5148\u8003\u8651\u8ba1\u7b97\u673aA\u4e0e\u540c\u4e00VLAN\u5185\u7684\u8ba1\u7b97\u673aB\u4e4b\u95f4\u901a\u4fe1\u65f6\u7684\u60c5\u5f62\u3002</p> <p>\uff081\uff09\u3001\u8ba1\u7b97\u673aA\u53d1\u51faARP\u8bf7\u6c42\u4fe1\u606f\uff0c\u8bf7\u6c42\u89e3\u6790B\u7684MAC\u5730\u5740\u3002</p> <p>\uff082\uff09\u3001\u4ea4\u6362\u673a\u6536\u5230\u6570\u636e\u5e27\u540e\uff0c\u68c0\u7d22MAC\u5730\u5740\u5217\u8868\u4e2d\u4e0e\u6536\u4fe1\u7aef\u53e3\u540c\u5c5e\u4e00\u4e2aVLAN\u7684\u8868\u9879\u3002</p> <p>\uff083\uff09\u3001\u7ed3\u679c\u53d1\u73b0\uff0c\u8ba1\u7b97\u673aB\u8fde\u63a5\u5728\u7aef\u53e32\u4e0a\uff0c\u4e8e\u662f\u4ea4\u6362\u673a\u5c06\u6570\u636e\u5e27\u8f6c\u53d1\u7ed9\u7aef\u53e32\uff0c\u6700\u7ec8\u8ba1\u7b97\u673aB\u6536\u5230\u8be5\u5e27\u3002</p> <p>\u6536\u53d1\u4fe1\u53cc\u65b9\u540c\u5c5e\u4e00\u4e2aVLAN\u4e4b\u5185\u7684\u901a\u4fe1\uff0c\u4e00\u5207\u5904\u7406\u5747\u5728\u4ea4\u6362\u673a\u5185\u5b8c\u6210\u3002</p> <p></p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#64vlan","title":"6.4\u3001\u4e0d\u540cVLAN\u95f4\u901a\u4fe1\u65f6\u6570\u636e\u7684\u6d41\u7a0b","text":"<p>\u63a5\u4e0b\u6765\u662f\u8fd9\u4e00\u8bb2\u7684\u6838\u5fc3\u5185\u5bb9\uff0c\u4e0d\u540cVLAN\u95f4\u7684\u901a\u4fe1\u3002\u8ba9\u6211\u4eec\u6765\u8003\u8651\u4e00\u4e0b\u8ba1\u7b97\u673aA\u4e0e\u8ba1\u7b97\u673aC\u4e4b\u95f4\u901a\u4fe1\u65f6\u7684\u60c5\u51b5\u3002</p> <p></p> <p>\uff081\uff09\u3001\u8ba1\u7b97\u673aA\u4ece\u901a\u4fe1\u76ee\u6807\u7684IP\u5730\u5740\uff08192.168.2.1\uff09\u5f97\u51faC\u4e0e\u672c\u673a\u4e0d\u5c5e\u4e8e\u540c\u4e00\u4e2a\u7f51\u6bb5\u3002\u56e0\u6b64\u4f1a\u5411\u8bbe\u5b9a\u7684\u9ed8\u8ba4\u7f51\u5173\uff08Default Gateway\uff0cGW\uff09\u8f6c\u53d1\u6570\u636e\u5e27\u3002\u5728\u53d1\u9001\u6570\u636e\u5e27\u4e4b\u524d\uff0c\u9700\u8981\u5148\u7528ARP\u83b7\u53d6\u8def\u7531\u5668\u7684MAC\u5730\u5740\u3002</p> <p>\uff082\uff09\u3001\u5f97\u5230\u8def\u7531\u5668\u7684MAC\u5730\u5740R\u540e\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u6309\u56fe\u4e2d\u6240\u793a\u7684\u6b65\u9aa4\u53d1\u9001\u5f80C\u53bb\u7684\u6570\u636e\u5e27\u3002\u2460\u7684\u6570\u636e\u5e27\u4e2d\uff0c\u76ee\u6807MAC\u5730\u5740\u662f\u8def\u7531\u5668\u7684\u5730\u5740R\u3001\u4f46\u5185\u542b\u7684\u76ee\u6807IP\u5730\u5740\u4ecd\u662f\u6700\u7ec8\u8981\u901a\u4fe1\u7684\u5bf9\u8c61C\u7684\u5730\u5740\u3002\u8fd9\u4e00\u90e8\u5206\u7684\u5185\u5bb9\uff0c\u6d89\u53ca\u5230\u5c40\u57df\u7f51\u5185\u7ecf\u8fc7\u8def\u7531\u5668\u8f6c\u53d1\u65f6\u7684\u901a\u4fe1\u6b65\u9aa4\uff0c\u6709\u673a\u4f1a\u518d\u8be6\u7ec6\u89e3\u8bf4\u5427\u3002</p> <p>\uff083\uff09\u3001\u4ea4\u6362\u673a\u5728\u7aef\u53e31\u4e0a\u6536\u5230\u2460\u7684\u6570\u636e\u5e27\u540e\uff0c\u68c0\u7d22MAC\u5730\u5740\u5217\u8868\u4e2d\u4e0e\u7aef\u53e31\u540c\u5c5e\u4e00\u4e2aVLAN\u7684\u8868\u9879\u3002\u7531\u4e8e\u6c47\u805a\u94fe\u8def\u4f1a\u88ab\u770b\u4f5c\u5c5e\u4e8e\u6240\u6709\u7684VLAN\uff0c\u56e0\u6b64\u8fd9\u65f6\u4ea4\u6362\u673a\u7684\u7aef\u53e36\u4e5f\u5c5e\u4e8e\u88ab\u53c2\u7167\u5bf9\u8c61\u3002\u8fd9\u6837\u4ea4\u6362\u673a\u5c31\u77e5\u9053\u5f80MAC\u5730\u5740R\u53d1\u9001\u6570\u636e\u5e27\uff0c\u9700\u8981\u7ecf\u8fc7\u7aef\u53e36\u8f6c\u53d1\u3002</p> <p>\u4ece\u7aef\u53e36\u53d1\u9001\u6570\u636e\u5e27\u65f6\uff0c\u7531\u4e8e\u5b83\u662f\u6c47\u805a\u94fe\u63a5\uff0c\u56e0\u6b64\u4f1a\u88ab\u9644\u52a0\u4e0aVLAN\u8bc6\u522b\u4fe1\u606f\u3002\u7531\u4e8e\u539f\u5148\u662f\u6765\u81ea\u7ea2\u8272VLAN\u7684\u6570\u636e\u5e27\uff0c\u56e0\u6b64\u5982\u56fe\u4e2d\u2461\u6240\u793a\uff0c\u4f1a\u88ab\u52a0\u4e0a\u7ea2\u8272VLAN\u7684\u8bc6\u522b\u4fe1\u606f\u540e\u8fdb\u5165\u6c47\u805a\u94fe\u8def\u3002</p> <p>\uff084\uff09\u3001\u8def\u7531\u5668\u6536\u5230\u2461\u7684\u6570\u636e\u5e27\u540e\uff0c\u786e\u8ba4\u5176VLAN\u8bc6\u522b\u4fe1\u606f\uff0c\u7531\u4e8e\u5b83\u662f\u5c5e\u4e8e\u7ea2\u8272VLAN\u7684\u6570\u636e\u5e27\uff0c\u56e0\u6b64\u4ea4\u7531\u8d1f\u8d23\u7ea2\u8272VLAN\u7684\u5b50\u63a5\u53e3\u63a5\u6536\u3002</p> <p>\u63a5\u7740\uff0c\u6839\u636e\u8def\u7531\u5668\u5185\u90e8\u7684\u8def\u7531\u8868\uff0c\u5224\u65ad\u8be5\u5411\u54ea\u91cc\u4e2d\u7ee7\u3002</p> <p>\u7531\u4e8e\u76ee\u6807\u7f51\u7edc192.168.2.0/24\u662f\u84dd\u8272VLAN\uff0c\u4e14\u8be5\u7f51\u7edc\u901a\u8fc7\u5b50\u63a5\u53e3\u4e0e\u8def\u7531\u5668\u76f4\u8fde\uff0c\u56e0\u6b64\u53ea\u8981\u4ece\u8d1f\u8d23\u84dd\u8272VLAN\u7684\u5b50\u63a5\u53e3\u8f6c\u53d1\u5c31\u53ef\u4ee5\u4e86\u3002\u8fd9\u65f6\uff0c\u6570\u636e\u5e27\u7684\u76ee\u6807MAC\u5730\u5740\u88ab\u6539\u5199\u6210\u8ba1\u7b97\u673aC\u7684\u76ee\u6807\u5730\u5740\uff1b\u5e76\u4e14\u7531\u4e8e\u9700\u8981\u7ecf\u8fc7\u6c47\u805a\u94fe\u8def\u8f6c\u53d1\uff0c\u56e0\u6b64\u88ab\u9644\u52a0\u4e86\u5c5e\u4e8e\u84dd\u8272VLAN\u7684\u8bc6\u522b\u4fe1\u606f\u3002\u8fd9\u5c31\u662f\u56fe\u4e2d\u2462\u7684\u6570\u636e\u5e27\u3002</p> <p>\uff085\uff09\u3001\u4ea4\u6362\u673a\u6536\u5230\u2462\u7684\u6570\u636e\u5e27\u540e\uff0c\u6839\u636eVLAN\u6807\u8bc6\u4fe1\u606f\u4eceMAC\u5730\u5740\u5217\u8868\u4e2d\u68c0\u7d22\u5c5e\u4e8e\u84dd\u8272VLAN\u7684\u8868\u9879\u3002\u7531\u4e8e\u901a\u4fe1\u76ee\u6807\u2014\u2014\u8ba1\u7b97\u673aC\u8fde\u63a5\u5728\u7aef\u53e33\u4e0a\u3001\u4e14\u7aef\u53e33\u4e3a\u666e\u901a\u7684\u8bbf\u95ee\u94fe\u63a5\uff0c\u56e0\u6b64\u4ea4\u6362\u673a\u4f1a\u5c06\u6570\u636e\u5e27\u9664\u53bbVLAN\u8bc6\u522b\u4fe1\u606f\u540e\uff08\u6570\u636e\u5e27\u2463\uff09\u8f6c\u53d1\u7ed9\u7aef\u53e33\uff0c\u6700\u7ec8\u8ba1\u7b97\u673aC\u624d\u80fd\u6210\u529f\u5730\u6536\u5230\u8fd9\u4e2a\u6570\u636e\u5e27\u3002</p> <p>\u8fdb\u884cVLAN\u95f4\u901a\u4fe1\u65f6\uff0c\u5373\u4f7f\u901a\u4fe1\u53cc\u65b9\u90fd\u8fde\u63a5\u5728\u540c\u4e00\u53f0\u4ea4\u6362\u673a\u4e0a\uff0c\u4e5f\u5fc5\u987b\u7ecf\u8fc7\uff1a\u201c\u53d1\u9001\u65b9\u2014\u2014\u4ea4\u6362\u673a\u2014\u2014\u8def\u7531\u5668\u2014\u2014\u4ea4\u6362\u673a\u2014\u2014\u63a5\u6536\u65b9\u201d\u8fd9\u6837\u4e00\u4e2a\u6d41\u7a0b\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#_1","title":"\u4e03\u3001\u4e09\u5c42\u4ea4\u6362\u673a","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#71vlan","title":"7.1\u3001\u4f7f\u7528\u8def\u7531\u5668\u8fdb\u884cVLAN\u95f4\u8def\u7531\u65f6\u7684\u95ee\u9898","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u77e5\u9053\u53ea\u8981\u80fd\u63d0\u4f9bVLAN\u95f4\u8def\u7531\uff0c\u5c31\u80fd\u591f\u4f7f\u5206\u5c5e\u4e0d\u540cVLAN\u7684\u8ba1\u7b97\u673a\u4e92\u76f8\u901a\u4fe1\u3002</p> <p>\u4f46\u662f\uff0c\u5982\u679c\u4f7f\u7528\u8def\u7531\u5668\u8fdb\u884cVLAN\u95f4\u8def\u7531\u7684\u8bdd\uff0c\u968f\u7740VLAN\u4e4b\u95f4\u6d41\u91cf\u7684\u4e0d\u65ad\u589e\u52a0\uff0c\u5f88\u53ef\u80fd\u5bfc\u81f4\u8def\u7531\u5668\u6210\u4e3a\u6574\u4e2a\u7f51\u7edc\u7684\u74f6\u9888\u3002</p> <p>\u4ea4\u6362\u673a\u4f7f\u7528\u88ab\u79f0\u4e3aASIC\uff08Application Specified Integrated Circuit\uff09\u7684\u4e13\u7528\u786c\u4ef6\u82af\u7247\u5904\u7406\u6570\u636e\u5e27\u7684\u4ea4\u6362\u64cd\u4f5c\uff0c\u5728\u5f88\u591a\u673a\u578b\u4e0a\u90fd\u80fd\u5b9e\u73b0\u4ee5\u7f06\u7ebf\u901f\u5ea6\uff08Wired Speed\uff09\u4ea4\u6362\u3002\u800c\u8def\u7531\u5668\uff0c\u5219\u57fa\u672c\u4e0a\u662f\u57fa\u4e8e\u8f6f\u4ef6\u5904\u7406\u7684\u3002</p> <p>\u5373\u4f7f\u4ee5\u7f06\u7ebf\u901f\u5ea6\u63a5\u6536\u5230\u6570\u636e\u5305\uff0c\u4e5f\u65e0\u6cd5\u5728\u4e0d\u9650\u901f\u7684\u6761\u4ef6\u4e0b\u8f6c\u53d1\u51fa\u53bb\uff0c\u56e0\u6b64\u4f1a\u6210\u4e3a\u901f\u5ea6\u74f6\u9888\u3002\u5c31VLAN\u95f4\u8def\u7531\u800c\u8a00\uff0c\u6d41\u91cf\u4f1a\u96c6\u4e2d\u5230\u8def\u7531\u5668\u548c\u4ea4\u6362\u673a\u4e92\u8054\u7684\u6c47\u805a\u94fe\u8def\u90e8\u5206\uff0c\u8fd9\u4e00\u90e8\u5206\u5c24\u5176\u7279\u522b\u5bb9\u6613\u6210\u4e3a\u901f\u5ea6\u74f6\u9888\u3002</p> <p>\u5e76\u4e14\u4ece\u786c\u4ef6\u4e0a\u770b\uff0c\u7531\u4e8e\u9700\u8981\u5206\u522b\u8bbe\u7f6e\u8def\u7531\u5668\u548c\u4ea4\u6362\u673a\uff0c\u5728\u4e00\u4e9b\u7a7a\u95f4\u72ed\u5c0f\u7684\u73af\u5883\u91cc\u53ef\u80fd\u8fde\u8bbe\u7f6e\u7684\u573a\u6240\u90fd\u6210\u95ee\u9898\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#72layer-3-switch","title":"7.2\u3001\u4e09\u5c42\u4ea4\u6362\u673a\uff08Layer 3 Switch\uff09","text":"<p>\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\uff0c\u4e09\u5c42\u4ea4\u6362\u673a\u5e94\u8fd0\u800c\u751f\u3002\u4e09\u5c42\u4ea4\u6362\u673a\uff0c\u672c\u8d28\u4e0a\u5c31\u662f\u201c\u5e26\u6709\u8def\u7531\u529f\u80fd\u7684\uff08\u4e8c\u5c42\uff09\u4ea4\u6362\u673a\u201d\u3002\u8def\u7531\u5c5e\u4e8eOSI\u53c2\u7167\u6a21\u578b\u4e2d\u7b2c\u4e09\u5c42\u7f51\u7edc\u5c42\u7684\u529f\u80fd\uff0c\u56e0\u6b64\u5e26\u6709\u7b2c\u4e09\u5c42\u8def\u7531\u529f\u80fd\u7684\u4ea4\u6362\u673a\u624d\u88ab\u79f0\u4e3a\u201c\u4e09\u5c42\u4ea4\u6362\u673a\u201d\u3002</p> <p>\u5173\u4e8e\u4e09\u5c42\u4ea4\u6362\u673a\u7684\u5185\u90e8\u7ed3\u6784\uff0c\u53ef\u4ee5\u53c2\u7167\u4e0b\u9762\u7684\u7b80\u56fe\u3002</p> <p></p> <p>\u5728\u4e00\u53f0\u672c\u4f53\u5185\uff0c\u5206\u522b\u8bbe\u7f6e\u4e86\u4ea4\u6362\u673a\u6a21\u5757\u548c\u8def\u7531\u5668\u6a21\u5757\uff1b\u800c\u5185\u7f6e\u7684\u8def\u7531\u6a21\u5757\u4e0e\u4ea4\u6362\u6a21\u5757\u76f8\u540c\uff0c\u4f7f\u7528ASIC\u786c\u4ef6\u5904\u7406\u8def\u7531\u3002\u56e0\u6b64\uff0c\u4e0e\u4f20\u7edf\u7684\u8def\u7531\u5668\u76f8\u6bd4\uff0c\u53ef\u4ee5\u5b9e\u73b0\u9ad8\u901f\u8def\u7531\u3002\u5e76\u4e14\uff0c\u8def\u7531\u4e0e\u4ea4\u6362\u6a21\u5757\u662f\u6c47\u805a\u94fe\u63a5\u7684\uff0c\u7531\u4e8e\u662f\u5185\u90e8\u8fde\u63a5\uff0c\u53ef\u4ee5\u786e\u4fdd\u76f8\u5f53\u5927\u7684\u5e26\u5bbd\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#73vlanvlan","title":"7.3\u3001\u4f7f\u7528\u4e09\u5c42\u4ea4\u6362\u673a\u8fdb\u884cVLAN\u95f4\u8def\u7531\uff08VLAN\u5185\u901a\u4fe1\uff09","text":"<p>\u5728\u4e09\u5c42\u4ea4\u6362\u673a\u5185\u90e8\u6570\u636e\u7a76\u7adf\u662f\u600e\u6837\u4f20\u64ad\u7684\u5462\uff1f\u57fa\u672c\u4e0a\uff0c\u5b83\u548c\u4f7f\u7528\u6c47\u805a\u94fe\u8def\u8fde\u63a5\u8def\u7531\u5668\u4e0e\u4ea4\u6362\u673a\u65f6\u7684\u60c5\u5f62\u76f8\u540c\u3002</p> <p>\u5047\u8bbe\u6709\u5982\u4e0b\u56fe\u6240\u793a\u76844\u53f0\u8ba1\u7b97\u673a\u4e0e\u4e09\u5c42\u4ea4\u6362\u673a\u4e92\u8054\u3002\u5f53\u4f7f\u7528\u8def\u7531\u5668\u8fde\u63a5\u65f6\uff0c\u4e00\u822c\u9700\u8981\u5728LAN\u63a5\u53e3\u4e0a\u8bbe\u7f6e\u5bf9\u5e94\u5404VLAN\u7684\u5b50\u63a5\u53e3\uff1b\u800c\u4e09\u5c42\u4ea4\u6362\u673a\u5219\u662f\u5728\u5185\u90e8\u751f\u6210\u201cVLAN\u63a5\u53e3\uff08VLAN Interface\uff09\u201d\u3002VLAN\u63a5\u53e3\uff0c\u662f\u7528\u4e8e\u5404VLAN\u6536\u53d1\u6570\u636e\u7684\u63a5\u53e3\u3002</p> <p>\u6ce8\uff1a\u5728Cisco\u7684Catalyst\u7cfb\u5217\u4ea4\u6362\u673a\u4e0a\uff0cVLAN Interface\u88ab\u79f0\u4e3aSVI\u2014\u2014Switched Virtual Interface</p> <p></p> <p>\u4e3a\u4e86\u4e0e\u4f7f\u7528\u8def\u7531\u5668\u8fdb\u884cVLAN\u95f4\u8def\u7531\u5bf9\u6bd4\uff0c\u8ba9\u6211\u4eec\u540c\u6837\u6765\u8003\u8651\u4e00\u4e0b\u8ba1\u7b97\u673aA\u4e0e\u8ba1\u7b97\u673aB\u4e4b\u95f4\u901a\u4fe1\u65f6\u7684\u60c5\u51b5\u3002\u9996\u5148\u662f\u76ee\u6807\u5730\u5740\u4e3aB\u7684\u6570\u636e\u5e27\u88ab\u53d1\u5230\u4ea4\u6362\u673a\uff1b\u901a\u8fc7\u68c0\u7d22\u540c\u4e00VLAN\u7684MAC\u5730\u5740\u5217\u8868\u53d1\u73b0\u8ba1\u7b97\u673aB\u8fde\u5728\u4ea4\u6362\u673a\u7684\u7aef\u53e32\u4e0a\uff1b\u56e0\u6b64\u5c06\u6570\u636e\u5e27\u8f6c\u53d1\u7ed9\u7aef\u53e32\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#74vlanvlan","title":"7.4\u3001\u4f7f\u7528\u4e09\u5c42\u4ea4\u6362\u673a\u8fdb\u884cVLAN\u95f4\u8def\u7531\uff08VLAN\u95f4\u901a\u4fe1\uff09","text":"<p>\u63a5\u4e0b\u6765\u8bbe\u60f3\u4e00\u4e0b\u8ba1\u7b97\u673aA\u4e0e\u8ba1\u7b97\u673aC\u95f4\u901a\u4fe1\u65f6\u7684\u60c5\u5f62\u3002\u9488\u5bf9\u76ee\u6807IP\u5730\u5740\uff0c\u8ba1\u7b97\u673aA\u53ef\u4ee5\u5224\u65ad\u51fa\u901a\u4fe1\u5bf9\u8c61\u4e0d\u5c5e\u4e8e\u540c\u4e00\u4e2a\u7f51\u7edc\uff0c\u56e0\u6b64\u5411\u9ed8\u8ba4\u7f51\u5173\u53d1\u9001\u6570\u636e\uff08Frame 1\uff09\u3002</p> <p>\u4ea4\u6362\u673a\u901a\u8fc7\u68c0\u7d22MAC\u5730\u5740\u5217\u8868\u540e\uff0c\u7ecf\u7531\u5185\u90e8\u6c47\u805a\u94fe\u63a5\uff0c\u5c06\u6570\u636e\u5e27\u8f6c\u53d1\u7ed9\u8def\u7531\u6a21\u5757\u3002\u5728\u901a\u8fc7\u5185\u90e8\u6c47\u805a\u94fe\u8def\u65f6\uff0c\u6570\u636e\u5e27\u88ab\u9644\u52a0\u4e86\u5c5e\u4e8e\u7ea2\u8272VLAN\u7684VLAN\u8bc6\u522b\u4fe1\u606f\uff08Frame 2\uff09\u3002</p> <p>\u8def\u7531\u6a21\u5757\u5728\u6536\u5230\u6570\u636e\u5e27\u65f6\uff0c\u5148\u7531\u6570\u636e\u5e27\u9644\u52a0\u7684VLAN\u8bc6\u522b\u4fe1\u606f\u5206\u8fa8\u51fa\u5b83\u5c5e\u4e8e\u7ea2\u8272VLAN\uff0c\u636e\u6b64\u5224\u65ad\u7531\u7ea2\u8272VLAN\u63a5\u53e3\u8d1f\u8d23\u63a5\u6536\u5e76\u8fdb\u884c\u8def\u7531\u5904\u7406\u3002\u56e0\u4e3a\u76ee\u6807\u7f51\u7edc192.168.2.0/24\u662f\u76f4\u8fde\u8def\u7531\u5668\u7684\u7f51\u7edc\u3001\u4e14\u5bf9\u5e94\u84dd\u8272VLAN\uff1b</p> <p>\u56e0\u6b64\uff0c\u63a5\u4e0b\u6765\u5c31\u4f1a\u4ece\u84dd\u8272VLAN\u63a5\u53e3\u7ecf\u7531\u5185\u90e8\u6c47\u805a\u94fe\u8def\u8f6c\u53d1\u56de\u4ea4\u6362\u6a21\u5757\u3002\u5728\u901a\u8fc7\u6c47\u805a\u94fe\u8def\u65f6\uff0c\u8fd9\u6b21\u6570\u636e\u5e27\u88ab\u9644\u52a0\u4e0a\u5c5e\u4e8e\u84dd\u8272VLAN\u7684\u8bc6\u522b\u4fe1\u606f\uff08Frame 3\uff09\u3002</p> <p>\u4ea4\u6362\u673a\u6536\u5230\u8fd9\u4e2a\u5e27\u540e\uff0c\u68c0\u7d22\u84dd\u8272VLAN\u7684MAC\u5730\u5740\u5217\u8868\uff0c\u786e\u8ba4\u9700\u8981\u5c06\u5b83\u8f6c\u53d1\u7ed9\u7aef\u53e33\u3002\u7531\u4e8e\u7aef\u53e33\u662f\u901a\u5e38\u7684\u8bbf\u95ee\u94fe\u63a5\uff0c\u56e0\u6b64\u8f6c\u53d1\u524d\u4f1a\u5148\u5c06VLAN\u8bc6\u522b\u4fe1\u606f\u9664\u53bb\uff08Frame 4\uff09\u3002\u6700\u7ec8\uff0c\u8ba1\u7b97\u673aC\u6210\u529f\u5730\u6536\u5230\u4ea4\u6362\u673a\u8f6c\u53d1\u6765\u7684\u6570\u636e\u5e27\u3002</p> <p></p> <p>\u6574\u4f53\u7684\u6d41\u7a0b\uff0c\u4e0e\u4f7f\u7528\u5916\u90e8\u8def\u7531\u5668\u65f6\u7684\u60c5\u51b5\u5341\u5206\u76f8\u4f3c\u2014\u2014\u90fd\u9700\u8981\u7ecf\u8fc7\u201c\u53d1\u9001\u65b9\u2192\u4ea4\u6362\u6a21\u5757\u2192\u8def\u7531\u6a21\u5757\u2192\u4ea4\u6362\u6a21\u5757\u2192\u63a5\u6536\u65b9\u201d\u8fd9\u6837\u7684\u6d41\u7a0b\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#vlan_5","title":"\u516b\u3001\u52a0\u901fVLAN\u95f4\u901a\u4fe1\u7684\u624b\u6bb5","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#81flow","title":"8.1\u3001\u6d41\uff08Flow\uff09","text":"<p>\u6839\u636e\u5230\u6b64\u4e3a\u6b62\u7684\u5b66\u4e60\uff0c\u6211\u4eec\u5df2\u7ecf\u77e5\u9053VLAN\u95f4\u8def\u7531\uff0c\u5fc5\u987b\u7ecf\u8fc7\u5916\u90e8\u7684\u8def\u7531\u5668\u6216\u662f\u4e09\u5c42\u4ea4\u6362\u673a\u7684\u5185\u7f6e\u8def\u7531\u6a21\u5757\u3002\u4f46\u662f\uff0c\u6709\u65f6\u5e76\u4e0d\u662f\u6240\u6709\u7684\u6570\u636e\u90fd\u9700\u8981\u7ecf\u8fc7\u8def\u7531\u5668\uff08\u6216\u8def\u7531\u6a21\u5757\uff09\u3002</p> <p>\u4f8b\u5982\uff0c\u4f7f\u7528FTP\uff08File Transfer Protocol\uff09\u4f20\u8f93\u5bb9\u91cf\u4e3a\u6570MB\u4ee5\u4e0a\u7684\u8f83\u5927\u7684\u6587\u4ef6\u65f6\uff0c\u7531\u4e8eMTU\u7684\u9650\u5236\uff0cIP\u534f\u8bae\u4f1a\u5c06\u6570\u636e\u5206\u5272\u6210\u5c0f\u5757\u540e\u4f20\u8f93\u3001\u5e76\u5728\u63a5\u6536\u65b9\u91cd\u65b0\u7ec4\u5408\u3002\u8fd9\u4e9b\u88ab\u5206\u5272\u7684\u6570\u636e\uff0c\u201c\u53d1\u9001\u7684\u76ee\u6807\u201d\u662f\u5b8c\u5168\u76f8\u540c\u7684\u3002\u53d1\u9001\u76ee\u6807\u76f8\u540c\uff0c\u4e5f\u5c31\u610f\u5473\u7740\u540c\u6837\u7684\u76ee\u6807IP\u5730\u5740\u3001\u76ee\u6807\u7aef\u53e3\u53f7\uff08\u6ce8\uff1a\u7279\u522b\u5f3a\u8c03\u4e00\u4e0b\uff0c\u8fd9\u91cc\u6307\u7684\u662fTCP/UDP\u7aef\u53e3\uff09\u3002\u81ea\u7136\uff0c\u6e90IP\u5730\u5740\u3001\u6e90\u7aef\u53e3\u53f7\u4e5f\u5e94\u8be5\u76f8\u540c\u3002\u8fd9\u6837\u4e00\u8fde\u4e32\u7684\u6570\u636e\u6d41\u88ab\u79f0\u4e3a\u201c\u6d41\uff08Flow\uff09\u201d\u3002</p> <p></p> <p>\u53ea\u8981\u5c06\u6d41\u6700\u521d\u7684\u6570\u636e\u6b63\u786e\u5730\u8def\u7531\u4ee5\u540e\uff0c\u540e\u7ee7\u7684\u6570\u636e\u7406\u5e94\u4e5f\u4f1a\u88ab\u540c\u6837\u5730\u8def\u7531\u3002</p> <p>\u636e\u6b64\uff0c\u540e\u7ee7\u7684\u6570\u636e\u4e0d\u518d\u9700\u8981\u8def\u7531\u5668\u8fdb\u884c\u8def\u7531\u5904\u7406\uff1b\u901a\u8fc7\u7701\u7565\u53cd\u590d\u8fdb\u884c\u7684\u8def\u7531\u64cd\u4f5c\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u63d0\u9ad8VLAN\u95f4\u8def\u7531\u7684\u901f\u5ea6\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#82vlan","title":"8.2\u3001\u52a0\u901fVLAN\u95f4\u8def\u7531\u7684\u673a\u5236","text":"<p>\u63a5\u4e0b\u6765\uff0c\u8ba9\u6211\u4eec\u5177\u4f53\u8003\u8651\u4e00\u4e0b\u8be5\u5982\u4f55\u4f7f\u7528\u4e09\u5c42\u4ea4\u6362\u673a\u8fdb\u884c\u9ad8\u901fVLAN\u95f4\u8def\u7531\u3002</p> <p>\u9996\u5148\uff0c\u6574\u4e2a\u6d41\u7684\u7b2c\u4e00\u5757\u6570\u636e\uff0c\u7167\u5e38\u7531\u4ea4\u6362\u673a\u8f6c\u53d1\u2192\u8def\u7531\u5668\u8def\u7531\u2192\u518d\u6b21\u7531\u4ea4\u6362\u673a\u8f6c\u53d1\u5230\u76ee\u6807\u6240\u8fde\u7aef\u53e3\u3002\u8fd9\u65f6\uff0c\u5c06\u7b2c\u4e00\u5757\u6570\u636e\u8def\u7531\u7684\u7ed3\u679c\u8bb0\u5f55\u5230\u7f13\u5b58\u91cc\u4fdd\u5b58\u4e0b\u6765\u3002\u9700\u8981\u8bb0\u5f55\u7684\u4fe1\u606f\u6709\uff1a</p> <p>\u25cf \u76ee\u6807IP\u5730\u5740</p> <p>\u25cf \u6e90IP\u5730\u5740</p> <p>\u25cf \u76ee\u6807TCP/UDP\u7aef\u53e3\u53f7</p> <p>\u25cf \u6e90TCP/UDP\u7aef\u53e3\u53f7</p> <p>\u25cf \u63a5\u6536\u7aef\u53e3\u53f7\uff08\u4ea4\u6362\u673a\uff09</p> <p>\u25cf \u8f6c\u53d1\u7aef\u53e3\u53f7\uff08\u4ea4\u6362\u673a\uff09</p> <p>\u25cf \u8f6c\u53d1\u76ee\u6807MAC\u5730\u5740</p> <p>...</p> <p>\u7b49\u7b49\u3002</p> <p>\u540c\u4e00\u4e2a\u6d41\u7684\u7b2c\u4e8c\u5757\u4ee5\u540e\u7684\u6570\u636e\u5230\u8fbe\u4ea4\u6362\u673a\u540e\uff0c\u76f4\u63a5\u901a\u8fc7\u67e5\u8be2\u5148\u524d\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\u7684\u4fe1\u606f\u67e5\u51fa\u201c\u8f6c\u53d1\u7aef\u53e3\u53f7\u201d\u540e\u5c31\u53ef\u4ee5\u8f6c\u53d1\u7ed9\u76ee\u6807\u6240\u8fde\u7aef\u53e3\u4e86\u3002</p> <p>\u8fd9\u6837\u4e00\u6765\uff0c\u5c31\u4e0d\u9700\u8981\u518d\u4e00\u6b21\u6b21\u7ecf\u7531\u5185\u90e8\u8def\u7531\u6a21\u5757\u4e2d\u7ee7\uff0c\u800c\u4ec5\u51ed\u4ea4\u6362\u673a\u5185\u90e8\u7684\u7f13\u5b58\u4fe1\u606f\u5c31\u8db3\u4ee5\u5224\u65ad\u5e94\u8be5\u8f6c\u53d1\u7684\u7aef\u53e3\u3002</p> <p>\u8fd9\u65f6\uff0c\u4ea4\u6362\u673a\u4f1a\u5bf9\u6570\u636e\u5e27\u8fdb\u884c\u7531\u8def\u7531\u5668\u4e2d\u7ee7\u65f6\u76f8\u4f3c\u7684\u5904\u7406\uff0c\u4f8b\u5982\u6539\u5199MAC\u5730\u5740\u3001IP\u5305\u5934\u4e2d\u7684TTL\u548cCheck Sum\u6821\u9a8c\u7801\u4fe1\u606f\u7b49\u3002</p> <p></p> <p>\u901a\u8fc7\u5728\u4ea4\u6362\u673a\u4e0a\u7f13\u5b58\u8def\u7531\u7ed3\u679c\uff0c\u5b9e\u73b0\u4e86\u4ee5\u7f06\u7ebf\u901f\u5ea6\uff08Wired Speed\uff09\u63a5\u6536\u53d1\u9001\u65b9\u4f20\u8f93\u6765\u6570\u636e\u7684\u6570\u636e\u3001\u5e76\u4e14\u80fd\u591f\u5168\u901f\u8def\u7531\u3001\u8f6c\u53d1\u7ed9\u63a5\u6536\u65b9\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7c7b\u4f3c\u7684\u52a0\u901fVLAN\u95f4\u8def\u7531\u7684\u624b\u6cd5\u591a\u7531\u5404\u5382\u5546\u72ec\u6709\u7684\u6280\u672f\u6240\u5b9e\u73b0\uff0c\u5e76\u4e14\u8be5\u529f\u80fd\u7684\u79f0\u8c13\u4e5f\u56e0\u5382\u5546\u800c\u5f02\u3002\u4f8b\u5982\uff0c\u5728Cisco\u7684Catalyst\u7cfb\u5217\u4ea4\u6362\u673a\u4e0a\uff0c\u8fd9\u79cd\u529f\u80fd\u88ab\u79f0\u4e3a\u201c\u591a\u5c42\u4ea4\u6362\uff08Multi Layer Switching\uff09\u201d\u3002</p> <p>\u53e6\u5916\uff0c\u9664\u4e86\u4e09\u5c42\u4ea4\u6362\u673a\u7684\u5185\u90e8\u8def\u7531\u6a21\u5757\uff0c\u5916\u90e8\u8def\u7531\u5668\u4e2d\u7684\u67d0\u4e9b\u673a\u578b\u4e5f\u652f\u6301\u7c7b\u4f3c\u7684\u9ad8\u901fVLAN\u95f4\u8def\u7531\u673a\u5236\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#_2","title":"\u4e5d\u3001\u4f20\u7edf\u578b\u8def\u7531\u5668\u5b58\u5728\u7684\u610f\u4e49","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#91","title":"9.1\u3001\u8def\u7531\u5668\u7684\u5fc5\u8981\u6027","text":"<p>\u4e09\u5c42\u4ea4\u6362\u673a\u7684\u4ef7\u683c\uff0c\u5728\u95ee\u4e16\u4e4b\u521d\u975e\u5e38\u6602\u8d35\uff0c\u4f46\u662f\u73b0\u5728\u5b83\u4eec\u7684\u4ef7\u683c\u5df2\u7ecf\u4e0b\u964d\u4e86\u8bb8\u591a\u3002\u76ee\u524d\u56fd\u5916\u4e00\u4e9b\u5ec9\u4ef7\u673a\u578b\u7684\u552e\u4ef7\uff0c\u6298\u5408\u6210\u4eba\u6c11\u5e01\u540e\u4ec5\u4e3a\u4e00\u4e07\u591a\u5143\uff0c\u800c\u4e14\u8fd8\u5728\u7ee7\u7eed\u4e0b\u964d\u4e2d\u3002</p> <p>\u65e2\u7136\u4e09\u5c42\u4ea4\u6362\u673a\u80fd\u591f\u63d0\u4f9b\u6bd4\u4f20\u7edf\u578b\u8def\u7531\u5668\u66f4\u4e3a\u9ad8\u901f\u7684\u8def\u7531\u5904\u7406\uff0c\u90a3\u4e48\u7f51\u7edc\u4e2d\u8fd8\u6709\u4f7f\u7528\u8def\u7531\u5668\u7684\u5fc5\u8981\u5417\uff1f</p> <p>\u7b54\u6848\u662f\uff1a\u201c\u662f\u201d\u3002</p> <p>\u4f7f\u7528\u8def\u7531\u5668\u7684\u5fc5\u8981\u6027\uff0c\u4e3b\u8981\u8868\u73b0\u5728\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a</p> <p>\u25a0 \u7528\u4e8e\u4e0eWAN\u8fde\u63a5</p> <p>\u4e09\u5c42\u4ea4\u6362\u673a\u7ec8\u7a76\u662f\u201c\u4ea4\u6362\u673a\u201d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u7edd\u5927\u591a\u6570\u673a\u578b\u53ea\u914d\u6709LAN\uff08\u4ee5\u592a\u7f51\uff09\u63a5\u53e3\u3002\u5728\u5c11\u6570\u9ad8\u7aef\u4ea4\u6362\u673a\u4e0a\u4e5f\u6709\u7528\u4e8e\u8fde\u63a5WAN\u7684\u4e32\u884c\u63a5\u53e3\u6216\u662fATM\u63a5\u53e3\uff0c\u4f46\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fde\u63a5WAN\u8fd8\u662f\u9700\u8981\u7528\u5230\u8def\u7531\u5668\u3002</p> <p>\u25a0 \u4fdd\u8bc1\u7f51\u7edc\u5b89\u5168</p> <p>\u5728\u4e09\u5c42\u4ea4\u6362\u673a\u4e0a\uff0c\u901a\u8fc7\u6570\u636e\u5305\u8fc7\u6ee4\u4e5f\u80fd\u786e\u4fdd\u4e00\u5b9a\u7a0b\u5ea6\u7684\u7f51\u7edc\u5b89\u5168\u3002\u4f46\u662f\u4f7f\u7528\u8def\u7531\u5668\u6240\u63d0\u4f9b\u7684\u5404\u79cd\u7f51\u7edc\u5b89\u5168\u529f\u80fd\uff0c\u7528\u6237\u53ef\u4ee5\u6784\u5efa\u66f4\u4e3a\u5b89\u5168\u53ef\u9760\u7684\u7f51\u7edc\u3002</p> <p>\u8def\u7531\u5668\u63d0\u4f9b\u7684\u7f51\u7edc\u5b89\u5168\u529f\u80fd\u4e2d\uff0c\u9664\u4e86\u6700\u57fa\u672c\u7684\u6570\u636e\u5305\u8fc7\u6ee4\u529f\u80fd\u5916\uff0c\u8fd8\u80fd\u57fa\u4e8eIPSec\u6784\u5efa\u00d7\u00d7\u00d7\uff08Virtual Private Network\uff09\u3001\u5229\u7528RADIUS\u8fdb\u884c\u7528\u6237\u8ba4\u8bc1\u7b49\u7b49\u3002</p> <p>\u25a0 \u652f\u6301\u9664TCP/IP\u4ee5\u5916\u7684\u7f51\u7edc\u67b6\u6784</p> <p>\u5c3d\u7ba1TCP/IP\u5df2\u7ecf\u6210\u4e3a\u5f53\u524d\u7f51\u7edc\u534f\u8bae\u67b6\u6784\u7684\u4e3b\u6d41\uff0c\u4f46\u8fd8\u6709\u4e0d\u5c11\u7f51\u7edc\u5229\u7528Novell Netware\u4e0b\u7684IPX/SPX\u6216Macintosh\u4e0b\u7684Appletalk\u7b49\u7f51\u7edc\u534f\u8bae\u3002\u4e09\u5c42\u4ea4\u6362\u673a\u4e2d\uff0c\u9664\u4e86\u90e8\u5206\u9ad8\u7aef\u673a\u578b\u5916\u57fa\u672c\u4e0a\u8fd8\u53ea\u652f\u6301TCP/IP\u3002\u56e0\u6b64\uff0c\u5728\u9700\u8981\u4f7f\u7528\u9664TCP/IP\u4e4b\u5916\u5176\u4ed6\u7f51\u7edc\u534f\u8bae\u7684\u73af\u5883\u4e0b\uff0c\u8def\u7531\u5668\u8fd8\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002</p> <p>\u6ce8\uff1a\u5728\u5c11\u6570\u9ad8\u7aef\u4ea4\u6362\u673a\u4e0a\uff0c\u4e5f\u80fd\u652f\u6301\u4e0a\u8ff0\u8def\u7531\u5668\u7684\u529f\u80fd\u3002\u4f8b\u5982Cisco\u7684Catalyst6500\u7cfb\u5217\uff0c\u5c31\u53ef\u4ee5\u9009\u62e9\u4e0eWAN\u8fde\u63a5\u7684\u63a5\u53e3\u6a21\u5757\uff1b\u8fd8\u6709\u53ef\u9009\u7684\u57fa\u4e8eIPSec\u5b9e\u73b0\u00d7\u00d7\u00d7\u7684\u6a21\u5757\uff1b\u5e76\u4e14\u4e5f\u80fd\u652f\u6301TCP/IP\u4ee5\u5916\u7684\u5176\u4ed6\u7f51\u7edc\u534f\u8bae\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#92lan","title":"9.2\u3001\u8def\u7531\u5668\u548c\u4ea4\u6362\u673a\u914d\u5408\u6784\u5efaLAN\u7684\u5b9e\u4f8b","text":"<p>\u4e0b\u9762\u8ba9\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u8def\u7531\u5668\u548c\u4ea4\u6362\u673a\u642d\u914d\u6784\u5efaLAN\u7684\u5b9e\u4f8b\u3002</p> <p></p> <p>\u5229\u7528\u5728\u5404\u697c\u5c42\u914d\u7f6e\u7684\u4e8c\u5c42\u4ea4\u6362\u673a\u5b9a\u4e49VLAN\uff0c\u8fde\u63a5TCP/IP\u5ba2\u6237\u8ba1\u7b97\u673a\u3002\u5404\u697c\u5c42\u95f4\u7684VLAN\u95f4\u901a\u4fe1\uff0c\u5229\u7528\u4e09\u5c42\u4ea4\u6362\u673a\u7684\u9ad8\u901f\u8def\u7531\u52a0\u4ee5\u5b9e\u73b0\u3002\u5982\u679c\u7f51\u7edc\u73af\u5883\u8981\u6c42\u9ad8\u53ef\u9760\u6027\uff0c\u8fd8\u53ef\u4ee5\u8003\u8651\u5197\u4f59\u914d\u7f6e\u4e09\u5c42\u4ea4\u6362\u673a\u3002</p> <p>\u4e0eWAN\u7684\u8fde\u63a5\uff0c\u5219\u901a\u8fc7\u5e26\u6709\u5404\u79cd\u7f51\u7edc\u63a5\u53e3\u7684\u8def\u7531\u5668\u8fdb\u884c\u3002\u5e76\u4e14\uff0c\u901a\u8fc7\u8def\u7531\u5668\u7684\u6570\u636e\u5305\u8fc7\u6ee4\u548c\u00d7\u00d7\u00d7\u7b49\u529f\u80fd\u5b9e\u73b0\u7f51\u7edc\u5b89\u5168\u3002\u6b64\u5916\uff0c\u4f7f\u7528\u8def\u7531\u5668\u8fd8\u80fd\u652f\u6301Novell Netware\u7b49TCP/IP\u4e4b\u5916\u7684\u7f51\u7edc\u3002</p> <p>\u53ea\u6709\u5728\u5145\u5206\u638c\u63e1\u4e86\u4e8c\u5c42\u3001\u4e09\u5c42\u4ea4\u6362\u673a\u4ee5\u53ca\u4f20\u7edf\u8def\u7531\u5668\u7684\u57fa\u7840\u4e0a\uff0c\u624d\u80fd\u505a\u5230\u7269\u7ade\u5176\u7528\uff0c\u6784\u7b51\u51fa\u9ad8\u6548\u7387\u3001\u9ad8\u6027\u4ef7\u6bd4\u7684\u7f51\u7edc\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#vlan_6","title":"\u5341\u3001\u4f7f\u7528VLAN\u8bbe\u8ba1\u5c40\u57df\u7f51","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#101vlan","title":"10.1\u3001\u4f7f\u7528VLAN\u8bbe\u8ba1\u5c40\u57df\u7f51\u7684\u7279\u70b9","text":"<p>\u901a\u8fc7\u4f7f\u7528VLAN\u6784\u5efa\u5c40\u57df\u7f51\uff0c\u7528\u6237\u80fd\u591f\u4e0d\u53d7\u7269\u7406\u94fe\u8def\u7684\u9650\u5236\u800c\u81ea\u7531\u5730\u5206\u5272\u5e7f\u64ad\u57df\u3002</p> <p>\u53e6\u5916\uff0c\u901a\u8fc7\u5148\u524d\u63d0\u5230\u7684\u8def\u7531\u5668\u4e0e\u4e09\u5c42\u4ea4\u6362\u673a\u63d0\u4f9b\u7684VLAN\u95f4\u8def\u7531\uff0c\u80fd\u591f\u9002\u5e94\u7075\u6d3b\u591a\u53d8\u7684\u7f51\u7edc\u6784\u6210\u3002</p> <p>\u4f46\u662f\uff0c\u7531\u4e8e\u5229\u7528VLAN\u5bb9\u6613\u5bfc\u81f4\u7f51\u7edc\u6784\u6210\u590d\u6742\u5316\uff0c\u56e0\u6b64\u4e5f\u4f1a\u9020\u6210\u6574\u4e2a\u7f51\u7edc\u7684\u7ec4\u6210\u96be\u4ee5\u628a\u63e1\u3002</p> <p>\u53ef\u4ee5\u8fd9\u6837\u8bf4\uff0c\u5728\u5229\u7528VLAN\u65f6\uff0c\u9664\u4e86\u6709\uff1a</p> <p>\u25cf\u7f51\u7edc\u6784\u6210\u7075\u6d3b\u591a\u53d8</p> <p>\u8fd9\u4e2a\u4f18\u70b9\u5916\uff0c\u8fd8\u642d\u914d\u7740\uff1a</p> <p>\u25cf\u7f51\u7edc\u6784\u6210\u590d\u6742\u5316</p> <p>\u8fd9\u4e2a\u7f3a\u70b9\u3002</p> <p>\u4e0b\u9762\uff0c\u5c31\u8ba9\u6211\u4eec\u6765\u770b\u770b\u5177\u4f53\u7684\u5b9e\u4f8b\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#102vlan","title":"10.2\u3001\u4e0d\u4f7f\u7528VLAN\u7684\u5c40\u57df\u7f51\u4e2d\u7f51\u7edc\u6784\u6210\u7684\u6539\u53d8","text":"<p>\u5047\u8bbe\u6709\u5982\u56fe\u6240\u793a\u7684\u75311\u53f0\u8def\u7531\u5668\u30012\u53f0\u4ea4\u6362\u673a\u6784\u6210\u7684\u201c\u4e0d\u4f7f\u7528VLAN\u6784\u5efa\u201d\u7684\u7f51\u7edc\u3002</p> <p></p> <p>\u56fe\u4e2d\u7684\u8def\u7531\u5668\uff0c\u5e26\u67092\u4e2aLAN\u63a5\u53e3\u3002\u5de6\u4fa7\u7684\u7f51\u7edc\u662f192.168.1.0/24\uff0c\u53f3\u4fa7\u662f192.168.2.0/24\u3002</p> <p>\u73b0\u5728\u5982\u679c\u60f3\u5c06192.168.1.0/24\u8fd9\u4e2a\u7f51\u7edc\u4e0a\u7684\u8ba1\u7b97\u673aA\u8f6c\u79fb\u5230192.168.2.0/24\u4e0a\u53bb\uff0c\u5c31\u9700\u8981\u6539\u53d8\u7269\u7406\u8fde\u63a5\u3001\u5c06A\u63a5\u5230\u53f3\u4fa7\u7684\u4ea4\u6362\u673a\u4e0a\u3002</p> <p>\u5e76\u4e14\uff0c\u5f53\u9700\u8981\u65b0\u589e\u4e00\u4e2a\u5730\u5740\u4e3a192.168.3.0/24\u7684\u7f51\u7edc\u65f6\uff0c\u8fd8\u8981\u5728\u8def\u7531\u5668\u4e0a\u518d\u5360\u7528\u4e00\u4e2aLAN\u63a5\u53e3\u5e76\u6dfb\u7f6e\u4e00\u53f0\u4ea4\u6362\u673a\u3002\u800c\u7531\u4e8e\u8fd9\u53f0\u8def\u7531\u5668\u4e0a\u53ea\u5e26\u4e862\u4e2aLAN\u63a5\u53e3\uff0c\u56e0\u6b64\u4e3a\u4e86\u65b0\u589e\u7f51\u7edc\u8fd8\u5fc5\u987b\u5c06\u8def\u7531\u5668\u5347\u7ea7\u4e3a\u5e26\u67093\u4e2a\u4ee5\u4e0aLAN\u63a5\u53e3\u7684\u4ea7\u54c1\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#103vlan","title":"10.3\u3001\u4f7f\u7528VLAN\u7684\u5c40\u57df\u7f51\u4e2d\u7f51\u7edc\u6784\u6210\u7684\u6539\u53d8","text":"<p>\u63a5\u4e0b\u6765\u518d\u5047\u8bbe\u6709\u4e00\u4e2a\u75311\u53f0\u8def\u7531\u5668\u30012\u53f0\u4ea4\u6362\u673a\u6784\u6210\u7684\u201c\u4f7f\u7528VLAN\u201d\u7684\u5c40\u57df\u7f51\u3002\u4ea4\u6362\u673a\u4e0e\u4ea4\u6362\u673a\u3001\u4ea4\u6362\u673a\u4e0e\u8def\u7531\u5668\u4e4b\u95f4\u5747\u4e3a\u6c47\u805a\u94fe\u8def\uff1b\u5e76\u4e14\u5047\u8bbe192.168.1.0/24\u5bf9\u5e94\u7ea2\u8272VLAN\u3001192.168.2.0/24\u5bf9\u5e94\u84dd\u8272VLAN\u3002</p> <p></p> <p>\u9700\u8981\u5c06\u8fde\u63a5\u5728\u4ea4\u6362\u673a1\u4e0a192.168.1.0/24\u8fd9\u4e2a\u7f51\u6bb5\u7684\u8ba1\u7b97\u673aA\u8f6c\u5c5e192.168.2.0/24\u65f6\uff0c\u65e0\u9700\u66f4\u6539\u7269\u7406\u5e03\u7ebf\u3002\u53ea\u8981\u5728\u4ea4\u6362\u673a\u4e0a\u751f\u6210\u84dd\u8272VLAN\uff0c\u7136\u540e\u5c06\u8ba1\u7b97\u673aA\u6240\u8fde\u7684\u7aef\u53e31\u52a0\u5165\u5230\u84dd\u8272VLAN\u4e2d\u53bb\uff0c\u4f7f\u5b83\u6210\u4e3a\u8bbf\u95ee\u94fe\u63a5\u5373\u53ef\u3002</p> <p>\u7136\u540e\uff0c\u6839\u636e\u9700\u8981\u8bbe\u5b9a\u8ba1\u7b97\u673aA\u7684IP\u5730\u5740\u3001\u9ed8\u8ba4\u7f51\u5173\u7b49\u4fe1\u606f\u5c31\u53ef\u4ee5\u4e86\u3002\u5982\u679cIP\u5730\u5740\u76f8\u5173\u7684\u8bbe\u5b9a\u662f\u7531DHCP\u83b7\u53d6\u7684\uff0c\u90a3\u4e48\u5728\u5ba2\u6237\u673a\u65b9\u9762\u65e0\u9700\u8fdb\u884c\u4efb\u4f55\u8bbe\u5b9a\u4fee\u6539\uff0c\u5c31\u53ef\u4ee5\u5728\u4e0d\u540c\u7f51\u6bb5\u95f4\u79fb\u52a8\u3002</p> <p>\u5229\u7528VLAN\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u514d\u4e8e\u6539\u52a8\u4efb\u4f55\u7269\u7406\u5e03\u7ebf\u7684\u524d\u63d0\u4e0b\uff0c\u81ea\u7531\u8fdb\u884c\u7f51\u7edc\u7684\u903b\u8f91\u8bbe\u8ba1\u3002\u5982\u679c\u6240\u5904\u7684\u5de5\u4f5c\u73af\u5883\u6070\u6070\u9700\u8981\u7ecf\u5e38\u6539\u53d8\u7f51\u7edc\u5e03\u5c40\uff0c\u90a3\u4e48\u5229\u7528VLAN\u7684\u4f18\u52bf\u5c31\u975e\u5e38\u660e\u663e\u4e86\u3002</p> <p>\u5e76\u4e14\uff0c\u5f53\u9700\u8981\u65b0\u589e\u4e00\u4e2a\u5730\u5740\u4e3a192.168.3.0/24\u7684\u7f51\u6bb5\u65f6\uff0c\u4e5f\u53ea\u9700\u8981\u5728\u4ea4\u6362\u673a\u4e0a\u65b0\u5efa\u4e00\u4e2a\u5bf9\u5e94192.168.3.0/24\u7684VLAN\uff0c\u5e76\u5c06\u6240\u9700\u7684\u7aef\u53e3\u52a0\u5165\u5b83\u7684\u8bbf\u95ee\u94fe\u8def\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u5982\u679c\u7f51\u7edc\u73af\u5883\u4e2d\u8fd8\u9700\u8981\u5229\u7528\u5916\u90e8\u8def\u7531\u5668\uff0c\u5219\u53ea\u8981\u5728\u8def\u7531\u5668\u7684\u6c47\u805a\u7aef\u53e3\u4e0a\u65b0\u589e\u4e00\u4e2a\u5b50\u63a5\u53e3\u7684\u8bbe\u5b9a\u5c31\u53ef\u4ee5\u5b8c\u6210\u5168\u90e8\u64cd\u4f5c\uff0c\u800c\u4e0d\u9700\u8981\u6d88\u8017\u66f4\u591a\u7684\u7269\u7406\u63a5\u53e3\uff08LAN\u63a5\u53e3\uff09\u3002\u8981\u4f7f\u7528\u7684\u662f\u4e09\u5c42\u4ea4\u6362\u673a\u5185\u90e8\u7684\u8def\u7531\u6a21\u5757\uff0c\u5219\u53ea\u9700\u8981\u65b0\u8bbe\u4e00\u4e2aVLAN\u63a5\u53e3\u5373\u53ef\u3002</p> <p>\u7f51\u7edc\u73af\u5883\u7684\u6210\u957f\uff0c\u5f80\u5f80\u662f\u96be\u4ee5\u9884\u6d4b\u7684\uff0c\u5f88\u53ef\u80fd\u7ecf\u5e38\u4f1a\u51fa\u73b0\u9700\u8981\u5206\u5272\u73b0\u6709\u7f51\u7edc\u6216\u662f\u589e\u52a0\u65b0\u7f51\u7edc\u7684\u60c5\u51b5\u3002\u800c\u5145\u5206\u6d3b\u7528VLAN\u540e\uff0c\u5c31\u53ef\u4ee5\u8f7b\u6613\u5730\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002</p> <p>10.4\u3001\u5229\u7528VLAN\u800c\u5bfc\u81f4\u7684\u7f51\u7edc\u7ed3\u6784\u590d\u6742\u5316</p> <p>\u867d\u7136\u5229\u7528VLAN\u53ef\u4ee5\u7075\u6d3b\u5730\u6784\u5efa\u7f51\u7edc\uff0c\u4f46\u662f\u540c\u65f6\uff0c\u5b83\u4e5f\u5e26\u6765\u4e86\u7f51\u7edc\u7ed3\u6784\u590d\u6742\u5316\u7684\u95ee\u9898\u3002</p> <p>\u7279\u522b\u662f\u7531\u4e8e\u6570\u636e\u6d41\u7eb5\u6a2a\u4ea4\u9519\uff0c\u4e00\u65e6\u53d1\u751f\u6545\u969c\u65f6\uff0c\u51c6\u786e\u5b9a\u4f4d\u5e76\u6392\u9664\u6545\u969c\u4f1a\u6bd4\u8f83\u56f0\u96be\u3002</p> <p>\u4e3a\u4e86\u4fbf\u4e8e\u7406\u89e3\u6570\u636e\u6d41\u5411\u7684\u590d\u6742\u5316\uff0c\u5047\u8bbe\u6709\u4e0b\u56fe\u6240\u793a\u7684\u7f51\u7edc\u3002\u8ba1\u7b97\u673aA\u5411\u8ba1\u7b97\u673aC\u53d1\u9001\u6570\u636e\u65f6\uff0c\u6570\u636e\u6d41\u7684\u6574\u4f53\u8d70\u5411\u5982\u4e0b\uff1a</p> <p>\u8ba1\u7b97\u673aA\u2192\u4ea4\u6362\u673a1\u2192\u8def\u7531\u5668\u2192\u4ea4\u6362\u673a1\u2192\u4ea4\u6362\u673a2\u2192\u8ba1\u7b97\u673aC</p> <p></p> <p>\uff081\uff09\u3001\u9996\u5148\u8ba1\u7b97\u673aA\u5411\u4ea4\u6362\u673a1\u9001\u51fa\u6570\u636e\uff08\u2460\uff09</p> <p>\uff082\uff09\u3001\u5176\u540e\u6570\u636e\u88ab\u8f6c\u53d1\u7ed9\u8def\u7531\u5668\uff08\u2461\uff09\u8fdb\u884cVLAN\u95f4\u8def\u7531\u3002</p> <p>\uff083\uff09\u3001\u8def\u7531\u540e\u7684\u6570\u636e\uff0c\u518d\u4ece\u6c47\u805a\u94fe\u8def\u8fd4\u56de\u4ea4\u6362\u673a1\uff08\u2462\uff09\u3002</p> <p>\uff084\uff09\u3001\u7531\u4e8e\u901a\u4fe1\u76ee\u6807\u8ba1\u7b97\u673aC\u5e76\u4e0d\u76f4\u8fde\u5728\u4ea4\u6362\u673a1\u4e0a\uff0c\u56e0\u6b64\u8fd8\u9700\u8981\u7ecf\u8fc7\u6c47\u805a\u94fe\u8def\u8f6c\u53d1\u5230\u4ea4\u6362\u673a2\uff08\u2463\uff09\u3002</p> <p>\uff085\uff09\u3001\u5728\u4ea4\u6362\u673a2\u4e0a\uff0c\u6570\u636e\u6700\u7ec8\u88ab\u8f6c\u53d1\u5230C\u6240\u8fde\u7684\u7aef\u53e32\u4e0a\uff0c\u8fd9\u624d\u5b8c\u6210\u6574\u4e2a\u6d41\u7a0b\uff08\u2464\uff09\u3002</p> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u4ec5\u75312\u53f0\u4ea4\u6362\u673a\u6784\u6210\u7f51\u7edc\uff0c\u5176\u6570\u636e\u6d41\u5df2\u7ecf\u5982\u6b64\u590d\u6742\uff0c\u5982\u679c\u6784\u5efa\u6a2a\u8de8\u591a\u53f0\u4ea4\u6362\u673a\u7684VLAN\u7684\u8bdd\uff0c\u6bcf\u4e2a\u6570\u636e\u6d41\u7684\u6d41\u5411\u663e\u7136\u4f1a\u66f4\u52a0\u96be\u4ee5\u628a\u63e1\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#105","title":"10.5\u3001\u7f51\u7edc\u7684\u903b\u8f91\u7ed3\u6784\u4e0e\u7269\u7406\u7ed3\u6784","text":"<p>\u4e3a\u4e86\u5bf9\u5e94\u65e5\u6e10\u590d\u6742\u5316\u7684\u6570\u636e\u6d41\uff0c\u7ba1\u7406\u5458\u9700\u8981\u4ece\u201c\u903b\u8f91\u7ed3\u6784\u201d\u4e0e\u201c\u7269\u7406\u7ed3\u6784\u201d\u4e24\u65b9\u9762\u5165\u624b\uff0c\u628a\u63e1\u597d\u7f51\u7edc\u7684\u73b0\u72b6\u3002</p> <p>\u7269\u7406\u7ed3\u6784\uff0c\u6307\u7684\u662f\u4ece\u7269\u7406\u5c42\u548c\u6570\u636e\u94fe\u8def\u5c42\u89c2\u5bdf\u5230\u7684\u7f51\u7edc\u7684\u73b0\u72b6\uff0c\u8868\u793a\u4e86\u7f51\u7edc\u7684\u7269\u7406\u5e03\u7ebf\u5f62\u6001\u548cVLAN\u7684\u8bbe\u5b9a\u7b49\u7b49\u3002</p> <p>\u800c\u903b\u8f91\u7ed3\u6784\uff0c\u5219\u8868\u793a\u4ece\u7f51\u7edc\u5c42\u4ee5\u4e0a\u7684\u5c42\u9762\u89c2\u5bdf\u5230\u7684\u7f51\u7edc\u7ed3\u6784\u3002\u4e0b\u9762\u6211\u4eec\u5c31\u8bd5\u7740\u4ee5\u8def\u7531\u5668\u4e3a\u4e2d\u5fc3\u5206\u6790\u4e00\u4e2aIP\u7f51\u7edc\u7684\u903b\u8f91\u7ed3\u6784\u3002</p> <p>\u8fd8\u662f\u5148\u524d\u7684\u90a3\u4e2a\u4f8b\u5b50\uff0c\u63cf\u7ed8\u4e86\u5e03\u7ebf\u5f62\u6001\u548cVLAN\u8bbe\u5b9a\u7684\u201c\u7269\u7406\u7ed3\u6784\u201d\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u5206\u6790\u8fd9\u4e2a\u7269\u7406\u7ed3\u6784\u5e76\u8f6c\u6362\u6210\u4ee5\u8def\u7531\u5668\u4e3a\u4e2d\u5fc3\u7684\u903b\u8f91\u7ed3\u6784\u540e\uff0c\u4f1a\u5f97\u5230\u5982\u4e0b\u7684\u903b\u8f91\u7ed3\u6784\u56fe\u3002\u5f53\u6211\u4eec\u9700\u8981\u8fdb\u884c\u8def\u7531\u6216\u662f\u6570\u636e\u5305\u8fc7\u6ee4\u7684\u8bbe\u5b9a\u65f6\uff0c\u90fd\u5fc5\u987b\u5728\u903b\u8f91\u7ed3\u6784\u7684\u57fa\u7840\u4e0a\u8fdb\u884c\u3002</p> <p></p> <p>\u628a\u63e1\u8fd9\u4e24\u79cd\u7f51\u7edc\u7ed3\u6784\u56fe\u7684\u533a\u522b\u662f\u5341\u5206\u91cd\u8981\u7684\uff0c\u7279\u522b\u662f\u5728VLAN\u548c\u4e09\u5c42\u4ea4\u6362\u673a\u5927\u884c\u5176\u9053\u7684\u73b0\u4ee3\u4f01\u4e1a\u7ea7\u7f51\u7edc\u5f53\u4e2d\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/switch/%E4%BB%80%E4%B9%88%E6%98%AFvlan/#_3","title":"\u53c2\u8003","text":"<ul> <li>https://blog.51cto.com/u_6930123/2115373</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/systemd-resolved/systemd-resolved%E4%BB%8B%E7%BB%8D/","title":"Systemd resolved\u4ecb\u7ecd","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/systemd-resolved/systemd-resolved%E4%BB%8B%E7%BB%8D/#systemd-resolved","title":"\u4e00\u3001<code>systemd-resolved</code> \u662f\u4ec0\u4e48","text":"<p><code>systemd-resolved</code> \u662f systemd \u63d0\u4f9b\u7684\u672c\u5730 DNS \u89e3\u6790\u5b88\u62a4\u8fdb\u7a0b\uff0c\u7528\u4e8e\u7ba1\u7406 DNS\u3001DNSSEC\u3001LLMNR\u3001MulticastDNS \u7b49\u89e3\u6790\u529f\u80fd\u3002\u5b83\u7684\u6838\u5fc3\u7279\u70b9\uff1a</p> <ol> <li> <p>Stub Resolver \u6a21\u5f0f</p> <ul> <li> <p>\u672c\u5730\u76d1\u542c 127.0.0.53 \u7aef\u53e3 \uff0c\u5373\u672c\u5730\u768453\u7aef\u53e3\uff08stub resolver\uff09</p> </li> <li> <p>\u6240\u6709\u7cfb\u7edf DNS \u67e5\u8be2\u90fd\u5148\u5230 127.0.0.53\uff0c\u518d\u7531 <code>systemd-resolved</code> \u8f6c\u53d1\u5230\u4e0a\u6e38 DNS</p> </li> </ul> </li> <li> <p>\u652f\u6301\u591a\u4e2a\u7f51\u7edc\u63a5\u53e3 DNS</p> <ul> <li> <p>\u4e0d\u540c\u63a5\u53e3\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c DNS</p> </li> <li> <p>\u652f\u6301\u5168\u5c40 DNS\u3001\u63a5\u53e3 DNS \u4f18\u5148\u7ea7\u3001Fallback DNS</p> </li> </ul> </li> <li> <p>\u96c6\u6210 DNSSEC \u548c\u7f13\u5b58</p> <ul> <li> <p>\u652f\u6301 DNSSEC \u9a8c\u8bc1</p> </li> <li> <p>\u7f13\u5b58\u8d1f\u8f7d\u548c\u89e3\u6790\u7ed3\u679c\uff0c\u63d0\u9ad8\u89e3\u6790\u6548\u7387</p> </li> </ul> </li> <li> <p>\u517c\u5bb9\u73b0\u6709\u5e94\u7528</p> <ul> <li> <p>Linux \u4e0a <code>/etc/resolv.conf</code> \u9ed8\u8ba4\u6307\u5411 stub resolver</p> </li> <li> <p>\u4f20\u7edf\u5e94\u7528\u65e0\u9700\u4fee\u6539\u5373\u53ef\u4f7f\u7528</p> </li> </ul> </li> </ol>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/systemd-resolved/systemd-resolved%E4%BB%8B%E7%BB%8D/#_1","title":"\u4e8c\u3001\u4e3b\u8981\u914d\u7f6e\u6587\u4ef6","text":"<ol> <li> <p>\u5168\u5c40\u914d\u7f6e\uff08\u53ef\u4fee\u6539\uff09</p> <p><code>/etc/systemd/resolved.conf</code></p> <p>\u793a\u4f8b\uff1a</p> </li> </ol> <pre><code>[Resolve]\nDNS=8.8.8.8 1.1.1.1\nFallbackDNS=223.5.5.5\nDomains=example.com\nDNSSEC=no\nDNSOverTLS=no\n</code></pre> <ol> <li>\u9ed8\u8ba4\u914d\u7f6e\uff08\u7f16\u8bd1\u81ea\u5e26\uff0c\u4e0d\u5efa\u8bae\u4fee\u6539\uff09</li> </ol> <pre><code>/usr/lib/systemd/resolved.conf\n</code></pre> <ol> <li>drop-in \u914d\u7f6e\uff08\u8986\u76d6\u5168\u5c40\u914d\u7f6e\uff0c\u53ef\u5355\u72ec\u8bbe\u7f6e\u67d0\u4e9b\u53c2\u6570\uff09</li> </ol> <pre><code>/etc/systemd/resolved.conf.d/*.conf\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/systemd-resolved/systemd-resolved%E4%BB%8B%E7%BB%8D/#_2","title":"\u4e09\u3001\u5e38\u7528\u547d\u4ee4","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/systemd-resolved/systemd-resolved%E4%BB%8B%E7%BB%8D/#1","title":"1. \u67e5\u770b\u670d\u52a1\u72b6\u6001","text":"<pre><code>systemctl status systemd-resolved\n</code></pre> <p>\u8f93\u51fa\u793a\u4f8b\uff1a</p> <pre><code>Active: active (running)\nMain PID: 123 (systemd-resolve)\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/systemd-resolved/systemd-resolved%E4%BB%8B%E7%BB%8D/#2-dns","title":"2. \u67e5\u770b DNS \u914d\u7f6e","text":"<pre><code>resolvectl status\n</code></pre> <p>\u793a\u4f8b\u8f93\u51fa\uff1a</p> <pre><code>Global\n       DNS Servers: 8.8.8.8\n        DNSSEC: no\nLink 2 (eth0)\n       Current Scopes: DNS\n       LLMNR setting: yes\n       MulticastDNS setting: no\n       DNS Servers: 8.8.8.8\n</code></pre> <ul> <li> <p>Global DNS Servers \u2192 \u5168\u5c40\u4e0a\u6e38 DNS</p> </li> <li> <p>Link N (\u63a5\u53e3\u540d) \u2192 \u6307\u5b9a\u63a5\u53e3 DNS</p> </li> <li> <p>Current Scopes \u2192 \u5f53\u524d\u4f5c\u7528\u57df</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/systemd-resolved/systemd-resolved%E4%BB%8B%E7%BB%8D/#3-dns","title":"3. \u67e5\u8be2 DNS \u4fe1\u606f","text":"<pre><code>resolvectl query www.google.com\nresolvectl query www.baidu.com A\nresolvectl query www.example.com AAAA\n</code></pre> <ul> <li>\u53ef\u4ee5\u76f4\u63a5\u6307\u5b9a\u4e0a\u6e38 DNS\uff1a</li> </ul> <pre><code>resolvectl query www.google.com @8.8.8.8\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/systemd-resolved/systemd-resolved%E4%BB%8B%E7%BB%8D/#4","title":"4. \u542f\u52a8 / \u505c\u6b62 / \u91cd\u542f\u670d\u52a1","text":"<pre><code>sudo systemctl start systemd-resolved\nsudo systemctl stop systemd-resolved\nsudo systemctl restart systemd-resolved\nsudo systemctl enable systemd-resolved\nsudo systemctl disable systemd-resolved\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/systemd-resolved/systemd-resolved%E4%BB%8B%E7%BB%8D/#5-dns","title":"5. \u4e34\u65f6\u4fee\u6539\u63a5\u53e3 DNS","text":"<pre><code>resolvectl dns eth0 8.8.8.8 1.1.1.1\nresolvectl domain eth0 \"~example.com\"\n</code></pre> <ul> <li><code>~example.com</code> \u2192 \u6307\u5b9a\u63a5\u53e3\u5904\u7406\u7279\u5b9a\u57df\u540d</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/systemd-resolved/systemd-resolved%E4%BB%8B%E7%BB%8D/#6","title":"6. \u6e05\u7406\u7f13\u5b58","text":"<pre><code>sudo resolvectl flush-caches\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/systemd-resolved/systemd-resolved%E4%BB%8B%E7%BB%8D/#7","title":"7. \u68c0\u67e5\u7cfb\u7edf\u5f53\u524d\u89e3\u6790","text":"<pre><code>resolvectl status\ndig @127.0.0.53 www.google.com\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/systemd-resolved/systemd-resolved%E4%BB%8B%E7%BB%8D/#_3","title":"\u56db\u3001\u5e38\u89c1\u95ee\u9898\u4e0e\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li> <p>127.0.0.53 \u662f\u6b63\u5e38\u7684 stub resolver\uff0c\u4e0d\u8981\u76f4\u63a5\u4fee\u6539 <code>/etc/resolv.conf</code>\uff0c\u6539 <code>/etc/systemd/resolved.conf</code> \u6216 drop-in \u6587\u4ef6\u3002</p> </li> <li> <p>\u5982\u679c DNS \u89e3\u6790\u5931\u8d25\uff1a</p> <ul> <li> <p>\u68c0\u67e5 <code>systemctl status systemd-resolved</code> \u662f\u5426 running</p> </li> <li> <p>\u68c0\u67e5\u4e0a\u6e38 DNS \u662f\u5426\u53ef\u8fbe (<code>dig @8.8.8.8 www.google.com</code>)</p> </li> </ul> </li> <li> <p><code>resolvectl</code> \u662f <code>systemd-resolved</code> \u7684\u5b98\u65b9\u5de5\u5177\uff0c\u7528\u4e8e\u67e5\u770b\u3001\u67e5\u8be2\u3001\u4fee\u6539 DNS\uff0c\u4e0d\u8981\u7528 <code>nslookup</code> \u6216 <code>dig</code> \u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u3002</p> </li> <li> <p>\u5982\u679c\u8981\u5f7b\u5e95\u5173\u95ed systemd-resolved \u5e76\u81ea\u5df1\u7ba1\u7406 <code>/etc/resolv.conf</code>\uff0c\u5fc5\u987b\uff1a</p> <p><code>bash sudo systemctl disable --now systemd-resolved sudo rm /etc/resolv.conf sudo tee /etc/resolv.conf &lt;&lt;EOF nameserver 8.8.8.8 nameserver 1.1.1.1 EOF</code></p> </li> </ol>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/centos/000-network%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"000 network\u5e38\u7528\u547d\u4ee4","text":"<p>\u67e5\u770b\u547d\u4ee4\u7684\u5e2e\u52a9: </p> <pre><code># /etc/init.d/network -h\nWARN      : [network] You are using 'network' service provided by 'network-scripts', which are now deprecated.\nWARN      : [network] 'network-scripts' will be removed in one of the next major releases of RHEL.\nWARN      : [network] It is advised to switch to 'NetworkManager' instead for network management.\nUsage: /etc/init.d/network {start|stop|status|restart|force-reload}\n</code></pre> <p><code>/etc/init.d/network</code> \u662f\u7528\u4e8e\u7ba1\u7406\u7f51\u7edc\u670d\u52a1\u7684\u811a\u672c\uff0c\u901a\u5e38\u7528\u4e8e\u57fa\u4e8e SysVinit \u7684 Linux \u7cfb\u7edf\uff08\u5982\u65e9\u671f\u7684 CentOS \u548c RHEL \u7248\u672c\uff09\u3002\u5728\u8f83\u65b0\u7248\u672c\u7684 Linux \u4e2d\uff0c\u53ef\u80fd\u4f7f\u7528 <code>systemctl</code> \u7ba1\u7406\u7f51\u7edc\u670d\u52a1\uff0c\u4f46\u5982\u679c\u4f60\u4f7f\u7528 <code>/etc/init.d/network</code>\uff0c\u5e38\u89c1\u7684\u547d\u4ee4\u5305\u62ec\uff1a</p> <ol> <li> <p>\u542f\u52a8\u7f51\u7edc\u670d\u52a1\uff1a</p> <p><code>/etc/init.d/network start</code></p> </li> <li> <p>\u505c\u6b62\u7f51\u7edc\u670d\u52a1\uff1a</p> <p><code>/etc/init.d/network stop</code></p> </li> <li> <p>\u91cd\u542f\u7f51\u7edc\u670d\u52a1\uff08\u5e94\u7528\u66f4\u6539\uff09\uff1a</p> <p><code>/etc/init.d/network restart</code></p> </li> <li> <p>\u91cd\u65b0\u52a0\u8f7d\u7f51\u7edc\u914d\u7f6e\uff08\u5c1d\u8bd5\u91cd\u65b0\u52a0\u8f7d\u800c\u4e0d\u4e2d\u65ad\u7f51\u7edc\u8fde\u63a5\uff09\uff1a</p> <p><code>/etc/init.d/network reload</code></p> </li> <li> <p>\u67e5\u770b\u7f51\u7edc\u670d\u52a1\u7684\u72b6\u6001\uff1a</p> <p><code>/etc/init.d/network status</code></p> </li> </ol> <p>\u8fd9\u4e9b\u547d\u4ee4\u901a\u5e38\u9700\u8981\u4f7f\u7528 <code>root</code> \u6743\u9650\u6267\u884c\uff0c\u56e0\u6b64\u53ef\u4ee5\u5728\u547d\u4ee4\u524d\u52a0\u4e0a <code>sudo</code>\uff1a</p> <p><code>sudo /etc/init.d/network restart</code></p> <p>\u5728\u8f83\u65b0\u7684\u7cfb\u7edf\u4e2d\uff0c\u63a8\u8350\u4f7f\u7528 <code>systemctl</code> \u8fdb\u884c\u7f51\u7edc\u670d\u52a1\u7ba1\u7406\uff0c\u5982\uff1a</p> <p><code>sudo systemctl restart network</code></p> <p>\u786e\u4fdd\u6839\u636e\u4f60\u4f7f\u7528\u7684 Linux \u53d1\u884c\u7248\u9009\u62e9\u5408\u9002\u7684\u7f51\u7edc\u7ba1\u7406\u5de5\u5177\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/centos/010-centos7%E9%85%8D%E7%BD%AEIPV4/","title":"010 centos7\u914d\u7f6eIPV4","text":"<p>vi /etc/sysconfig/network-scripts/ifcfg-eth0</p> <pre><code>TYPE=Ethernet\nBOOTPROTO=static\nNAME=eht0\nDEVICE=eth0\nONBOOT=yes\nIPADDR=212.43.10.212\nNETMASK=255.255.255.224\nGATEWAY=212.43.10.193\nDNS1=8.8.8.8\n\n</code></pre> <p>\u4fee\u6539\u914d\u7f6e\u540e\u91cd\u542f\uff1a</p> <pre><code>/etc/init.d/network restart\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/centos/020-IPV6%E9%85%8D%E7%BD%AE/","title":"020 IPV6\u914d\u7f6e","text":"<ul> <li>\u80cc\u666f\uff1a<ul> <li>\u5355\u7f51\u5361\u53ef\u4ee5\u540c\u65f6\u914d\u7f6eIPV4\u548cIPV6\uff0c\u73b0\u5728centos7\u7684\u7684IPV4\u7684\u7f51\u7edc\u914d\u7f6e\u5982\u4e0b\uff1a</li> </ul> </li> </ul> <pre><code>TYPE=\"Ethernet\"\nPROXY_METHOD=\"none\"\nBROWSER_ONLY=\"no\"\nBOOTPROTO=\"none\"\nDEFROUTE=\"yes\"\nIPV4_FAILURE_FATAL=\"no\"\nIPV6INIT=\"yes\"\nIPV6_AUTOCONF=\"yes\"\nIPV6_DEFROUTE=\"yes\"\nIPV6_FAILURE_FATAL=\"no\"\nIPV6_ADDR_GEN_MODE=\"stable-privacy\"\nNAME=\"eno6\"\nUUID=\"418bbaa5-ac88-4154-a5a5-fc9692d70a62\"\nDEVICE=\"eno6\"\nONBOOT=\"yes\"\nIPADDR=\"154.85.79.117\"\nPREFIX=\"24\"\nGATEWAY=\"154.85.79.1\"\nDNS1=\"8.8.8.8\"\nIPV6_PRIVACY=\"no\"\n</code></pre> <ul> <li>\u9700\u6c42\uff1a<ul> <li>\u6211\u5e0c\u671b\u8fd9\u4e2a\u7f51\u5361\u589e\u52a0IPV6\u7684\u914d\u7f6e\uff0c \u5e76\u4e14\u7f51\u5173\u914d\u7f6e\u4e3a2407:2440:22:2::1\uff0c IPV6\u7f51\u5740\u914d\u7f6e\u4e3a 2407:2440:22:2::2</li> <li>\u4fee\u6539\uff1a/etc/sysconfig/network-scripts/ifcfg-eno6</li> </ul> </li> </ul> <pre><code>TYPE=\"Ethernet\"\nPROXY_METHOD=\"none\"\nBROWSER_ONLY=\"no\"\nBOOTPROTO=\"none\"\nDEFROUTE=\"yes\"\nIPV4_FAILURE_FATAL=\"no\"\n\n# IPv4\nIPADDR=\"154.85.79.117\"\nPREFIX=\"24\"\nGATEWAY=\"154.85.79.1\"\nDNS1=\"8.8.8.8\"\n\n# IPv6\nIPV6INIT=\"yes\"\nIPV6_AUTOCONF=\"no\"\nIPV6_DEFROUTE=\"yes\"\nIPV6_FAILURE_FATAL=\"no\"\nIPV6_ADDR_GEN_MODE=\"stable-privacy\"\nIPV6_PRIVACY=\"no\"\nIPV6ADDR=\"2407:2440:22:2::2/64\"\nIPV6_DEFAULTGW=\"2407:2440:22:2::1\"\n\nNAME=\"eno6\"\nUUID=\"418bbaa5-ac88-4154-a5a5-fc9692d70a62\"\nDEVICE=\"eno6\"\nONBOOT=\"yes\"\n</code></pre> <ul> <li>\u5b9e\u9645\u4e0a\u9700\u8981\u4fee\u6539\u7684\u5b57\u6bb5\uff1a<ul> <li>IPV6_AUTOCONF=\"no\"</li> <li>IPV6ADDR=\"2407:2440:22:2::2/64\"</li> <li>IPV6_DEFAULTGW=\"2407:2440:22:2::1\"</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/centos/030-%E5%8F%8C%E7%BD%91%E5%8D%A1bond%E5%90%8E%E5%81%9A%E5%8F%8Cvlan/","title":"030 \u53cc\u7f51\u5361bond\u540e\u505a\u53ccvlan","text":"<p>/etc/sysconfig/network-scripts\u914d\u7f6e\u6587\u4ef6\u4fe1\u606f\uff1a</p> <pre><code>[root@dx-obgp-guangdong-dongguan-22-183-2-194-227 network-scripts]# cat ifcfg-bond0\nDEVICE=bond0\nNAME=bond0\nTYPE=Bond\nBONDING_MASTER=yes\nONBOOT=yes\nBOOTPROTO=static\nBONDING_OPTS=\"mode=2 xmit_hash_policy=layer3+4 miimon=100 downdelay=200 updelay=200\"\n\n\n[root@dx-obgp-guangdong-dongguan-22-183-2-194-227 network-scripts]# cat ifcfg-enp26s0f0\nDEVICE=enp26s0f0\nNAME=bond0-slave\nTYPE=Ethernet\nBOOTPROTO=none\nONBOOT=yes\nMASTER=bond0\nSLAVE=yes\n\n\n[root@dx-obgp-guangdong-dongguan-22-183-2-194-227 network-scripts]# cat ifcfg-enp26s0f1\nDEVICE=enp26s0f1\nNAME=bond0-slave\nTYPE=Ethernet\nBOOTPROTO=none\nONBOOT=yes\nMASTER=bond0\nSLAVE=yes\n\n\n[root@dx-obgp-guangdong-dongguan-22-183-2-194-227 network-scripts]# cat ifcfg-bond0.101\nNAME=bond0.101\nDEVICE=bond0.101\nONBOOT=yes\nNETBOOT=yes\nBOOTPROTO=static\nTYPE=Vlan\nVLAN=yes\nBONDING_OPTS=\"mode=2 xmit_hash_policy=layer3+4 miimon=100 downdelay=200 updelay=200\"\nIPADDR=183.2.194.227\nNETMASK=255.255.255.240\n#GATEWAY=183.2.194.225\nGATEWAY=183.2.194.225\n\n\n[root@dx-obgp-guangdong-dongguan-22-183-2-194-227 network-scripts]# cat ifcfg-bond0.257\nNAME=bond0.257\nDEVICE=bond0.257\nONBOOT=yes\nNETBOOT=yes\nBOOTPROTO=static\nTYPE=Vlan\nVLAN=yes\nBONDING_OPTS=\"mode=2 xmit_hash_policy=layer3+4 miimon=100 downdelay=200 updelay=200\"\nIPADDR=156.238.128.227\nNETMASK=255.255.255.224\n#GATEWAY=156.238.128.225\n</code></pre> <p>ip a \u4fe1\u606f\uff1a</p> <pre><code>[root@dx-obgp-guangdong-dongguan-22-183-2-194-227 network-scripts]# ip a\n1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host\n       valid_lft forever preferred_lft forever\n2: enp26s0f0: &lt;BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP&gt; mtu 1500 qdisc mq master bond0 state UP group default qlen 1000\n    link/ether ec:0d:9a:49:64:04 brd ff:ff:ff:ff:ff:ff\n3: enp26s0f1: &lt;BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP&gt; mtu 1500 qdisc mq master bond0 state UP group default qlen 1000\n    link/ether ec:0d:9a:49:64:04 brd ff:ff:ff:ff:ff:ff\n4: bond0: &lt;BROADCAST,MULTICAST,MASTER,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000\n    link/ether ec:0d:9a:49:64:04 brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::ee0d:9aff:fe49:6404/64 scope link\n       valid_lft forever preferred_lft forever\n5: bond0.101@bond0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000\n    link/ether ec:0d:9a:49:64:04 brd ff:ff:ff:ff:ff:ff\n    inet 183.2.194.227/28 brd 183.2.194.239 scope global bond0.101\n       valid_lft forever preferred_lft forever\n    inet6 fe80::ee0d:9aff:fe49:6404/64 scope link\n       valid_lft forever preferred_lft forever\n6: bond0.257@bond0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000\n    link/ether ec:0d:9a:49:64:04 brd ff:ff:ff:ff:ff:ff\n    inet 156.238.128.227/27 brd 156.238.128.255 scope global bond0.257\n       valid_lft forever preferred_lft forever\n    inet6 fe80::ee0d:9aff:fe49:6404/64 scope link\n       valid_lft forever preferred_lft forever\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/centos/040-%E9%85%8D%E7%BD%AEbond/","title":"040 \u914d\u7f6ebond","text":"<pre><code>## bond\u7f51\u5361\u6587\u4ef6\n[root@node01 network-scripts]# cat ifcfg-bond0\nDEVICE=bond0\nNAME=bond0\nTYPE=Bond\nBONDING_MASTER=yes\nIPADDR=151.242.222.74\nNETMASK=255.255.255.192\nGATEWAY=151.242.222.65\nDNS1=8.8.8.8\nONBOOT=yes\nBOOTPROTO=none\nBONDING_OPTS=\"mode=2 miimon=100\"\n\n# \u5b50\u7f51\u5361\u6587\u4ef6\n[root@node01 network-scripts]# cat ifcfg-ens31f0\nTYPE=Ethernet\nBOOTPROTO=static\nNAME=ens31f0\nDEVICE=ens31f0\nONBOOT=yes\nMASTER=bond0\nSLAVE=yes\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/debian/debian11%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0/","title":"Debian11\u4fee\u6539\u7f51\u5361\u540d\u79f0","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/debian/debian11%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0/#_1","title":"\u80cc\u666f","text":"<ul> <li>\u4e91\u4e3b\u673a\u7684\u9ed8\u8ba4\u7684\u7f51\u5361\u540d\u79f0\u6709\u4e9b\u53ef\u80fd\u662feno1\u3001eno2\uff0c\u73b0\u5728\u9700\u8981\u4fee\u4e3a\u6539\u4e3a:<ul> <li>\u516c\u7f51\u7f51\u5361\u4f7f\u7528eth1</li> <li>\u5185\u7f51\u7f51\u5361\u540d\u79f0\u4f7f\u7528eth0</li> </ul> </li> <li>\u64cd\u4f5c\u73af\u5883\uff1a<ul> <li>\u7cfb\u7edf\uff1adebian11 \u4e91\u4e3b\u673a</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/debian/debian11%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0/#_2","title":"\u64cd\u4f5c","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/debian/debian11%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0/#1grub","title":"1.\u4fee\u6539GRUB","text":"<ul> <li>\u4fee\u6539grub\u6587\u4ef6</li> </ul> <pre><code>sudo vi /etc/default/grub\n</code></pre> <ul> <li>\u627e\u5230GRUB_CMDLINE_LINUX\u8fd9\u4e00\u884c\uff0c\u540e\u9762\u52a0\u4e0b\u9762\u7684\u53c2\u6570\u8fd9\u4e2a\u548c\u524d\u9762\u7684\u53c2\u6570\u7a7a\u683c\u9694\u5f00</li> </ul> <pre><code>net.ifnames=0 biosdevname=0\n</code></pre> <ul> <li>\u66f4\u65b0 GRUB<ul> <li>\u5bf9\u4e8e BIOS \u542f\u52a8\uff1a\uff08\u5927\u90e8\u5206ECS\u6267\u884c\u4e0b\u9762\u8fd9\u8fb9\u6b65\u5373\uff09\uff0c\u5bf9\u4e8e UEFI \u542f\u52a8\uff08\u90e8\u5206\u673a\u5668\uff09sudo grub-mkconfig -o /boot/efi/EFI/debian/grub.cfg</li> </ul> </li> </ul> <pre><code>sudo update-grub\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/debian/debian11%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0/#2-systemd-udev","title":"2.\u4fee\u6539 systemd udev","text":"<ul> <li>\u9996\u5148\u786e\u8ba4\u4e0d\u540c\u7f51\u5361\u5bf9\u5e94\u7684mac\u5730\u5740</li> </ul> <pre><code>ip a\n</code></pre> <ul> <li>\u4fee\u6539udev \u89c4\u5219\u6587\u4ef6</li> </ul> <pre><code>sudo vi /etc/udev/rules.d/70-persistent-net.rules\n</code></pre> <ul> <li>\u4fee\u6539mac\u5bf9\u5e94\u7684NAME\u5373\u53ef\uff0c\u4f8b\u5982</li> </ul> <pre><code>SUBSYSTEM==\"net\", ACTION==\"add\", ATTR{address}==\"00:0c:29:1e:xx:xx\", NAME=\"eth0\"\n</code></pre> <ul> <li> <ol> <li>\u91cd\u5efa initramfs\uff08\u53ef\u9009\uff0c\u4f46\u63a8\u8350\uff09</li> </ol> </li> </ul> <pre><code>sudo update-initramfs -u\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/debian/debian11%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0/#3","title":"3. \u4fee\u6539\u7f51\u7edc\u914d\u7f6e","text":"<ul> <li>\u4fee\u6539\u4e3a\u7f51\u7edc\u914d\u7f6e\u4e2d\u7684\u7f51\u5361\u540d\u79f0\uff0c\u4f8b\u5982\uff1a</li> </ul> <pre><code>sudo vi /etc/network/interfaces.d/50-cloud-init\n</code></pre> <ul> <li>\u4f8b\u5982\uff1a </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/debian/debian11%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0/#4","title":"4. \u91cd\u542f\u673a\u5668","text":"<pre><code>sudo reboot\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/debian/debian%E5%85%B3%E9%97%ADcloudinit%E5%B9%B6%E4%B8%94%E9%85%8D%E7%BD%AE%E9%9D%99%E6%80%81%E7%BD%91%E7%BB%9CIP%E9%85%8D%E7%BD%AE/","title":"debian\u5173\u95edcloudinit\u5e76\u4e14\u914d\u7f6e\u9759\u6001\u7f51\u7edcIP\u914d\u7f6e","text":"<pre><code>systemctl disable cloud-init\nsystemctl disable cloud-config.service\nsystemctl disable cloud-init-local.service\nsystemctl disable cloud-final.service \nsystemctl stop cloud-init\nsystemctl stop cloud-config.service\nsystemctl stop cloud-init-local.service\nsystemctl stop cloud-final.service \nrm -rf /var/lib/cloud/\nrm -rf /etc/network/interfaces.d/50-cloud-init\n\nsudo tee /etc/network/interfaces &gt; /dev/null &lt;&lt;EOF\nauto lo\niface lo inet loopback\n\nauto eth0\niface eth0 inet static\naddress 192.168.1.54\nnetmask 255.255.255.0\n\nauto eth1\niface eth1 inet static\naddress 82.27.183.94\nnetmask 255.255.255.224\ngateway 82.27.183.65\ndns-nameservers 8.8.8.8\n\nEOF\n\nsudo systemctl restart networking\nsudo reboot\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/000-NetworkManager%E5%AE%98%E6%96%B9%E8%AF%B4%E6%98%8E/","title":"000 NetworkManager\u5b98\u65b9\u8bf4\u660e","text":"<ul> <li>\u5b98\u65b9\u5730\u5740\uff1ahttps://docs.redhat.com/zh-cn/documentation/red_hat_enterprise_linux/7/html/networking_guide/getting_started_with_networkmanager</li> <li>\u5b98\u65b9\u5728\u7ebfpdf\uff1ahttps://docs.redhat.com/zh-cn/documentation/red_hat_enterprise_linux/7/pdf/networking_guide/Red_Hat_Enterprise_Linux-7-Networking_Guide-zh-CN.pdf</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/000-NetworkManager%E5%AE%98%E6%96%B9%E8%AF%B4%E6%98%8E/#networkmanager","title":"NetworkManager \u6982\u8ff0","text":"<ul> <li>\u5728 Red Hat Enterprise Linux 7 \u4e2d\uff0c\u9ed8\u8ba4\u7f51\u7edc\u670d\u52a1\u7531\u00a0NetworkManager\u00a0\u63d0\u4f9b\uff0c\u540e\u8005\u662f\u4e00\u4e2a\u52a8\u6001\u7f51\u7edc\u63a7\u5236\u548c\u914d\u7f6e\u5b88\u62a4\u8fdb\u7a0b\uff0c\u5728\u7f51\u7edc\u8bbe\u5907\u548c\u8fde\u63a5\u53ef\u7528\u65f6\u4fdd\u6301\u542f\u52a8\u548c\u6fc0\u6d3b\u3002\u4f20\u7edf\u7684\u00a0<code>ifcfg</code>\u00a0\u7c7b\u578b\u914d\u7f6e\u6587\u4ef6\u4ecd\u53d7\u652f\u6301\u3002\u5982\u9700\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u00a0\u201c\u5c06 NetworkManager \u4e0e\u7f51\u7edc\u811a\u672c\u642d\u914d\u4f7f\u7528\u201d\u3002</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/000-NetworkManager%E5%AE%98%E6%96%B9%E8%AF%B4%E6%98%8E/#networkmanager_1","title":"\u4f7f\u7528 NetworkManager \u7684\u597d\u5904","text":"<p>\u4f7f\u7528 NetworkManager \u7684\u4e3b\u8981\u4f18\u70b9\u662f\uff1a</p> <ul> <li> <p>\u66f4\u8f7b\u677e\u5730\u8fdb\u884c\u7f51\u7edc\u914d\u7f6e\uff1a\u00a0NetworkManager\u00a0\u786e\u4fdd\u7f51\u7edc\u8fde\u63a5\u6b63\u5e38\u5de5\u4f5c\u3002\u5f53\u53d1\u73b0\u7cfb\u7edf\u4e2d\u6ca1\u6709\u7f51\u7edc\u914d\u7f6e\u4f46\u5b58\u5728\u7f51\u7edc\u8bbe\u5907\u65f6\uff0cNetworkManager\u00a0\u4f1a\u521b\u5efa\u4e34\u65f6\u8fde\u63a5\u4ee5\u63d0\u4f9b\u8fde\u63a5\u3002</p> </li> <li> <p>\u63d0\u4f9b\u4e0e\u7528\u6237\u7684\u7b80\u5355\u8fde\u63a5\u8bbe\u7f6e\uff1aNetworkManager\u00a0\u901a\u8fc7\u4e0d\u540c\u7684\u5de5\u5177\uff08GUI\u3001nmtui\u3001nmcli -\u00a0\uff09\u63d0\u4f9b\u7ba1\u7406\u3002\u8bf7\u53c2\u9605\u00a0\u7b2c\u00a02.5\u00a0\u8282 \u201cNetworkManager \u5de5\u5177\u201d\u3002</p> </li> <li> <p>\u652f\u6301\u914d\u7f6e\u7075\u6d3b\u6027\u3002\u4f8b\u5982\uff1a\u914d\u7f6e WiFi\u00a0\u63a5\u53e3\uff0cNetworkManager\u00a0\u4f1a\u626b\u63cf\u5e76\u663e\u793a\u53ef\u7528\u7684 wifi \u7f51\u7edc\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a\u63a5\u53e3\uff0cNetworkManager\u00a0\u4f1a\u663e\u793a\u5728\u91cd\u542f\u8fc7\u7a0b\u540e\u63d0\u4f9b\u81ea\u52a8\u8fde\u63a5\u6240\u9700\u7684\u51ed\u8bc1\u3002NetworkManager\u00a0\u53ef\u4ee5\u914d\u7f6e\u7f51\u7edc\u522b\u540d\u3001IP \u5730\u5740\u3001\u9759\u6001\u8def\u7531\u3001DNS \u4fe1\u606f\u548c VPN \u8fde\u63a5\uff0c\u4ee5\u53ca\u8bb8\u591a\u7279\u5b9a\u4e8e\u8fde\u63a5\u7684\u53c2\u6570\u3002\u60a8\u53ef\u4ee5\u4fee\u6539\u914d\u7f6e\u9009\u9879\u4ee5\u53cd\u5e94\u60a8\u7684\u9700\u8981\u3002</p> </li> <li> <p>\u901a\u8fc7 D-Bus \u63d0\u4f9b API\uff0c\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u67e5\u8be2\u548c\u63a7\u5236\u7f51\u7edc\u914d\u7f6e\u548c\u72b6\u6001\u3002\u8fd9\u6837\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7 D-BUS \u68c0\u67e5\u6216\u914d\u7f6e\u7f51\u7edc\u3002\u4f8b\u5982\uff0c\u901a\u8fc7\u00a0<code>Web</code>\u00a0\u6d4f\u89c8\u5668\u76d1\u63a7\u548c\u914d\u7f6e\u670d\u52a1\u5668\u7684 Web \u63a7\u5236\u53f0\u754c\u9762\u4f7f\u7528\u00a0NetworkManager\u00a0D-BUS \u63a5\u53e3\u6765\u914d\u7f6e\u7f51\u7edc\u3002</p> </li> <li> <p>\u91cd\u542f\u8fc7\u7a0b\u540e\u4fdd\u6301\u8bbe\u5907\u72b6\u6001\uff0c\u5e76\u63a5\u7ba1\u5728\u91cd\u542f\u8fc7\u7a0b\u4e2d\u5c06\u5176\u8bbe\u5b9a\u4e3a\u53d7\u7ba1\u6a21\u5f0f\u7684\u63a5\u53e3\u3002</p> </li> <li> <p>\u5904\u7406\u6ca1\u6709\u88ab\u663e\u5f0f\u8bbe\u7f6e\u4f46\u7531\u7528\u6237\u6216\u8005\u5176\u4ed6\u7f51\u7edc\u8bbe\u5907\u624b\u52a8\u63a7\u5236\u7684\u8bbe\u5907\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/010-network-scripts%E5%92%8CNetworkManager/","title":"010 network scripts\u548cNetworkManager","text":"<p>/etc/sysconfig/network-scripts/ \u548c NetworkManager \u5728 Rocky Linux \u4e2d\u662f\u7d27\u5bc6\u5173\u8054\u7684\u3002\u5b83\u4eec\u4e4b\u95f4\u7684\u5173\u7cfb\u5982\u4e0b\uff1a</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/010-network-scripts%E5%92%8CNetworkManager/#1","title":"1. \u4f20\u7edf\u7f51\u7edc\u914d\u7f6e\uff1a","text":"<p>\u2022 /etc/sysconfig/network-scripts/ \u76ee\u5f55\u4e2d\u5305\u542b\u4e86\u7f51\u7edc\u63a5\u53e3\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u6587\u4ef6\u540d\u901a\u5e38\u4ee5 ifcfg-\u63a5\u53e3\u540d\u79f0 \u547d\u540d\uff08\u5982 ifcfg-enp0s3\uff09\u3002</p> <p>\u2022 \u8fd9\u4e9b\u6587\u4ef6\u662f\u57fa\u4e8e\u65e7\u7684 network-scripts \u811a\u672c\u7cfb\u7edf\u7684\uff0c\u7528\u4e8e\u624b\u52a8\u914d\u7f6e\u7f51\u7edc\u63a5\u53e3\u3002</p> <p>\u2022 \u5728\u8f83\u65e7\u7684 Linux \u53d1\u884c\u7248\u4e2d\uff0cnetwork-scripts \u901a\u5e38\u4e0e network \u670d\u52a1\u914d\u5408\u4f7f\u7528\u6765\u7ba1\u7406\u7f51\u7edc\u63a5\u53e3\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/010-network-scripts%E5%92%8CNetworkManager/#2-networkmanager","title":"2. NetworkManager \u7684\u96c6\u6210\uff1a","text":"<p>\u2022 NetworkManager \u662f\u73b0\u4ee3 Linux \u53d1\u884c\u7248\uff08\u5305\u62ec Rocky Linux\uff09\u4e2d\u7528\u4e8e\u7ba1\u7406\u7f51\u7edc\u7684\u4e3b\u8981\u5de5\u5177\u3002\u5b83\u53ef\u4ee5\u81ea\u52a8\u68c0\u6d4b\u548c\u4f7f\u7528 /etc/sysconfig/network-scripts/ \u4e2d\u7684\u914d\u7f6e\u6587\u4ef6\u6765\u7ba1\u7406\u7f51\u7edc\u63a5\u53e3\u3002</p> <p>\u2022 NetworkManager \u5728\u542f\u52a8\u65f6\uff0c\u4f1a\u8bfb\u53d6\u5e76\u5e94\u7528 ifcfg-* \u6587\u4ef6\u4e2d\u7684\u914d\u7f6e\u3002\u5982\u679c\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u4e86\u7279\u5b9a\u7684\u9009\u9879\uff0c\u5982 NM_CONTROLLED=yes\uff0cNetworkManager \u5c31\u4f1a\u7ba1\u7406\u8fd9\u4e2a\u63a5\u53e3\u3002</p> <p>\u2022 \u5982\u679c\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u4e86 NM_CONTROLLED=no\uff0cNetworkManager \u4f1a\u5ffd\u7565\u8be5\u914d\u7f6e\uff0c\u53ef\u80fd\u9700\u8981\u624b\u52a8\u4f7f\u7528 network-scripts \u811a\u672c\u6216\u5176\u4ed6\u65b9\u5f0f\u7ba1\u7406\u8be5\u63a5\u53e3\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/010-network-scripts%E5%92%8CNetworkManager/#3-networkmanager","title":"3. NetworkManager \u5982\u4f55\u4f7f\u7528\u8fd9\u4e9b\u6587\u4ef6\uff1a","text":"<p>\u2022 NetworkManager \u53ef\u4ee5\u5199\u5165\u548c\u4fee\u6539\u8fd9\u4e9b ifcfg-* \u6587\u4ef6\u3002\u5982\u679c\u901a\u8fc7 nmcli \u6216 nmtui \u4fee\u6539\u4e86\u7f51\u7edc\u914d\u7f6e\uff0cNetworkManager \u901a\u5e38\u4f1a\u66f4\u65b0 /etc/sysconfig/network-scripts/ \u4e2d\u7684\u76f8\u5173\u6587\u4ef6\u3002</p> <p>\u2022 \u540c\u6837\uff0c\u5982\u679c\u76f4\u63a5\u7f16\u8f91\u8fd9\u4e9b\u914d\u7f6e\u6587\u4ef6\u5e76\u91cd\u542f NetworkManager\uff0c\u914d\u7f6e\u4e5f\u4f1a\u751f\u6548\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/010-network-scripts%E5%92%8CNetworkManager/#4","title":"4. \u5411\u540e\u517c\u5bb9\u6027\uff1a","text":"<p>\u2022 NetworkManager \u7684\u8bbe\u8ba1\u8003\u8651\u4e86\u5411\u540e\u517c\u5bb9\u6027\uff0c\u786e\u4fdd\u7ba1\u7406\u5458\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528\u4f20\u7edf\u7684 ifcfg-* \u6587\u4ef6\u914d\u7f6e\u7f51\u7edc\u3002</p> <p>\u2022 \u4e0d\u8fc7\uff0c\u5728\u8f83\u65b0\u7684\u7cfb\u7edf\u4e2d\uff0cNetworkManager \u63d0\u4f9b\u4e86\u66f4\u73b0\u4ee3\u548c\u7075\u6d3b\u7684\u7f51\u7edc\u7ba1\u7406\u65b9\u5f0f\uff0c\u652f\u6301\u66f4\u590d\u6742\u7684\u914d\u7f6e\u5982 VPN\u3001Wi-Fi \u548c\u591a\u79cd\u7f51\u7edc\u63a5\u53e3\u805a\u5408\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/010-network-scripts%E5%92%8CNetworkManager/#_1","title":"\u603b\u7ed3","text":"<p>/etc/sysconfig/network-scripts/ \u76ee\u5f55\u5305\u542b\u7684\u662f\u4f20\u7edf\u7684\u7f51\u7edc\u63a5\u53e3\u914d\u7f6e\u6587\u4ef6\uff0c\u800c NetworkManager \u662f\u4e00\u4e2a\u73b0\u4ee3\u5316\u7684\u7f51\u7edc\u7ba1\u7406\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u8bfb\u53d6\u548c\u4f7f\u7528\u8fd9\u4e9b\u6587\u4ef6\u6765\u914d\u7f6e\u548c\u7ba1\u7406\u7f51\u7edc\u63a5\u53e3\u3002\u4e24\u8005\u53ef\u4ee5\u4e00\u8d77\u5de5\u4f5c\uff0c\u63d0\u4f9b\u4e86\u4e00\u79cd\u517c\u5bb9\u4f20\u7edf\u548c\u73b0\u4ee3\u65b9\u6cd5\u7684\u7075\u6d3b\u7f51\u7edc\u7ba1\u7406\u65b9\u5f0f\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/020-rocky9%E5%8D%95%E7%BD%91%E5%8D%A1%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AAIP/","title":"020 rocky9\u5355\u7f51\u5361\u914d\u7f6e\u591a\u4e2aIP","text":"<p>vi /etc/sysconfig/network-scripts/ifcfg-eth0</p> <pre><code>AUTOCONNECT_PRIORITY=120\nBOOTPROTO=\"none\"\nDEVICE=eth0\nHWADDR=fa:16:3e:ab:f7:67\nIPADDR0=\"192.168.1.107\"\nPREFIX0=\"24\"\nGATEWAY0=\"192.168.1.1\"\n\nIPADDR1=\"192.168.1.154\"\nPREFIX1=\"24\"\n\nIPADDR2=\"192.168.1.55\"\nPREFIX2=\"24\"\n\nMTU=1500\nONBOOT=yes\nTYPE=Ethernet\nUSERCTL=no\n</code></pre> <p>\u91cd\u542f\u670d\u52a1\u5668\uff1a systemctl restart NetworkManager</p> <p>\u67e5\u770b\u7f51\u7edc\u914d\u7f6e ip a ip r</p> <pre><code>[root@vm-sg-1 ~]# ip a\n1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host\n       valid_lft forever preferred_lft forever\n2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000\n    link/ether fa:16:3e:ab:f7:67 brd ff:ff:ff:ff:ff:ff\n    altname enp0s3\n    altname ens3\n    inet 192.168.1.107/24 brd 192.168.1.255 scope global noprefixroute eth0\n       valid_lft forever preferred_lft forever\n    inet 192.168.1.154/24 brd 192.168.1.255 scope global secondary noprefixroute eth0\n       valid_lft forever preferred_lft forever\n    inet 192.168.1.55/24 brd 192.168.1.255 scope global secondary noprefixroute eth0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::f816:3eff:feab:f767/64 scope link\n       valid_lft forever preferred_lft forever\n[root@vm-sg-1 ~]# ip r\ndefault via 192.168.1.1 dev eth0 proto static metric 100\n192.168.1.0/24 dev eth0 proto kernel scope link src 192.168.1.107 metric 100\n192.168.1.0/24 dev eth0 proto kernel scope link src 192.168.1.154 metric 100\n192.168.1.0/24 dev eth0 proto kernel scope link src 192.168.1.55 metric 100\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/nmcli%E5%91%BD%E4%BB%A4/nmcli%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"Nmcli\u5e38\u7528\u547d\u4ee4","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/nmcli%E5%91%BD%E4%BB%A4/nmcli%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_1","title":"\u7b80\u4ecb","text":"<ul> <li>\u5b98\u65b9\u8bf4\u660e\uff1ahttps://docs.redhat.com/zh-cn/documentation/red_hat_enterprise_linux/7/html/networking_guide/sec-configuring_ip_networking_with_nmcli</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/nmcli%E5%91%BD%E4%BB%A4/nmcli%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_2","title":"\u547d\u4ee4\u8bf4\u660e","text":"<p>nmcli\u00a0\uff08NetworkManager \u547d\u4ee4\u884c\u754c\u9762\uff09\u547d\u4ee4\u884c\u5de5\u5177\u7528\u4e8e\u63a7\u5236 NetworkManager \u548c\u62a5\u544a\u7f51\u7edc\u72b6\u6001\u3002\u5b83\u53ef\u7528\u4f5c\u00a0nm-applet\u00a0\u6216\u5176\u4ed6\u56fe\u5f62\u5ba2\u6237\u7aef\u7684\u66ff\u4ee3\u3002\u8bf7\u53c2\u9605\u00a0\u7b2c\u00a02.5\u00a0\u8282 \u201cNetworkManager \u5de5\u5177\u201d\u3002nmcli\u00a0\u7528\u4e8e\u521b\u5efa\u3001\u663e\u793a\u3001\u7f16\u8f91\u3001\u5220\u9664\u3001\u6fc0\u6d3b\u548c\u505c\u7528\u7f51\u7edc\u8fde\u63a5\uff0c\u4ee5\u53ca\u63a7\u5236\u548c\u663e\u793a\u7f51\u7edc\u8bbe\u5907\u72b6\u6001\u3002</p> <p>nmcli\u00a0\u5de5\u5177\u53ef\u4f9b\u7528\u6237\u548c\u811a\u672c\u7528\u4e8e\u63a7\u5236\u00a0NetworkManager\u00a0\uff1a</p> <ul> <li> <p>\u5bf9\u4e8e\u670d\u52a1\u5668\u3001\u65e0\u5934\u8ba1\u7b97\u673a\u548c\u7ec8\u7aef\uff0cnmcli\u00a0\u53ef\u7528\u4e8e\u76f4\u63a5\u63a7\u5236\u00a0NetworkManager\uff0c\u65e0\u9700 GUI\uff0c\u5305\u62ec\u521b\u5efa\u3001\u7f16\u8f91\u3001\u542f\u52a8\u548c\u505c\u6b62\u7f51\u7edc\u8fde\u63a5\uff0c\u4ee5\u53ca\u67e5\u770b\u7f51\u7edc\u72b6\u6001\u3002</p> </li> <li> <p>\u5bf9\u4e8e\u811a\u672c\uff0cnmcli\u00a0\u652f\u6301\u66f4\u9002\u5408\u811a\u672c\u5904\u7406\u7684\u00a0terse \u8f93\u51fa\u683c\u5f0f\u3002\u5b83\u662f\u96c6\u6210\u7f51\u7edc\u914d\u7f6e\u800c\u4e0d\u662f\u624b\u52a8\u7ba1\u7406\u7f51\u7edc\u8fde\u63a5\u7684\u4e00\u79cd\u65b9\u5f0f\u3002</p> </li> </ul> <p>nmcli\u00a0\u547d\u4ee4\u7684\u57fa\u672c\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>nmcli [OPTIONS] OBJECT { COMMAND | help }\n</code></pre> <p>\u5176\u4e2d OBJECT \u53ef\u4ee5\u662f\u4ee5\u4e0b\u9009\u9879\u4e4b\u4e00\uff1a\u00a0<code>\u4e00\u822c</code>\u3001<code>\u8054\u7f51</code>\u3001<code>\u65e0\u7ebf</code>\u3001<code>\u8fde\u63a5</code>\u3001<code>\u8bbe\u5907</code>\u3001<code>\u4ee3\u7406</code> <code>\u548c\u76d1\u63a7</code>\u00a0\u5668\u3002\u60a8\u53ef\u4ee5\u5728\u547d\u4ee4\u4e2d\u4f7f\u7528\u8fd9\u4e9b\u9009\u9879\u7684\u4efb\u4f55\u524d\u7f00\u3002\u4f8b\u5982\uff0cnmcli con help\u3001nmcli c help\u00a0\u548cnmcli \u8fde\u63a5\u5e2e\u52a9\u751f\u6210\u76f8\u540c\u7684\u8f93\u51fa\u3002</p> <p>\u8981\u5f00\u59cb\u7684\u4e00\u4e9b\u6709\u7528\u7684\u53ef\u9009 OPTIONS \u662f\uff1a</p> <p>-t, terse\u00a0\u00a0-t\u3001 \u7b80\u6d01\u660e\u4e86</p> <p>\u6b64\u6a21\u5f0f\u53ef\u7528\u4e8e\u8ba1\u7b97\u673a\u811a\u672c\u5904\u7406\uff0c\u56e0\u4e3a\u60a8\u53ef\u4ee5\u770b\u5230\u4ec5\u663e\u793a\u503c\u7684 terse \u8f93\u51fa\u3002</p> <p>\u4f8b\u00a03.1.\u00a0\u67e5\u770b terse \u8f93\u51fa</p> <pre><code>nmcli -t device\nens3:ethernet:connected:Profile 1\nlo:loopback:unmanaged:\n</code></pre> <p>Show more</p> <p>-f, \u5b57\u6bb5</p> <p>\u6b64\u9009\u9879\u6307\u5b9a\u8f93\u51fa\u4e2d\u53ef\u4ee5\u663e\u793a\u54ea\u4e9b\u5b57\u6bb5\u3002\u4f8b\u5982\uff0cNAME,UUID,TYPE,AUTOCONNECT,ACTIVE,DEVICE,STATE.\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u5b57\u6bb5\u3002\u5982\u679c\u8981\u4f7f\u7528\u66f4\u591a\uff0c\u8bf7\u4e0d\u8981\u5728\u9017\u53f7\u540e\u4f7f\u7528\u7a7a\u683c\u6765\u5206\u9694\u5b57\u6bb5\u3002</p> <p>\u4f8b\u00a03.2.\u00a0\u6307\u5b9a\u8f93\u51fa\u4e2d\u7684\u5b57\u6bb5</p> <pre><code>~]$ nmcli -f DEVICE,TYPE device\nDEVICE  TYPE\nens3    ethernet\nlo      loopback\n</code></pre> <p>\u751a\u81f3\u66f4\u9002\u5408\u7f16\u5199\u811a\u672c\uff1a</p> <pre><code>~]$ nmcli -t -f DEVICE,TYPE device\nens3:ethernet\nlo:loopback\n</code></pre> <p>-p\uff0c\u76f8\u5f53\u597d\u3002</p> <p>\u6b64\u9009\u9879\u53ef\u4f7f\u00a0nmcli\u00a0\u751f\u6210\u4eba\u7c7b\u53ef\u8bfb\u7684\u8f93\u51fa\u3002\u4f8b\u5982\uff0c\u503c\u662f\u4e00\u81f4\u7684\uff0c\u6253\u5370\u6807\u5934\u3002</p> <p>\u4f8b\u00a03.3.\u00a0\u4ee5\u7528\u6237\u53cb\u5584\u6a21\u5f0f\u67e5\u770b\u8f93\u51fa</p> <pre><code>nmcli -p device\n=====================\n  Status of devices\n=====================\nDEVICE  TYPE      STATE      CONNECTION\n--------------------------------------------------------------\nens3    ethernet  connected  Profile 1\nlo      loopback  unmanaged  --\n</code></pre> <p>Show more</p> <p>-h, help\u00a0\u00a0-h\u3001 \u5e2e\u52a9</p> <p>\u6253\u5370\u5e2e\u52a9\u4fe1\u606f.</p> <p>nmcli\u00a0\u5de5\u5177\u6709\u4e00\u4e9b\u5185\u7f6e\u4e0a\u4e0b\u6587\u654f\u611f\u7684\u5e2e\u52a9\uff1a</p> <p>nmcli help\u00a0\u00a0nmcli \u5e2e\u52a9</p> <p>\u6b64\u547d\u4ee4\u5217\u51fa\u53ef\u5728\u540e\u7eed\u547d\u4ee4\u4e2d\u4f7f\u7528\u7684\u53ef\u7528\u9009\u9879\u548c\u5bf9\u8c61\u540d\u79f0\u3002</p> <p>nmcli\u00a0\u5bf9\u8c61\u5e2e\u52a9</p> <p>\u6b64\u547d\u4ee4\u663e\u793a\u4e0e\u6307\u5b9a\u5bf9\u8c61\u76f8\u5173\u7684\u53ef\u7528\u64cd\u4f5c\u5217\u8868\u3002\u4f8b\u5982\uff1a</p> <pre><code>nmcli c help\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/nmcli%E5%91%BD%E4%BB%A4/nmcli%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#331-nmcli","title":"3.3.1.\u00a0nmcli \u793a\u4f8b\u7684\u7b80\u77ed\u9009\u62e9","text":"<p>\u4f8b\u00a03.4.\u00a0 \u68c0\u67e5 NetworkManager \u7684\u6574\u4f53\u72b6\u6001</p> <pre><code>~]$ nmcli general status\nSTATE      CONNECTIVITY  WIFI-HW  WIFI     WWAN-HW  WWAN\nconnected  full          enabled  enabled  enabled  enabled\n</code></pre> <p>\u5728 terse \u6a21\u5f0f\u4e2d\uff1a</p> <pre><code>~]$ nmcli -t -f STATE general\nconnected\n</code></pre> <p>\u4f8b\u00a03.5.\u00a0 \u67e5\u770b NetworkManager \u65e5\u5fd7\u72b6\u6001</p> <pre><code>~]$ nmcli general logging\n  LEVEL  DOMAINS\n  INFO   PLATFORM,RFKILL,ETHER,WIFI,BT,MB,DHCP4,DHCP6,PPP,WIFI_SCAN,IP4,IP6,A\nUTOIP4,DNS,VPN,SHARING,SUPPLICANT,AGENTS,SETTINGS,SUSPEND,CORE,DEVICE,OLPC,\nWIMAX,INFINIBAND,FIREWALL,ADSL,BOND,VLAN,BRIDGE,DBUS_PROPS,TEAM,CONCHECK,DC\nB,DISPATCH\n</code></pre> <p>Show less</p> <p>\u4f8b\u00a03.6.\u00a0 \u67e5\u770b\u6240\u6709\u8fde\u63a5</p> <pre><code>~]$ nmcli connection show\n  NAME       UUID                                  TYPE      DEVICE\nProfile 1  db1060e9-c164-476f-b2b5-caec62dc1b05  ethernet    ens3\nens3       aaf6eb56-73e5-4746-9037-eed42caa8a65  ethernet    --\n</code></pre> <p>\u4f8b\u00a03.7.\u00a0\u4ec5\u67e5\u770b\u5f53\u524d\u6d3b\u8dc3\u7684\u8fde\u63a5</p> <pre><code>~]$ nmcli connection show --active\n  NAME       UUID                                  TYPE      DEVICE\nProfile 1  db1060e9-c164-476f-b2b5-caec62dc1b05  ethernet     ens3\n</code></pre> <p>\u4f8b\u00a03.8.\u00a0\u4ec5\u67e5\u770b\u00a0NetworkManager\u00a0\u8bc6\u522b\u7684\u8bbe\u5907\u53ca\u5176\u72b6\u6001</p> <pre><code>~]$ nmcli device status\nDEVICE  TYPE      STATE      CONNECTION\nens3    ethernet  connected  Profile 1\nlo      loopback  unmanaged  --\n</code></pre> <p>\u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u00a0nmcli\u00a0\u547d\u4ee4\u7f29\u5199\uff1a</p> <p>\u8868\u00a03.1.\u00a0\u67d0\u4e9b nmcli \u547d\u4ee4\u7684\u7f29\u5199</p> nmcli \u547d\u4ee4 \u7f29\u5199 nmcli \u5e38\u89c4\u72b6\u6001 nmcli g\u00a0\u00a0\u00a0nmcli g \u7684 nmcli \u5e38\u89c4\u65e5\u5fd7\u8bb0\u5f55 nmcli g \u65e5\u5fd7 nmcli \u8fde\u63a5\u663e\u793a nmcli con show  NMCLI \u663e\u793a nmcli connection show --active  NMCLI \u8fde\u63a5\u663e\u793a--\u6d3b\u52a8 nmcli con show -a  \u5e26\u6709 Show-A \u7684 NMCLI nmcli \u8bbe\u5907\u72b6\u6001 nmcli dev\u00a0\u00a0\u00a0NMCLI \u5f00\u53d1 <p>\u66f4\u591a\u793a\u4f8b\u8bf7\u67e5\u770b\u00a0nmcli-examples(5)\u00a0man page\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/nmcli%E5%91%BD%E4%BB%A4/nmcli%E6%9B%B4%E6%96%B0%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/","title":"Nmcli\u66f4\u65b0\u7f51\u7edc\u914d\u7f6e\u8bf4\u660e","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/nmcli%E5%91%BD%E4%BB%A4/nmcli%E6%9B%B4%E6%96%B0%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/#_1","title":"\u7b80\u4ecb","text":"<p>\u95ee\uff1anmcli\u547d\u4ee4\u66f4\u65b0\u7f51\u7edc\u914d\u7f6e\u4f1a\u56fa\u5316\u5417\uff0c\u4f1a\u66f4\u65b0\u5230\u914d\u7f6e\u6587\u4ef6\u5417\uff1f</p> <p>\u7b54\uff1a\u662f\u7684\uff0c\u4f7f\u7528 <code>nmcli</code> \u66f4\u65b0\u7f51\u7edc\u914d\u7f6e\u65f6\uff0c\u914d\u7f6e\u4f1a\u2705\u56fa\u5316\uff08\u5373\u5199\u5165\u78c1\u76d8\uff09\uff0c\u4f1a\u81ea\u52a8\ud83d\udcdd\u66f4\u65b0\u5230 NetworkManager \u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/nmcli%E5%91%BD%E4%BB%A4/nmcli%E6%9B%B4%E6%96%B0%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/#_2","title":"\ud83d\udccc \u8bf4\u660e\uff1a","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/nmcli%E5%91%BD%E4%BB%A4/nmcli%E6%9B%B4%E6%96%B0%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/#_3","title":"\ud83d\udd27 \u64cd\u4f5c\u7c7b\u578b\uff1a\u4fee\u6539\u8fde\u63a5","text":"<p>\u4f8b\u5982\uff1a</p> <pre><code>nmcli connection modify eth0 ipv4.addresses 192.168.1.100/24\nnmcli connection modify eth0 ipv4.gateway 192.168.1.1\nnmcli connection modify eth0 ipv4.dns \"8.8.8.8\"\n</code></pre> <p>\u8fd9\u7c7b\u547d\u4ee4\u4f1a\u4fee\u6539\u540d\u4e3a <code>eth0</code> \u7684\u8fde\u63a5\u914d\u7f6e\uff0c\u5bf9\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u5c06\u88ab\u66f4\u65b0\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/nmcli%E5%91%BD%E4%BB%A4/nmcli%E6%9B%B4%E6%96%B0%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/#_4","title":"\ud83d\udcc1 \u6587\u4ef6\u5b58\u50a8\u4f4d\u7f6e\uff1a","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/nmcli%E5%91%BD%E4%BB%A4/nmcli%E6%9B%B4%E6%96%B0%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/#centos-oracle-linux-rhel","title":"CentOS / Oracle Linux / RHEL \u7b49\uff1a","text":"<ul> <li> <p>NetworkManager \u7684\u914d\u7f6e\u901a\u5e38\u4f1a\u540c\u6b65\u5230\uff1a</p> <p><code>swift /etc/sysconfig/network-scripts/ifcfg-&lt;\u8fde\u63a5\u540d&gt;</code></p> </li> </ul> <p>\u4f8b\u5982\u4e0a\u9762\u64cd\u4f5c\u540e\uff0c\u4f1a\u770b\u5230 <code>ifcfg-eth0</code> \u6587\u4ef6\u5185\u5bb9\u4e2d\u5bf9\u5e94\u5b57\u6bb5\u88ab\u66f4\u65b0\u3002</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/nmcli%E5%91%BD%E4%BB%A4/nmcli%E6%9B%B4%E6%96%B0%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/#vs","title":"\ud83d\udca1 \u5b9e\u65f6 vs \u56fa\u5316\u5bf9\u6bd4\uff1a","text":"\u64cd\u4f5c\u65b9\u5f0f \u662f\u5426\u56fa\u5316 \u662f\u5426\u5199\u5165\u914d\u7f6e\u6587\u4ef6 <code>nmcli connection modify ...</code> \u2705 \u662f \u2705 \u662f <code>nmcli device modify ...</code> \u274c \u5426 \u274c \u5426\uff08\u4e34\u65f6\u751f\u6548\uff09 <p>\ud83d\udd0d \u6ce8\u610f\uff1a</p> <ul> <li> <p><code>nmcli device modify</code> \u662f\u4e34\u65f6\u4fee\u6539\u8bbe\u5907\u5c5e\u6027\uff0c\u4e0d\u4f1a\u5199\u5165\u914d\u7f6e\u6587\u4ef6\uff0c\u91cd\u542f\u540e\u5931\u6548\u3002</p> </li> <li> <p><code>nmcli connection modify</code> \u662f\u63a8\u8350\u65b9\u5f0f\uff0c\u80fd\u56fa\u5316\u914d\u7f6e\u3002</p> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/rocky/nmcli%E5%91%BD%E4%BB%A4/nmcli%E6%9B%B4%E6%96%B0%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/#_5","title":"\u2705 \u793a\u4f8b\uff1a\u9a8c\u8bc1\u914d\u7f6e\u662f\u5426\u56fa\u5316","text":"<p>\u4f60\u53ef\u4ee5\u8fd9\u6837\u9a8c\u8bc1\uff1a</p> <pre><code>nmcli connection show eth0  # \u67e5\u770b\u5f53\u524d\u914d\u7f6e\ncat /etc/sysconfig/network-scripts/ifcfg-eth0  # \u67e5\u770b\u914d\u7f6e\u6587\u4ef6\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/ubuntu/000-netplan%E8%AF%B4%E6%98%8E/","title":"000 netplan\u8bf4\u660e","text":"<p>\u53c2\u8003\uff1ahttps://cloud-atlas.readthedocs.io/zh-cn/latest/linux/ubuntu_linux/network/netplan.html</p> <p>netplan\u5b98\u7f51\uff1ahttps://netplan.readthedocs.io/en/stable/netplan-tutorial/</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/ubuntu/010-netplan%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"010 netplan\u5e38\u7528\u547d\u4ee4","text":"<ul> <li>\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e<ul> <li>netplan apply</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/ubuntu/011-netplan%E9%85%8D%E7%BD%AE%E5%85%AC%E7%BD%91IP/","title":"011 netplan\u914d\u7f6e\u516c\u7f51IP","text":""},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/ubuntu/011-netplan%E9%85%8D%E7%BD%AE%E5%85%AC%E7%BD%91IP/#_1","title":"\u80cc\u666f","text":"<ul> <li>netplan \u914d\u7f6e\u516c\u7f51IP <ul> <li>IP\u5730\u5740\uff1a103.18.80.231 </li> <li>\u63a9\u7801\uff1a 255.255.255.224 </li> <li>\u7f51\u5173\uff1a103.18.80.225 </li> <li>DNS\uff1a 8.8.8.8</li> </ul> </li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/ubuntu/011-netplan%E9%85%8D%E7%BD%AE%E5%85%AC%E7%BD%91IP/#_2","title":"\u914d\u7f6e","text":"<p>\u5047\u8bbe\u7f51\u5361\u540d\u79f0\u662f <code>ens33</code>\uff08\u4f60\u9700\u8981\u6362\u6210\u4f60\u5b9e\u9645\u7684\u7f51\u5361\u540d\uff0c\u6bd4\u5982 <code>ens160</code>\u3001<code>eth0</code> \u7b49\uff09\uff1a - \u5907\u6ce8\uff1a\u6bcf\u4e00\u7ea7\u7f29\u8fdb\u90fd\u662f 2 \u4e2a\u7a7a\u683c</p> <pre><code>network:\n  version: 2\n  ethernets:\n    ens33:\n      dhcp4: no\n      addresses:\n        - 103.18.80.231/27\n      gateway4: 103.18.80.225\n      nameservers:\n        addresses:\n          - 8.8.8.8\n</code></pre>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/ubuntu/011-netplan%E9%85%8D%E7%BD%AE%E5%85%AC%E7%BD%91IP/#_3","title":"\u5e94\u7528\u914d\u7f6e","text":"<ol> <li> <p>\u4fdd\u5b58\u4e3a\uff1a</p> <p><code>bash sudo vi /etc/netplan/01-netcfg.yaml</code></p> </li> <li> <p>\u68c0\u67e5\u914d\u7f6e\u662f\u5426\u6b63\u786e\uff1a</p> <p><code>bash sudo netplan try</code></p> <p>\uff08\u6d4b\u8bd5 120 \u79d2\u5185\u53ef\u56de\u6eda\uff09</p> </li> <li> <p>\u786e\u8ba4\u65e0\u8bef\u540e\u5e94\u7528\uff1a</p> <p><code>bash sudo netplan apply</code></p> </li> </ol>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/ubuntu/020-netplan%E5%8D%95%E7%BD%91%E5%8D%A1%E9%85%8D%E7%BD%AE%E4%B8%A4%E4%B8%AAVLAN/","title":"020 netplan\u5355\u7f51\u5361\u914d\u7f6e\u4e24\u4e2aVLAN","text":"<ul> <li>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 root@ubuntu:~# cat /etc/netplan/00-installer-config.yaml</li> </ul> <pre><code>\nnetwork:\n  ethernets:\n    enp26s0f0:\n      dhcp4: no\n    enp26s0fs:\n      dhcp4: yes\n  vlans:\n     enp26s0f0.101:\n       id: 101\n       link: enp26s0f0\n       addresses:\n         - 183.2.194.232/28\n       gateway4: 183.2.194.225\n       nameservers:\n         addresses:\n           - 8.8.8.8\n     enp26s0f0.257:\n       id: 257\n       link: enp26s0f0\n       addresses:\n         - 156.238.128.232/27\n       gateway4: 156.238.128.225\n       nameservers:\n         addresses:\n           - 8.8.8.8\n  version: 2\n</code></pre> <ul> <li>\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\uff1a netplan apply</li> <li>\u6700\u7ec8\u914d\u7f6e:</li> </ul> <pre><code>root@ubuntu:~# ip a\n1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host\n       valid_lft forever preferred_lft forever\n2: enp26s0f0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000\n    link/ether ec:0d:9a:49:4e:d4 brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::ee0d:9aff:fe49:4ed4/64 scope link\n       valid_lft forever preferred_lft forever\n3: enp26s0f1: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc mq state DOWN group default qlen 1000\n    link/ether ec:0d:9a:49:4e:d5 brd ff:ff:ff:ff:ff:ff\n4: enp26s0f0.101@enp26s0f0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000\n    link/ether ec:0d:9a:49:4e:d4 brd ff:ff:ff:ff:ff:ff\n    inet 183.2.194.232/28 brd 183.2.194.239 scope global enp26s0f0.101\n       valid_lft forever preferred_lft forever\n    inet6 fe80::ee0d:9aff:fe49:4ed4/64 scope link\n       valid_lft forever preferred_lft forever\n5: enp26s0f0.257@enp26s0f0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000\n    link/ether ec:0d:9a:49:4e:d4 brd ff:ff:ff:ff:ff:ff\n    inet 156.238.128.232/27 brd 156.238.128.255 scope global enp26s0f0.257\n       valid_lft forever preferred_lft forever\n    inet6 fe80::ee0d:9aff:fe49:4ed4/64 scope link\n       valid_lft forever preferred_lft forever\nroot@ubuntu:~# ip r\ndefault via 183.2.194.225 dev enp26s0f0.101 proto static\ndefault via 156.238.128.225 dev enp26s0f0.257 proto static\n156.238.128.224/27 dev enp26s0f0.257 proto kernel scope link src 156.238.128.232\n183.2.194.224/28 dev enp26s0f0.101 proto kernel scope link src 183.2.194.232\n</code></pre> <ul> <li>\u5f53\u524d\u7684\u914d\u7f6e\u7684\u9ed8\u8ba4\u7f51\u5173\u53ea\u6709\u4e00\u4e2a\uff0c\u9700\u8981156.238.128.232\u6b63\u5e38\u901a\u4fe1\u7684\u8bdd\uff0c\u9700\u8981\u914d\u7f6e\u7b56\u7565\u8def\u7531</li> </ul>"},{"location":"%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/%E6%9C%BA%E5%99%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4/ubuntu/030-ubuntu%20%E5%85%B3%E9%97%AD%20cloud-init/","title":"030 ubuntu \u5173\u95ed cloud init","text":"<pre><code>systemctl disable cloud-init\nsystemctl disable cloud-config.service\nsystemctl disable cloud-init-local.service\nsystemctl disable cloud-final.service \nsystemctl stop cloud-init\nsystemctl stop cloud-config.service\nsystemctl stop cloud-init-local.service\nsystemctl stop cloud-final.service \nrm -rf /var/lib/cloud/\nrm -rf /etc/network/interfaces.d/50-cloud-init\n\n\n\ncp /etc/netplan/50-cloud-init.yaml /etc/netplan/01-manual.yaml\necho \"network: {config: disabled}\" &gt; /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg\nrm /etc/netplan/50-cloud-init.yaml\nnetplan apply\nip a\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"Go\u5e38\u7528\u547d\u4ee4","text":"<p>Go \u7f16\u7a0b\u8bed\u8a00\u6709\u4e00\u4e9b\u5e38\u7528\u7684\u547d\u4ee4\u884c\u5de5\u5177\u548c\u9009\u9879\uff0c\u4e3b\u8981\u901a\u8fc7 <code>go</code> \u5de5\u5177\u6765\u7ba1\u7406\u9879\u76ee\u3001\u6784\u5efa\u3001\u6d4b\u8bd5\u3001\u4ee5\u53ca\u6a21\u5757\u5316\u4f9d\u8d56\u7b49\u3002\u4ee5\u4e0b\u662f Go \u5e38\u7528\u7684\u547d\u4ee4\u884c\u5de5\u5177\u548c\u9009\u9879\uff1a</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#1","title":"1. \u57fa\u7840\u9879\u76ee\u7ba1\u7406","text":"<ul> <li> <p><code>go run &lt;file.go&gt;</code>     \u7f16\u8bd1\u5e76\u8fd0\u884c Go \u6e90\u6587\u4ef6\u3002\u9002\u5408\u5feb\u901f\u6d4b\u8bd5\u548c\u6267\u884c\u5355\u6587\u4ef6\u7a0b\u5e8f\u3002</p> </li> <li> <p><code>go build</code>     \u7f16\u8bd1\u4ee3\u7801\u5e76\u751f\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u4f1a\u8f93\u51fa\u5230\u5f53\u524d\u76ee\u5f55\u3002</p> </li> <li> <p><code>go install</code>     \u7f16\u8bd1\u5e76\u5b89\u88c5\u5305\uff0c\u8f93\u51fa\u5230 <code>$GOPATH/bin</code>\uff0c\u7136\u540e\u53ef\u4ee5\u76f4\u63a5\u5728\u547d\u4ee4\u884c\u8fd0\u884c\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002</p> </li> <li> <p><code>go get &lt;package&gt;</code>     \u4e0b\u8f7d\u5e76\u5b89\u88c5\u6307\u5b9a\u7684\u5305\u6216\u6a21\u5757\u3002</p> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#2","title":"2. \u4f9d\u8d56\u7ba1\u7406","text":"<ul> <li> <p><code>go mod init &lt;module-name&gt;</code>     \u521d\u59cb\u5316\u4e00\u4e2a\u65b0\u7684\u6a21\u5757\uff0c\u521b\u5efa <code>go.mod</code> \u6587\u4ef6 \u3002</p> </li> <li> <p><code>go mod tidy</code>     \u6e05\u7406 <code>go.mod</code> \u6587\u4ef6\uff0c\u79fb\u9664\u672a\u4f7f\u7528\u7684\u4f9d\u8d56\u5e76\u6dfb\u52a0\u7f3a\u5931\u7684\u4f9d\u8d56\u3002</p> </li> <li> <p><code>go mod download</code>     \u4e0b\u8f7d <code>go.mod</code> \u4e2d\u7684\u6240\u6709\u4f9d\u8d56\u5305\u5230\u672c\u5730 <code>module cache</code>\u3002</p> </li> <li> <p><code>go mod verify</code>     \u9a8c\u8bc1\u6a21\u5757\u4f9d\u8d56\u7684\u54c8\u5e0c\u503c\uff0c\u786e\u4fdd\u6a21\u5757\u672a\u88ab\u7be1\u6539\u3002</p> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#3","title":"3. \u6d4b\u8bd5\u4e0e\u4ee3\u7801\u8d28\u91cf","text":"<ul> <li> <p><code>go test</code>     \u6267\u884c\u6d4b\u8bd5\u6587\u4ef6\uff0c\u4ee5 <code>*_test.go</code> \u6587\u4ef6\u4e2d\u7684\u5355\u5143\u6d4b\u8bd5\u4e3a\u51c6\u3002</p> </li> <li> <p><code>go test -v</code>     \u663e\u793a\u8be6\u7ec6\u7684\u6d4b\u8bd5\u8fc7\u7a0b\u548c\u8f93\u51fa\u4fe1\u606f\u3002</p> </li> <li> <p><code>go test -bench .</code>     \u6267\u884c\u57fa\u51c6\u6d4b\u8bd5\u3002</p> </li> <li> <p><code>go fmt &lt;file.go&gt;</code>     \u683c\u5f0f\u5316 Go \u6e90\u4ee3\u7801\uff0c\u4f7f\u4e4b\u7b26\u5408 Go \u7f16\u7801\u89c4\u8303\u3002</p> </li> <li> <p><code>go vet</code>     \u9759\u6001\u4ee3\u7801\u5206\u6790\u5de5\u5177\uff0c\u68c0\u67e5\u4ee3\u7801\u4e2d\u7684\u6f5c\u5728\u9519\u8bef\u3002</p> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#4","title":"4. \u6587\u6863\u4e0e\u67e5\u770b","text":"<ul> <li> <p><code>go doc &lt;package&gt;</code>     \u67e5\u770b\u5305\u7684\u6587\u6863\uff0c\u6216\u67e5\u770b\u5305\u4e2d\u6307\u5b9a\u51fd\u6570\u3001\u53d8\u91cf\u7684\u8be6\u7ec6\u4fe1\u606f\u3002</p> </li> <li> <p><code>go list</code>     \u5217\u51fa\u9879\u76ee\u4e2d\u7684\u5305\u53ca\u5176\u4f9d\u8d56\u9879\u4fe1\u606f\u3002\u53ef\u4ee5\u52a0\u9009\u9879\u4ee5\u83b7\u53d6\u66f4\u8be6\u7ec6\u7684\u6a21\u5757\u4fe1\u606f\u3002</p> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#5","title":"5. \u5176\u4ed6","text":"<ul> <li> <p><code>go clean</code>     \u6e05\u7406\u6784\u5efa\u8fc7\u7a0b\u4e2d\u751f\u6210\u7684\u6587\u4ef6\uff0c\u4f8b\u5982\u53ef\u6267\u884c\u6587\u4ef6\u3001\u7f13\u5b58\u7b49\u3002</p> </li> <li> <p><code>go env</code>     \u67e5\u770b\u548c\u8bbe\u7f6e Go \u7684\u73af\u5883\u53d8\u91cf\u3002</p> </li> <li> <p><code>go version</code>     \u663e\u793a\u5f53\u524d\u5b89\u88c5\u7684 Go \u7248\u672c\u4fe1\u606f\u3002</p> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/","title":"\u4ee3\u7801\u89c4\u8303\uff1aGo\u8bed\u8a00\u4e2d\u7f16\u7801\u89c4\u8303","text":"<p>\u53c2\u8003\uff1ahttp://golang.iswbm.com/en/latest/c03/c03_04.html</p> <p>\u6bcf\u4e2a\u8bed\u8a00\u90fd\u6709\u81ea\u5df1\u7279\u8272\u7684\u7f16\u7801\u89c4\u8303\uff0c\u5b66\u4e60\u8be5\u8bed\u8a00\u7684\u547d\u540d\u89c4\u8303\uff0c\u80fd\u8ba9\u4f60\u5199\u51fa\u6765\u7684\u4ee3\u7801\u66f4\u52a0\u6613\u8bfb\uff0c\u66f4\u52a0\u4e0d\u5bb9\u6613\u51fa\u73b0\u4e00\u4e9b\u4f4e\u7ea7\u9519\u8bef\u3002</p> <p>\u672c\u6587\u6839\u636e\u4e2a\u4eba\u7f16\u7801\u4e60\u60ef\u4ee5\u53ca\u7f51\u7edc\u4e0a\u7684\u4e00\u4e9b\u6587\u7ae0\uff0c\u6574\u7406\u4e86\u4e00\u4e9b\u5927\u5bb6\u80fd\u7528\u4e0a\u7684\u7f16\u7801\u89c4\u8303\uff0c\u53ef\u80fd\u662f\u4e00\u4e9b\u4e3b\u6d41\u65b9\u6848\uff0c\u4f46\u4e0d\u4ee3\u8868\u5b98\u65b9\uff0c\u8fd9\u4e00\u70b9\u5148\u58f0\u660e\u4e00\u4e0b\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#1","title":"1. \u6587\u4ef6\u547d\u540d","text":"<ol> <li>\u7531\u4e8e Windows\u5e73\u53f0\u6587\u4ef6\u540d\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff0c\u6240\u4ee5\u6587\u4ef6\u540d\u5e94\u4e00\u5f8b\u4f7f\u7528\u5c0f\u5199</li> <li>\u4e0d\u540c\u5355\u8bcd\u4e4b\u95f4\u7528\u4e0b\u5212\u7ebf\u5206\u8bcd\uff0c\u4e0d\u8981\u4f7f\u7528\u9a7c\u5cf0\u5f0f\u547d\u540d</li> <li>\u5982\u679c\u662f\u6d4b\u8bd5\u6587\u4ef6\uff0c\u53ef\u4ee5\u4ee5 <code>_test.go</code> \u7ed3\u5c3e</li> <li>\u6587\u4ef6\u82e5\u5177\u6709\u5e73\u53f0\u7279\u6027\uff0c\u5e94\u4ee5 <code>\u6587\u4ef6\u540d_\u5e73\u53f0.go</code> \u547d\u540d\uff0c\u6bd4\u5982 utils_ windows.go\uff0cutils_linux.go\uff0c\u53ef\u7528\u7684\u5e73\u53f0\u6709\uff1awindows, unix, posix, plan9, darwin, bsd, linux, freebsd, nacl, netbsd, openbsd, solaris, dragonfly, bsd, notbsd\uff0c android\uff0cstubs</li> <li>\u4e00\u822c\u60c5\u51b5\u4e0b\u5e94\u7528\u7684\u4e3b\u5165\u53e3\u5e94\u4e3a main.go\uff0c\u6216\u8005\u4ee5\u5e94\u7528\u7684\u5168\u5c0f\u5199\u5f62\u5f0f\u547d\u540d\u3002\u6bd4\u5982MyBlog \u7684\u5165\u53e3\u53ef\u4ee5\u4e3a <code>myblog.go</code></li> </ol>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#2","title":"2. \u5e38\u91cf\u547d\u540d","text":"<p>\u76ee\u524d\u5728\u7f51\u7edc\u4e0a\u53ef\u4ee5\u770b\u5230\u4e3b\u8981\u6709\u4e24\u79cd\u98ce\u683c\u7684\u5199\u6cd5</p> <ol> <li>\u7b2c\u4e00\u79cd\u662f\u9a7c\u5cf0\u547d\u540d\u6cd5\uff0c\u6bd4\u5982 appVersion</li> <li>\u7b2c\u4e8c\u79cd\u4f7f\u7528\u5168\u5927\u5199\u4e14\u7528\u4e0b\u5212\u7ebf\u5206\u8bcd\uff0c\u6bd4\u5982 APP_VERSION</li> </ol> <p>\u8fd9\u4e24\u79cd\u98ce\u683c\uff0c\u6ca1\u6709\u5b70\u597d\u5b70\u5f31\uff0c\u53ef\u81ea\u7531\u9009\u53d6\uff0c\u6211\u4e2a\u4eba\u66f4\u503e\u5411\u4e8e\u4f7f\u7528\u7b2c\u4e8c\u79cd\uff0c\u4e3b\u8981\u662f\u80fd\u4e00\u773c\u4e0e\u53d8\u91cf\u533a\u5206\u5f00\u6765\u3002</p> <p>\u5982\u679c\u8981\u5b9a\u4e49\u591a\u4e2a\u53d8\u91cf\uff0c\u8bf7\u4f7f\u7528 \u62ec\u53f7 \u6765\u7ec4\u7ec7\u3002</p> <pre><code>const (\n    APP_VERSION = \"0.1.0\"\n  CONF_PATH = \"/etc/xx.conf\"\n)\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#3","title":"3. \u53d8\u91cf\u547d\u540d","text":"<p>\u548c\u5e38\u91cf\u4e0d\u540c\uff0c\u53d8\u91cf\u7684\u547d\u540d\uff0c\u5f00\u53d1\u8005\u4eec\u7684\u559c\u597d\u5c31\u6bd4\u8f83\u4e00\u81f4\u4e86\uff0c\u7edf\u4e00\u4f7f\u7528 <code>\u9a7c\u5cf0\u547d\u540d\u6cd5</code></p> <ol> <li>\u5728\u76f8\u5bf9\u7b80\u5355\u7684\u73af\u5883\uff08\u5bf9\u8c61\u6570\u91cf\u5c11\u3001\u9488\u5bf9\u6027\u5f3a\uff09\u4e2d\uff0c\u53ef\u4ee5\u5c06\u5b8c\u6574\u5355\u8bcd\u7b80\u5199\u4e3a\u5355\u4e2a\u5b57\u6bcd\uff0c\u4f8b\u5982\uff1auser\u5199\u4e3au</li> <li>\u82e5\u8be5\u53d8\u91cf\u4e3a bool \u7c7b\u578b\uff0c\u5219\u540d\u79f0\u5e94\u4ee5 <code>Has</code>, <code>Is</code>, <code>Can</code> \u6216 <code>Allow</code> \u5f00\u5934\u3002\u4f8b\u5982\uff1aisExist \uff0chasConflict \u3002</li> <li>\u5176\u4ed6\u4e00\u822c\u60c5\u51b5\u4e0b\u9996\u5355\u8bcd\u5168\u5c0f\u5199\uff0c\u5176\u540e\u5404\u5355\u8bcd\u9996\u5b57\u6bcd\u5927\u5199\u3002\u4f8b\u5982\uff1anumShips \u548c startDate \u3002</li> <li>\u82e5\u53d8\u91cf\u4e2d\u6709\u7279\u6709\u540d\u8bcd\uff08\u4ee5\u4e0b\u5217\u51fa\uff09\uff0c\u4e14\u53d8\u91cf\u4e3a\u79c1\u6709\uff0c\u5219\u9996\u5355\u8bcd\u8fd8\u662f\u4f7f\u7528\u5168\u5c0f\u5199\uff0c\u5982 <code>apiClient</code>\u3002</li> <li>\u82e5\u53d8\u91cf\u4e2d\u6709\u7279\u6709\u540d\u8bcd\uff08\u4ee5\u4e0b\u5217\u51fa\uff09\uff0c\u4f46\u53d8\u91cf\u4e0d\u662f\u79c1\u6709\uff0c\u90a3\u9996\u5355\u8bcd\u5c31\u8981\u53d8\u6210\u5168\u5927\u5199\u3002\u4f8b\u5982\uff1a<code>APIClient</code>\uff0c<code>URLString</code></li> </ol> <p>\u8fd9\u91cc\u5217\u4e3e\u4e86\u4e00\u4e9b\u5e38\u89c1\u7684\u7279\u6709\u540d\u8bcd\uff1a</p> <pre><code>// A GonicMapper that contains a list of common initialisms taken from golang/lint\nvar LintGonicMapper = GonicMapper{\n    \"API\":   true,\n    \"ASCII\": true,\n    \"CPU\":   true,\n    \"CSS\":   true,\n    \"DNS\":   true,\n    \"EOF\":   true,\n    \"GUID\":  true,\n    \"HTML\":  true,\n    \"HTTP\":  true,\n    \"HTTPS\": true,\n    \"ID\":    true,\n    \"IP\":    true,\n    \"JSON\":  true,\n    \"LHS\":   true,\n    \"QPS\":   true,\n    \"RAM\":   true,\n    \"RHS\":   true,\n    \"RPC\":   true,\n    \"SLA\":   true,\n    \"SMTP\":  true,\n    \"SSH\":   true,\n    \"TLS\":   true,\n    \"TTL\":   true,\n    \"UI\":    true,\n    \"UID\":   true,\n    \"UUID\":  true,\n    \"URI\":   true,\n    \"URL\":   true,\n    \"UTF8\":  true,\n    \"VM\":    true,\n    \"XML\":   true,\n    \"XSRF\":  true,\n    \"XSS\":   true,\n}\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#4","title":"4. \u51fd\u6570\u547d\u540d","text":"<ol> <li>\u51fd\u6570\u540d\u8fd8\u662f\u4f7f\u7528 \u9a7c\u5cf0\u547d\u540d\u6cd5</li> <li>\u4f46\u662f\u6709\u4e00\u70b9\u9700\u8981\u6ce8\u610f\uff0c\u5728 Golang \u4e2d\u662f\u7528\u5927\u5c0f\u5199\u6765\u63a7\u5236\u51fd\u6570\u7684\u53ef\u89c1\u6027\uff0c\u56e0\u6b64\u5f53\u4f60\u9700\u8981\u5728\u5305\u5916\u8bbf\u95ee\uff0c\u8bf7\u4f7f\u7528 \u5927\u5199\u5b57\u6bcd\u5f00\u5934</li> <li>\u5f53\u4f60\u4e0d\u9700\u8981\u5728\u5305\u5916\u8bbf\u95ee\uff0c\u8bf7\u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd\u5f00\u5934</li> </ol> <p>\u53e6\u5916\uff0c\u51fd\u6570\u5185\u90e8\u7684\u53c2\u6570\u7684\u6392\u5217\u987a\u5e8f\u4e5f\u6709\u51e0\u70b9\u539f\u5219</p> <ol> <li>\u53c2\u6570\u7684\u91cd\u8981\u7a0b\u5ea6\u8d8a\u9ad8\uff0c\u5e94\u6392\u5728\u8d8a\u524d\u9762</li> <li>\u7b80\u5355\u7684\u7c7b\u578b\u5e94\u4f18\u5148\u590d\u6742\u7c7b\u578b</li> <li>\u5c3d\u53ef\u80fd\u5c06\u540c\u79cd\u7c7b\u578b\u7684\u53c2\u6570\u653e\u5728\u76f8\u90bb\u4f4d\u7f6e\uff0c\u5219\u53ea\u9700\u5199\u4e00\u6b21\u7c7b\u578b</li> </ol>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#5","title":"5. \u63a5\u53e3\u547d\u540d","text":"<p>\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5\uff0c\u53ef\u4ee5\u7528 type alias \u6765\u5b9a\u4e49\u5927\u5199\u5f00\u5934\u7684 type \u7ed9\u5305\u5916\u8bbf\u95ee\u3002</p> <pre><code>type helloWorld interface {\n    func Hello();\n}\n\ntype SayHello helloWorld\n</code></pre> <p>\u5f53\u4f60\u7684\u63a5\u53e3\u53ea\u6709\u4e00\u4e2a\u51fd\u6570\u65f6\uff0c\u63a5\u53e3\u540d\u901a\u5e38\u4f1a\u4ee5 er \u4e3a\u540e\u7f00</p> <pre><code>type Reader interface {\n    Read(p []byte) (n int, err error)\n}\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#6","title":"6. \u6ce8\u91ca\u89c4\u8303","text":"<p>\u6ce8\u91ca\u5206\u4e3a</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#61","title":"6.1 \u5305\u6ce8\u91ca","text":"<ol> <li>\u4f4d\u4e8e package \u4e4b\u524d\uff0c\u5982\u679c\u4e00\u4e2a\u5305\u6709\u591a\u4e2a\u6587\u4ef6\uff0c\u53ea\u9700\u8981\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d\u7f16\u5199\u5373\u53ef</li> <li>\u5982\u679c\u4f60\u60f3\u5728\u6bcf\u4e2a\u6587\u4ef6\u4e2d\u7684\u5934\u90e8\u52a0\u4e0a\u6ce8\u91ca\uff0c\u9700\u8981\u5728\u7248\u6743\u6ce8\u91ca\u548c Package\u524d\u9762\u52a0\u4e00\u4e2a\u7a7a\u884c\uff0c\u5426\u5219\u7248\u6743\u6ce8\u91ca\u4f1a\u4f5c\u4e3aPackage\u7684\u6ce8\u91ca\u3002</li> </ol> <pre><code>// Copyright 2009 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\npackage net\n</code></pre> <ol> <li>\u5982\u679c\u662f\u7279\u522b\u590d\u6742\u7684\u5305\uff0c\u53ef\u5355\u72ec\u521b\u5efa doc.go \u6587\u4ef6\u8bf4\u660e</li> </ol>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#62","title":"6.2 \u4ee3\u7801\u6ce8\u91ca","text":"<p>\u7528\u4e8e\u89e3\u91ca\u4ee3\u7801\u903b\u8f91\uff0c\u53ef\u4ee5\u6709\u4e24\u79cd\u5199\u6cd5</p> <p>\u5355\u884c\u6ce8\u91ca\u4f7f\u7528 <code>//</code> \uff0c\u591a\u884c\u6ce8\u91ca\u4f7f\u7528 <code>/* comment */</code></p> <pre><code>// \u5355\u884c\u6ce8\u91ca\n\n/*\n\u591a\n\u884c\n\u6ce8\n\u91ca\n*/\n</code></pre> <p>\u53e6\u5916\uff0c\u5bf9\u4e8e\u4ee3\u7801\u6ce8\u91ca\u8fd8\u6709\u4e00\u4e9b\u66f4\u52a0\u82db\u523b\u7684\u8981\u6c42\uff0c\u8fd9\u4e2a\u770b\u4e2a\u4eba\u4e86\uff0c\u6458\u81ea\u7f51\u7edc\uff1a</p> <ul> <li> <p>\u6240\u6709\u5bfc\u51fa\u5bf9\u8c61\u90fd\u9700\u8981\u6ce8\u91ca\u8bf4\u660e\u5176\u7528\u9014\uff1b\u975e\u5bfc\u51fa\u5bf9\u8c61\u6839\u636e\u60c5\u51b5\u8fdb\u884c\u6ce8\u91ca\u3002</p> </li> <li> <p>\u5982\u679c\u5bf9\u8c61\u53ef\u6570\u4e14\u65e0\u660e\u786e\u6307\u5b9a\u6570\u91cf\u7684\u60c5\u51b5\u4e0b\uff0c\u4e00\u5f8b\u4f7f\u7528\u5355\u6570\u5f62\u5f0f\u548c\u4e00\u822c\u8fdb\u884c\u65f6\u63cf\u8ff0\uff1b\u5426\u5219\u4f7f\u7528\u590d\u6570\u5f62\u5f0f\u3002</p> </li> <li> <p>\u5305\u3001\u51fd\u6570\u3001\u65b9\u6cd5\u548c\u7c7b\u578b\u7684\u6ce8\u91ca\u8bf4\u660e\u90fd\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u53e5\u5b50\u3002</p> </li> <li> <p>\u53e5\u5b50\u7c7b\u578b\u7684\u6ce8\u91ca\u9996\u5b57\u6bcd\u5747\u9700\u5927\u5199\uff1b\u77ed\u8bed\u7c7b\u578b\u7684\u6ce8\u91ca\u9996\u5b57\u6bcd\u9700\u5c0f\u5199\u3002</p> </li> <li> <p>\u6ce8\u91ca\u7684\u5355\u884c\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7 80 \u4e2a\u5b57\u7b26\u3002</p> </li> <li> <p>\u7c7b\u578b\u7684\u5b9a\u4e49\u4e00\u822c\u90fd\u4ee5\u5355\u6570\u5f62\u5f0f\u63cf\u8ff0\uff1a</p> </li> </ul> <p><code>// Request represents a request to run a command.  type Request struct { ...</code></p> <ul> <li>\u5982\u679c\u4e3a\u63a5\u53e3\uff0c\u5219\u4e00\u822c\u4ee5\u4ee5\u4e0b\u5f62\u5f0f\u63cf\u8ff0\uff1a</li> </ul> <p><code>// FileInfo is the interface that describes a file and is returned by Stat and Lstat.   type FileInfo interface { ...</code></p> <ul> <li>\u51fd\u6570\u4e0e\u65b9\u6cd5\u7684\u6ce8\u91ca\u9700\u4ee5\u51fd\u6570\u6216\u65b9\u6cd5\u7684\u540d\u79f0\u4f5c\u4e3a\u5f00\u5934\uff1a</li> </ul> <p><code>// Post returns *BeegoHttpRequest with POST method.</code></p> <ul> <li>\u5982\u679c\u4e00\u53e5\u8bdd\u4e0d\u8db3\u4ee5\u8bf4\u660e\u5168\u90e8\u95ee\u9898\uff0c\u5219\u53ef\u6362\u884c\u7ee7\u7eed\u8fdb\u884c\u66f4\u52a0\u7ec6\u81f4\u7684\u63cf\u8ff0\uff1a</li> </ul> <p><code>// Copy copies file from source to target path.   // It returns false and error when error occurs in underlying function calls.</code></p> <ul> <li>\u82e5\u51fd\u6570\u6216\u65b9\u6cd5\u4e3a\u5224\u65ad\u7c7b\u578b\uff08\u8fd4\u56de\u503c\u4e3b\u8981\u4e3a <code>bool</code> \u7c7b\u578b\uff09\uff0c\u5219\u4ee5 <code>&lt;name&gt; returns true if</code> \u5f00\u5934\uff1a</li> </ul> <p><code>// HasPrefix returns true if name has any string in given slice as prefix.   func HasPrefix(name string, prefixes []string) bool { ...</code></p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#63","title":"6.3 \u7279\u522b\u6ce8\u91ca","text":"<ul> <li>TODO\uff1a\u63d0\u9192\u7ef4\u62a4\u4eba\u5458\u6b64\u90e8\u5206\u4ee3\u7801\u5f85\u5b8c\u6210</li> <li>FIXME\uff1a\u63d0\u9192\u7ef4\u62a4\u4eba\u5458\u6b64\u5904\u6709BUG\u5f85\u4fee\u590d</li> <li>NOTE\uff1a\u7ef4\u62a4\u4eba\u5458\u8981\u5173\u6ce8\u7684\u4e00\u4e9b\u95ee\u9898\u8bf4\u660e</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#7","title":"7. \u5305\u7684\u5bfc\u5165","text":"<p>\u5355\u884c\u7684\u5305\u5bfc\u5165</p> <pre><code>import \"fmt\"\n</code></pre> <p>\u591a\u4e2a\u5305\u5bfc\u5165\uff0c\u8bf7\u4f7f\u7528 <code>()</code> \u6765\u7ec4\u7ec7</p> <pre><code>import (\n  \"fmt\"\n  \"os\"\n)\n</code></pre> <p>\u53e6\u5916\u6839\u636e\u5305\u7684\u6765\u6e90\uff0c\u5bf9\u6392\u7248\u8fd8\u6709\u4e00\u5b9a\u7684\u8981\u6c42</p> <ol> <li>\u6807\u51c6\u5e93\u6392\u6700\u524d\u9762\uff0c\u7b2c\u4e09\u65b9\u5305\u6b21\u4e4b\u3001\u9879\u76ee\u5185\u7684\u5176\u5b83\u5305\u548c\u5f53\u524d\u5305\u7684\u5b50\u5305\u6392\u6700\u540e\uff0c\u6bcf\u79cd\u5206\u7c7b\u4ee5\u4e00\u7a7a\u884c\u5206\u9694\u3002</li> <li>\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\u6765\u5bfc\u5165\u5305\u3002</li> </ol> <pre><code>import (\n    \"fmt\"\n    \"html/template\"\n    \"net/http\"\n    \"os\"\n\n    \"github.com/codegangsta/cli\"\n    \"gopkg.in/macaron.v1\"\n\n    \"github.com/gogits/git\"\n    \"github.com/gogits/gfm\"\n\n    \"github.com/gogits/gogs/routers\"\n    \"github.com/gogits/gogs/routers/repo\"\n    \"github.com/gogits/gogs/routers/user\"\n)\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/go%E5%9F%BA%E7%A1%80/go%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#8-gofmt","title":"8. \u5584\u7528 gofmt","text":"<p>\u9664\u4e86\u547d\u540d\u89c4\u8303\u5916\uff0cGo \u8fd8\u6709\u5f88\u591a\u683c\u5f0f\u4e0a\u7684\u89c4\u8303\uff0c\u6bd4\u5982</p> <ol> <li>\u4f7f\u7528 tab \u8fdb\u884c\u7f29\u8fdb</li> <li>\u4e00\u884c\u6700\u957f\u4e0d\u8981\u8d85\u8fc7 80 \u4e2a\u5b57\u7b26</li> </ol> <p>\u56e0\u6b64\u5728\u683c\u5f0f\u4e0a\u7684\u95ee\u9898\uff0c\u4f60\u5927\u90e8\u5206\u90fd\u53ef\u4ee5\u653e\u5fc3\u4ea4\u7531 gofmt \u5e2e\u4f60\u8c03\u6574\u3002\u5173\u4e8e gofmt \u7684\u6587\u7ae0\u8fd8\u5728\u5199\uff0c\u5e94\u8be5\u8fd9\u4e24\u5929\u5c31\u4f1a\u66f4\u65b0\u3002\u4f60\u53ef\u4ee5\u8fc7\u4e24\u5929\u518d\u6765\u770b\u770b\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/go%E5%AE%89%E8%A3%85/","title":"Go\u5b89\u88c5","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/go%E5%AE%89%E8%A3%85/#_1","title":"\u73af\u5883\u5b89\u88c5\uff1a","text":"<ul> <li>\u53c2\u8003\uff1ahttps://www.runoob.com/go/go-environment.html</li> <li>\u53bb\u5b98\u7f51\u4e0b\u8f7d\u5408\u9002\u7684\u538b\u7f29\u5305 https://go.dev/dl/</li> <li>\u5c06\u4e0b\u8f7d\u7684\u4e8c\u8fdb\u5236\u5305\u89e3\u538b\u81f3 /usr/local\u76ee\u5f55\u3002<ul> <li>tar -C /usr/local -xzf go1.4.linux-amd64.tar.gz</li> </ul> </li> <li>\u5c06 /usr/local/go/bin \u76ee\u5f55\u6dfb\u52a0\u81f3 PATH \u73af\u5883\u53d8\u91cf\uff1a<ul> <li>export PATH=$PATH:/usr/local/go/bin</li> </ul> </li> <li>source\u6fc0\u6d3b \uff08\u6fc0\u6d3b\u540e\u53ef\u4ee5\u7528which go\u67e5\u770b\uff09<ul> <li>source /etc/bashrc </li> </ul> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/go%E5%AE%89%E8%A3%85/#_2","title":"\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/go%E5%AE%89%E8%A3%85/#1-gopath","title":"1. <code>GOPATH</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u6307\u5b9a Go \u5de5\u4f5c\u7a7a\u95f4\u7684\u8def\u5f84\u3002</li> <li>\u793a\u4f8b\uff1a<code>export GOPATH=$HOME/go</code></li> <li>\u8bf4\u660e\uff1a<code>GOPATH</code> \u5305\u542b\u4e86 Go \u7684\u6e90\u7801\u3001\u7f16\u8bd1\u540e\u7684\u5305\u548c\u53ef\u6267\u884c\u6587\u4ef6\u3002\u9ed8\u8ba4\u503c\u662f <code>$HOME/go</code>\u3002\u5728 Go modules \u73af\u5883\u4e0b\uff08\u5373 Go 1.11 \u53ca\u66f4\u9ad8\u7248\u672c\uff09\uff0c\u4e0d\u518d\u9700\u8981\u624b\u52a8\u8bbe\u7f6e <code>GOPATH</code>\uff0c\u9664\u975e\u4f60\u9700\u8981\u624b\u52a8\u7ba1\u7406\u9879\u76ee\u3002<ul> <li><code>GOPATH</code> \u662f Go \u7684\u5de5\u4f5c\u7a7a\u95f4\uff0c\u7528\u4e8e\u5b58\u653e Go \u4ee3\u7801\u548c\u6784\u5efa\u8f93\u51fa\u3002\u5728 <code>GOPATH</code> \u4e0b\uff0c\u9ed8\u8ba4\u4f1a\u6709\u4ee5\u4e0b\u4e09\u4e2a\u4e3b\u8981\u76ee\u5f55\uff1a</li> <li><code>src</code> \u76ee\u5f55<ul> <li>\u8def\u5f84\uff1a<code>$GOPATH/src</code></li> <li>\u8bf4\u660e\uff1a<code>src</code> \u76ee\u5f55\u7528\u4e8e\u5b58\u653e\u6e90\u7801\u6587\u4ef6\u3002\u9879\u76ee\u7684\u7ed3\u6784\u901a\u5e38\u6309 <code>import path</code> \u8def\u5f84\u7ec4\u7ec7\uff0c\u5982 <code>github.com/username/projectname</code>\uff0c\u4f1a\u5b58\u50a8\u5728 <code>src/github.com/username/projectname</code> \u4e0b\u3002</li> <li>\u5185\u5bb9\uff1a\u8be5\u76ee\u5f55\u4e0b\u5305\u542b <code>.go</code> \u6587\u4ef6\u3001\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u5305\u4ee5\u53ca\u9879\u76ee\u7684\u5176\u4ed6\u6e90\u6587\u4ef6\u3002</li> </ul> </li> <li><code>pkg</code> \u76ee\u5f55<ul> <li>\u8def\u5f84\uff1a<code>$GOPATH/pkg</code></li> <li>\u8bf4\u660e\uff1a<code>pkg</code> \u76ee\u5f55\u7528\u4e8e\u5b58\u653e\u7f16\u8bd1\u540e\u7684\u5305\u6587\u4ef6\u3002Go \u4f1a\u5c06 <code>src</code> \u4e2d\u7684\u6e90\u6587\u4ef6\u7f16\u8bd1\u6210\u4e8c\u8fdb\u5236\u5305\u6587\u4ef6\u5e76\u653e\u5728 <code>pkg</code> \u76ee\u5f55\u4e0b\uff0c\u4ee5\u4fbf\u5728\u4e0b\u4e00\u6b21\u6784\u5efa\u65f6\u590d\u7528\uff0c\u63d0\u9ad8\u6784\u5efa\u6548\u7387\u3002</li> <li>\u5185\u5bb9\uff1a<code>pkg</code> \u76ee\u5f55\u7ed3\u6784\u901a\u5e38\u4e3a <code>$GOPATH/pkg/&lt;OS&gt;_&lt;ARCH&gt;/</code>\uff0c\u5176\u4e2d <code>&lt;OS&gt;</code> \u548c <code>&lt;ARCH&gt;</code> \u5206\u522b\u8868\u793a\u64cd\u4f5c\u7cfb\u7edf\u548c\u67b6\u6784\uff0c\u6bd4\u5982 <code>linux_amd64</code>\u3002\u76ee\u5f55\u4e0b\u5b58\u653e <code>.a</code> \u6587\u4ef6\uff08\u5df2\u7f16\u8bd1\u7684 Go \u5305\uff09\u3002</li> </ul> </li> <li><code>bin</code> \u76ee\u5f55<ul> <li>\u8def\u5f84\uff1a<code>$GOPATH/bin</code></li> <li>\u8bf4\u660e\uff1a<code>bin</code> \u76ee\u5f55\u7528\u4e8e\u5b58\u653e\u7f16\u8bd1\u540e\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\u5bf9\u4e8e\u5e26 <code>main</code> \u5305\u7684 Go \u7a0b\u5e8f\uff0c\u7f16\u8bd1\u540e\u4f1a\u5728 <code>bin</code> \u76ee\u5f55\u751f\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u3002</li> <li>\u5185\u5bb9\uff1a\u5982\u679c\u9879\u76ee\u662f\u4e00\u4e2a CLI \u5de5\u5177\uff0c\u7f16\u8bd1\u5b8c\u6210\u540e\u4f1a\u5728 <code>bin</code> \u76ee\u5f55\u751f\u6210\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u540d\u79f0\u4e3a\u8be5\u5de5\u5177\u7684\u9879\u76ee\u540d\u79f0\u3002</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/go%E5%AE%89%E8%A3%85/#_3","title":"\u5176\u4ed6\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u5728 Go modules \u6a21\u5f0f\u4e0b\uff08Go 1.11 \u53ca\u4ee5\u4e0a\uff09\uff0c\u4e0d\u9700\u8981\u5c06\u9879\u76ee\u653e\u5728 <code>GOPATH/src</code> \u4e2d\uff0c\u53ef\u4ee5\u968f\u610f\u653e\u5728\u6587\u4ef6\u7cfb\u7edf\u7684\u4efb\u610f\u4f4d\u7f6e\u3002\u4f46 <code>GOPATH/bin</code> \u4ecd\u7136\u662f <code>go install</code> \u751f\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u9ed8\u8ba4\u8def\u5f84\u3002</li> <li> <p>\u5982\u679c <code>GOPATH</code> \u5305\u542b\u591a\u4e2a\u8def\u5f84\uff08\u7528 <code>:</code> \u5206\u9694\uff09\uff0cGo \u4f1a\u4f7f\u7528\u7b2c\u4e00\u4e2a\u8def\u5f84\u7684 <code>src</code>\u3001<code>pkg</code> \u548c <code>bin</code> \u76ee\u5f55\u3002</p> </li> </ul> <p>\u53c2\u8003\uff1ahttps://blog.csdn.net/wenbingy/article/details/136247596</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/go%E5%AE%89%E8%A3%85/#2-goroot","title":"2. <code>GOROOT</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u6307\u5b9a Go \u7684\u5b89\u88c5\u76ee\u5f55\u3002</li> <li>\u793a\u4f8b\uff1a<code>export GOROOT=/usr/local/go</code></li> <li>\u8bf4\u660e\uff1a\u4e00\u822c\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u4fee\u6539 <code>GOROOT</code>\uff0c\u9664\u975e\u4f60\u624b\u52a8\u5b89\u88c5\u4e86 Go\uff0c\u5e76\u4e14\u6ca1\u6709\u4f7f\u7528\u5305\u7ba1\u7406\u5de5\u5177\u81ea\u52a8\u914d\u7f6e\u3002</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/go%E5%AE%89%E8%A3%85/#3-gobin","title":"3. <code>GOBIN</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u6307\u5b9a\u7f16\u8bd1\u540e\u751f\u6210\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u5b58\u653e\u4f4d\u7f6e\u3002</li> <li>\u793a\u4f8b\uff1a<code>export GOBIN=$GOPATH/bin</code></li> <li>\u8bf4\u660e\uff1a\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e <code>GOBIN</code>\uff0cGo \u5c06\u9ed8\u8ba4\u5c06\u7f16\u8bd1\u540e\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u653e\u5728 <code>$GOPATH/bin</code> \u4e2d\u3002</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/go%E5%AE%89%E8%A3%85/#4-go111module","title":"4. <code>GO111MODULE</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u542f\u7528\u6216\u7981\u7528 Go modules\u3002</li> <li>\u503c\uff1a<ul> <li><code>on</code>\uff1a\u5f3a\u5236\u542f\u7528 Go modules\u3002</li> <li><code>off</code>\uff1a\u5f3a\u5236\u7981\u7528 Go modules\uff0c\u4f7f\u7528\u4f20\u7edf\u7684 <code>GOPATH</code> \u6a21\u5f0f\u3002</li> <li><code>auto</code>\uff08\u9ed8\u8ba4\uff09\uff1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u5305\u542b <code>go.mod</code> \u6587\u4ef6\u65f6\u542f\u7528 Go modules\uff0c\u5426\u5219\u7981\u7528\u3002</li> </ul> </li> <li>\u793a\u4f8b\uff1a<code>export GO111MODULE=on</code></li> <li>\u8bf4\u660e\uff1a\u5728 Go 1.16+ \u4e2d\uff0cGo modules \u5df2\u6210\u4e3a\u9ed8\u8ba4\u6a21\u5f0f\u3002</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/go/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/go%E5%AE%89%E8%A3%85/#5-goproxy","title":"5. <code>GOPROXY</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u8bbe\u7f6e Go modules \u7684\u4ee3\u7406\u5730\u5740\u3002</li> <li>\u793a\u4f8b\uff1a<code>export GOPROXY=https://goproxy.io,direct</code></li> <li>\u8bf4\u660e\uff1aGo \u901a\u8fc7 <code>GOPROXY</code> \u52a0\u901f\u4f9d\u8d56\u5305\u7684\u4e0b\u8f7d\uff0c\u5c24\u5176\u662f\u56fd\u5185\u73af\u5883\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982 <code>https://goproxy.cn</code> \u7b49\u56fd\u5185\u4ee3\u7406\u6765\u63d0\u5347\u901f\u5ea6\u3002</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%20lambda%EF%BC%88%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%EF%BC%89/","title":"Python lambda\uff08\u533f\u540d\u51fd\u6570\uff09","text":"<p><code>lambda</code>\u00a0\u5173\u952e\u5b57\u7528\u4e8e\u521b\u5efa\u5c0f\u5de7\u7684\u533f\u540d\u51fd\u6570\u3002\u4f8b\u5982<code>lambda\u00a0a,\u00a0b:\u00a0a+b</code>\u00a0\u51fd\u6570\u8fd4\u56de\u4e24\u4e2a\u53c2\u6570\u7684\u548c\u3002</p> <pre><code>&gt;&gt;&gt; f = lambda a,b:a+b\n&gt;&gt;&gt; f(2,3)\n5\n</code></pre> <p>Lambda \u51fd\u6570\u53ef\u7528\u4e8e\u4efb\u4f55\u9700\u8981\u51fd\u6570\u5bf9\u8c61\u7684\u5730\u65b9\u3002\u5728\u8bed\u6cd5\u4e0a\uff0c\u533f\u540d\u51fd\u6570\u53ea\u80fd\u662f\u5355\u4e2a\u8868\u8fbe\u5f0f\u3002\u5728\u8bed\u4e49\u4e0a\uff0c\u5b83\u53ea\u662f\u5e38\u89c4\u51fd\u6570\u5b9a\u4e49\u7684\u8bed\u6cd5\u7cd6\u3002\u4e0e\u5d4c\u5957\u51fd\u6570\u5b9a\u4e49\u4e00\u6837\uff0clambda \u51fd\u6570\u53ef\u4ee5\u5f15\u7528\u5305\u542b\u4f5c\u7528\u57df\u4e2d\u7684\u53d8\u91cf\uff1a</p> <pre><code>&gt;&gt;&gt; def make_incrementor(n):\n...     return lambda x: x + n\n...\n&gt;&gt;&gt; f = make_incrementor(42)\n&gt;&gt;&gt; f(0)\n42\n&gt;&gt;&gt; f(1)\n43\n</code></pre> <p>\u4e0a\u4f8b\u7528 lambda \u8868\u8fbe\u5f0f\u8fd4\u56de\u51fd\u6570\u3002\u8fd8\u53ef\u4ee5\u628a\u533f\u540d\u51fd\u6570\u7528\u4f5c\u4f20\u9012\u7684\u5b9e\u53c2\uff0c\u4f8b\u5982\u4e0b\u4f8b\u6839\u636e\u5355\u8bcd\u7684\u957f\u5ea6\u8fdb\u884c\u9006\u5e8f\u6392\u5e8f\uff1a</p> <pre><code>\n&gt;&gt;&gt; pairs = [(1, 'one'), (3, 'three'), (4, 'four')]\n&gt;&gt;&gt; pairs.sort(key=lambda pair: len(pair[1]), reverse=True)\n&gt;&gt;&gt; pairs\n[(3, 'three'), (4, 'four'), (1, 'one')]\n\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%20lambda%EF%BC%88%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%EF%BC%89/#_1","title":"\u53c2\u8003","text":"<ul> <li>\u5b98\u65b9\u8bf4\u660e\uff1a<ul> <li>https://docs.python.org/zh-cn/3.9/tutorial/controlflow.html#lambda-expressions</li> </ul> </li> <li>\u8be6\u7ec6\u8bf7\u53c2\u8003\uff1a<ul> <li>https://www.runoob.com/python3/python-lambda.html</li> </ul> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%20%E5%88%97%E8%A1%A8%E6%8E%A8%E5%AF%BC%E5%BC%8F/","title":"Python \u5217\u8868\u63a8\u5bfc\u5f0f","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%20%E5%88%97%E8%A1%A8%E6%8E%A8%E5%AF%BC%E5%BC%8F/#_1","title":"\u5217\u8868\u63a8\u5bfc\u5f0f","text":"<p>\u5217\u8868\u63a8\u5bfc\u5f0f\u521b\u5efa\u5217\u8868\u7684\u65b9\u5f0f\u66f4\u7b80\u6d01\u3002\u5e38\u89c1\u7684\u7528\u6cd5\u4e3a\uff0c\u5bf9\u5e8f\u5217\u6216\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u5e94\u7528\u67d0\u79cd\u64cd\u4f5c\uff0c\u7528\u751f\u6210\u7684\u7ed3\u679c\u521b\u5efa\u65b0\u7684\u5217\u8868\uff1b\u6216\u7528\u6ee1\u8db3\u7279\u5b9a\u6761\u4ef6\u7684\u5143\u7d20\u521b\u5efa\u5b50\u5e8f\u5217\u3002</p> <p>\u4f8b\u5982\uff0c\u521b\u5efa\u5e73\u65b9\u503c\u7684\u5217\u8868\uff1a</p> <pre><code>&gt;&gt;&gt; squares = []\n&gt;&gt;&gt; for x in range(10):\n...     squares.append(x**2)\n...\n&gt;&gt;&gt; squares\n[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]\n</code></pre> <p>\u6ce8\u610f\uff0c\u8fd9\u6bb5\u4ee3\u7801\u521b\u5efa\uff08\u6216\u8986\u76d6\uff09\u53d8\u91cf\u00a0<code>x</code>\uff0c\u8be5\u53d8\u91cf\u5728\u5faa\u73af\u7ed3\u675f\u540e\u4ecd\u7136\u5b58\u5728\u3002\u4e0b\u8ff0\u65b9\u6cd5\u53ef\u4ee5\u65e0\u526f\u4f5c\u7528\u5730\u8ba1\u7b97\u5e73\u65b9\u5217\u8868\uff1a</p> <pre><code>squares = list(map(lambda x: x**2, range(10)))\n</code></pre> <p>\u6216\u7b49\u4ef7\u4e8e\uff1a</p> <pre><code>squares = [x**2 for x in range(10)]\n</code></pre> <p>\u4e0a\u9762\u8fd9\u79cd\u5199\u6cd5\u66f4\u7b80\u6d01\u3001\u6613\u8bfb\u3002</p> <p>\u5217\u8868\u63a8\u5bfc\u5f0f\u7684\u65b9\u62ec\u53f7\u5185\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u540e\u9762\u4e3a\u4e00\u4e2a\u00a0<code>for</code>\u00a0\u5b50\u53e5\uff0c\u7136\u540e\uff0c\u662f\u96f6\u4e2a\u6216\u591a\u4e2a\u00a0<code>for</code>\u00a0\u6216\u00a0<code>if</code>\u00a0\u5b50\u53e5\u3002\u7ed3\u679c\u662f\u7531\u8868\u8fbe\u5f0f\u4f9d\u636e\u00a0<code>for</code>\u00a0\u548c\u00a0<code>if</code>\u00a0\u5b50\u53e5\u6c42\u503c\u8ba1\u7b97\u800c\u5f97\u51fa\u4e00\u4e2a\u65b0\u5217\u8868\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u4ee5\u4e0b\u5217\u8868\u63a8\u5bfc\u5f0f\u5c06\u4e24\u4e2a\u5217\u8868\u4e2d\u4e0d\u76f8\u7b49\u7684\u5143\u7d20\u7ec4\u5408\u8d77\u6765\uff1a</p> <pre><code>\n&gt;&gt;&gt; [(x, y) for x in [1,2,3] for y in [3,1,4] if x != y]\n[(1, 3), (1, 4), (2, 3), (2, 1), (2, 4), (3, 1), (3, 4)]\n\n\u7b49\u4ef7\u4e8e\uff1a\n\n&gt;&gt;&gt;\n\n&gt;&gt;&gt; combs = []\n&gt;&gt;&gt; for x in [1,2,3]:\n...     for y in [3,1,4]:\n...         if x != y:\n...             combs.append((x, y))\n...\n&gt;&gt;&gt; combs\n[(1, 3), (1, 4), (2, 3), (2, 1), (2, 4), (3, 1), (3, 4)]\n</code></pre> <p>\u6ce8\u610f\uff0c\u4e0a\u9762\u4e24\u6bb5\u4ee3\u7801\u4e2d\uff0c<code>for</code>\u00a0\u548c\u00a0<code>if</code>\u00a0\u7684\u987a\u5e8f\u76f8\u540c\u3002</p> <p>\u8868\u8fbe\u5f0f\u662f\u5143\u7ec4\uff08\u4f8b\u5982\u4e0a\u4f8b\u7684\u00a0<code>(x,\u00a0y)</code>\uff09\u65f6\uff0c\u5fc5\u987b\u52a0\u4e0a\u62ec\u53f7\uff1a</p> <pre><code>&gt;&gt;&gt; vec = [-4, -2, 0, 2, 4]\n&gt;&gt;&gt; # create a new list with the values doubled\n&gt;&gt;&gt; [x*2 for x in vec]\n[-8, -4, 0, 4, 8]\n&gt;&gt;&gt; # filter the list to exclude negative numbers\n&gt;&gt;&gt; [x for x in vec if x &gt;= 0]\n[0, 2, 4]\n&gt;&gt;&gt; # apply a function to all the elements\n&gt;&gt;&gt; [abs(x) for x in vec]\n[4, 2, 0, 2, 4]\n&gt;&gt;&gt; # call a method on each element\n&gt;&gt;&gt; freshfruit = ['  banana', '  loganberry ', 'passion fruit  ']\n&gt;&gt;&gt; [weapon.strip() for weapon in freshfruit]\n['banana', 'loganberry', 'passion fruit']\n&gt;&gt;&gt; # create a list of 2-tuples like (number, square)\n&gt;&gt;&gt; [(x, x**2) for x in range(6)]\n[(0, 0), (1, 1), (2, 4), (3, 9), (4, 16), (5, 25)]\n&gt;&gt;&gt; # the tuple must be parenthesized, otherwise an error is raised\n&gt;&gt;&gt; [x, x**2 for x in range(6)]\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n    [x, x**2 for x in range(6)]\n               ^\nSyntaxError: invalid syntax\n&gt;&gt;&gt; # flatten a list using a listcomp with two 'for'\n&gt;&gt;&gt; vec = [[1,2,3], [4,5,6], [7,8,9]]\n&gt;&gt;&gt; [num for elem in vec for num in elem]\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\n</code></pre> <p>\u5217\u8868\u63a8\u5bfc\u5f0f\u53ef\u4ee5\u4f7f\u7528\u590d\u6742\u7684\u8868\u8fbe\u5f0f\u548c\u5d4c\u5957\u51fd\u6570\uff1a</p> <pre><code>\n&gt;&gt;&gt; from math import pi\n&gt;&gt;&gt; [str(round(pi, i)) for i in range(1, 6)]\n['3.1', '3.14', '3.142', '3.1416', '3.14159']\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%20%E5%88%97%E8%A1%A8%E6%8E%A8%E5%AF%BC%E5%BC%8F/#_2","title":"\u53c2\u8003","text":"<ul> <li>https://docs.python.org/zh-cn/3.9/tutorial/datastructures.html#list-comprehensions</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%20%E7%9A%84%20filter%28%29%20%E5%87%BD%E6%95%B0/","title":"Python \u7684 filter() \u51fd\u6570","text":"<p>Python \u7684\u00a0<code>filter()</code>\u00a0\u51fd\u6570\u7528\u4e8e\u8fc7\u6ee4\u5e8f\u5217\uff0c\u4fdd\u7559\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\uff0c\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\u5bf9\u8c61\u3002\u4ee5\u4e0b\u662f\u5b83\u7684\u6838\u5fc3\u7528\u6cd5\u548c\u793a\u4f8b\uff1a</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%20%E7%9A%84%20filter%28%29%20%E5%87%BD%E6%95%B0/#_1","title":"\u57fa\u672c\u8bed\u6cd5","text":"<pre><code>filter(function, iterable)\n</code></pre> <ul> <li> <p>function\uff1a\u8fc7\u6ee4\u6761\u4ef6\u51fd\u6570\uff08\u82e5\u4e3a\u00a0<code>None</code>\uff0c\u5219\u8fc7\u6ee4\u6389\u00a0<code>iterable</code>\u00a0\u4e2d\u5224\u65ad\u4e3a\u00a0<code>False</code>\u00a0\u7684\u5143\u7d20\uff0c\u5982\u7a7a\u5b57\u7b26\u4e32\u3001<code>0</code>\u00a0\u7b49\uff09\u3002</p> </li> <li> <p>iterable\uff1a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff08\u5982\u5217\u8868\u3001\u5143\u7ec4\u7b49\uff09\u3002</p> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%20%E7%9A%84%20filter%28%29%20%E5%87%BD%E6%95%B0/#_2","title":"\u793a\u4f8b\u4ee3\u7801","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%20%E7%9A%84%20filter%28%29%20%E5%87%BD%E6%95%B0/#1","title":"1. \u8fc7\u6ee4\u5076\u6570","text":"<pre><code>numbers = [1, 2, 3, 4, 5, 6]\nresult = filter(lambda x: x % 2 == 0, numbers)\nprint(list(result))  # \u8f93\u51fa [2, 4, 6]\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%20%E7%9A%84%20filter%28%29%20%E5%87%BD%E6%95%B0/#2","title":"2. \u8fc7\u6ee4\u975e\u7a7a\u5b57\u7b26\u4e32","text":"<pre><code>words = [\"hello\", \"\", \"world\", None, \" \", \"python\"]\nresult = filter(None, words)  # \u8fc7\u6ee4\u6389\u7a7a\u5b57\u7b26\u4e32\u3001None\uff08\u4f46\u4fdd\u7559\u7a7a\u683c\" \"\uff09\nprint(list(result))  # \u8f93\u51fa ['hello', 'world', ' ', 'python']\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%20%E7%9A%84%20filter%28%29%20%E5%87%BD%E6%95%B0/#3","title":"3. \u81ea\u5b9a\u4e49\u8fc7\u6ee4\u51fd\u6570","text":"<pre><code>def is_positive(n):\n    return n &gt; 0\n\nnumbers = [-5, 10, 0, -3, 8]\nresult = filter(is_positive, numbers)\nprint(list(result))  # \u8f93\u51fa [10, 8]\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%20%E7%9A%84%20filter%28%29%20%E5%87%BD%E6%95%B0/#4","title":"4. \u8fc7\u6ee4\u5b57\u5178\u5217\u8868\u4e2d\u7684\u7279\u5b9a\u6570\u636e","text":"<pre><code>students = [\n    {\"name\": \"Alice\", \"age\": 20},\n    {\"name\": \"Bob\", \"age\": 17},\n    {\"name\": \"Charlie\", \"age\": 22}\n]\n# \u8fc7\u6ee4\u5e74\u9f84 &gt;=18 \u7684\u5b66\u751f\nadults = filter(lambda s: s[\"age\"] &gt;= 18, students)\nprint(list(adults))  # \u8f93\u51fa [{'name': 'Alice', 'age': 20}, {'name': 'Charlie', 'age': 22}]\n\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%20%E7%9A%84%20filter%28%29%20%E5%87%BD%E6%95%B0/#_3","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li> <p>\u8fd4\u56de\u8fed\u4ee3\u5668\uff1a<code>filter()</code>\u00a0\u8fd4\u56de\u7684\u662f\u8fed\u4ee3\u5668\uff08Python3\uff09\uff0c\u9700\u7528\u00a0<code>list()</code>\u3001<code>tuple()</code>\u00a0\u7b49\u8f6c\u6362\u4e3a\u5bb9\u5668\u7c7b\u578b\u624d\u80fd\u76f4\u63a5\u67e5\u770b\u7ed3\u679c\u3002</p> </li> <li> <p>\u51fd\u6570\u8fd4\u56de\u503c\uff1a\u4f20\u5165\u7684\u51fd\u6570\u5e94\u8fd4\u56de\u5e03\u5c14\u503c\uff08<code>True</code>/<code>False</code>\uff09\u3002\u975e\u5e03\u5c14\u503c\u65f6\uff0cPython \u4f1a\u5c1d\u8bd5\u9690\u5f0f\u8f6c\u6362\uff08\u5982\u975e\u96f6\u6570\u503c\u89c6\u4e3a\u00a0<code>True</code>\uff09\u3002</p> </li> <li> <p>\u6027\u80fd\u4f18\u5316\uff1a\u76f8\u6bd4\u00a0<code>for</code>\u00a0\u5faa\u73af\uff0c<code>filter()</code>\u00a0\u66f4\u7b80\u6d01\uff0c\u4f46\u5728\u590d\u6742\u903b\u8f91\u65f6\uff0c\u5217\u8868\u63a8\u5bfc\u5f0f\u53ef\u80fd\u66f4\u76f4\u89c2\uff1a</p> </li> </ol> <pre><code># \u7b49\u6548\u4e8e filter \u7684\u5217\u8868\u63a8\u5bfc\u5f0f\n[x for x in iterable if condition(x)]\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%E7%9A%84%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C/","title":"Python\u7684\u5f02\u6b65\u64cd\u4f5c","text":"<ul> <li>\u5b98\u65b9\u8bf4\u660e\uff1a<ul> <li>https://docs.python.org/zh-cn/3.12/library/asyncio-task.html</li> </ul> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%E7%BC%96%E7%A0%81%E9%A3%8E%E6%A0%BC/","title":"Python\u7f16\u7801\u98ce\u683c","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%E7%BC%96%E7%A0%81%E9%A3%8E%E6%A0%BC/#_1","title":"\u7f16\u7801\u98ce\u683c","text":"<p>\u73b0\u5728\u4f60\u5c06\u8981\u5199\u66f4\u957f\uff0c\u66f4\u590d\u6742\u7684 Python \u4ee3\u7801\uff0c\u662f\u65f6\u5019\u8ba8\u8bba\u4e00\u4e0b\u00a0\u4ee3\u7801\u98ce\u683c\u00a0\u4e86\u3002 \u5927\u591a\u6570\u8bed\u8a00\u90fd\u80fd\u4ee5\u4e0d\u540c\u7684\u98ce\u683c\u88ab\u7f16\u5199\uff08\u6216\u66f4\u51c6\u786e\u5730\u8bf4\uff0c\u88ab\u683c\u5f0f\u5316\uff09\uff1b\u6709\u4e9b\u6bd4\u5176\u4ed6\u7684\u66f4\u5177\u6709\u53ef\u8bfb\u6027\u3002 \u80fd\u8ba9\u5176\u4ed6\u4eba\u8f7b\u677e\u9605\u8bfb\u4f60\u7684\u4ee3\u7801\u603b\u662f\u4e00\u4e2a\u597d\u4e3b\u610f\uff0c\u91c7\u7528\u4e00\u79cd\u597d\u7684\u7f16\u7801\u98ce\u683c\u5bf9\u6b64\u6709\u5f88\u5927\u5e2e\u52a9\u3002</p> <p>Python \u9879\u76ee\u5927\u591a\u90fd\u9075\u5faa\u00a0PEP 8\u00a0\u7684\u98ce\u683c\u6307\u5357\uff1b\u5b83\u63a8\u884c\u7684\u7f16\u7801\u98ce\u683c\u6613\u4e8e\u9605\u8bfb\u3001\u8d4f\u5fc3\u60a6\u76ee\u3002Python \u5f00\u53d1\u8005\u5747\u5e94\u62bd\u65f6\u95f4\u6089\u5fc3\u7814\u8bfb\uff1b\u4ee5\u4e0b\u662f\u8be5\u63d0\u6848\u4e2d\u7684\u6838\u5fc3\u8981\u70b9\uff1a</p> <ul> <li> <p>\u7f29\u8fdb\uff0c\u7528 4 \u4e2a\u7a7a\u683c\uff0c\u4e0d\u8981\u7528\u5236\u8868\u7b26\u3002</p> <p>4 \u4e2a\u7a7a\u683c\u662f\u5c0f\u7f29\u8fdb\uff08\u66f4\u6df1\u5d4c\u5957\uff09\u548c\u5927\u7f29\u8fdb\uff08\u66f4\u6613\u9605\u8bfb\uff09\u4e4b\u95f4\u7684\u6298\u4e2d\u65b9\u6848\u3002\u5236\u8868\u7b26\u4f1a\u5f15\u8d77\u6df7\u4e71\uff0c\u6700\u597d\u522b\u7528\u3002</p> </li> <li> <p>\u6362\u884c\uff0c\u4e00\u884c\u4e0d\u8d85\u8fc7 79 \u4e2a\u5b57\u7b26\u3002</p> <p>\u8fd9\u6837\u6362\u884c\u7684\u5c0f\u5c4f\u9605\u8bfb\u4f53\u9a8c\u66f4\u597d\uff0c\u8fd8\u4fbf\u4e8e\u5728\u5927\u5c4f\u663e\u793a\u5668\u4e0a\u5e76\u6392\u9605\u8bfb\u591a\u4e2a\u4ee3\u7801\u6587\u4ef6\u3002</p> </li> <li> <p>\u7528\u7a7a\u884c\u5206\u9694\u51fd\u6570\u548c\u7c7b\uff0c\u53ca\u51fd\u6570\u5185\u8f83\u5927\u7684\u4ee3\u7801\u5757\u3002</p> </li> <li> <p>\u6700\u597d\u628a\u6ce8\u91ca\u653e\u5230\u5355\u72ec\u4e00\u884c\u3002</p> </li> <li> <p>\u4f7f\u7528\u6587\u6863\u5b57\u7b26\u4e32\u3002</p> </li> <li> <p>\u8fd0\u7b97\u7b26\u524d\u540e\u3001\u9017\u53f7\u540e\u8981\u7528\u7a7a\u683c\uff0c\u4f46\u4e0d\u8981\u76f4\u63a5\u5728\u62ec\u53f7\u5185\u4f7f\u7528\uff1a\u00a0<code>a\u00a0=\u00a0f(1,\u00a02)\u00a0+\u00a0g(3,\u00a04)</code>\u3002</p> </li> <li> <p>\u7c7b\u548c\u51fd\u6570\u7684\u547d\u540d\u8981\u4e00\u81f4\uff1b\u6309\u60ef\u4f8b\uff0c\u547d\u540d\u7c7b\u7528\u00a0<code>UpperCamelCase</code>\uff0c\u547d\u540d\u51fd\u6570\u4e0e\u65b9\u6cd5\u7528\u00a0<code>lowercase_with_underscores</code>\u3002\u547d\u540d\u65b9\u6cd5\u4e2d\u7b2c\u4e00\u4e2a\u53c2\u6570\u603b\u662f\u7528\u00a0<code>self</code>\u00a0(\u7c7b\u548c\u65b9\u6cd5\u8be6\u89c1\u00a0\u521d\u63a2\u7c7b)\u3002</p> </li> <li> <p>\u540c\u7406\uff0c\u5c31\u7b97\u591a\u8bed\u9605\u8bfb\u3001\u7ef4\u62a4\u4ee3\u7801\u7684\u53ef\u80fd\u518d\u5c0f\uff0c\u4e5f\u4e0d\u8981\u5728\u6807\u8bc6\u7b26\u4e2d\u4f7f\u7528\u975e ASCII \u5b57\u7b26\u3002</p> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%E7%BC%96%E7%A0%81%E9%A3%8E%E6%A0%BC/#_2","title":"\u53c2\u8003\uff1a","text":"<ul> <li>https://docs.python.org/zh-cn/3.9/tutorial/controlflow.html#intermezzo-coding-style</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%E8%A7%A3%E5%8C%85%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8%2A%E6%88%96%2A%2A/","title":"Python\u89e3\u5305\u53c2\u6570\u5217\u8868*\u6216**","text":"<p>\u53c2\u6570\u7684\u89e3\u5305(\u62c6\u5305)\uff1a \u4f8b\u5982\u4f20\u9012\u5b9e\u53c2\u65f6\uff0c\u53ef\u4ee5\u5728\u5e8f\u5217\u7c7b\u578b\u7684\u53c2\u6570\u524d\u6dfb\u52a0\u661f\u53f7\uff0c \u8fd9\u6837\u4ed6\u4f1a\u81ea\u52a8\u5c06\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\u4f9d\u6b21\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012 \u5b98\u65b9\u7684\u89e3\u91ca\uff1a - https://docs.python.org/zh-cn/3.9/tutorial/controlflow.html#unpacking-argument-lists</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%E8%A7%A3%E5%8C%85%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8%2A%E6%88%96%2A%2A/#_1","title":"\u89e3\u5305\u5217\u8868\u6216\u5143\u7ec4 *","text":"<pre><code>a = [1, 10]\na = (1, 10)\nprint(*a)  # \u76f8\u5f53\u4e8eprint(1, 10)\nprint(list(range(*a)))  # \u76f8\u5f53\u4e8eprint(list(range(1, 10)))\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%E8%A7%A3%E5%8C%85%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8%2A%E6%88%96%2A%2A/#_2","title":"\u89e3\u5305\u5b57\u5178 **","text":"<pre><code>def linear(x, k, b=0):\n    return k * x + b\n\n\na = {'x': 2, 'k': 3}\nprint(linear(**a))  # \u76f8\u5f53\u4e8e print(linear(x=2, k=3))\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%E8%A7%A3%E5%8C%85%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8%2A%E6%88%96%2A%2A/#_3","title":"\u53d8\u91cf\u89e3\u5305","text":"<pre><code>data = [1, 2, 3, 4, 5]\nfirst, *middle, last = data\nprint(first)\nprint(middle)\nprint(last)\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/Python%E8%A7%A3%E5%8C%85%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8%2A%E6%88%96%2A%2A/#_4","title":"\u53c2\u8003","text":"<ul> <li>https://blog.csdn.net/lly1122334/article/details/106994678</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/","title":"Python\u6392\u5e8f","text":"<p><code>sort()</code> \u548c <code>sorted()</code> \u662f Python \u4e2d\u7528\u4e8e\u6392\u5e8f\u7684\u4e24\u4e2a\u4e3b\u8981\u51fd\u6570\uff0c\u5b83\u4eec\u529f\u80fd\u76f8\u4f3c\u4f46\u7528\u9014\u7565\u6709\u4e0d\u540c\u3002\u4e0b\u9762\u662f\u8be6\u7ec6\u8bf4\u660e\uff1a</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#sort-sorted","title":"\u2705 \u4e00\u3001\u5171\u540c\u70b9\uff08sort \u4e0e sorted \u90fd\u9002\u7528\uff09\uff1a","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#_1","title":"\u53c2\u6570\u8bf4\u660e\uff1a","text":"<ul> <li> <p><code>key</code>\uff1a\u6307\u5b9a\u4e00\u4e2a\u51fd\u6570\uff0c\u6392\u5e8f\u65f6\u4f1a\u7528\u8be5\u51fd\u6570\u4f5c\u7528\u4e8e\u6bcf\u4e2a\u5143\u7d20\u8fdb\u884c\u6bd4\u8f83\u3002</p> </li> <li> <p><code>reverse</code>\uff1a\u662f\u5426\u964d\u5e8f\u6392\u5e8f\uff0c<code>True</code> \u8868\u793a\u964d\u5e8f\uff0c\u9ed8\u8ba4\u662f <code>False</code>\uff08\u5347\u5e8f\uff09\u3002</p> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#_2","title":"\u793a\u4f8b\uff1a","text":"<pre><code>data = ['apple', 'banana', 'cherry']\nsorted(data, key=len)  # \u6309\u5b57\u7b26\u4e32\u957f\u5ea6\u6392\u5e8f\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#listsort","title":"\ud83d\udd37 \u4e8c\u3001<code>list.sort()</code> \u65b9\u6cd5","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#_3","title":"\u2705 \u8bf4\u660e\uff1a","text":"<ul> <li> <p>\u53ea\u80fd\u7528\u4e8e\u5217\u8868\uff08list\uff09\u5bf9\u8c61\uff1b</p> </li> <li> <p>\u539f\u5730\u6392\u5e8f\uff1a\u4f1a\u6539\u53d8\u539f\u59cb\u5217\u8868\uff0c\u8fd4\u56de\u503c\u4e3a <code>None</code>\u3002</p> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#_4","title":"\ud83d\udccc \u8bed\u6cd5\uff1a","text":"<pre><code>list.sort(key=None, reverse=False)\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#_5","title":"\ud83d\udccc \u793a\u4f8b\uff1a","text":"<pre><code>nums = [3, 1, 4, 1, 5]\nnums.sort()               # \u5347\u5e8f\u6392\u5e8f\nprint(nums)               # [1, 1, 3, 4, 5]\n\nnums.sort(reverse=True)   # \u964d\u5e8f\u6392\u5e8f\nprint(nums)               # [5, 4, 3, 1, 1]\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#_6","title":"\u26a0\ufe0f \u6ce8\u610f\uff1a","text":"<pre><code>res = nums.sort()\nprint(res)  # None\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#sorted","title":"\ud83d\udd37 \u4e09\u3001<code>sorted()</code> \u51fd\u6570","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#_7","title":"\u2705 \u8bf4\u660e\uff1a","text":"<ul> <li> <p>\u9002\u7528\u4e8e\u4efb\u4f55\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff08\u5982 list\u3001tuple\u3001dict\u3001set\u3001string \u7b49\uff09\uff1b</p> </li> <li> <p>\u4e0d\u4f1a\u6539\u53d8\u539f\u59cb\u5bf9\u8c61\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u6392\u5e8f\u7ed3\u679c\u5217\u8868\u3002</p> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#_8","title":"\ud83d\udccc \u8bed\u6cd5\uff1a","text":"<pre><code>sorted(iterable, key=None, reverse=False)\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#_9","title":"\ud83d\udccc \u793a\u4f8b\uff1a","text":"<pre><code>nums = [3, 1, 4, 1, 5]\nnew_nums = sorted(nums)\nprint(nums)      # \u539f\u59cb\u5217\u8868\u4e0d\u53d8: [3, 1, 4, 1, 5]\nprint(new_nums)  # \u8fd4\u56de\u65b0\u5217\u8868:   [1, 1, 3, 4, 5]\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#key","title":"\ud83d\udd36 \u56db\u3001\u4f7f\u7528 key \u81ea\u5b9a\u4e49\u6392\u5e8f\u89c4\u5219","text":"<pre><code>words = ['apple', 'Banana', 'cherry', 'date']\n\n# \u6309\u957f\u5ea6\u6392\u5e8f\nprint(sorted(words, key=len))  # ['date', 'apple', 'Banana', 'cherry']\n\n# \u5ffd\u7565\u5927\u5c0f\u5199\u6392\u5e8f\nprint(sorted(words, key=str.lower))  # ['apple', 'Banana', 'cherry', 'date']\n\n# \u5bf9\u5b57\u5178\u6392\u5e8f\uff08\u6309\u503c\uff09\nd = {'a': 3, 'b': 1, 'c': 2}\nprint(sorted(d.items(), key=lambda x: x[1]))  # [('b', 1), ('c', 2), ('a', 3)]\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%8E%92%E5%BA%8F/#_10","title":"\ud83d\udd3b \u4e94\u3001\u603b\u7ed3\u5bf9\u6bd4\u8868\u683c\uff1a","text":"\u7279\u6027 <code>sort()</code> <code>sorted()</code> \u7c7b\u578b\u9650\u5236 \u53ea\u80fd\u7528\u4e8e <code>list</code> \u53ef\u7528\u4e8e\u4efb\u610f\u53ef\u8fed\u4ee3\u5bf9\u8c61 \u662f\u5426\u6539\u53d8\u539f\u59cb\u5bf9\u8c61 \u662f\uff08\u5c31\u5730\u6392\u5e8f\uff09 \u5426\uff08\u8fd4\u56de\u65b0\u5217\u8868\uff09 \u8fd4\u56de\u503c <code>None</code> \u65b0\u7684\u5df2\u6392\u5e8f\u5217\u8868 \u6027\u80fd \u7a0d\u5feb\uff08\u5c31\u5730\u6392\u5e8f\uff09 \u7a0d\u6162\uff08\u521b\u5efa\u65b0\u5bf9\u8c61\uff09"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6-unittest/","title":"Python\u6d4b\u8bd5\u6846\u67b6 unittest","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6-unittest/#_1","title":"\u8bf4\u660e","text":"<p>\u6d4b\u8bd5\u60a8\u7684\u4ee3\u7801\u975e\u5e38\u91cd\u8981\u3002</p> <p>\u5e38\u5e38\u5c06\u6d4b\u8bd5\u4ee3\u7801\u548c\u8fd0\u884c\u4ee3\u7801\u4e00\u8d77\u5199\u662f\u4e00\u79cd\u975e\u5e38\u597d\u7684\u4e60\u60ef\u3002 \u806a\u660e\u5730\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\u5c06\u4f1a\u5e2e\u52a9\u60a8\u66f4\u52a0\u7cbe\u786e\u5730\u5b9a\u4e49\u4ee3\u7801\u7684\u542b\u4e49\uff0c\u5e76\u4e14\u4ee3\u7801\u7684\u8026\u5408\u6027\u66f4\u4f4e\u3002</p> <p>\u8fd9\u8fb9\u4ecbunittest\u6846\u67b6\uff1ahttps://docs.python.org/zh-cn/3.9/library/unittest.html</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6-unittest/#unittest","title":"unittest\u6846\u67b6\u57fa\u7840","text":"<p><code>unittest</code>\u00a0\u5305\u62ecPython\u6807\u51c6\u5e93\u4e2d\u7684\u6d4b\u8bd5\u6a21\u578b\u3002</p> <p>\u8fd9\u662f\u4e00\u6bb5\u7b80\u77ed\u7684\u4ee3\u7801\uff0c\u6765\u6d4b\u8bd5\u4e09\u79cd\u5b57\u7b26\u4e32\u65b9\u6cd5:</p> <pre><code>import unittest\n\nclass TestStringMethods(unittest.TestCase):\n\n    def test_upper(self):\n        self.assertEqual('foo'.upper(), 'FOO')\n\n    def test_isupper(self):\n        self.assertTrue('FOO'.isupper())\n        self.assertFalse('Foo'.isupper())\n\n    def test_split(self):\n        s = 'hello world'\n        self.assertEqual(s.split(), ['hello', 'world'])\n        # check that s.split fails when the separator is not a string\n        with self.assertRaises(TypeError):\n            s.split(2)\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre> <p>\u7ee7\u627f\u00a0<code>unittest.TestCase</code>\u00a0\u5c31\u521b\u5efa\u4e86\u4e00\u4e2a\u6d4b\u8bd5\u6837\u4f8b\u3002\u4e0a\u8ff0\u4e09\u4e2a\u72ec\u7acb\u7684\u6d4b\u8bd5\u662f\u4e09\u4e2a\u7c7b\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u7684\u547d\u540d\u90fd\u4ee5\u00a0<code>test</code>\u00a0\u5f00\u5934\u3002 \u8fd9\u4e2a\u547d\u540d\u7ea6\u5b9a\u544a\u8bc9\u6d4b\u8bd5\u8fd0\u884c\u8005\u7c7b\u7684\u54ea\u4e9b\u65b9\u6cd5\u8868\u793a\u6d4b\u8bd5\u3002</p> <p>\u6bcf\u4e2a\u6d4b\u8bd5\u7684\u5173\u952e\u662f\uff1a\u8c03\u7528\u00a0<code>assertEqual()</code>\u00a0\u6765\u68c0\u67e5\u9884\u671f\u7684\u8f93\u51fa\uff1b \u8c03\u7528\u00a0<code>assertTrue()</code>\u00a0\u6216\u00a0<code>assertFalse()</code>\u00a0\u6765\u9a8c\u8bc1\u4e00\u4e2a\u6761\u4ef6\uff1b\u8c03\u7528\u00a0<code>assertRaises()</code>\u00a0\u6765\u9a8c\u8bc1\u629b\u51fa\u4e86\u4e00\u4e2a\u7279\u5b9a\u7684\u5f02\u5e38\u3002\u4f7f\u7528\u8fd9\u4e9b\u65b9\u6cd5\u800c\u4e0d\u662f\u00a0<code>assert</code>\u00a0\u8bed\u53e5\u662f\u4e3a\u4e86\u8ba9\u6d4b\u8bd5\u8fd0\u884c\u8005\u80fd\u805a\u5408\u6240\u6709\u7684\u6d4b\u8bd5\u7ed3\u679c\u5e76\u4ea7\u751f\u7ed3\u679c\u62a5\u544a\u3002</p> <p>\u901a\u8fc7\u00a0<code>setUp()</code>\u00a0\u548c\u00a0<code>tearDown()</code>\u00a0\u65b9\u6cd5\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u6d4b\u8bd5\u5f00\u59cb\u524d\u4e0e\u5b8c\u6210\u540e\u9700\u8981\u6267\u884c\u7684\u6307\u4ee4\u3002 \u5728\u00a0\u7ec4\u7ec7\u4f60\u7684\u6d4b\u8bd5\u4ee3\u7801\u00a0\u4e2d\uff0c\u5bf9\u6b64\u6709\u66f4\u4e3a\u8be6\u7ec6\u7684\u63cf\u8ff0\u3002</p> <p>\u6700\u540e\u7684\u4ee3\u7801\u5757\u4e2d\uff0c\u6f14\u793a\u4e86\u8fd0\u884c\u6d4b\u8bd5\u7684\u4e00\u4e2a\u7b80\u5355\u7684\u65b9\u6cd5\u3002\u00a0<code>unittest.main()</code>\u00a0\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6d4b\u8bd5\u811a\u672c\u7684\u547d\u4ee4\u884c\u63a5\u53e3\u3002\u5f53\u5728\u547d\u4ee4\u884c\u8fd0\u884c\u8be5\u6d4b\u8bd5\u811a\u672c\uff0c\u4e0a\u6587\u7684\u811a\u672c\u751f\u6210\u5982\u4ee5\u4e0b\u683c\u5f0f\u7684\u8f93\u51fa:</p> <pre><code>...\n----------------------------------------------------------------------\nRan 3 tests in 0.000s\n\nOK\n</code></pre> <p>\u5728\u8c03\u7528\u6d4b\u8bd5\u811a\u672c\u65f6\u6dfb\u52a0\u00a0<code>-v</code>\u00a0\u53c2\u6570\u4f7f\u00a0<code>unittest.main()</code>\u00a0\u663e\u793a\u66f4\u4e3a\u8be6\u7ec6\u7684\u4fe1\u606f\uff0c\u751f\u6210\u5982\u4ee5\u4e0b\u5f62\u5f0f\u7684\u8f93\u51fa:</p> <pre><code>test_isupper (__main__.TestStringMethods) ... ok\ntest_split (__main__.TestStringMethods) ... ok\ntest_upper (__main__.TestStringMethods) ... ok\n\n----------------------------------------------------------------------\nRan 3 tests in 0.001s\n\nOK\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6-unittest/#unittest_1","title":"unittest\u547d\u4ee4\u884c\u63a5\u53e3","text":"<p>Unittest\u652f\u6301\u7b80\u5355\u7684\u6d4b\u8bd5\u641c\u7d22\u3002\u82e5\u9700\u8981\u4f7f\u7528\u63a2\u7d22\u6027\u6d4b\u8bd5\uff0c\u6240\u6709\u7684\u6d4b\u8bd5\u6587\u4ef6\u5fc5\u987b\u662f\u00a0modules\u00a0\u6216\u00a0packages\u00a0\uff08\u5305\u62ec\u00a0namespace packages\u00a0)\u5e76\u53ef\u4ece\u9879\u76ee\u6839\u76ee\u5f55\u5bfc\u5165\uff08\u5373\u5b83\u4eec\u7684\u6587\u4ef6\u540d\u5fc5\u987b\u662f\u6709\u6548\u7684\u00a0identifiers\u00a0\uff09\u3002</p> <p>\u63a2\u7d22\u6027\u6d4b\u8bd5\u5728\u00a0<code>TestLoader.discover()</code>\u00a0\u4e2d\u5b9e\u73b0\uff0c\u4f46\u4e5f\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u4f7f\u7528\u3002\u5b83\u5728\u547d\u4ee4\u884c\u4e2d\u7684\u57fa\u672c\u7528\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>cd project_directory\npython -m unittest discover\n\n</code></pre> <p>\u6ce8\u89e3</p> <p>\u65b9\u4fbf\u8d77\u89c1\uff0c\u00a0<code>python\u00a0-m\u00a0unittest</code>\u00a0\u4e0e\u00a0<code>python\u00a0-m\u00a0unittest\u00a0discover</code>\u00a0\u7b49\u4ef7\u3002\u5982\u679c\u4f60\u9700\u8981\u5411\u63a2\u7d22\u6027\u6d4b\u8bd5\u4f20\u5165\u53c2\u6570\uff0c\u5fc5\u987b\u663e\u5f0f\u5730\u4f7f\u7528\u00a0<code>discover</code>\u00a0\u5b50\u547d\u4ee4\u3002</p> <p><code>discover</code>\u00a0\u6709\u4ee5\u4e0b\u9009\u9879\uff1a</p> <p>[!NOTE] <code>-v``,</code> <code>--verbose</code></p> <p>\u66f4\u8be6\u7ec6\u5730\u8f93\u51fa\u7ed3\u679c\u3002</p> <p><code>-s``,</code> <code>--start-directory</code> <code>directory</code></p> <p>\u5f00\u59cb\u8fdb\u884c\u641c\u7d22\u7684\u76ee\u5f55(\u9ed8\u8ba4\u503c\u4e3a\u5f53\u524d\u76ee\u5f55\u00a0<code>.</code>\u00a0)\u3002</p> <p><code>-p``,</code> <code>--pattern</code> <code>pattern</code></p> <p>\u7528\u4e8e\u5339\u914d\u6d4b\u8bd5\u6587\u4ef6\u7684\u6a21\u5f0f\uff08\u9ed8\u8ba4\u4e3a\u00a0<code>test*.py</code>\u00a0\uff09\u3002</p> <p><code>-t``,</code> <code>--top-level-directory</code> <code>directory</code></p> <p>\u6307\u5b9a\u9879\u76ee\u7684\u6700\u4e0a\u5c42\u76ee\u5f55\uff08\u901a\u5e38\u4e3a\u5f00\u59cb\u65f6\u6240\u5728\u76ee\u5f55\uff09\u3002</p> <p><code>-s</code>\u00a0\uff0c<code>-p</code>\u00a0\u548c\u00a0<code>-t</code>\u00a0\u9009\u9879\u53ef\u4ee5\u6309\u987a\u5e8f\u4f5c\u4e3a\u4f4d\u7f6e\u53c2\u6570\u4f20\u5165\u3002\u4ee5\u4e0b\u4e24\u6761\u547d\u4ee4\u662f\u7b49\u4ef7\u7684\uff1a</p> <pre><code>python -m unittest discover -s project_directory -p \"*_test.py\"\npython -m unittest discover project_directory \"*_test.py\"\n</code></pre> <p>\u6b63\u5982\u53ef\u4ee5\u4f20\u5165\u8def\u5f84\u90a3\u6837\uff0c\u4f20\u5165\u4e00\u4e2a\u5305\u540d\u4f5c\u4e3a\u8d77\u59cb\u76ee\u5f55\u4e5f\u662f\u53ef\u884c\u7684\uff0c\u5982\u00a0<code>myproject.subpackage.test</code>\u00a0\u3002\u4f60\u63d0\u4f9b\u7684\u5305\u540d\u4f1a\u88ab\u5bfc\u5165\uff0c\u5b83\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u4f4d\u7f6e\u4f1a\u88ab\u4f5c\u4e3a\u8d77\u59cb\u76ee\u5f55\u3002</p> <p>\u8b66\u544a</p> <p>[!NOTE] \u63a2\u7d22\u6027\u6d4b\u8bd5\u901a\u8fc7\u5bfc\u5165\u6d4b\u8bd5\u5bf9\u6d4b\u8bd5\u8fdb\u884c\u52a0\u8f7d\u3002\u5728\u627e\u5230\u6240\u6709\u4f60\u6307\u5b9a\u7684\u5f00\u59cb\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6d4b\u8bd5\u6587\u4ef6\u540e\uff0c\u5b83\u628a\u8def\u5f84\u8f6c\u6362\u4e3a\u5305\u540d\u5e76\u8fdb\u884c\u5bfc\u5165\u3002\u5982\u00a0<code>foo/bar/baz.py</code>\u00a0\u4f1a\u88ab\u5bfc\u5165\u4e3a\u00a0<code>foo.bar.baz</code>\u00a0\u3002</p> <p>\u5982\u679c\u4f60\u6709\u4e00\u4e2a\u5168\u5c40\u5b89\u88c5\u7684\u5305\uff0c\u5e76\u5c1d\u8bd5\u5bf9\u8fd9\u4e2a\u5305\u7684\u526f\u672c\u8fdb\u884c\u63a2\u7d22\u6027\u6d4b\u8bd5\uff0c\u53ef\u80fd\u4f1a\u4ece\u9519\u8bef\u7684\u5730\u65b9\u5f00\u59cb\u5bfc\u5165\u3002\u5982\u679c\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u6d4b\u8bd5\u4f1a\u8f93\u51fa\u8b66\u544a\u5e76\u9000\u51fa\u3002</p> <p>\u5982\u679c\u4f60\u4f7f\u7528\u5305\u540d\u800c\u4e0d\u662f\u8def\u5f84\u4f5c\u4e3a\u5f00\u59cb\u76ee\u5f55\uff0c\u641c\u7d22\u65f6\u4f1a\u5047\u5b9a\u5b83\u5bfc\u5165\u7684\u662f\u4f60\u60f3\u8981\u7684\u76ee\u5f55\uff0c\u6240\u4ee5\u4f60\u4e0d\u4f1a\u6536\u5230\u8b66\u544a\u3002</p> <p>\u6d4b\u8bd5\u6a21\u5757\u548c\u5305\u53ef\u4ee5\u901a\u8fc7\u00a0load_tests protocol\u00a0\u81ea\u5b9a\u4e49\u6d4b\u8bd5\u7684\u52a0\u8f7d\u548c\u641c\u7d22\u3002</p> <p>\u5728 3.4 \u7248\u66f4\u6539:\u00a0\u6d4b\u8bd5\u53d1\u73b0\u652f\u6301\u521d\u59cb\u76ee\u5f55\u4e0b\u7684\u00a0\u547d\u540d\u7a7a\u95f4\u5305\u3002\u6ce8\u610f\u4f60\u4e5f\u9700\u8981\u6307\u5b9a\u9876\u5c42\u76ee\u5f55\uff08\u4f8b\u5982\uff1a<code>python\u00a0-m\u00a0unittest\u00a0discover\u00a0-s\u00a0root/namespace\u00a0-t\u00a0root</code>\uff09\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6-unittest/#_2","title":"\u65ad\u8a00\u65b9\u6cd5","text":"<p><code>TestCase</code>\u00a0\u7c7b\u63d0\u4f9b\u4e86\u4e00\u4e9b\u65ad\u8a00\u65b9\u6cd5\u7528\u4e8e\u68c0\u67e5\u5e76\u62a5\u544a\u5931\u8d25\u3002 \u4e0b\u8868\u5217\u51fa\u4e86\u6700\u5e38\u7528\u7684\u65b9\u6cd5\uff08\u8bf7\u67e5\u770b\u4e0b\u6587\u7684\u5176\u4ed6\u8868\u6765\u4e86\u89e3\u66f4\u591a\u7684\u65ad\u8a00\u65b9\u6cd5\uff09:</p> \u65b9\u6cd5 \u68c0\u67e5\u5bf9\u8c61 \u5f15\u5165\u7248\u672c <code>assertEqual(a,\u00a0b)</code> <code>a\u00a0==\u00a0b</code> <code>assertNotEqual(a,\u00a0b)</code> <code>a\u00a0!=\u00a0b</code> <code>assertTrue(x)</code> <code>bool(x)\u00a0is\u00a0True</code> <code>assertFalse(x)</code> <code>bool(x)\u00a0is\u00a0False</code> <code>assertIs(a,\u00a0b)</code> <code>a\u00a0is\u00a0b</code> 3.1 <code>assertIsNot(a,\u00a0b)</code> <code>a\u00a0is\u00a0not\u00a0b</code> 3.1 <code>assertIsNone(x)</code> <code>x\u00a0is\u00a0None</code> 3.1 <code>assertIsNotNone(x)</code> <code>x\u00a0is\u00a0not\u00a0None</code> 3.1 <code>assertIn(a,\u00a0b)</code> <code>a\u00a0in\u00a0b</code> 3.1 <code>assertNotIn(a,\u00a0b)</code> <code>a\u00a0not\u00a0in\u00a0b</code> 3.1 <code>assertIsInstance(a,\u00a0b)</code> <code>isinstance(a,\u00a0b)</code> 3.2 <code>assertNotIsInstance(a,\u00a0b)</code> <code>not\u00a0isinstance(a,\u00a0b)</code> 3.2 <p>\u8fd9\u4e9b\u65ad\u8a00\u65b9\u6cd5\u90fd\u652f\u6301\u00a0msg\u00a0\u53c2\u6570\uff0c\u5982\u679c\u6307\u5b9a\u4e86\u8be5\u53c2\u6570\uff0c\u5b83\u5c06\u88ab\u7528\u4f5c\u6d4b\u8bd5\u5931\u8d25\u65f6\u7684\u9519\u8bef\u6d88\u606f (\u53e6\u8bf7\u53c2\u9605\u00a0<code>longMessage</code>)\u3002 \u8bf7\u6ce8\u610f\u5c06\u00a0msg\u00a0\u5173\u952e\u5b57\u53c2\u6570\u4f20\u7ed9\u00a0<code>assertRaises()</code>,\u00a0<code>assertRaisesRegex()</code>,\u00a0<code>assertWarns()</code>,\u00a0<code>assertWarnsRegex()</code>\u00a0\u7684\u524d\u63d0\u662f\u5b83\u4eec\u5fc5\u987b\u88ab\u7528\u4f5c\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C/","title":"Python\u96c6\u5408\u64cd\u4f5c","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C/#_1","title":"\u4e00\u3001\u96c6\u5408\u8fd0\u7b97\u7b26/\u65b9\u6cd5\u8be6\u89e3","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C/#union","title":"\u2705 \u5e76\u96c6\uff08union\uff09","text":"\u8bf4\u660e \u4e24\u4e2a\u96c6\u5408\u4e2d\u6240\u6709\u4e0d\u91cd\u590d\u7684\u5143\u7d20 <pre><code>a = {1, 2, 3}\nb = {3, 4, 5}\n\nprint(a | b)            # \u8f93\u51fa: {1, 2, 3, 4, 5}\nprint(a.union(b))       # \u540c\u4e0a\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C/#intersection","title":"\u2705 \u4ea4\u96c6\uff08intersection\uff09","text":"\u8bf4\u660e \u4e24\u4e2a\u96c6\u5408\u4e2d\u90fd\u5305\u542b\u7684\u5143\u7d20 <pre><code>a = {1, 2, 3}\nb = {2, 3, 4}\n\nprint(a &amp; b)                  # \u8f93\u51fa: {2, 3}\nprint(a.intersection(b))     # \u540c\u4e0a\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C/#difference","title":"\u2705 \u5dee\u96c6\uff08difference\uff09","text":"\u8bf4\u660e A \u4e2d\u6709\u800c B \u4e2d\u6ca1\u6709\u7684\u5143\u7d20 <pre><code>a = {1, 2, 3}\nb = {2, 3, 4}\n\nprint(a - b)                # \u8f93\u51fa: {1}\nprint(a.difference(b))     # \u540c\u4e0a\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C/#symmetric_difference","title":"\u2705 \u5bf9\u79f0\u5dee\u96c6\uff08symmetric_difference\uff09","text":"\u8bf4\u660e \u4e24\u4e2a\u96c6\u5408\u4e2d \u4e0d\u91cd\u53e0 \u7684\u5143\u7d20 <pre><code>a = {1, 2, 3}\nb = {2, 3, 4}\n\nprint(a ^ b)                          # \u8f93\u51fa: {1, 4}\nprint(a.symmetric_difference(b))     # \u540c\u4e0a\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C/#_2","title":"\u4e8c\u3001\u5224\u65ad\u96c6\u5408\u5173\u7cfb","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C/#subset","title":"\u2705 \u662f\u5426\u4e3a\u5b50\u96c6\uff08subset\uff09","text":"<pre><code>a = {1, 2}\nb = {1, 2, 3}\n\nprint(a &lt;= b)             # True\nprint(a.issubset(b))      # True\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C/#superset","title":"\u2705 \u662f\u5426\u4e3a\u8d85\u96c6\uff08superset\uff09","text":"<pre><code>print(b &gt;= a)             # True\nprint(b.issuperset(a))    # True\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/python%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C/#isdisjoint","title":"\u2705 \u662f\u5426\u6ca1\u6709\u4ea4\u96c6\uff08isdisjoint\uff09","text":"<pre><code>a = {1, 2}\nb = {3, 4}\n\nprint(a.isdisjoint(b))    # True\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/python3%E7%89%88%E6%9C%AC%E5%AE%89%E8%A3%85/","title":"Python3\u7248\u672c\u5b89\u88c5","text":"<p>\u672c\u4f8b\u4ee5 centos7\u4e0a\u5b89\u88c5 Pyhton3.8 \u7248\u672c\u4e3a\u4f8b\u8fdb\u884c\u8bf4\u660e</p> <p>1\u3001\u4f9d\u8d56\u5305\u5b89\u88c5</p> <pre><code>yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel\n</code></pre> <p>2\u3001\u4e0b\u8f7d\u5305\uff1a\u8fd9\u8fb9\u53ef\u4ee5\u9009\u62e9\u5bf9\u5e94\u7248\u672c\u7684\u5b89\u88c5\u5305</p> <p>https://www.python.org/ftp/python/3.8.1/</p> <p>wget https://www.python.org/ftp/python/3.8.1/Python-3.8.1.tgz</p> <p>3\u3001\u89e3\u538b\uff1a</p> <pre><code>tar -zxvf Python-3.8.1.tgz\n</code></pre> <p>4\u3001\u5b89\u88c5\uff1a</p> <pre><code>cd Python-3.8.1\n./configure --prefix=/usr/local/python3\nmake &amp;&amp; make install\n</code></pre> <p>5\u3001\u5efa\u7acb\u8f6f\u8fde\u63a5</p> <pre><code>ln -s /usr/local/python3/bin/python3.8 /usr/bin/python3\nln -s /usr/local/python3/bin/pip3.8 /usr/bin/pip3\n</code></pre> <p>6\u3001\u9a8c\u8bc1\u662f\u5426\u5b89\u88c5\u6210\u529f</p> <p>\u6267\u884c python3 -V \u547d\u4ee4</p> <p>\u6267\u884c pip3 -V\u547d\u4ee4</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/","title":"Python\u865a\u62df\u73af\u5883","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/#_1","title":"\u80cc\u666f","text":"<ul> <li>\u5b98\u7f51\u5730\u5740\uff1ahttps://virtualenvwrapper.readthedocs.io/en/latest/command_ref.html</li> <li>\u5177\u4f53\u4f7f\u7528\u59ff\u52bf\u53ef\u4ee5\u770b\u5b98\u7f51</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/#virtualenvwrapper","title":"\u5b89\u88c5 virtualenvwrapper","text":"<pre><code>pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple virtualenvwrapper\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/#_2","title":"\u5b89\u88c5\u6210\u529f\u540e\uff0c\u8bbe\u7f6e\u5f00\u673a\u542f\u52a8","text":"<ul> <li>vim ~/.bahrc \uff08\u770b\u4f60\u4f7f\u7528\u54ea\u4e2a shell,  \u53ef\u4ee5\u7528 echo $SHELL \u770b\u4e0b\uff09 \u6dfb\u52a0\u4ee5\u4e0b\u8bed\u53e5</li> <li>\u8fd9\u4e2a/usr/local/python3/bin/virtualenvwrapper.sh\u6587\u4ef6\u4f4d\u7f6e\u901a\u5e38\u662f\u5728\u4f60\u5b89\u88c5\u7684python\u4f4d\u7f6e\u76ee\u5f55\u4e0b<ul> <li>\u627e\u4e0d\u5230\u7684\u60c5\u51b5\u53ef\u4ee5\u7528 find / -name 'virtualenvwrapper.sh' \u770b\u4e0b\u8def\u5f84</li> </ul> </li> <li>\u901a\u5e38\u60c5\u51b5\u5b89\u88c5virtualenvwrapper\u4f1a\u81ea\u5e26\u5b89\u88c5virtualenv\uff0c\u4f46\u662f\u5982\u679c\u627e\u4e0d\u5230virtualenv\u5de5\u5177\u53ef\u80fd\u9700\u8981\u5c06\u8fd9\u4e2a\u5de5\u5177\u7684\u8def\u5f84\u52a0\u5165$PATH\u53d8\u91cf\u7684\u76ee\u5f55\u4e0b<ul> <li>ln -s /usr/local/python3/bin/virtualenv /usr/local/bin/virtualenv</li> </ul> </li> </ul> <pre><code># \u8bbe\u7f6evirtualenv\u7684\u7edf\u4e00\u7ba1\u7406\u76ee\u5f55\nexport WORKON_HOME=$HOME/.virtualenvs  \nsource /usr/local/python3/bin/virtualenvwrapper.sh\n\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/#_3","title":"\u521b\u5efa\u865a\u62df\u73af\u5883","text":"<p>-p \u53ef\u4ee5\u6307\u5b9a python \u89e3\u91ca\u5668\u7684\u4f4d\u7f6e\uff0c env_django_1 \u53ef\u4ee5\u66ff\u6362\u6210\u4f60\u8981\u521b\u5efa\u7684\u865a\u62df\u73af\u5883\u7684\u540d\u5b57</p> <pre><code>mkvirtualenv env_django_1 -p `which python3`\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/#_4","title":"\u8fdb\u5165\u865a\u62df\u73af\u5883","text":"<p>env_django_1 \u66ff\u6362\u6210\u4f60\u521b\u5efa\u7684\u865a\u62df\u73af\u5883\u7684\u540d\u5b57</p> <pre><code>workon env_django_1\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/#_5","title":"\u9000\u51fa\u865a\u62df\u73af\u5883","text":"<pre><code>deactivate\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/#_6","title":"\u67e5\u770b\u6709\u54ea\u4e9b\u865a\u62df\u73af\u5883","text":"<pre><code>lsvirtualenv\n</code></pre> <p>\u6216\u8005</p> <pre><code>workon\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/python/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/#_7","title":"\u5220\u9664\u865a\u62df\u73af\u5883","text":"<pre><code>rmvirtualenv env_django_1\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E4%BC%A0%E5%8F%82%E8%AF%B4%E6%98%8E/","title":"Shell\u4f20\u53c2\u8bf4\u660e","text":"<p>\u5728\u7f16\u5199 Linux bash shell \u811a\u672c\u65f6\uff0c\u7ecf\u5e38\u4f1a\u7528\u5230\u00a0<code>$0\u3001$1\u3001$2\u3001$#\u3001$@\u3001$*\u3001$?</code>\u00a0\u7b49\u53c2\u6570\u3002\u4e0b\u9762\u5177\u4f53\u8bf4\u660e\u8fd9\u4e9b\u53c2\u6570\u7684\u542b\u4e49\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E4%BC%A0%E5%8F%82%E8%AF%B4%E6%98%8E/#testsh-a-b-c","title":"\u5047\u8bbe\u6267\u884c\u00a0<code>./test.sh a b c</code>\u00a0\u8fd9\u6837\u4e00\u4e2a\u547d\u4ee4\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u53c2\u6570\u6765\u83b7\u53d6\u4e00\u4e9b\u503c\uff1a","text":"<ul> <li><code>$0</code>     \u5bf9\u5e94\u00a0./test.sh\u00a0\u8fd9\u4e2a\u503c\u3002\u5982\u679c\u6267\u884c\u7684\u662f\u00a0<code>./work/test.sh</code>\uff0c \u5219\u5bf9\u5e94\u00a0./work/test.sh\u00a0\u8fd9\u4e2a\u503c\uff0c\u800c\u4e0d\u662f\u53ea\u8fd4\u56de\u6587\u4ef6\u540d\u672c\u8eab\u7684\u90e8\u5206\u3002</li> <li><code>$1</code>     \u4f1a\u83b7\u53d6\u5230 a\uff0c\u5373\u00a0<code>$1</code>\u00a0\u5bf9\u5e94\u4f20\u7ed9\u811a\u672c\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002</li> <li><code>$2</code>     \u4f1a\u83b7\u53d6\u5230 b\uff0c\u5373\u00a0<code>$2</code>\u00a0\u5bf9\u5e94\u4f20\u7ed9\u811a\u672c\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002</li> <li><code>$3</code>     \u4f1a\u83b7\u53d6\u5230 c\uff0c\u5373\u00a0<code>$3</code>\u00a0\u5bf9\u5e94\u4f20\u7ed9\u811a\u672c\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u3002<code>$4</code>\u3001<code>$5</code>\u00a0\u7b49\u53c2\u6570\u7684\u542b\u4e49\u4f9d\u6b64\u7c7b\u63a8\u3002</li> <li><code>$#</code>     \u4f1a\u83b7\u53d6\u5230 3\uff0c\u5bf9\u5e94\u4f20\u5165\u811a\u672c\u7684\u53c2\u6570\u4e2a\u6570\uff0c\u7edf\u8ba1\u7684\u53c2\u6570\u4e0d\u5305\u62ec\u00a0<code>$0</code>\u3002</li> <li><code>$@</code>     \u4f1a\u83b7\u53d6\u5230 \"a\" \"b\" \"c\"\uff0c\u4e5f\u5c31\u662f\u6240\u6709\u53c2\u6570\u7684\u5217\u8868\uff0c\u4e0d\u5305\u62ec\u00a0<code>$0</code>\u3002</li> <li><code>$*</code>     \u4e5f\u4f1a\u83b7\u53d6\u5230 \"a\" \"b\" \"c\"\uff0c \u5176\u503c\u548c\u00a0<code>$@</code>\u00a0\u76f8\u540c\u3002\u4f46\u00a0<code>\"$*\"</code>\u00a0\u548c\u00a0<code>\"$@\"</code>\u00a0\u6709\u6240\u4e0d\u540c\u3002 <code>\"$*\"</code>\u00a0\u628a\u6240\u6709\u53c2\u6570\u5408\u5e76\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u800c\u00a0<code>\"$@\"</code>\u00a0\u4f1a\u5f97\u5230\u4e00\u4e2a\u5b57\u7b26\u4e32\u53c2\u6570\u6570\u7ec4\u3002</li> <li><code>$?</code>     \u53ef\u4ee5\u83b7\u53d6\u5230\u6267\u884c\u00a0<code>./test.sh a b c</code>\u00a0\u547d\u4ee4\u540e\u7684\u8fd4\u56de\u503c\u3002     \u5728\u6267\u884c\u4e00\u4e2a\u524d\u53f0\u547d\u4ee4\u540e\uff0c\u53ef\u4ee5\u7acb\u5373\u7528\u00a0<code>$?</code>\u00a0\u83b7\u53d6\u5230\u8be5\u547d\u4ee4\u7684\u8fd4\u56de\u503c\u3002     \u8be5\u547d\u4ee4\u53ef\u4ee5\u662f\u7cfb\u7edf\u81ea\u8eab\u7684\u547d\u4ee4\uff0c\u53ef\u4ee5\u662f shell \u811a\u672c\uff0c\u4e5f\u53ef\u4ee5\u662f\u81ea\u5b9a\u4e49\u7684 bash \u51fd\u6570\u3002     \u901a\u5e38\u7cfb\u7edf\u547d\u4ee4\u7684\u8fd4\u56de\u503c0\u8868\u793a\u6ca1\u6709\u9519\u8bef\uff0c\u5176\u4ed6\u8868\u793a\u6709\u9519\u8bef</li> <li><code>$$</code>     \u811a\u672c\u8fd0\u884c\u7684\u5f53\u524d\u8fdb\u7a0bID\u53f7</li> </ul> <p>\u5f53\u6267\u884c\u7cfb\u7edf\u81ea\u8eab\u7684\u547d\u4ee4\u65f6\uff0c<code>$?</code>\u00a0\u5bf9\u5e94\u8fd9\u4e2a\u547d\u4ee4\u7684\u8fd4\u56de\u503c\u3002 \u5f53\u6267\u884c shell \u811a\u672c\u65f6\uff0c<code>$?</code>\u00a0\u5bf9\u5e94\u8be5\u811a\u672c\u8c03\u7528\u00a0<code>exit</code>\u00a0\u547d\u4ee4\u8fd4\u56de\u7684\u503c\u3002\u5982\u679c\u6ca1\u6709\u4e3b\u52a8\u8c03\u7528\u00a0<code>exit</code>\u00a0\u547d\u4ee4\uff0c\u9ed8\u8ba4\u8fd4\u56de\u4e3a 0\u3002 \u5f53\u6267\u884c\u81ea\u5b9a\u4e49\u7684 bash \u51fd\u6570\u65f6\uff0c<code>$?</code>\u00a0\u5bf9\u5e94\u8be5\u51fd\u6570\u8c03\u7528\u00a0<code>return</code>\u00a0\u547d\u4ee4\u8fd4\u56de\u7684\u503c\u3002\u5982\u679c\u6ca1\u6709\u4e3b\u52a8\u8c03\u7528\u00a0<code>return</code>\u00a0\u547d\u4ee4\uff0c\u9ed8\u8ba4\u8fd4\u56de\u4e3a 0\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E4%BC%A0%E5%8F%82%E8%AF%B4%E6%98%8E/#testparamssh","title":"\u4e0b\u9762\u4e3e\u4f8b\u8bf4\u660e\u00a0<code>\"$*\"</code>\u00a0\u548c\u00a0<code>\"$@\"</code>\u00a0\u7684\u5dee\u5f02\u3002\u5047\u8bbe\u6709\u4e00\u4e2a\u00a0<code>testparams.sh</code>\u00a0\u811a\u672c\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a","text":"<pre><code>#!/bin/bash\n\nfor arg in \"$*\"; do\n    echo \"****:\" $arg\ndone\necho --------------\nfor arg in \"$@\"; do\n    echo \"@@@@:\" $arg\ndone\n\n</code></pre> <p>\u8fd9\u4e2a\u811a\u672c\u5206\u522b\u904d\u5386\u00a0<code>\"$*\"</code>\u00a0\u548c\u00a0<code>\"$@\"</code>\u00a0\u6269\u5c55\u540e\u7684\u5185\u5bb9\uff0c\u5e76\u6253\u5370\u51fa\u6765\u3002</p> <p>\u6267\u884c\u00a0<code>./testparams.sh</code>\u00a0\u811a\u672c\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code>$ ./testparams.sh This is a test\n****: This is a test\n--------------\n@@@@: This\n@@@@: is\n@@@@: a\n@@@@: test\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c<code>\"$*\"</code>\u00a0\u53ea\u4ea7\u751f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0cfor \u5faa\u73af\u53ea\u904d\u5386\u4e00\u6b21\u3002 \u800c\u00a0<code>\"$@\"</code>\u00a0\u4ea7\u751f\u4e86\u591a\u4e2a\u5b57\u7b26\u4e32\uff0cfor \u5faa\u73af\u904d\u5386\u591a\u6b21\uff0c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u53c2\u6570\u6570\u7ec4\u3002</p> <p>\u6ce8\u610f\uff1a\u5982\u679c\u4f20\u5165\u7684\u53c2\u6570\u591a\u4e8e 9 \u4e2a\uff0c\u5219\u4e0d\u80fd\u4f7f\u7528\u00a0<code>$10</code>\u00a0\u6765\u5f15\u7528\u7b2c 10 \u4e2a\u53c2\u6570\uff0c\u800c\u662f\u8981\u7528\u00a0<code>${10}</code>\u00a0\u6765\u5f15\u7528\u3002</p> <p>\u5373\uff0c\u9700\u8981\u7528\u5927\u62ec\u53f7<code>{}</code>\u628a\u5927\u4e8e 9 \u7684\u6570\u5b57\u62ec\u8d77\u6765\u3002 \u4f8b\u5982\uff0c<code>${10}</code>\u00a0\u8868\u793a\u83b7\u53d6\u7b2c 10 \u4e2a\u53c2\u6570\u7684\u503c\uff0c\u5199\u4e3a\u00a0<code>$10</code>\u00a0\u83b7\u53d6\u4e0d\u5230\u7b2c 10 \u4e2a\u53c2\u6570\u7684\u503c\u3002 \u5b9e\u9645\u4e0a\uff0c<code>$10</code>\u00a0\u76f8\u5f53\u4e8e\u00a0<code>${1}0</code>\uff0c\u4e5f\u5c31\u662f\u5148\u83b7\u53d6\u00a0<code>$1</code>\u00a0\u7684\u503c\uff0c\u540e\u9762\u518d\u8ddf\u4e0a 0\u3002 \u5982\u679c\u00a0<code>$1</code>\u00a0\u7684\u503c\u662f \"first\"\uff0c\u5219\u00a0<code>$10</code>\u00a0\u7684\u503c\u662f \"first0\"\u3002</p> <p>\u67e5\u770b man bash \u91cc\u9762\u5bf9\u4f4d\u7f6e\u53c2\u6570\uff08positional parameters\uff09\u7684\u8bf4\u660e\u5982\u4e0b\uff1a</p> <p>Positional Parameters A positional parameter is a parameter denoted by one or more digits, other than the single digit 0.</p> <p>Positional parameters are assigned from the shell's arguments when it is invoked, and may be reassigned using the set builtin command. Positional parameters may not be assigned to with assignment statements. The positional parameters are temporarily replaced when a shell function is executed.</p> <p>When a positional parameter consisting of more than a single digit is expanded, it must be enclosed in braces.</p> <p>\u5373\uff0c\u6700\u540e\u4e00\u53e5\u63d0\u5230\uff0c\u5f53\u4f4d\u7f6e\u53c2\u6570\u7531\u591a\u4f4d\u6570\u5b57\u7ec4\u6210\u65f6\uff0c\u9700\u8981\u7528\u5927\u62ec\u53f7<code>{}</code>\u628a\u591a\u4f4d\u6570\u5b57\u62ec\u8d77\u6765\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E4%BC%A0%E5%8F%82%E8%AF%B4%E6%98%8E/#_1","title":"\u83b7\u53d6\u4f4d\u7f6e\u53c2\u6570\u7684\u4e2a\u6570","text":"<p>\u5728 bash \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u00a0<code>$#</code>\u00a0\u6765\u83b7\u53d6\u4f20\u5165\u7684\u547d\u4ee4\u884c\u6216\u8005\u4f20\u5165\u51fd\u6570\u7684\u53c2\u6570\u4e2a\u6570\u3002 \u8981\u6ce8\u610f\u7684\u662f\uff0c<code>$#</code>\u00a0\u7edf\u8ba1\u7684\u53c2\u6570\u4e2a\u6570\u4e0d\u5305\u62ec\u811a\u672c\u81ea\u8eab\u540d\u79f0\u6216\u8005\u51fd\u6570\u540d\u79f0\u3002 \u4f8b\u5982\uff0c\u6267\u884c\u00a0<code>./a.sh a b</code>\uff0c\u5219\u00a0<code>$#</code>\u00a0\u662f 2\uff0c\u800c\u4e0d\u662f 3\u3002</p> <p>\u67e5\u770b man bash \u7684\u8bf4\u660e\u5982\u4e0b\uff1a</p> <p>Special Parameters #\u00a0Expands to the number of positional parameters in decimal.</p> <p>\u53ef\u4ee5\u770b\u5230\uff0c<code>$#</code>\u00a0\u5b9e\u9645\u4e0a\u662f\u6269\u5c55\u4e3a\u4f4d\u7f6e\u53c2\u6570\uff08positional parameters\uff09\u7684\u4e2a\u6570\uff0c\u7edf\u8ba1\u7684\u53c2\u6570\u4e0d\u5305\u62ec\u00a0<code>$0</code></p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E4%BC%A0%E5%8F%82%E8%AF%B4%E6%98%8E/#_2","title":"\u53c2\u8003\uff1a","text":"<ul> <li>https://segmentfault.com/a/1190000021435389</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/","title":"Shell\u7f16\u7a0b\u89c4\u8303","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_1","title":"\u4ee3\u7801\u98ce\u683c\u89c4\u8303","text":"<p>\u5f00\u5934\u6709\u201c\u86c7\u68d2\u201d \u6240\u8c13shebang\u5176\u5b9e\u5c31\u662f\u5728\u5f88\u591a\u811a\u672c\u7684\u7b2c\u4e00\u884c\u51fa\u73b0\u7684\u4ee5\u201d#!\u201d\u5f00\u5934\u7684\u6ce8\u91ca\uff0c\u4ed6\u6307\u660e\u4e86\u5f53\u6211\u4eec\u6ca1\u6709\u6307\u5b9a\u89e3\u91ca\u5668\u7684\u65f6\u5019\u9ed8\u8ba4\u7684\u89e3\u91ca\u5668\uff0c\u4e00\u822c\u53ef\u80fd\u662f\u4e0b\u9762\u8fd9\u6837\uff1a</p> <pre><code>#!/bin/bash\n</code></pre> <p>\u5f53\u7136\uff0c\u89e3\u91ca\u5668\u6709\u5f88\u591a\u79cd\uff0c\u9664\u4e86bash\u4e4b\u5916\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u67e5\u770b\u672c\u673a\u652f\u6301\u7684\u89e3\u91ca\u5668:</p> <pre><code>[root@thatsit 00:20:11 ~]# cat /etc/shells\n/bin/sh\n/bin/bash\n/sbin/nologin\n/bin/dash\n/bin/tcsh\n/bin/csh\n/usr/bin/tmux\n[root@thatsit 00:28:32 ~]#\n</code></pre> <p>\u5f53\u6211\u4eec\u76f4\u63a5\u4f7f\u7528<code>./a.sh</code>\u6765\u6267\u884c\u8fd9\u4e2a\u811a\u672c\u7684\u65f6\u5019\uff0c\u5982\u679c\u6ca1\u6709<code>shebang</code>\uff0c\u90a3\u4e48\u5b83\u5c31\u4f1a\u9ed8\u8ba4\u7528<code>$SHELL</code>\u6307\u5b9a\u7684\u89e3\u91ca\u5668\uff0c\u5426\u5219\u5c31\u4f1a\u7528<code>shebang</code>\u6307\u5b9a\u7684\u89e3\u91ca\u5668\u3002</p> <p>\u4e0d\u8fc7\uff0c\u4e0a\u9762\u8fd9\u79cd\u5199\u6cd5\u53ef\u80fd\u4e0d\u592a\u5177\u5907\u9002\u5e94\u6027\uff0c\u4e00\u822c\u6211\u4eec\u4f1a\u7528\u4e0b\u9762\u7684\u65b9\u5f0f\u6765\u6307\u5b9a\uff1a</p> <pre><code>#!/usr/bin/env bash\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_2","title":"\u4ee3\u7801\u6709\u6ce8\u91ca","text":"<p>\u6ce8\u91ca\uff0c\u663e\u7136\u662f\u4e00\u4e2a\u5e38\u8bc6\uff0c\u4e0d\u8fc7\u8fd9\u91cc\u8fd8\u662f\u8981\u518d\u5f3a\u8c03\u4e00\u4e0b\uff0c\u8fd9\u4e2a\u5728shell\u811a\u672c\u91cc\u5c24\u4e3a\u91cd\u8981\u3002\u56e0\u4e3a\u5f88\u591a\u5355\u884c\u7684shell\u547d\u4ee4\u4e0d\u662f\u90a3\u4e48\u6d45\u663e\u6613\u61c2\uff0c\u6ca1\u6709\u6ce8\u91ca\u7684\u8bdd\u5728\u7ef4\u62a4\u8d77\u6765\u4f1a\u8ba9\u4eba\u5c24\u5176\u7684\u5934\u5927\u3002 \u6ce8\u91ca\u7684\u610f\u4e49\u4e0d\u4ec5\u5728\u4e8e\u89e3\u91ca\u7528\u9014\uff0c\u800c\u5728\u4e8e\u544a\u8bc9\u6211\u4eec\u6ce8\u610f\u4e8b\u9879\uff0c\u5c31\u50cf\u662f\u4e00\u4e2aREADME\u3002 \u5177\u4f53\u7684\u6765\u8bf4\uff0c\u5bf9\u4e8eshell\u811a\u672c\uff0c\u6ce8\u91ca\u4e00\u822c\u5305\u62ec\u4e0b\u9762\u51e0\u4e2a\u90e8\u5206\uff1a</p> <ol> <li>shebang</li> <li>\u811a\u672c\u7684\u53c2\u6570</li> <li>\u811a\u672c\u7684\u7528\u9014</li> <li>\u811a\u672c\u7684\u7528\u6cd5\u53ca\u6ce8\u610f\u4e8b\u9879</li> <li>\u811a\u672c\u8bd5\u7528\u5e73\u53f0</li> <li>\u811a\u672c\u7684\u5199\u4f5c\u65f6\u95f4\uff0c\u4f5c\u8005\uff0c\u7248\u6743\u7b49</li> <li>\u5404\u4e2a\u51fd\u6570\u524d\u7684\u8bf4\u660e\u6ce8\u91ca</li> <li>\u4e00\u4e9b\u8f83\u590d\u6742\u7684\u5355\u884c\u547d\u4ee4\u6ce8\u91ca</li> </ol> <p>\u7b80\u5355\u811a\u672c\u5934\u6837\u4f8b</p> <pre><code>#!/bin/bash\n#########################################################\n# Function :Rotate application logs                     #\n# Platform :All Linux Based Platform                    #\n# Version  :1.0                                         #\n# Date     :2017-07-28                                  #\n# Author   :Stephen.Shi                                 #\n# Contact  :sp@meitu.com                                #\n# Company  :MeiTu                                       #\n#########################################################\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_3","title":"\u53c2\u6570\u8981\u89c4\u8303","text":"<p>\u8fd9\u4e00\u70b9\u5f88\u91cd\u8981\uff0c\u5f53\u6211\u4eec\u7684\u811a\u672c\u9700\u8981\u63a5\u53d7\u53c2\u6570\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4e00\u5b9a\u8981\u5148\u5224\u65ad\u53c2\u6570\u662f\u5426\u5408\u4e4e\u89c4\u8303\uff0c\u5e76\u7ed9\u51fa\u5408\u9002\u7684\u56de\u663e\uff0c\u65b9\u4fbf\u4f7f\u7528\u8005\u4e86\u89e3\u53c2\u6570\u7684\u4f7f\u7528\u3002 \u6700\u5c11\uff0c\u6700\u5c11\uff0c\u6211\u4eec\u81f3\u5c11\u5f97\u5224\u65ad\u4e0b\u53c2\u6570\u7684\u4e2a\u6570\u5427\uff1a</p> <ul> <li>args judgement \u59ff\u52bf1</li> </ul> <pre><code>if [[ $# != 2 ]];then\n    echo \"Parameter incorrect.\"\n    exit 1\nfi\n</code></pre> <ul> <li>args judgement \u59ff\u52bf2</li> </ul> <pre><code># Uasge\nhelp_msg(){\n    echo \"Usage: $0 &lt;server_group_to_operate&gt;\"\n}\n\n# arg judge\nif [[ $# -ne 1 ]]\nthen\n    help_msg\nelse\n    xxoo_func\nfi\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_4","title":"\u73af\u5883\u53d8\u91cf\u548c\u9b54\u6570","text":"<p>\u4e00\u822c\u60c5\u51b5\u4e0b\u6211\u4eec\u4f1a\u5c06\u4e00\u4e9b\u91cd\u8981\u7684\u73af\u5883\u53d8\u91cf\u5b9a\u4e49\u5728\u5f00\u5934\uff0c\u786e\u4fdd\u8fd9\u4e9b\u53d8\u91cf\u7684\u5b58\u5728\u3002</p> <pre><code>source /etc/profile\nexport PATH=\"/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin:/apps/bin/\"\n</code></pre> <p>\u8fd9\u79cd\u5b9a\u4e49\u65b9\u5f0f\u6709\u4e00\u4e2a\u5f88\u5e38\u89c1\u7684\u7528\u9014\uff0c\u6700\u5178\u578b\u7684\u5e94\u7528\u5c31\u662f\uff0c\u5f53\u6211\u4eec\u672c\u5730\u5b89\u88c5\u4e86\u5f88\u591ajava\u7248\u672c\u65f6\uff0c\u6211\u4eec\u53ef\u80fd\u9700\u8981\u6307\u5b9a\u4e00\u4e2ajava\u6765\u7528\u3002\u90a3\u4e48\u8fd9\u65f6\u6211\u4eec\u5c31\u4f1a\u5728\u811a\u672c\u5f00\u5934\u91cd\u65b0\u5b9a\u4e49<code>JAVA_HOME</code>\u4ee5\u53ca<code>PATH</code>\u53d8\u91cf\u6765\u8fdb\u884c\u63a7\u5236\u3002</p> <p>\u540c\u65f6\uff0c\u4e00\u6bb5\u597d\u7684\u4ee3\u7801\u901a\u5e38\u662f\u4e0d\u4f1a\u6709\u5f88\u591a\u786c\u7f16\u7801\u5728\u4ee3\u7801\u91cc\u7684\u201c\u9b54\u6570\u201d\u7684\u3002\u5982\u679c\u4e00\u5b9a\u8981\u6709\uff0c\u901a\u5e38\u662f\u7528\u4e00\u4e2a\u53d8\u91cf\u7684\u5f62\u5f0f\u5b9a\u4e49\u5728\u5f00\u5934\uff0c\u7136\u540e\u8c03\u7528\u7684\u65f6\u5019\u76f4\u63a5\u8c03\u7528\u8fd9\u4e2a\u53d8\u91cf\uff0c\u8fd9\u6837\u65b9\u4fbf\u65e5\u540e\u7684\u4fee\u6539\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_5","title":"\u53d8\u91cf\u7684\u5b9a\u4e49\u548c\u5f15\u7528","text":"<p>\u53d8\u91cf\u7684\u5b9a\u4e49\u548c\u5f15\u7528\u9700\u8981\u9075\u5faa\u4e00\u5b9a\u7684\u89c4\u8303\uff1a</p> <ol> <li>\u540d\u79f0\u957f\u7684\u53d8\u91cf\u5c3d\u91cf\u4f7f\u7528\u9a7c\u5cf0\u5199\u6cd5\u6216\u8005\u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd+\u4e0b\u5212\u7ebf\u7684\u65b9\u5f0f\u8fdb\u884c\u547d\u540d</li> <li>\u5e38\u91cf\u7684\u5b9a\u4e49\u63a8\u8350\u4f7f\u7528\u5927\u5199\u5b57\u6bcd\u8fdb\u884c\u547d\u540d</li> <li>\u5728\u5f15\u7528\u53d8\u91cf\u65f6\u4e3a\u4e86\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u9ebb\u70e6\uff0c\u5c3d\u91cf\u4f7f\u7528${\u53d8\u91cf\u540d}\u7684\u65b9\u5f0f\u8fdb\u884c\u5f15\u7528</li> </ol> <p>\u53d8\u91cf\u540d\u5f15\u7528\u7684\u5751\u7684\u6837\u4f8b</p> <pre><code>[root@thatsit scripts]$ cat var_test.sh\n#!/bin/bash\nxx=\"heiheihei\"\nxx_=\"123\"\noo=\"666\"\necho $xx$oo\necho \"----\"\necho $xx_$oo\necho \"----\"\necho ${xx}_${oo}\n[root@thatsit scripts]$ sh var_test.sh\nheiheihei666\n----\n123666\n----\nheiheihei_666\n[root@thatsit scripts]$\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_6","title":"\u7f29\u8fdb\u6709\u89c4\u77e9","text":"<p>\u5bf9\u4e8eshell\u811a\u672c\uff0c\u7f29\u8fdb\u662f\u4e2a\u5927\u95ee\u9898\u3002\u56e0\u4e3a\u5f88\u591a\u9700\u8981\u7f29\u8fdb\u7684\u5730\u65b9(\u6bd4\u5982if,for\u8bed\u53e5)\u90fd\u4e0d\u957f\uff0c\u6240\u6709\u5f88\u591a\u4eba\u90fd\u61d2\u5f97\u53bb\u7f29\u8fdb\uff0c\u800c\u4e14\u5f88\u591a\u4eba\u4e0d\u4e60\u60ef\u7528\u51fd\u6570\uff0c\u5bfc\u81f4\u7f29\u8fdb\u529f\u80fd\u88ab\u5f31\u5316\u3002 \u5176\u5b9e\u6b63\u786e\u7684\u7f29\u8fdb\u662f\u5f88\u91cd\u8981\u7684\uff0c\u5c24\u5176\u662f\u5728\u5199\u51fd\u6570\u7684\u65f6\u5019\uff0c\u5426\u5219\u6211\u4eec\u5728\u9605\u8bfb\u7684\u65f6\u5019\u5f88\u5bb9\u6613\u628a\u51fd\u6570\u4f53\u8ddf\u76f4\u63a5\u6267\u884c\u7684\u547d\u4ee4\u641e\u6df7\u3002 \u5e38\u89c1\u7684\u7f29\u8fdb\u65b9\u6cd5\u4e3b\u8981\u6709\u201dsoft tab\u201d\u548c\u201dhard tab\u201d\u4e24\u79cd\u3002</p> <ul> <li>\u6240\u8c13soft tab\u5c31\u662f\u4f7f\u7528n\u4e2a\u7a7a\u683c\u8fdb\u884c\u7f29\u8fdb(n\u901a\u5e38\u662f2\u62164)</li> <li>\u6240\u8c13hard tab\u5f53\u7136\u5c31\u662f\u6307\u771f\u5b9e\u7684\u201d\\t\u201d\u5b57\u7b26\uff0c\u8fd9\u91cc\u4e0d\u53bb\u6495\u54ea\u79cd\u65b9\u5f0f\u6700\u597d\uff0c\u53ea\u80fd\u8bf4\u5404\u6709\u5404\u7684\u4f18\u52a3\u3002\u53cd\u6b63\u6211\u4e60\u60ef\u7528\u56db\u4e2a\u7a7a\u683c(\u7f8e\u5267\u300a\u7845\u8c37\u300b\u4e2d\u7684\u7537\u4e3b\u6267\u7740\u4e8e\u7528tab\uff0c\u5e76\u56e0\u6b64\u8ddf\u4e60\u60ef\u4f7f\u7528\u7a7a\u683c\u7684\u5973\u53cb\u5206\u624b\uff0c\u54c8\u54c8)\u3002</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_7","title":"\u547d\u540d\u6709\u6807\u51c6","text":"<p>\u6240\u8c13\u547d\u540d\u89c4\u8303\uff0c\u57fa\u672c\u5305\u542b\u4e0b\u9762\u8fd9\u51e0\u70b9\uff1a</p> <ol> <li>\u6587\u4ef6\u540d\u89c4\u8303\uff0c\u4ee5.sh\u7ed3\u5c3e\uff0c\u65b9\u4fbf\u8bc6\u522b</li> <li>\u901a\u8fc7\u811a\u672c\u540d\u79f0\u6700\u597d\u80fd\u591f\u76f4\u63a5\u8bfb\u51fa\u811a\u672c\u7684\u7528\u9014\uff0c\u6bd4\u5982\u5e38\u7528xx\u670d\u52a1\u7684\u542f\u52a8\u811a\u672c\u53ef\u547d\u540d\u4e3a<code>start_xx.sh</code>\uff0coo\u670d\u52a1\u7684\u76d1\u63a7\u811a\u672c\u53ef\u547d\u540d\u4e3a<code>oo_monit.sh</code>\uff0c\u544a\u8b66\u811a\u672c\u53ef\u540d\u79f0\u4e3a<code>abc_alert.sh</code></li> <li>\u53d8\u91cf\u540d\u5b57\u8981\u6709\u542b\u4e49\uff0c\u4e0d\u8981\u62fc\u9519\uff0c\u5c3d\u91cf\u4f7f\u7528\u82f1\u6587\uff0c\u53ef\u80fd\u663e\u5f97\u66f4\u4e13\u4e1a(ps:\u903c\u683c\u9ad8)\u4e00\u70b9\uff0c\u54c8\u54c8</li> <li>\u7edf\u4e00\u547d\u540d\u98ce\u683c\uff0c\u7528\u9a7c\u5cf0\u6216\u8005\u4e0b\u5212\u7ebf\u8fde\u63a5\uff0c\u63a8\u8350\u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd\u52a0\u4e0b\u5212\u7ebf\u7684\u65b9\u5f0f</li> </ol>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_8","title":"\u7f16\u7801\u8981\u7edf\u4e00","text":"<p>\u5728\u5199\u811a\u672c\u7684\u65f6\u5019\u5c3d\u91cf\u4f7f\u7528UTF-8\u7f16\u7801\uff0c\u80fd\u591f\u652f\u6301\u4e2d\u6587\u7b49\u4e00\u4e9b\u5947\u5947\u602a\u602a\u7684\u5b57\u7b26\u3002 \u5c3d\u7ba1\u811a\u672c\u4e2d\u53ef\u4ee5\u5199\u4e2d\u6587\uff0c\u4f46\u662f\u5728\u5199\u6ce8\u91ca\u4ee5\u53ca\u6253log\u7684\u65f6\u5019\u8fd8\u662f\u5c3d\u91cf\u82f1\u6587\uff0c\u6bd5\u7adf\u6709\u4e9b\u673a\u5668\u8fd8\u662f\u6ca1\u6709\u76f4\u63a5\u652f\u6301\u4e2d\u6587\u7684\uff0c\u6253\u51fa\u6765\u53ef\u80fd\u4f1a\u6709\u4e71\u7801\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_9","title":"\u6267\u884c\u6743\u9650\u8bb0\u5f97\u52a0","text":"<p>\u5c0f\u70b9\uff0c\u5374\u975e\u5e38\u91cd\u8981\uff1b\u4e0d\u52a0\u6267\u884c\u6743\u9650\u7ecf\u5e38\u4f1a\u5bfc\u81f4\u65e0\u6cd5\u76f4\u63a5\u6267\u884c\uff0c\u5c24\u5176\u662finit\u811a\u672c\u7b49\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_10","title":"\u65e5\u5fd7\u548c\u56de\u663e","text":"<p>\u65e5\u5fd7\u7684\u91cd\u8981\u6027\u4e0d\u5fc5\u591a\u8bf4\uff0c\u80fd\u591f\u65b9\u4fbf\u6211\u4eec\u56de\u5934\u7ea0\u9519\uff0c\u5728\u5927\u578b\u7684\u9879\u76ee\u91cc\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002 \u5982\u679c\u8fd9\u4e2a\u811a\u672c\u662f\u4f9b\u7528\u6237\u76f4\u63a5\u5728\u547d\u4ee4\u884c\u4f7f\u7528\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u6700\u597d\u8fd8\u8981\u80fd\u591f\u5728\u6267\u884c\u65f6\u5b9e\u65f6\u56de\u663e\u6267\u884c\u8fc7\u7a0b\uff0c\u65b9\u4fbf\u7528\u6237\u638c\u63a7\u3002 \u6709\u65f6\u5019\u4e3a\u4e86\u63d0\u9ad8\u7528\u6237\u4f53\u9a8c\uff0c\u53ef\u4ee5\u56de\u663e\u4e2d\u6dfb\u52a0\u4e00\u4e9b\u7279\u6548\uff0c\u6bd4\u5982\u989c\u8272\u554a\uff0c\u95ea\u70c1\u554a\u4e4b\u7c7b\u7684\uff0c\u5177\u4f53\u53ef\u4ee5\u53c2\u8003ANSI/VT100 Control sequences\u8fd9\u7bc7\u6587\u7ae0\u7684\u4ecb\u7ecd\u3002</p> <p>\u6ce8\u610f\uff1a</p> <ol> <li>\u4e00\u4e9bdebug\u7ea7\u522b\u7684\u4fe1\u606f\uff0c\u5728\u811a\u672c\u8c03\u8bd5\u7ed3\u675f\u540e\u9700\u8981\u5173\u95ed\u3002</li> <li>\u65e5\u5fd7\u8f93\u51fa\u8981\u5e26\u65f6\u95f4\u3001\u8981\u5e26\u65f6\u95f4\u3001\u5e26\u65f6\u95f4\uff0c\u5728\u5199\u5b9a\u65f6\u4efb\u52a1\u7528\u7684\u811a\u672c\u65f6\u5c24\u4e3a\u91cd\u8981\u3002</li> <li> <p>\u65e5\u5fd7\u7684\u8f93\u51fa\u63a8\u8350\u4f7f\u7528tee -a ${log_file}\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728main\u51fd\u6570\u5165\u53e3\u5904\u6dfb\u52a0\u65e5\u5fd7\u8f93\u51fa\u3002</p> </li> <li> <p>\u811a\u672c\u65e5\u5fd7\u8f93\u51fa\u6837\u4f8b</p> </li> </ol> <pre><code>logfile=\"/var/log/log_clean.log\"\n\n# define functions\nfunction xx(){\n    echo \"xx\"\n}\n\nfunction oo(){\n    echo \"oo\"\n}\n\n# define main function\nfunction main(){\n    xx\n    oo\n}\n\n# invoke main function\nmain|tee -a ${logfile}\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_11","title":"\u592a\u957f\u8981\u5206\u884c","text":"<p>\u5728\u8c03\u7528\u67d0\u4e9b\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u53c2\u6570\u53ef\u80fd\u4f1a\u5f88\u957f\uff0c\u8fd9\u65f6\u5019\u4e3a\u4e86\u4fdd\u8bc1\u8f83\u597d\u7684\u9605\u8bfb\u4f53\u9a8c\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u53cd\u659c\u6760\u6765\u5206\u884c\uff1a</p> <pre><code>./configure \\\n\u2013prefix=/usr \\\n\u2013sbin-path=/usr/sbin/nginx \\\n\u2013conf-path=/etc/nginx/nginx.conf \\\n</code></pre> <p>==\u6ce8\u610f\u5728\u53cd\u659c\u6760\u524d\u6709\u4e2a\u7a7a\u683c\u3002==</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_12","title":"\u4ee3\u7801\u6709\u6548\u7387","text":"<p>\u5728\u4f7f\u7528\u547d\u4ee4\u7684\u65f6\u5019\u8981\u4e86\u89e3\u547d\u4ee4\u7684\u5177\u4f53\u505a\u6cd5\uff0c\u5c24\u5176\u5f53\u6570\u636e\u5904\u7406\u91cf\u5927\u7684\u65f6\u5019\uff0c\u8981\u65f6\u523b\u8003\u8651\u8be5\u547d\u4ee4\u662f\u5426\u4f1a\u5f71\u54cd\u6548\u7387\u3002 \u6bd4\u5982\u4e0b\u9762\u7684\u4e24\u4e2ased\u547d\u4ee4\uff1a</p> <pre><code>sed -n '1p' file\nsed -n '1p;1q' file\n</code></pre> <p>\u4ed6\u4eec\u7684\u4f5c\u7528\u4e00\u6837\uff0c\u90fd\u662f\u83b7\u53d6\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u3002\u4f46\u662f\u7b2c\u4e00\u6761\u547d\u4ee4\u4f1a\u8bfb\u53d6\u6574\u4e2a\u6587\u4ef6\uff0c\u800c\u7b2c\u4e8c\u6761\u547d\u4ee4\u53ea\u8bfb\u53d6\u7b2c\u4e00\u884c\u3002\u5f53\u6587\u4ef6\u5f88\u5927\u7684\u65f6\u5019\uff0c\u4ec5\u4ec5\u662f\u8fd9\u6837\u4e00\u6761\u547d\u4ee4\u4e0d\u4e00\u6837\u5c31\u4f1a\u9020\u6210\u5de8\u5927\u7684\u6548\u7387\u5dee\u5f02\u3002</p> <p>\u5f53\u7136\uff0c\u8fd9\u91cc\u53ea\u662f\u4e3a\u4e86\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u771f\u6b63\u6b63\u786e\u7684\u7528\u6cd5\u5e94\u8be5\u662f\u4f7f\u7528<code>head -1 file</code>\u547d\u4ee4\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_13","title":"\u52e4\u7528\u53cc\u5f15\u53f7","text":"<p>\u51e0\u4e4e\u6240\u6709\u7684\u5927\u4f6c\u90fd\u63a8\u8350\u5728\u4f7f\u7528<code>$</code>\u6765\u83b7\u53d6\u53d8\u91cf\u7684\u65f6\u5019\u6700\u597d\u52a0\u4e0a\u53cc\u5f15\u53f7\u3002 \u4e0d\u52a0\u4e0a\u53cc\u5f15\u53f7\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\u90fd\u4f1a\u9020\u6210\u5f88\u5927\u7684\u9ebb\u70e6\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>#!/bin/sh\n#\u5df2\u77e5\u5f53\u524d\u6587\u4ef6\u5939\u6709\u4e00\u4e2aa.sh\u7684\u6587\u4ef6\nvar=\"*.sh\"\necho $var\necho \"$var\"\n</code></pre> <p>\u4ed6\u7684\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code>a.sh\n*.sh\n</code></pre> <p>\u4e3a\u5565\u4f1a\u8fd9\u6837\u5462\uff1f\u5176\u5b9e\u53ef\u4ee5\u89e3\u91ca\u4e3a\u4ed6\u6267\u884c\u4e86\u4e0b\u9762\u7684\u547d\u4ee4\uff1a</p> <pre><code>echo *.sh\necho \"*.sh\"\n</code></pre> <p>\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u5728\u5c06\u53d8\u91cf\u4f5c\u4e3a\u53c2\u6570\u7684\u65f6\u5019\uff0c\u4e00\u5b9a\u8981\u6ce8\u610f\u4e0a\u9762\u8fd9\u4e00\u70b9\uff0c\u4ed4\u7ec6\u4f53\u4f1a\u5176\u4e2d\u7684\u5dee\u5f02\u3002\u4e0a\u9762\u53ea\u662f\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684\u4f8b\u5b50\uff0c\u5b9e\u9645\u5e94\u7528\u7684\u65f6\u5019\u7531\u4e8e\u8fd9\u4e2a\u7ec6\u8282\u5bfc\u81f4\u7684\u95ee\u9898\u5b9e\u5728\u662f\u592a\u591a\u4e86\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#main","title":"\u5de7\u7528main\u51fd\u6570","text":"<p>\u6211\u4eec\u77e5\u9053\uff0c\u50cfjava\uff0cC\u8fd9\u6837\u7684\u7f16\u8bd1\u578b\u8bed\u8a00\u90fd\u4f1a\u6709\u4e00\u4e2a\u51fd\u6570\u5165\u53e3\uff0c\u8fd9\u79cd\u7ed3\u6784\u4f7f\u5f97\u4ee3\u7801\u53ef\u8bfb\u6027\u5f88\u5f3a\uff0c\u6211\u4eec\u77e5\u9053\u54ea\u4e9b\u76f4\u63a5\u6267\u884c\uff0c\u90a3\u4e9b\u662f\u51fd\u6570\u3002\u4f46\u662f\u811a\u672c\u4e0d\u4e00\u6837\uff0c\u811a\u672c\u5c5e\u4e8e\u89e3\u91ca\u6027\u8bed\u8a00\uff0c\u4ece\u7b2c\u4e00\u884c\u76f4\u63a5\u6267\u884c\u5230\u6700\u540e\u4e00\u884c\uff0c\u5982\u679c\u5728\u8fd9\u5f53\u4e2d\u547d\u4ee4\u4e0e\u51fd\u6570\u7cc5\u6742\u5728\u4e00\u8d77\uff0c\u90a3\u5c31\u975e\u5e38\u96be\u8bfb\u4e86\u3002</p> <p>\u5404\u4f4d\u540c\u5b66\u5e94\u8be5\u90fd\u5199\u8fc7python\uff0c\u56e0\u6b64\u5927\u5bb6\u90fd\u77e5\u9053\u4e00\u4e2a\u5408\u4e4e\u6807\u51c6\u7684python\u811a\u672c\u5927\u4f53\u4e0a\u81f3\u5c11\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>#!/usr/bin/env python\n\ndef func1():\n    pass\n\ndef func2():\n    pass\n\nif __name__=='__main__':\n    func1()\n    func2()\n</code></pre> <p>\u4ed6\u7528\u4e00\u4e2a\u5f88\u5de7\u5999\u7684\u65b9\u6cd5\u5b9e\u73b0\u4e86\u6211\u4eec\u4e60\u60ef\u7684main\u51fd\u6570\uff0c\u4f7f\u5f97\u4ee3\u7801\u53ef\u8bfb\u6027\u66f4\u5f3a\u3002</p> <p>\u5728shell\u4e2d\uff0c\u6211\u4eec\u4e5f\u6709\u7c7b\u4f3c\u7684\u5c0f\u6280\u5de7:</p> <pre><code>#!/usr/bin/bash\n\nfunc1(){\n    #do sth\n}\n\nfunc2(){\n    #do sth\n}\n\nmain(){\n    func1\n    func2\n}\n\nmain \"$@\"\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u8fd9\u79cd\u5199\u6cd5\uff0c\u540c\u6837\u5b9e\u73b0\u7c7b\u4f3c\u7684main\u51fd\u6570\uff0c\u4f7f\u5f97\u811a\u672c\u7684\u7ed3\u6784\u5316\u7a0b\u5ea6\u66f4\u597d\u3002</p> <p>\u53e6\u5916\u5728\u4f20\u9012\u53c2\u6570\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u9047\u5230\u53c2\u6570\u63a5\u6536\u4f4d\u7f6e\u7684\u53d8\u5316\uff0c\u8bb0\u5f97\u4f7f\u7528<code>shift</code>\u51fd\u6570\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_14","title":"\u8003\u8651\u4f5c\u7528\u57df","text":"<p>shell\u4e2d\u9ed8\u8ba4\u7684\u53d8\u91cf\u4f5c\u7528\u57df\u90fd\u662f\u5168\u5c40\u7684\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u811a\u672c\uff1a</p> <pre><code>#!/usr/bin/env bash\n\nvar=1\nfunc(){\n    var=2\n}\nfunc\necho $var\n</code></pre> <p>\u4ed6\u7684\u8f93\u51fa\u7ed3\u679c\u5c31\u662f2\u800c\u4e0d\u662f1\uff0c\u8fd9\u6837\u663e\u7136\u4e0d\u7b26\u5408\u6211\u4eec\u7684\u7f16\u7801\u4e60\u60ef\uff0c\u5f88\u5bb9\u6613\u9020\u6210\u4e00\u4e9b\u95ee\u9898\u3002 \u56e0\u6b64\uff0c\u76f8\u6bd4\u76f4\u63a5\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\uff0c\u6211\u4eec\u6700\u597d\u4f7f\u7528<code>local</code> <code>readonly</code>\u8fd9\u7c7b\u7684\u547d\u4ee4\uff0c\u5176\u6b21\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>declare</code>\u6765\u58f0\u660e\u53d8\u91cf\u3002\u8fd9\u4e9b\u65b9\u5f0f\u90fd\u6bd4\u4f7f\u7528\u5168\u5c40\u65b9\u5f0f\u5b9a\u4e49\u8981\u597d\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#heredocs","title":"\u5de7\u7528<code>heredocs</code>","text":"<p>\u6240\u8c13heredocs\uff0c\u4e5f\u53ef\u4ee5\u7b97\u662f\u4e00\u79cd\u591a\u884c\u8f93\u5165\u7684\u65b9\u6cd5\uff0c\u5373\u5728\u201d&lt;&lt;\u201d\u540e\u5b9a\u4e00\u4e2a\u6807\u8bc6\u7b26\uff0c\u63a5\u7740\u6211\u4eec\u53ef\u4ee5\u8f93\u5165\u591a\u884c\u5185\u5bb9\uff0c\u76f4\u5230\u518d\u6b21\u9047\u5230\u6807\u8bc6\u7b26\u4e3a\u6b62\u3002 \u4f7f\u7528heredocs\uff0c\u6211\u4eec\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u751f\u6210\u4e00\u4e9b\u6a21\u677f\u6587\u4ef6\uff1a</p> <pre><code>cat&gt;&gt;/etc/rsyncd.conf &lt;&lt; EOF\nlog file = /usr/local/logs/rsyncd.log\ntransfer logging = yes\nlog format = %t %a %m %f %b\nsyslog facility = local3\nEOF\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_15","title":"\u5b66\u4f1a\u67e5\u8def\u5f84","text":"<p>\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4f1a\u5148\u83b7\u53d6\u5f53\u524d\u811a\u672c\u7684\u8def\u5f84\uff0c\u7136\u540e\u4e00\u8fd9\u4e2a\u8def\u5f84\u4e3a\u57fa\u51c6\uff0c\u53bb\u627e\u5176\u4ed6\u7684\u8def\u5f84\u3002\u901a\u5e38\u6211\u4eec\u662f\u76f4\u63a5\u7528pwd\u4ee5\u671f\u83b7\u5f97\u811a\u672c\u7684\u8def\u5f84\u3002 \u4e0d\u8fc7\u5176\u5b9e\u8fd9\u6837\u662f\u4e0d\u4e25\u8c28\u7684\uff0cpwd\u83b7\u5f97\u7684\u662f\u5f53\u524dshell\u7684\u6267\u884c\u8def\u5f84\uff0c\u800c\u4e0d\u662f\u5f53\u524d\u811a\u672c\u7684\u6267\u884c\u8def\u5f84\u3002 \u6b63\u786e\u7684\u505a\u6cd5\u5e94\u8be5\u662f\u4e0b\u9762\u8fd9\u4e24\u79cd\uff1a</p> <pre><code>script_dir=$(cd $(dirname $0) &amp;&amp; pwd)\nscript_dir=$(dirname $(readlink -f $0 ))\n</code></pre> <p>\u5e94\u5f53\u5148cd\u8fdb\u5f53\u524d\u811a\u672c\u7684\u76ee\u5f55\u7136\u540e\u518dpwd\uff0c\u6216\u8005\u76f4\u63a5\u8bfb\u53d6\u5f53\u524d\u811a\u672c\u7684\u6240\u5728\u8def\u5f84\uff1b\u4e4b\u524d\u5728\u7f16\u5199nginx\u914d\u7f6e\u66f4\u65b0\u811a\u672c\u7684\u65f6\u5019\u5c31\u9047\u5230\u4e86\u8fd9\u4e2a\u64cd\u4f5c\u59ff\u52bf\u7684\u5751\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_16","title":"\u4ee3\u7801\u8981\u7b80\u77ed","text":"<p>\u8fd9\u91cc\u7684\u7b80\u77ed\u4e0d\u5355\u5355\u662f\u6307\u4ee3\u7801\u957f\u5ea6\uff0c\u800c\u662f\u53ea\u7528\u5230\u7684\u547d\u4ee4\u6570\u3002\u539f\u5219\u4e0a\u6211\u4eec\u5e94\u5f53\u505a\u5230\uff0c\u80fd\u4e00\u6761\u547d\u4ee4\u89e3\u51b3\u7684\u95ee\u9898\u7edd\u4e0d\u7528\u4e24\u6761\u547d\u4ee4\u89e3\u51b3\u3002\u8fd9\u4e0d\u4ec5\u7275\u6d89\u5230\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\uff0c\u800c\u4e14\u4e5f\u5173\u4e4e\u4ee3\u7801\u7684\u6267\u884c\u6548\u7387\u3002 \u6700\u6700\u7ecf\u5178\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a</p> <pre><code>cat /etc/passwd | grep root\ngrep root /etc/passwd\n</code></pre> <p>cat\u547d\u4ee4\u6700\u4e3a\u4eba\u4e0d\u9f7f\u7684\u7528\u6cd5\u5c31\u662f\u8fd9\u6837\uff0c\u7528\u7684\u6ca1\u6709\u4efb\u4f55\u610f\u4e49\uff0c\u660e\u660e\u4e00\u6761\u547d\u4ee4\u53ef\u4ee5\u89e3\u51b3\uff0c\u4ed6\u975e\u5f97\u52a0\u6839\u7ba1\u9053\uff1b\u5e76\u4e14\u5728\u5904\u7406\u5927\u6587\u4ef6\u7684\u65f6\u5019\u7b2c\u4e00\u79cd\u65b9\u5f0f\u7684\u6548\u7387\u4f1a\u6bd4\u8f83\u4f4e\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_17","title":"\u4f7f\u7528\u65b0\u5199\u6cd5","text":"<p>\u8fd9\u91cc\u7684\u65b0\u5199\u6cd5\u4e0d\u662f\u6307\u6709\u591a\u5389\u5bb3\uff0c\u800c\u662f\u6307\u6211\u4eec\u53ef\u80fd\u66f4\u5e0c\u671b\u4f7f\u7528\u8f83\u65b0\u5f15\u5165\u7684\u4e00\u4e9b\u8bed\u6cd5\uff0c\u66f4\u591a\u662f\u504f\u5411\u4ee3\u7801\u98ce\u683c\u7684\uff0c\u6bd4\u5982</p> <ol> <li>\u5c3d\u91cf\u4f7f\u7528<code>func(){}</code>\u6765\u5b9a\u4e49\u51fd\u6570\uff0c\u800c\u4e0d\u662f<code>func{}</code></li> <li>\u5c3d\u91cf\u4f7f\u7528<code>[[]]</code>\u6765\u4ee3\u66ff<code>[]</code></li> <li>\u5c3d\u91cf\u4f7f\u7528<code>$()</code>\u5c06\u547d\u4ee4\u7684\u7ed3\u679c\u8d4b\u7ed9\u53d8\u91cf\uff0c\u800c\u4e0d\u662f\u53cd\u5f15\u53f7</li> <li>\u5728\u590d\u6742\u7684\u573a\u666f\u4e0b\u5c3d\u91cf\u4f7f\u7528<code>printf</code>\u4ee3\u66ff<code>echo</code>\u8fdb\u884c\u56de\u663e</li> <li>\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u4e9b\u65b0\u5199\u6cd5\u5f88\u591a\u529f\u80fd\u90fd\u6bd4\u65e7\u7684\u5199\u6cd5\u8981\u5f3a\u5927\uff0c\u7528\u7684\u65f6\u5019\u5c31\u77e5\u9053\u4e86\u3002</li> </ol>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#tip","title":"\u5176\u4ed6\u5c0ftip","text":"<p>\u8003\u8651\u5230\u8fd8\u6709\u5f88\u591a\u96f6\u788e\u7684\u70b9\uff0c\u5c31\u4e0d\u4e00\u4e00\u5c55\u5f00\u4e86\uff0c\u8fd9\u91cc\u7b80\u5355\u63d0\u4e00\u63d0\u3002</p> <ul> <li>\u8def\u5f84\u5c3d\u91cf\u4fdd\u6301\u7edd\u5bf9\u8def\u5f84\uff0c\u7edd\u591a\u8def\u5f84\u4e0d\u5bb9\u6613\u51fa\u9519\uff0c\u5982\u679c\u975e\u8981\u7528\u76f8\u5bf9\u8def\u5f84\uff0c\u6700\u597d\u7528./\u4fee\u9970</li> <li>\u4f18\u5148\u4f7f\u7528bash\u7684\u53d8\u91cf\u66ff\u6362\u4ee3\u66ffawk sed\uff0c\u8fd9\u6837\u66f4\u52a0\u7b80\u77ed</li> <li>\u7b80\u5355\u7684if\u5c3d\u91cf\u4f7f\u7528<code>&amp;&amp;</code>\u548c<code>||</code>\uff0c\u5199\u6210\u5355\u884c\u3002\u6bd4\u5982<code>[[ x &gt; 2]] &amp;&amp; echo x</code></li> <li>\u5f53export\u53d8\u91cf\u65f6\uff0c\u5c3d\u91cf\u52a0\u4e0a\u5b50\u811a\u672c\u7684namespace\uff0c\u4fdd\u8bc1\u53d8\u91cf\u4e0d\u51b2\u7a81</li> <li>\u4f1a\u4f7f\u7528trap\u6355\u83b7\u4fe1\u53f7\uff0c\u5e76\u5728\u63a5\u53d7\u5230\u7ec8\u6b62\u4fe1\u53f7\u65f6\u6267\u884c\u4e00\u4e9b\u6536\u5c3e\u5de5\u4f5c</li> <li>\u4f7f\u7528<code>mktemp</code>\u751f\u6210\u4e34\u65f6\u6587\u4ef6\u6216\u6587\u4ef6\u5939</li> <li>\u5229\u7528<code>/dev/null</code>\u8fc7\u6ee4\u4e0d\u53cb\u597d\u7684\u8f93\u51fa\u4fe1\u606f</li> <li>\u4f1a\u5229\u7528\u547d\u4ee4\u7684\u8fd4\u56de\u503c\u5224\u65ad\u547d\u4ee4\u7684\u6267\u884c\u60c5\u51b5</li> <li>\u4f7f\u7528\u6587\u4ef6\u524d\u8981\u5224\u65ad\u6587\u4ef6\u662f\u5426\u5b58\u5728\uff0c\u5426\u5219\u505a\u597d\u5f02\u5e38\u5904\u7406</li> <li>\u4e0d\u8981\u5904\u7406<code>ls</code>\u540e\u7684\u6570\u636e(\u6bd4\u5982<code>ls -l | awk '{ print $8 }'</code>)\uff0cls\u7684\u7ed3\u679c\u975e\u5e38\u4e0d\u786e\u5b9a\uff0c\u5e76\u4e14\u5e73\u53f0\u6709\u5173</li> <li>\u8bfb\u53d6\u6587\u4ef6\u65f6\u4e0d\u8981\u4f7f\u7528for loop\u800c\u8981\u4f7f\u7528while read</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E5%9F%BA%E7%A1%80/shell%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/#_18","title":"\u53c2\u8003\uff1a","text":"<ul> <li>https://www.cnblogs.com/thatsit/p/shell-jiao-ben-shu-xie-gui-fan.html</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/","title":"Shell\u53c2\u6570\u89e3\u6790","text":"<p><code>getopts</code> \u662f Bash \u4e2d\u7528\u4e8e\u89e3\u6790\u77ed\u9009\u9879\u53c2\u6570\uff08\u5982 <code>-a -b -c value</code>\uff09\u7684\u5185\u5efa\u547d\u4ee4\uff0c\u9002\u7528\u4e8e\u7f16\u5199\u7ed3\u6784\u5316\u7684\u547d\u4ee4\u884c\u811a\u672c\u3002\u76f8\u6bd4\u76f4\u63a5\u4f7f\u7528 <code>\"$@\"</code> \u904d\u5386\u53c2\u6570\uff0c<code>getopts</code> \u63d0\u4f9b\u4e86\u66f4\u6e05\u6670\u548c\u6807\u51c6\u7684\u65b9\u5f0f\u6765\u5904\u7406\u9009\u9879\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/#_1","title":"\ud83d\udccc \u4e00\u3001\u57fa\u672c\u8bed\u6cd5","text":"<pre><code>getopts optstring variable\n</code></pre> <ul> <li> <p><code>optstring</code> \u662f\u9009\u9879\u5b57\u7b26\u7684\u96c6\u5408\uff0c\u4f8b\u5982 <code>ab:c</code> \u8868\u793a <code>-a</code>\u3001<code>-b</code>\uff08\u5e26\u53c2\u6570\uff09\u3001<code>-c</code>\u3002</p> <ul> <li>\u5982\u679c\u4e00\u4e2a\u9009\u9879\u540e\u8ddf\u5192\u53f7 <code>:</code>\uff0c\u8868\u793a\u8be5\u9009\u9879\u9700\u8981\u4e00\u4e2a\u53c2\u6570\u3002</li> </ul> </li> <li> <p><code>variable</code> \u662f <code>getopts</code> \u6bcf\u6b21\u89e3\u6790\u4e00\u4e2a\u53c2\u6570\u540e\u5b58\u5165\u7684\u53d8\u91cf\u540d\u3002</p> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/#-a-b-value-c","title":"\ud83d\udccc \u4e8c\u3001\u793a\u4f8b\uff1a\u5904\u7406 <code>-a -b value -c</code>","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/#1","title":"1. \u793a\u4f8b\u811a\u672c","text":"<pre><code>#!/bin/bash\n\nwhile getopts \"ab:c\" opt; do\n  case \"$opt\" in\n    a)\n      echo \"\u9009\u9879 -a \u88ab\u89e6\u53d1\"\n      ;;\n    b)\n      echo \"\u9009\u9879 -b \u88ab\u89e6\u53d1\uff0c\u53c2\u6570\u4e3a $OPTARG\"\n      ;;\n    c)\n      echo \"\u9009\u9879 -c \u88ab\u89e6\u53d1\"\n      ;;\n    \\?)\n      echo \"\u65e0\u6548\u7684\u9009\u9879: -$OPTARG\" &gt;&amp;2\n      ;;\n    :)\n      echo \"\u9009\u9879 -$OPTARG \u7f3a\u5c11\u53c2\u6570\" &gt;&amp;2\n      ;;\n  esac\ndone\n\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/#2","title":"2. \u6267\u884c\u793a\u4f8b","text":"<pre><code>./script.sh -a -b value -c\n\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>\u9009\u9879 -a \u88ab\u89e6\u53d1\n\u9009\u9879 -b \u88ab\u89e6\u53d1\uff0c\u53c2\u6570\u4e3a value\n\u9009\u9879 -c \u88ab\u89e6\u53d1\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/#_2","title":"\ud83d\udccc \u4e09\u3001\u91cd\u8981\u53d8\u91cf\u8bf4\u660e","text":"\u53d8\u91cf \u8bf4\u660e <code>$OPTIND</code> \u5f53\u524d\u5904\u7406\u5230\u7684\u4f4d\u7f6e\u7d22\u5f15\uff0c<code>getopts</code> \u4f1a\u81ea\u52a8\u66f4\u65b0\u3002\u53ef\u4ee5\u5728\u5904\u7406\u5b8c\u9009\u9879\u540e\u7528 <code>shift $((OPTIND - 1))</code> \u83b7\u53d6\u5269\u4f59\u53c2\u6570\u3002 <code>$OPTARG</code> \u5f53\u524d\u9009\u9879\u7684\u53c2\u6570\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09\u3002 <code>$opt</code> \u5f53\u524d\u89e3\u6790\u7684\u9009\u9879\u540d\u3002 <code>\\?)</code> \u65e0\u6548\u9009\u9879\u5904\u7406 <code>:)</code> \u7f3a\u5931\u53c2\u6570\u7684\u9009\u9879\u5904\u7406\uff08\u9700\u8981\u5728 <code>optstring</code> \u524d\u52a0\u5192\u53f7\uff09"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/#_3","title":"\ud83d\udccc \u56db\u3001\u652f\u6301\u9519\u8bef\u5904\u7406\uff1a\u4f7f\u7528\u524d\u5bfc\u5192\u53f7","text":"<pre><code>getopts \":ab:c\" opt\n</code></pre> <ul> <li> <p>\u8fd9\u6837\u8bbe\u7f6e\u53ef\u4ee5\u81ea\u5b9a\u4e49\u9519\u8bef\u5904\u7406\uff1a</p> <ul> <li> <p><code>opt</code> \u4e3a <code>?</code>\uff1a\u8868\u793a\u672a\u77e5\u9009\u9879\u3002</p> </li> <li> <p><code>opt</code> \u4e3a <code>:</code>\uff1a\u8868\u793a\u7f3a\u5c11\u53c2\u6570\uff0c\u6b64\u65f6 <code>$OPTARG</code> \u662f\u7f3a\u5931\u53c2\u6570\u7684\u9009\u9879\u3002</p> </li> </ul> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/#_4","title":"\ud83d\udccc \u4e94\u3001\u5904\u7406\u5269\u4f59\u53c2\u6570","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/#shift-optind-1-getopts","title":"shift $((OPTIND - 1)) \u662f\u5c06\u4f4d\u7f6e\u53c2\u6570\u5de6\u79fb\uff0c\u4ee5\u300c\u53bb\u6389\u5df2\u7ecf\u88ab getopts \u5904\u7406\u8fc7\u7684\u9009\u9879\u53c2\u6570\u300d\u3002","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/#echo","title":"echo \"$@\" \u662f\u6253\u5370\u5269\u4e0b\u7684\u53c2\u6570\uff08\u5373\u975e\u9009\u9879\u53c2\u6570\uff09\u3002","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/#_5","title":"\u4e3e\u4f8b\u8bf4\u660e","text":"<p>\u5047\u8bbe\u4f60\u6267\u884c\u811a\u672c\uff1a</p> <pre><code>./myscript.sh -a -b value foo bar\n</code></pre> <p>\u5728 <code>getopts</code> \u5904\u7406\u5b8c <code>-a</code> \u548c <code>-b value</code> \u4e4b\u540e\uff0c\u4f4d\u7f6e\u53c2\u6570\u5217\u8868\u4ecd\u7136\u662f\uff1a</p> <pre><code>$1 = -a  \n$2 = -b  \n$3 = value  \n$4 = foo  \n$5 = bar\n</code></pre> <p>\u800c <code>getopts</code> \u4f1a\u66f4\u65b0 <code>$OPTIND</code> \u4e3a 4\uff08\u8868\u793a\u5df2\u7ecf\u5904\u7406\u5230\u7b2c4\u4e2a\u53c2\u6570\uff09\u3002</p> <p>\u90a3\u4e48\u8fd9\u53e5\uff1a</p> <pre><code>shift $((OPTIND - 1))   # shift 3\n</code></pre> <p>\u4f1a\u5c06\u524d 3 \u4e2a\u53c2\u6570\u79fb\u51fa\uff0c\u5269\u4e0b\uff1a</p> <pre><code>$1 = foo  \n$2 = bar\n</code></pre> <p>\u6b64\u65f6\uff1a</p> <pre><code>echo \"$@\"\n</code></pre> <p>\u5c31\u4f1a\u6253\u5370\uff1a</p> <pre><code>foo bar\n</code></pre> <pre><code>shift $((OPTIND - 1)) \necho \"\u5269\u4f59\u53c2\u6570: $@\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/#_6","title":"\ud83d\udccc \u516d\u3001\u5b8c\u6574\u793a\u4f8b\uff1a\u5e38\u89c1\u53c2\u6570\u89e3\u6790","text":"<pre><code>#!/bin/bash\n\nusage() {\n  echo \"\u7528\u6cd5: $0 [-u \u7528\u6237\u540d] [-p \u5bc6\u7801] [-h]\"\n  exit 0\n}\n\nwhile getopts \":u:p:h\" opt; do\n  case \"$opt\" in\n    u) user=$OPTARG ;;\n    p) pass=$OPTARG ;;\n    h) usage ;;\n    :) echo \"\u9519\u8bef: -$OPTARG \u7f3a\u5c11\u53c2\u6570\" &gt;&amp;2; usage ;;\n    \\?) echo \"\u9519\u8bef: \u65e0\u6548\u9009\u9879 -$OPTARG\" &gt;&amp;2; usage ;;\n  esac\ndone\n\nshift $((OPTIND - 1))\n\necho \"\u7528\u6237\u540d: $user\"\necho \"\u5bc6\u7801: $pass\"\necho \"\u5269\u4f59\u53c2\u6570: $@\"\n\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/#_7","title":"\ud83d\udccc \u4e03\u3001\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li> <p><code>getopts</code> \u4e0d\u652f\u6301\u957f\u9009\u9879\uff08\u5982 <code>--help</code>\uff09\uff0c\u5982\u9700\u652f\u6301\u957f\u9009\u9879\u8bf7\u4f7f\u7528 <code>getopt</code>\uff08\u6ce8\u610f\u4e0d\u662f <code>getopts</code>\uff09\u6216\u624b\u52a8\u5904\u7406\u53c2\u6570\u3002</p> </li> <li> <p><code>getopts</code> \u662f\u5185\u5efa\u547d\u4ee4\uff0c\u6bd4 <code>getopt</code> \u66f4\u53ef\u79fb\u690d\u3002</p> </li> <li> <p>\u8981\u517c\u5bb9 POSIX \u811a\u672c\uff0c\u5e94\u907f\u514d\u7a7a\u683c\u5199\u6cd5\uff1a\u63a8\u8350 <code>while getopts \"ab:\" opt</code>\uff0c\u800c\u4e0d\u662f <code>while getopts \"a b:\" opt</code>\u3002</p> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%AE%9E%E7%8E%B0switch-case/","title":"Shell\u5b9e\u73b0switch case","text":"<p>\u5728 Shell\uff08\u5982 Bash\uff09\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>case ... in ... esac</code> \u6765\u5b9e\u73b0 <code>switch-case</code> \u7684\u6548\u679c\u3002\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>#!/bin/bash\n\nvalue=$1\n\ncase \"$value\" in\n  start)\n    echo \"Starting service...\"\n    ;;\n  stop)\n    echo \"Stopping service...\"\n    ;;\n  restart)\n    echo \"Restarting service...\"\n    ;;\n  *)\n    echo \"Usage: $0 {start|stop|restart}\"\n    ;;\nesac\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%AE%9E%E7%8E%B0switch-case/#_1","title":"\u8bf4\u660e\uff1a","text":"<ul> <li> <p><code>case \"$value\" in</code>\uff1a\u5f00\u59cb case \u5206\u652f\u7ed3\u6784\u3002</p> </li> <li> <p>\u6bcf\u4e2a <code>pattern)</code> \u662f\u4e00\u4e2a case \u5206\u652f\uff0c\u5339\u914d\u5230\u540e\u6267\u884c\u5176\u5bf9\u5e94\u547d\u4ee4\u3002</p> </li> <li> <p><code>;;</code> \u8868\u793a\u8be5\u5206\u652f\u7ed3\u675f\u3002</p> </li> <li> <p><code>*)</code> \u662f\u9ed8\u8ba4\u5206\u652f\uff0c\u7b49\u4ef7\u4e8e <code>default</code>\uff0c\u5f53\u6ca1\u6709\u4efb\u4f55 pattern \u5339\u914d\u65f6\u6267\u884c\u3002</p> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E5%AE%9E%E7%8E%B0switch-case/#_2","title":"\u793a\u4f8b\u8c03\u7528\uff1a","text":"<pre><code>./script.sh start     # \u8f93\u51fa: Starting service...\n./script.sh abc       # \u8f93\u51fa: Usage: ...\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8/","title":"Shell\u62ec\u53f7\u4f7f\u7528","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8/#_1","title":"\u2705 \u4e00\u3001<code>[[ ]]</code> \u2014\u2014 \u6761\u4ef6\u5224\u65ad\uff08\u63a8\u8350\u7528\u4e8e\u5b57\u7b26\u4e32\u6bd4\u8f83\uff09","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8/#1","title":"\u793a\u4f8b 1\uff1a\u5b57\u7b26\u4e32\u6bd4\u8f83","text":"<pre><code>str=\"hello\"\nif [[ $str == \"hello\" ]]; then\n    echo \"\u5b57\u7b26\u4e32\u662f hello\"\nfi\n</code></pre> <p>\u2714 \u4e0d\u9700\u8981\u5bf9 <code>$str</code> \u52a0\u5f15\u53f7\u4e5f\u80fd\u907f\u514d\u7a7a\u5b57\u7b26\u4e32\u5e26\u6765\u7684\u9519\u8bef\u3002 \u2714 <code>==</code> \u548c <code>!=</code> \u53ef\u7528\u4e8e\u5b57\u7b26\u4e32\u6bd4\u8f83\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8/#2","title":"\u793a\u4f8b 2\uff1a\u5b57\u7b26\u4e32\u901a\u914d\u7b26\u5339\u914d","text":"<pre><code>file=\"logfile_2025.txt\"\nif [[ $file == logfile_*.txt ]]; then\n    echo \"\u8fd9\u662f\u4e00\u4e2a\u65e5\u5fd7\u6587\u4ef6\"\nfi\n</code></pre> <p>\u2714 \u652f\u6301 <code>*</code> \u901a\u914d\u7b26\u5339\u914d\uff0c\u8fd9\u662f <code>[ ]</code> \u65e0\u6cd5\u505a\u5230\u7684\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8/#3","title":"\u793a\u4f8b 3\uff1a\u6b63\u5219\u5339\u914d\uff08<code>=~</code> \u8fd0\u7b97\u7b26\uff09","text":"<pre><code>email=\"user@example.com\"\nif [[ $email =~ ^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+$ ]]; then\n    echo \"\u5408\u6cd5\u7684\u90ae\u7bb1\u683c\u5f0f\"\nfi\n</code></pre> <p>\u2714 <code>[[ ]]</code> \u7684\u6740\u624b\u7ea7\u7279\u6027\uff1a\u652f\u6301 <code>=~</code> \u8fdb\u884c\u6b63\u5219\u5339\u914d\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8/#4","title":"\u793a\u4f8b 4\uff1a\u591a\u6761\u4ef6\u5224\u65ad","text":"<pre><code>user=\"admin\"\nrole=\"manager\"\nif [[ $user == \"admin\" &amp;&amp; $role == \"manager\" ]]; then\n    echo \"\u7ba1\u7406\u5458\u4e14\u662f\u7ecf\u7406\"\nfi\n</code></pre> <p>\u2714 \u4f7f\u7528 <code>&amp;&amp;</code>\u3001<code>||</code> \u903b\u8f91\u64cd\u4f5c\u7b26\u4ee3\u66ff <code>[ ]</code> \u4e2d\u7684 <code>-a</code>\u3001<code>-o</code>\uff0c\u66f4\u6e05\u6670\u53ef\u9760\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8/#_2","title":"\u2705 \u4e8c\u3001<code>(( ))</code> \u2014\u2014 \u6574\u6570\u8fd0\u7b97\u548c\u6570\u503c\u5224\u65ad\uff08\u4e0d\u9002\u7528\u4e8e\u6d6e\u70b9\u548c\u5b57\u7b26\u4e32\uff09","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8/#1_1","title":"\u793a\u4f8b 1\uff1a\u6570\u503c\u6bd4\u8f83","text":"<pre><code>a=5\nb=10\nif (( a &lt; b )); then\n    echo \"$a \u5c0f\u4e8e $b\"\nfi\n</code></pre> <p>\u2714 \u4e0d\u9700\u8981\u4f7f\u7528 <code>-lt</code>\uff0c\u76f4\u63a5\u7528 <code>&lt;</code>\uff0c\u66f4\u63a5\u8fd1 C \u8bed\u8a00\u98ce\u683c\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8/#2_1","title":"\u793a\u4f8b 2\uff1a\u7b97\u672f\u8868\u8fbe\u5f0f","text":"<pre><code>x=3\n(( x = x + 2 ))\necho $x  # \u8f93\u51fa 5\n</code></pre> <p>\u2714 \u4e5f\u53ef\u4ee5\u4f7f\u7528\u81ea\u589e\u3001\u81ea\u51cf\uff1a</p> <pre><code>(( x++ ))  # \u7b49\u540c\u4e8e x = x + 1\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8/#3-while","title":"\u793a\u4f8b 3\uff1a\u4f5c\u4e3a while \u5faa\u73af\u63a7\u5236\u6761\u4ef6","text":"<pre><code>i=0\nwhile (( i &lt; 5 )); do\n    echo \"i=$i\"\n    (( i++ ))\ndone\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8/#4if","title":"\u793a\u4f8b 4\uff1aif \u8bed\u53e5\u4e2d\u76f4\u63a5\u4f7f\u7528\u8868\u8fbe\u5f0f","text":"<pre><code>read -p \"\u8bf7\u8f93\u5165\u4e00\u4e2a\u6570\u5b57: \" num\nif (( num % 2 == 0 )); then\n    echo \"\u5076\u6570\"\nelse\n    echo \"\u5947\u6570\"\nfi\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8/#3-sh","title":"\u2705 3. <code>[ ]</code> \u2014\u2014 \u5355\u4e2d\u62ec\u53f7\uff08\u4f20\u7edf\u5199\u6cd5\u3001\u517c\u5bb9 sh\uff09","text":"<pre><code>#!/bin/bash\n\na=\"hello\"\nb=\"world\"\nn1=10\nn2=20\n\n# \u5b57\u7b26\u4e32\u6bd4\u8f83\nif [ \"$a\" != \"$b\" ]; then\n  echo \"$a \u4e0d\u7b49\u4e8e $b\"\nfi\n\n# \u6574\u6570\u6bd4\u8f83\nif [ $n1 -lt $n2 ]; then\n  echo \"$n1 \u5c0f\u4e8e $n2\"\nfi\n\n# \u6587\u4ef6\u5b58\u5728\u5224\u65ad\nif [ -f /etc/passwd ]; then\n  echo \"/etc/passwd \u5b58\u5728\"\nfi\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/shell%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8/#_3","title":"\u2705 \u603b\u7ed3\u5bf9\u6bd4","text":"\u529f\u80fd <code>[[ ]]</code> <code>[ ]</code> <code>(( ))</code> \u5b57\u7b26\u4e32\u5224\u65ad \u2705 \u2705 \u274c\uff08\u4e0d\u9002\u7528\uff09 \u652f\u6301\u901a\u914d\u7b26\u5339\u914d \u2705\uff08\u5982 <code>== abc*</code>\uff09 \u274c \u274c \u6b63\u5219\u5339\u914d \u2705\uff08\u7528 <code>=~</code>\uff09 \u274c \u274c \u6574\u6570\u6bd4\u8f83 \u2705\uff08\u5982 <code>-lt</code>\uff09 \u2705\uff08\u7528 <code>-lt</code>\uff09 \u2705\uff08\u7528 <code>&lt;</code>, <code>&gt;</code>, <code>==</code>\uff09 \u652f\u6301\u903b\u8f91\u8fd0\u7b97 \u2705\uff08<code>&amp;&amp;</code>, ` `\uff09 \u662f\u5426\u63a8\u8350 \u2705 \u5f3a\u70c8\u63a8\u8350 \u2705 \u517c\u5bb9\u6027\u5f3a \u2705 \u9002\u5408\u6570\u503c\u5224\u65ad\u8fd0\u7b97"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/%E5%B7%A7%E7%94%A8main%E5%87%BD%E6%95%B0/","title":"\u5de7\u7528main\u51fd\u6570","text":"<p>\u6211\u4eec\u77e5\u9053\uff0c\u50cfjava\uff0cC\u8fd9\u6837\u7684\u7f16\u8bd1\u578b\u8bed\u8a00\u90fd\u4f1a\u6709\u4e00\u4e2a\u51fd\u6570\u5165\u53e3\uff0c\u8fd9\u79cd\u7ed3\u6784\u4f7f\u5f97\u4ee3\u7801\u53ef\u8bfb\u6027\u5f88\u5f3a\uff0c\u6211\u4eec\u77e5\u9053\u54ea\u4e9b\u76f4\u63a5\u6267\u884c\uff0c\u90a3\u4e9b\u662f\u51fd\u6570\u3002\u4f46\u662f\u811a\u672c\u4e0d\u4e00\u6837\uff0c\u811a\u672c\u5c5e\u4e8e\u89e3\u91ca\u6027\u8bed\u8a00\uff0c\u4ece\u7b2c\u4e00\u884c\u76f4\u63a5\u6267\u884c\u5230\u6700\u540e\u4e00\u884c\uff0c\u5982\u679c\u5728\u8fd9\u5f53\u4e2d\u547d\u4ee4\u4e0e\u51fd\u6570\u7cc5\u6742\u5728\u4e00\u8d77\uff0c\u90a3\u5c31\u975e\u5e38\u96be\u8bfb\u4e86\u3002</p> <p>\u5404\u4f4d\u540c\u5b66\u5e94\u8be5\u90fd\u5199\u8fc7python\uff0c\u56e0\u6b64\u5927\u5bb6\u90fd\u77e5\u9053\u4e00\u4e2a\u5408\u4e4e\u6807\u51c6\u7684python\u811a\u672c\u5927\u4f53\u4e0a\u81f3\u5c11\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>#!/usr/bin/env python\n\ndef func1():\n    pass\n\ndef func2():\n    pass\n\nif __name__=='__main__':\n    func1()\n    func2()\n</code></pre> <p>\u4ed6\u7528\u4e00\u4e2a\u5f88\u5de7\u5999\u7684\u65b9\u6cd5\u5b9e\u73b0\u4e86\u6211\u4eec\u4e60\u60ef\u7684main\u51fd\u6570\uff0c\u4f7f\u5f97\u4ee3\u7801\u53ef\u8bfb\u6027\u66f4\u5f3a\u3002</p> <p>\u5728shell\u4e2d\uff0c\u6211\u4eec\u4e5f\u6709\u7c7b\u4f3c\u7684\u5c0f\u6280\u5de7:</p> <pre><code>#!/usr/bin/bash\n\nfunc1(){\n    #do sth\n}\n\nfunc2(){\n    #do sth\n}\n\nmain(){\n    func1\n    func2\n}\n\nmain \"$@\"\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u8fd9\u79cd\u5199\u6cd5\uff0c\u540c\u6837\u5b9e\u73b0\u7c7b\u4f3c\u7684main\u51fd\u6570\uff0c\u4f7f\u5f97\u811a\u672c\u7684\u7ed3\u6784\u5316\u7a0b\u5ea6\u66f4\u597d\u3002</p> <p>\u53e6\u5916\u5728\u4f20\u9012\u53c2\u6570\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u9047\u5230\u53c2\u6570\u63a5\u6536\u4f4d\u7f6e\u7684\u53d8\u5316\uff0c\u8bb0\u5f97\u4f7f\u7528<code>shift</code>\u51fd\u6570\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/%E5%B7%A7%E7%94%A8%E5%A4%9A%E8%A1%8C%E8%BE%93%E5%85%A5/","title":"\u5de7\u7528\u591a\u884c\u8f93\u5165","text":"<p>\u6240\u8c13heredocs\uff0c\u4e5f\u53ef\u4ee5\u7b97\u662f\u4e00\u79cd\u591a\u884c\u8f93\u5165\u7684\u65b9\u6cd5\uff0c\u5373\u5728\u201d&lt;&lt;\u201d\u540e\u5b9a\u4e00\u4e2a\u6807\u8bc6\u7b26\uff0c\u63a5\u7740\u6211\u4eec\u53ef\u4ee5\u8f93\u5165\u591a\u884c\u5185\u5bb9\uff0c\u76f4\u5230\u518d\u6b21\u9047\u5230\u6807\u8bc6\u7b26\u4e3a\u6b62\u3002 \u4f7f\u7528heredocs\uff0c\u6211\u4eec\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u751f\u6210\u4e00\u4e9b\u6a21\u677f\u6587\u4ef6\uff1a</p> <pre><code>## \u8986\u76d6\u5199\u5165\ncat &gt; /etc/rsyncd.conf &lt;&lt; EOF\n\nlog file = /usr/local/logs/rsyncd.log\ntransfer logging = yes\nlog format = %t %a %m %f %b\nsyslog facility = local3\n\nEOF\n\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/%E6%89%B9%E9%87%8F%E6%B3%A8%E9%87%8A/","title":"\u53ef\u7528\u4e8e\u6ce8\u91ca\u4e00\u6bb5shell\u4ee3\u7801","text":"<pre><code>\n:&lt;&lt;EOF\n    echo \"yes\"\n    echo \"yes\"\nEOF\n\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/%E6%97%A5%E5%BF%97%E5%92%8C%E5%9B%9E%E6%98%BE/","title":"\u65e5\u5fd7\u548c\u56de\u663e","text":"<p>\u65e5\u5fd7\u7684\u91cd\u8981\u6027\u4e0d\u5fc5\u591a\u8bf4\uff0c\u80fd\u591f\u65b9\u4fbf\u6211\u4eec\u56de\u5934\u7ea0\u9519\uff0c\u5728\u5927\u578b\u7684\u9879\u76ee\u91cc\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002 \u5982\u679c\u8fd9\u4e2a\u811a\u672c\u662f\u4f9b\u7528\u6237\u76f4\u63a5\u5728\u547d\u4ee4\u884c\u4f7f\u7528\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u6700\u597d\u8fd8\u8981\u80fd\u591f\u5728\u6267\u884c\u65f6\u5b9e\u65f6\u56de\u663e\u6267\u884c\u8fc7\u7a0b\uff0c\u65b9\u4fbf\u7528\u6237\u638c\u63a7\u3002 \u6709\u65f6\u5019\u4e3a\u4e86\u63d0\u9ad8\u7528\u6237\u4f53\u9a8c\uff0c\u53ef\u4ee5\u56de\u663e\u4e2d\u6dfb\u52a0\u4e00\u4e9b\u7279\u6548\uff0c\u6bd4\u5982\u989c\u8272\u554a\uff0c\u95ea\u70c1\u554a\u4e4b\u7c7b\u7684\uff0c\u5177\u4f53\u53ef\u4ee5\u53c2\u8003ANSI/VT100 Control sequences\u8fd9\u7bc7\u6587\u7ae0\u7684\u4ecb\u7ecd\u3002</p> <p>\u6ce8\u610f\uff1a</p> <ol> <li>\u4e00\u4e9bdebug\u7ea7\u522b\u7684\u4fe1\u606f\uff0c\u5728\u811a\u672c\u8c03\u8bd5\u7ed3\u675f\u540e\u9700\u8981\u5173\u95ed\u3002</li> <li>\u65e5\u5fd7\u8f93\u51fa\u8981\u5e26\u65f6\u95f4\u3001\u8981\u5e26\u65f6\u95f4\u3001\u5e26\u65f6\u95f4\uff0c\u5728\u5199\u5b9a\u65f6\u4efb\u52a1\u7528\u7684\u811a\u672c\u65f6\u5c24\u4e3a\u91cd\u8981\u3002</li> <li> <p>\u65e5\u5fd7\u7684\u8f93\u51fa\u63a8\u8350\u4f7f\u7528tee -a ${log_file}\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728main\u51fd\u6570\u5165\u53e3\u5904\u6dfb\u52a0\u65e5\u5fd7\u8f93\u51fa\u3002</p> </li> <li> <p>\u811a\u672c\u65e5\u5fd7\u8f93\u51fa\u6837\u4f8b</p> </li> </ol> <pre><code>logfile=\"/var/log/log_clean.log\"\n\n# define functions\nfunction xx(){\n    echo \"xx\"\n}\n\nfunction oo(){\n    echo \"oo\"\n}\n\n# define main function\nfunction main(){\n    xx\n    oo\n}\n\n# invoke main function\nmain|tee -a ${logfile}\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/%E7%AE%80%E5%8D%95%E8%84%9A%E6%9C%AC%E5%A4%B4%E6%A0%B7%E4%BE%8B/","title":"\u7b80\u5355\u811a\u672c\u5934\u6837\u4f8b","text":"<p>\u6ce8\u91ca\uff0c\u663e\u7136\u662f\u4e00\u4e2a\u5e38\u8bc6\uff0c\u4e0d\u8fc7\u8fd9\u91cc\u8fd8\u662f\u8981\u518d\u5f3a\u8c03\u4e00\u4e0b\uff0c\u8fd9\u4e2a\u5728shell\u811a\u672c\u91cc\u5c24\u4e3a\u91cd\u8981\u3002\u56e0\u4e3a\u5f88\u591a\u5355\u884c\u7684shell\u547d\u4ee4\u4e0d\u662f\u90a3\u4e48\u6d45\u663e\u6613\u61c2\uff0c\u6ca1\u6709\u6ce8\u91ca\u7684\u8bdd\u5728\u7ef4\u62a4\u8d77\u6765\u4f1a\u8ba9\u4eba\u5c24\u5176\u7684\u5934\u5927\u3002 \u6ce8\u91ca\u7684\u610f\u4e49\u4e0d\u4ec5\u5728\u4e8e\u89e3\u91ca\u7528\u9014\uff0c\u800c\u5728\u4e8e\u544a\u8bc9\u6211\u4eec\u6ce8\u610f\u4e8b\u9879\uff0c\u5c31\u50cf\u662f\u4e00\u4e2aREADME\u3002 \u5177\u4f53\u7684\u6765\u8bf4\uff0c\u5bf9\u4e8eshell\u811a\u672c\uff0c\u6ce8\u91ca\u4e00\u822c\u5305\u62ec\u4e0b\u9762\u51e0\u4e2a\u90e8\u5206\uff1a</p> <ol> <li>shebang</li> <li>\u811a\u672c\u7684\u53c2\u6570</li> <li>\u811a\u672c\u7684\u7528\u9014</li> <li>\u811a\u672c\u7684\u7528\u6cd5\u53ca\u6ce8\u610f\u4e8b\u9879</li> <li>\u811a\u672c\u8bd5\u7528\u5e73\u53f0</li> <li>\u811a\u672c\u7684\u5199\u4f5c\u65f6\u95f4\uff0c\u4f5c\u8005\uff0c\u7248\u6743\u7b49</li> <li>\u5404\u4e2a\u51fd\u6570\u524d\u7684\u8bf4\u660e\u6ce8\u91ca</li> <li>\u4e00\u4e9b\u8f83\u590d\u6742\u7684\u5355\u884c\u547d\u4ee4\u6ce8\u91ca</li> </ol> <p>\u7b80\u5355\u811a\u672c\u5934\u6837\u4f8b</p> <pre><code>#!/bin/bash\n#########################################################\n# Function :Rotate application logs                     #\n# Platform :All Linux Based Platform                    #\n# Version  :1.0                                         #\n# Date     :2017-07-28                                  #\n# Author   :Stephen.Shi                                 #\n# Contact  :sp@meitu.com                                #\n# Company  :MeiTu                                       #\n#########################################################\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E6%8A%80%E5%B7%A7/%E8%8E%B7%E5%8F%96%E8%84%9A%E6%9C%AC%E6%89%80%E5%9C%A8%E8%B7%AF%E5%BE%84/","title":"\u83b7\u53d6\u811a\u672c\u6240\u5728\u8def\u5f84","text":"<p>\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4f1a\u5148\u83b7\u53d6\u5f53\u524d\u811a\u672c\u7684\u8def\u5f84\uff0c\u7136\u540e\u4e00\u8fd9\u4e2a\u8def\u5f84\u4e3a\u57fa\u51c6\uff0c\u53bb\u627e\u5176\u4ed6\u7684\u8def\u5f84\u3002\u901a\u5e38\u6211\u4eec\u662f\u76f4\u63a5\u7528pwd\u4ee5\u671f\u83b7\u5f97\u811a\u672c\u7684\u8def\u5f84\u3002 \u4e0d\u8fc7\u5176\u5b9e\u8fd9\u6837\u662f\u4e0d\u4e25\u8c28\u7684\uff0cpwd\u83b7\u5f97\u7684\u662f\u5f53\u524dshell\u7684\u6267\u884c\u8def\u5f84\uff0c\u800c\u4e0d\u662f\u5f53\u524d\u811a\u672c\u7684\u6267\u884c\u8def\u5f84\u3002 \u6b63\u786e\u7684\u505a\u6cd5\u5e94\u8be5\u662f\u4e0b\u9762\u8fd9\u4e24\u79cd\uff1a</p> <pre><code>script_dir=$(cd $(dirname $0) &amp;&amp; pwd)\nscript_dir=$(dirname $(readlink -f $0 ))\n</code></pre> <p>\u5e94\u5f53\u5148cd\u8fdb\u5f53\u524d\u811a\u672c\u7684\u76ee\u5f55\u7136\u540e\u518dpwd\uff0c\u6216\u8005\u76f4\u63a5\u8bfb\u53d6\u5f53\u524d\u811a\u672c\u7684\u6240\u5728\u8def\u5f84\uff1b\u4e4b\u524d\u5728\u7f16\u5199nginx\u914d\u7f6e\u66f4\u65b0\u811a\u672c\u7684\u65f6\u5019\u5c31\u9047\u5230\u4e86\u8fd9\u4e2a\u64cd\u4f5c\u59ff\u52bf\u7684\u5751\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E8%84%9A%E6%9C%AC%E6%A8%A1%E7%89%88/%E9%80%9A%E7%94%A8%E7%9A%84%20Shell%20%E8%84%9A%E6%9C%AC%E6%A8%A1%E6%9D%BF/","title":"\u901a\u7528\u7684 Shell \u811a\u672c\u6a21\u677f","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E8%84%9A%E6%9C%AC%E6%A8%A1%E7%89%88/%E9%80%9A%E7%94%A8%E7%9A%84%20Shell%20%E8%84%9A%E6%9C%AC%E6%A8%A1%E6%9D%BF/#_1","title":"\u7b80\u4ecb","text":"<ul> <li> <p>\u5305\u542b\u4e86\u57fa\u672c\u7684\u7ed3\u6784\u3001\u5e38\u7528\u7684\u529f\u80fd\uff08\u5982\u53c2\u6570\u5904\u7406\u3001\u65e5\u5fd7\u8bb0\u5f55\u3001\u9519\u8bef\u5904\u7406\u548c\u6e05\u7406\u64cd\u4f5c\u7b49\uff09\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u9700\u6c42\u8fdb\u884c\u4fee\u6539\u548c\u6269\u5c55\u3002</p> </li> <li> <p>\u6a21\u677f\u8bf4\u660e\uff1a</p> <ul> <li> </li> <li>cleanup \u51fd\u6570\uff1a\u7528\u4e8e\u5728\u811a\u672c\u7ec8\u6b62\u65f6\u6267\u884c\u6e05\u7406\u64cd\u4f5c\uff08\u5982\u5220\u9664\u4e34\u65f6\u6587\u4ef6\uff09\uff0c\u5e76\u6355\u6349\u5e38\u89c1\u4fe1\u53f7\uff08SIGINT\u3001SIGTERM\uff09\u3002</li> <li>\u65e5\u5fd7\u51fd\u6570\uff1alog \u51fd\u6570\u7528\u4e8e\u8f93\u51fa\u5e26\u6709\u65f6\u95f4\u6233\u7684\u65e5\u5fd7\u4fe1\u606f\u3002</li> <li>\u9519\u8bef\u5904\u7406\uff1aerror_exit \u51fd\u6570\u7528\u4e8e\u5904\u7406\u9519\u8bef\u5e76\u4ee5\u975e\u96f6\u9000\u51fa\u72b6\u6001\u7ec8\u6b62\u811a\u672c\u3002</li> <li>\u547d\u4ee4\u884c\u53c2\u6570\u5904\u7406\uff1a\u4f7f\u7528 getopts \u89e3\u6790\u547d\u4ee4\u884c\u9009\u9879\uff08\u4f8b\u5982 -h \u663e\u793a\u5e2e\u52a9\uff0c-v \u663e\u793a\u7248\u672c\uff0c-o \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\uff09\u3002</li> <li>\u4e3b\u903b\u8f91\uff1a\u5728 main \u51fd\u6570\u4e2d\u5b9a\u4e49\u4e3b\u8981\u7684\u64cd\u4f5c\u6d41\u7a0b\uff0c\u5305\u62ec\u5bf9\u8f93\u51fa\u6587\u4ef6\u7684\u5904\u7406\u3002</li> <li>\u8c03\u8bd5\u548c\u9000\u51fa\u7801\uff1a\u4f7f\u7528 $? \u68c0\u67e5\u547d\u4ee4\u6267\u884c\u72b6\u6001\uff0c\u786e\u4fdd\u6b63\u786e\u5904\u7406\u9519\u8bef\u60c5\u51b5\u3002</li> </ul> </li> <li> <p>\u5982\u4f55\u8fd0\u884c\uff1a</p> <ul> <li>\u4fdd\u5b58\u811a\u672c\u4e3a script_template.sh\u3002</li> </ul> </li> <li>\u8d4b\u4e88\u6267\u884c\u6743\u9650\uff1a<ul> <li>chmod +x script_template.sh</li> </ul> </li> <li>\u4f7f\u7528\u65b9\u5f0f\uff1a<ul> <li>\u67e5\u770b\u5e2e\u52a9\uff1a./script_template.sh -h</li> <li>\u67e5\u770b\u7248\u672c\uff1a./script_template.sh -v</li> </ul> </li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E8%84%9A%E6%9C%AC%E6%A8%A1%E7%89%88/%E9%80%9A%E7%94%A8%E7%9A%84%20Shell%20%E8%84%9A%E6%9C%AC%E6%A8%A1%E6%9D%BF/#binbash-bash","title":"!/bin/bash \u8868\u660e\u4f7f\u7528 Bash \u89e3\u91ca\u5668\u6267\u884c\u811a\u672c\u3002","text":""},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E8%84%9A%E6%9C%AC%E6%A8%A1%E7%89%88/%E9%80%9A%E7%94%A8%E7%9A%84%20Shell%20%E8%84%9A%E6%9C%AC%E6%A8%A1%E6%9D%BF/#_2","title":"\u811a\u672c\u5185\u5bb9","text":"<pre><code>#!/bin/bash\n#======================================================\n# \u811a\u672c\u540d\u79f0\uff1a        script_template.sh\n# \u7248\u672c\uff1a            1.1\n# \u4f5c\u8005\uff1a            Your Name\n# \u521b\u5efa\u65e5\u671f\uff1a        YYYY-MM-DD\n# \u63cf\u8ff0\uff1a            \u901a\u7528\u7684 Shell \u811a\u672c\u6a21\u677f\uff08\u5e26\u65e5\u5fd7\u3001\u591a\u53c2\u6570\u652f\u6301\uff09\n# \u7528\u6cd5\uff1a            ./script_template.sh [-h] [-v] [-f &lt;value&gt;] [-k &lt;value&gt;]\n#======================================================\n\n# \u66f4\u5b89\u5168\u7684\u811a\u672c\u8bbe\u7f6e\nset -euo pipefail\nIFS=$'\\n\\t'\n\n# \u83b7\u53d6\u811a\u672c\u6240\u5728\u76ee\u5f55\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" &amp;&amp; pwd)\"\nSCRIPT_NAME=\"$(basename \"$0\")\"\nLOG_FILE=\"${SCRIPT_DIR}/${SCRIPT_NAME%.sh}.log\"\n\n\n# \u65e5\u5fd7\u51fd\u6570\uff1a\u540c\u65f6\u8f93\u51fa\u5230\u7ec8\u7aef\u548c\u65e5\u5fd7\u6587\u4ef6\nlog() {\n    local msg=\"[INFO] $(date '+%Y-%m-%d %H:%M:%S') : $*\"\n    echo \"$msg\" | tee -a \"$LOG_FILE\"\n}\n\nerror_exit() {\n    local msg=\"[ERROR] $(date '+%Y-%m-%d %H:%M:%S') : $*\"\n    echo \"$msg\" | tee -a \"$LOG_FILE\" &gt;&amp;2\n    exit 1\n}\n\n# \u6e05\u7406\u51fd\u6570\uff08\u63a5\u6536 Ctrl+C \u6216\u5176\u4ed6\u7ec8\u6b62\u4fe1\u53f7\u65f6\u8c03\u7528\uff09\ncleanup() {\n    log \"\u63a5\u6536\u5230\u4e2d\u65ad\u4fe1\u53f7\uff0c\u5f00\u59cb\u6e05\u7406\u64cd\u4f5c...\"\n    # TODO: \u6dfb\u52a0\u6e05\u7406\u903b\u8f91\n    exit 1\n}\ntrap cleanup SIGINT SIGTERM\n\n# \u6253\u5370\u5e2e\u52a9\u4fe1\u606f\nusage() {\n    cat &lt;&lt;EOF\nUsage: $0 [-h] [-v] [-o &lt;output file&gt;]\n\n  -h            \u663e\u793a\u5e2e\u52a9\u4fe1\u606f\n  -v            \u663e\u793a\u811a\u672c\u7248\u672c\n  -f  &lt;value&gt;   \u6267\u884c\u6d4b\u8bd5\u51fd\u6570\uff0c\u53c2\u6570\u503c\u4e3a &lt;value&gt;\n  -k  &lt;value&gt;   \u6267\u884c\u6d4b\u8bd5\u51fd\u65702\uff0c\u53c2\u6570\u503c\u4e3a &lt;value&gt;\nEOF\n    exit 0\n}\n\n# \u6253\u5370\u7248\u672c\u4fe1\u606f\nversion() {\n    echo \"${SCRIPT_NAME} version 1.1\"\n}\n\n# \u53c2\u6570\u5bf9\u5e94\u7684\u51fd\u6570\ntest_function() {\n    log \"\u6267\u884c\u6d4b\u8bd5\u51fd\u6570, \u53c2\u6570\u503c\u4e3a\uff1a$1\"\n}\n# \u53c2\u6570\u5bf9\u5e94\u7684\u51fd\u6570\ntest2_function() {\n    log \"\u6267\u884c\u6d4b\u8bd5\u51fd\u65702, \u53c2\u6570\u503c\u4e3a\uff1a$1\"\n}\n\n# \u53c2\u6570\u89e3\u6790\u5c01\u88c5\uff08\u53c2\u6570\u540e\u9762\u52a0:\u8868\u793a\u9700\u8981\u5e26\u4e0a\u53c2\u6570\u503c\uff09\nparse_args() {\n    while getopts \":hvf:k:\" opt; do\n        case \"${opt}\" in\n            h) usage ;;\n            v) version ;;\n            f) \n                test_function ${OPTARG}\n                ;;\n            k) \n                test2_function ${OPTARG}\n                ;;\n            :) error_exit \"\u9009\u9879 -${OPTARG} \u9700\u8981\u53c2\u6570\u3002\" ;;\n            \\?) error_exit \"\u65e0\u6548\u7684\u9009\u9879: -${OPTARG}\" ;;\n        esac\n    done\n}\n\n# \u4e3b\u903b\u8f91\nmain() {\n    # \u8bb0\u5f55\u811a\u672c\u5f00\u59cb\u65f6\u95f4\n    SCRIPT_START_TIME=$(date +%s)\n    log \"\u811a\u672c\u5f00\u59cb\u65f6\u95f4: $(date '+%Y-%m-%d %H:%M:%S')\"\n    # \u89e3\u6790\u53c2\u6570\n    parse_args \"$@\"\n\n    #=======================\u4e3b\u903b\u8f91\u5f00\u59cb=======================\n    log \"\u4e3b\u903b\u8f91\u5f00\u59cb\u6267\u884c...\"\n\n    log \"111111\"\n    sleep 3\n\n    log \"\u4e3b\u903b\u8f91\u6267\u884c\u7ed3\u675f\"\n    #=======================\u4e3b\u903b\u8f91\u89e3\u91ca=======================\n\n    # \u8bb0\u5f55\u811a\u672c\u7ed3\u675f\u65f6\u95f4\n    SCRIPT_END_TIME=$(date +%s)\n    log \"\u811a\u672c\u5b8c\u6210\u65f6\u95f4: $(date '+%Y-%m-%d %H:%M:%S')\"\n    log \"\u811a\u672c\u603b\u8017\u65f6: $((SCRIPT_END_TIME - SCRIPT_START_TIME)) \u79d2\"\n}\n\n# \u6267\u884c\u4e3b\u51fd\u6570\nmain \"$@\"\n\n\n\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/shell/shell%E8%84%9A%E6%9C%AC%E6%A8%A1%E7%89%88/%E9%80%9A%E7%94%A8%E7%9A%84%20Shell%20%E8%84%9A%E6%9C%AC%E6%A8%A1%E6%9D%BF/#_3","title":"\u53c2\u8003\uff1a","text":"<ul> <li>https://blog.csdn.net/weixin_44251074/article/details/142457829</li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/MCP/000-%E4%BB%80%E4%B9%88%E6%98%AFMCP/","title":"000 \u4ec0\u4e48\u662fMCP","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/MCP/000-%E4%BB%80%E4%B9%88%E6%98%AFMCP/#mcp","title":"MCP\u7b80\u4ecb","text":"<ul> <li>MCP\u5b98\u65b9\u4ecb\u7ecd\uff1a<ul> <li>https://modelcontextprotocol.io/docs/getting-started/intro</li> </ul> </li> <li>MCP\uff08Model Context Protocol \u6a21\u578b\u4e0a\u4e0b\u6587\u534f\u8bae\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u5c06 AI \u5e94\u7528\u7a0b\u5e8f\u8fde\u63a5\u5230\u5916\u90e8\u7cfb\u7edf\u7684\u5f00\u6e90\u6807\u51c6\u3002\u672c\u8eab\u662f\u4e00\u79cd\u534f\u8bae\uff0c\u7c7b\u4f3c\u4e8ehttp\u3001https\u3001DNS\u8fd9\u79cd\u5e94\u7528\u5c42\u7684\u534f\u8bae\u3002</li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/MCP/000-%E4%BB%80%E4%B9%88%E6%98%AFMCP/#mcp_1","title":"MCP\u89e3\u51b3\u7684\u573a\u666f","text":"<ul> <li> <p>\u73b0\u5728\u5927\u90e8\u5206\u7684\u4eba\u5de5\u667a\u80fd\u7684\u5e94\u7528\u53ef\u4ee5\u56de\u7b54\u5927\u90e8\u5206\u901a\u7528\u7684\u95ee\u9898\uff0c\u4f8b\u5982\u5e2e\u6211\u7528python\u5199\u4e00\u4e2a\u67d0\u67d0\u529f\u80fd\u7684\u51fd\u6570\uff0c\u4f46\u662f\u9488\u5bf9\u6bd4\u8f83\u9690\u79c1\u7684\u573a\u666f\uff0cAI\u5374\u65e0\u6cd5\u505a\u5230\u3002\u4f60\u65e0\u6cd5\u8ba9\u4eba\u5de5\u667a\u80fd\u76f4\u63a5\u53bb\u8bbf\u95ee\u4f60\u516c\u53f8\u5185\u90e8\u7684\u63a5\u53e3\uff08\u4f8b\u5982\u6709\u9274\u6743\u4e4b\u7c7b\u7684AI\u4e5f\u4e0d\u77e5\u9053\u600e\u4e48\u8bbf\u95ee\uff09\uff0c\u4f46\u662f\u4f60\u53c8\u9700\u8981\u901a\u8fc7\u8fd9\u4e2a\u5185\u90e8\u7684\u63a5\u53e3\u8fd4\u56de\u7684\u6570\u636e\u6765\u7ed3\u5408AI\u6765\u56de\u7b54\u4f60\u7684\u95ee\u9898\uff0c\u5982\u679c\u4f60\u4e0d\u5acc\u9ebb\u70e6\u53ef\u4ee5\u627f\u62c5\u4e00\u4e2a\u4e2d\u95f4\u4eba\u7684\u89d2\u8272\uff0c\u4f60\u624b\u52a8\u8bf7\u6c42\u5185\u90e8\u63a5\u53e3\u540e\u518d\u628a\u8fd4\u56de\u6570\u636e\u53d1\u7ed9AI\uff0c\u8ba9AI\u6765\u8fdb\u4e00\u6b65\u5206\u6790\u3002</p> </li> <li> <p>\u800cMCP\u89e3\u51b3\u7684\u5c31\u662f\u8fd9\u4e2a\u573a\u666f\uff01\u5b83\u5b9a\u4e49\u4e86AI\u667a\u80fd\u4f53\u5e94\u8be5\u5982\u4f55\u4e0e\u4f60\u540e\u7aef\u7684\u7a0b\u5e8f/\u63a5\u53e3\u8fdb\u884c\u4ea4\u4e92\u3002</p> </li> <li> <p>\u4f7f\u7528 MCP\uff0cClaude ChatGPT \u7b49\u4eba\u5de5\u667a\u80fd\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u8fde\u63a5\u5230\u6570\u636e\u6e90\uff08\u4f8b\u5982\u672c\u5730\u6587\u4ef6\u3001\u6570\u636e\u5e93\uff09\u3001\u5de5\u5177\uff08\u4f8b\u5982\u641c\u7d22\u5f15\u64ce\u3001\u8ba1\u7b97\u5668\uff09\u548c\u5de5\u4f5c\u6d41\uff08\u4f8b\u5982\u4e13\u95e8\u63d0\u793a\uff09\uff0c\u4f7f\u5b83\u4eec\u80fd\u591f\u8bbf\u95ee\u5173\u952e\u4fe1\u606f\u5e76\u6267\u884c\u4efb\u52a1\u3002</p> </li> <li> <p>\u5c06 MCP \u89c6\u4e3a AI \u5e94\u7528\u7a0b\u5e8f\u7684 USB-C \u7aef\u53e3\u3002\u6b63\u5982 USB-C \u63d0\u4f9b\u4e86\u4e00\u79cd\u8fde\u63a5\u7535\u5b50\u8bbe\u5907\u7684\u6807\u51c6\u5316\u65b9\u5f0f\u4e00\u6837\uff0cMCP \u63d0\u4f9b\u4e86\u4e00\u79cd\u5c06 AI \u5e94\u7528\u7a0b\u5e8f\u8fde\u63a5\u5230\u5916\u90e8\u7cfb\u7edf\u7684\u6807\u51c6\u5316\u65b9\u5f0f\u3002</p> </li> </ul> <p></p> <ul> <li> <p>MCP \u7531\u4e24\u5c42\u7ec4\u6210\uff1a\uff08\u4ece\u6982\u5ff5\u4e0a\u8bb2\uff0c\u6570\u636e\u5c42\u662f\u5185\u5c42\uff0c\u800c\u4f20\u8f93\u5c42\u662f\u5916\u5c42\u3002\uff09</p> <ul> <li> <p>\u6570\u636e\u5c42\uff1a\u5b9a\u4e49\u57fa\u4e8e JSON-RPC \u7684\u5ba2\u6237\u7aef-\u670d\u52a1\u5668\u901a\u4fe1\u534f\u8bae\uff0c\u5305\u62ec\u751f\u547d\u5468\u671f\u7ba1\u7406\u548c\u6838\u5fc3\u539f\u8bed\uff0c\u4f8b\u5982\u5de5\u5177\u3001\u8d44\u6e90\u3001\u63d0\u793a\u548c\u901a\u77e5\u3002</p> </li> <li> <p>\u4f20\u8f93\u5c42\uff1a\u5b9a\u4e49\u652f\u6301\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u6570\u636e\u4ea4\u6362\u7684\u901a\u4fe1\u673a\u5236\u548c\u901a\u9053\uff0c\u5305\u62ec\u7279\u5b9a\u4e8e\u4f20\u8f93\u7684\u8fde\u63a5\u5efa\u7acb\u3001\u6d88\u606f\u6210\u5e27\u548c\u6388\u6743\u3002</p> </li> </ul> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/MCP/000-%E4%BB%80%E4%B9%88%E6%98%AFMCP/#mcp_2","title":"MCP\u4ea4\u4e92\u6d41\u7a0b","text":"<ul> <li> <p>MCP \u9075\u5faa\u5ba2\u6237\u7aef-\u670d\u52a1\u5668\u67b6\u6784\uff0c\u5176\u4e2d MCP \u4e3b\u673a\uff08\u5982 Claude Code \u6216 Claude Desktop \u7b49 AI \u5e94\u7528\u7a0b\u5e8f\uff09\u4e0e\u4e00\u4e2a\u6216\u591a\u4e2a MCP \u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5\u3002MCP \u4e3b\u673a\u901a\u8fc7\u4e3a\u6bcf\u4e2a MCP \u670d\u52a1\u5668\u521b\u5efa\u4e00\u4e2a MCP \u5ba2\u6237\u7aef\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002\u6bcf\u4e2a MCP \u5ba2\u6237\u7aef\u4e0e\u5176\u5bf9\u5e94\u7684 MCP \u670d\u52a1\u5668\u4fdd\u6301\u4e13\u7528\u8fde\u63a5\u3002</p> </li> <li> <p>MCP \u67b6\u6784\u7684\u4e3b\u8981\u53c2\u4e0e\u8005\uff1a</p> <ul> <li> <p>MCP \u4e3b\u673a\uff08MCP Host\uff09\uff1a\u534f\u8c03\u548c\u7ba1\u7406\u4e00\u4e2a\u6216\u591a\u4e2a MCP \u5ba2\u6237\u7aef\u7684 AI \u5e94\u7528\u7a0b\u5e8f\u3002 \uff08\u5982 Claude Code \u6216 Claude Desktop \u7b49 AI \u5e94\u7528\u7a0b\u5e8f\uff09</p> </li> <li> <p>MCP \u5ba2\u6237\u7aef\uff08MCP Client\uff09\uff1a\u7ef4\u62a4\u4e0e MCP \u670d\u52a1\u5668\u7684\u8fde\u63a5\u5e76\u4ece MCP \u670d\u52a1\u5668\u83b7\u53d6\u4e0a\u4e0b\u6587\u4ee5\u4f9b MCP \u4e3b\u673a\u4f7f\u7528\u7684\u7ec4\u4ef6\u3002Client \u662f\u5728 Host \u5185\u90e8\u7684\u4e00\u6bb5\u903b\u8f91\uff0f\u6a21\u5757\uff0c\u8d1f\u8d23\u5c06 Agent\uff0fLLM \u7684\u8bf7\u6c42\u8f6c\u6362\u6210\u9075\u5faa MCP \u534f\u8bae\u7684\u8c03\u7528\uff0c\u5e76\u4e0e Server \u901a\u4fe1\u3002\u4e00\u4e2a Client \u5bf9\u5e94\u4e00\u4e2a Server \u8fde\u63a5\u3002\u5b83\u5728\u8fd9\u91cc\u7684\u4f5c\u7528\u7c7b\u4f3c\u201c\u4ee3\u7406\u201d\uff0c\u8d1f\u8d23\u628a\u5927\u8bed\u8a00\u6a21\u578b\u4e0e MCP Server \u8fde\u63a5\u8d77\u6765\u3002</p> </li> <li> <p>MCP \u670d\u52a1\u5668\uff08MCP Server\uff09\uff1a\u4e3a MCP \u5ba2\u6237\u7aef\u63d0\u4f9b\u4e0a\u4e0b\u6587\u7684\u7a0b\u5e8f\uff08\u4f8b\u5982\u901a\u8fc7MCP\u670d\u52a1\u5668\uff0c\u53bb\u83b7\u53d6\u4f60\u4eec\u516c\u53f8\u5185\u90e8\u7684\u65e5\u5fd7\u6570\u636e\uff09</p> </li> </ul> </li> <li> <p>\u4f8b\u5982\uff1aVisual Studio Code \u5145\u5f53 MCP \u4e3b\u673a\u3002\u5f53 Visual Studio Code \u5efa\u7acb\u5230 MCP \u670d\u52a1\u5668\uff08\u4f8b\u5982 Sentry MCP \u670d\u52a1\u5668\uff09\u7684\u8fde\u63a5\u65f6\uff0cVisual Studio Code \u8fd0\u884c\u65f6\u5b9e\u4f8b\u5316\u4e00\u4e2a MCP \u5ba2\u6237\u7aef\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u7ef4\u62a4\u4e0e Sentry MCP \u670d\u52a1\u5668\u7684\u8fde\u63a5\u3002\u5f53 Visual Studio Code \u968f\u540e\u8fde\u63a5\u5230\u53e6\u4e00\u4e2a MCP \u670d\u52a1\u5668\uff08\u4f8b\u5982\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u670d\u52a1\u5668\uff09\u65f6\uff0cVisual Studio Code \u8fd0\u884c\u65f6\u5b9e\u4f8b\u5316\u4e00\u4e2a\u989d\u5916\u7684 MCP \u5ba2\u6237\u7aef\u5bf9\u8c61\u4ee5\u7ef4\u62a4\u6b64\u8fde\u63a5\u3002 </p> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/MCP/010-MCP%E5%BF%AB%E9%80%9F%E5%AE%9E%E8%B7%B5/","title":"010 MCP\u5feb\u901f\u5b9e\u8df5","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/MCP/010-MCP%E5%BF%AB%E9%80%9F%E5%AE%9E%E8%B7%B5/#_1","title":"\u7b80\u4ecb","text":"<ul> <li>\u672c\u6587\u5c06\u4ecb\u7ecd\u5982\u4f55\u5feb\u901f\u642d\u5efa\u4e00\u4e2aMCP client\u548cMCP Server\uff0c\u5df2\u7ecf\u5b9e\u73b0\u4e24\u8005\u7684\u4e92\u901a</li> <li>\u642d\u5efa\u8fc7\u7a0b\u53c2\u8003\uff1a<ul> <li>https://github.com/liaokongVFX/MCP-Chinese-Getting-Started-Guide</li> </ul> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/MCP/010-MCP%E5%BF%AB%E9%80%9F%E5%AE%9E%E8%B7%B5/#mcp","title":"\u5f00\u53d1MCP\u670d\u52a1\u5668","text":"<ul> <li>\u5728\u8fd9\u4e00\u5c0f\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u4f1a\u5b9e\u73b0\u4e00\u4e2a\u7528\u4e8e\u7b80\u5355\u7684MCP\u670d\u52a1\u5668\u3002\u9996\u5148\uff0c\u6211\u4eec\u5148\u6765\u901a\u8fc7 uv \u521d\u59cb\u5316\u6211\u4eec\u7684\u9879\u76ee\u3002</li> </ul> <p>[!NOTE] - uv \u5b98\u65b9\u6587\u6863\uff1ahttps://docs.astral.sh/uv/</p> <ul> <li>\u6211\u662f\u4f7f\u7528mac\u73af\u5883\u8fdb\u884c\u9a8c\u8bc1</li> </ul> <pre><code># \u521d\u59cb\u5316\u9879\u76ee\nuv init init hello-world \ncd init hello-world \n\n# \u521b\u5efa\u865a\u62df\u73af\u5883\u5e76\u8fdb\u5165\u865a\u62df\u73af\u5883\nuv venv\nsource ./.venv/bin/activate\n\n# \u5b89\u88c5\u4f9d\u8d56\nuv add \"mcp[cli]\" httpx openai\n\n</code></pre> <ul> <li>\u6211\u4eec\u5728hello-world \u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2ahello_server.py\u7684\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</li> </ul> <pre><code>import httpx\nfrom mcp.server import FastMCP\n\n# # \u521d\u59cb\u5316 FastMCP \u670d\u52a1\u5668\napp = FastMCP('ip-info')\n\n@app.tool()\nasync def ip_info(query: str) -&gt; str:\n    \"\"\"\n    \u4f7f\u7528IPI\u5e93\u7684\u63a5\u53e3\u83b7\u53d6\u67e5\u8be2IP\u7684\u8be6\u7ec6\u4fe1\u606f\n    Args:\n        query: \u8981\u641c\u7d22\u5185\u5bb9\n    Returns:\n        \u67e5\u8be2\u7684IP\u7684\u8be6\u7ec6\u5185\u5bb9\n    \"\"\"\n    async with httpx.AsyncClient() as client:\n        url = 'http://ipinfo.io/' + query\n        response = await client.get(url, timeout=10)\n        if response.status_code != 200:\n            return 'IP\u67e5\u8be2\u5931\u8d25'\n        return response.text\n\n# npx -y @modelcontextprotocol/inspector uv run hello_server.py \nif __name__ == \"__main__\":\n    app.run(transport='stdio')\n</code></pre> <ul> <li>\u5b9e\u73b0\u6267\u884c\u7684\u65b9\u6cd5\u975e\u5e38\u7b80\u5355\uff0cMCP \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u00a0<code>@mcp.tool()</code>\u00a0\u6211\u4eec\u53ea\u9700\u8981\u5c06\u5b9e\u73b0\u51fd\u6570\u7528\u8fd9\u4e2a\u88c5\u9970\u5668\u88c5\u9970\u5373\u53ef\u3002\u51fd\u6570\u540d\u79f0\u5c06\u4f5c\u4e3a\u5de5\u5177\u540d\u79f0\uff0c\u53c2\u6570\u5c06\u4f5c\u4e3a\u5de5\u5177\u53c2\u6570\uff0c\u5e76\u901a\u8fc7\u6ce8\u91ca\u6765\u63cf\u8ff0\u5de5\u5177\u4e0e\u53c2\u6570\uff0c\u4ee5\u53ca\u8fd4\u56de\u503c\u3002</li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/MCP/010-MCP%E5%BF%AB%E9%80%9F%E5%AE%9E%E8%B7%B5/#mcp_1","title":"\u8c03\u8bd5 MCP \u670d\u52a1\u5668","text":"<p>\u6b64\u65f6\uff0c\u6211\u4eec\u5c31\u5b8c\u6210\u4e86 MCP \u670d\u52a1\u7aef\u7684\u7f16\u5199\u3002\u4e0b\u9762\uff0c\u6211\u4eec\u6765\u4f7f\u7528\u5b98\u65b9\u63d0\u4f9b\u7684\u00a0<code>Inspector</code>\u00a0\u53ef\u89c6\u5316\u5de5\u5177\u6765\u8c03\u8bd5\u6211\u4eec\u7684\u670d\u52a1\u5668\u3002</p> <p>\u8bf7\u5148\u786e\u4fdd\u5df2\u7ecf\u5b89\u88c5\u4e86 node \u73af\u5883\u3002</p> <ul> <li>\u65b9\u5f0f1:  \u901a\u8fc7 npx\uff1a</li> </ul> <pre><code>npx -y @modelcontextprotocol/inspector &lt;command&gt; &lt;arg1&gt; &lt;arg2&gt;\n</code></pre> <ul> <li>\u6211\u4eec\u7684\u8fd9\u4e2a\u4ee3\u7801\u8fd0\u884c\u547d\u4ee4\u4e3a\uff1a</li> </ul> <pre><code>npx -y @modelcontextprotocol/inspector uv run hello_server.py\n</code></pre> <ul> <li>\u65b9\u5f0f2: \u901a\u8fc7mcp\uff1a</li> </ul> <pre><code>mcp dev PYTHONFILE\n</code></pre> <ul> <li>\u6211\u4eec\u7684\u8fd9\u4e2a\u4ee3\u7801\u8fd0\u884c\u547d\u4ee4\u4e3a\uff1a</li> </ul> <pre><code>mcp dev hello_server.py\n</code></pre> <ul> <li> <p>\u6267\u884c\u6210\u529f\u7684\u60c5\u51b5\u4f1a\u81ea\u52a8\u6253\u5f00\u6d4f\u89c8\u7684\u94fe\u63a5 </p> </li> <li> <p>\u70b9\u51fbRun Tool \u5373\u6267\u8fd9\u4e2a\u5de5\u5177\uff0c\u53ef\u4ee5\u67e5\u770b\u5de5\u5177\u6267\u884c\u7684\u8fd4\u56de\u7ed3\u679c </p> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/MCP/010-MCP%E5%BF%AB%E9%80%9F%E5%AE%9E%E8%B7%B5/#mcp_2","title":"\u5f00\u53d1 MCP \u5ba2\u6237\u7aef","text":"<ul> <li>\u9996\u5148\uff0c\u6211\u4eec\u5148\u6765\u770b\u770b\u5982\u4f55\u5728\u5ba2\u6237\u7aef\u5982\u4f55\u8c03\u7528\u6211\u4eec\u521a\u624d\u5f00\u53d1\u7684 MCP \u670d\u52a1\u5668\u4e2d\u7684\u5de5\u5177\u3002</li> <li>\u4e0b\u9762\u662f\u4e00\u4e2a\u6700\u7cbe\u7b80\u7684\u4ee3\u7801\uff0c\u91cc\u9762\u6ca1\u6709\u5b9e\u73b0\u8bb0\u5f55\u4e0a\u4e0b\u6587\u6d88\u606f\u7b49\u529f\u80fd\uff0c\u53ea\u662f\u4e3a\u4e86\u7528\u6700\u7b80\u5355\u7684\u4ee3\u7801\u6765\u4e86\u89e3\u5982\u4f55\u901a\u8fc7\u5927\u8bed\u8a00\u6a21\u578b\u6765\u8c03\u52a8 MCP \u670d\u52a1\u5668\u3002\u8fd9\u91cc\u53ea\u6f14\u793a\u4e86\u5982\u4f55\u8fde\u63a5\u5355\u670d\u52a1\u5668\uff0c\u5982\u679c\u4f60\u671f\u671b\u8fde\u63a5\u591a\u4e2a MCP \u670d\u52a1\u5668\uff0c\u65e0\u975e\u5c31\u662f\u5faa\u73af\u4e00\u4e0b\u00a0<code>connect_to_server</code>\u00a0\u4e2d\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u5c06\u4ed6\u4eec\u5c01\u88c5\u6210\u4e00\u4e2a\u7c7b\uff0c\u7136\u540e\u5c06\u6240\u6709\u7684 MCP \u670d\u52a1\u5668\u4e2d\u7684\u5de5\u5177\u5faa\u73af\u904d\u5386\u751f\u6210\u4e00\u4e2a\u5927\u7684\u00a0<code>available_tools</code>\uff0c\u7136\u540e\u5728\u901a\u8fc7\u5927\u8bed\u8a00\u6a21\u578b\u7684\u8fd4\u56de\u7ed3\u679c\u8fdb\u884c\u8c03\u7528\u5373\u53ef\uff0c\u8fd9\u91cc\u5c31\u4e0d\u518d\u8d58\u8ff0\u4e86\u3002</li> </ul> <p>\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\u6848\u4f8b\uff1ahttps://github.com/modelcontextprotocol/python-sdk/blob/main/examples/clients/simple-chatbot/mcp_simple_chatbot/main.py</p> <ul> <li>hello_server.py\u7684\u540c\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2ahello_client.py\u6587\u4ef6\uff0c\u8fd9client\u7684\u5ba2\u6237\u7aef\u5176\u5b9e\u6700\u6838\u5fc3\u7684\u6d41\u7a0b\u6709\uff1a<ul> <li>\u63a5\u53d7\u5ba2\u6237\u7684\u67e5\u8be2\u8f93\u5165\uff0c\u5e76\u4e14\u8d1f\u8d23\u548cAI\u5927\u6a21\u578b\u7684\u63a5\u53e3\u8fdb\u884c\u5bf9\u8bdd</li> <li>\u5728\u548cAI\u5927\u6a21\u578b\u5bf9\u8bdd\u7684\u65f6\u5019\u4f1a\u9644\u4e0a\u6240\u6709 mcp \u670d\u52a1\u5668\u5de5\u5177\u5217\u8868\u4fe1\u606f(list_tools)</li> <li>\u6839\u636eAI\u5927\u6a21\u578b\u7684\u8fd4\u56de\u7684\u7ed3\u679c\u5224\u65ad\u662f\u5426\u9700\u8981\u4f7f\u7528\u67d0\u4e2amcp\u7684\u5de5\u5177\uff0c\u5982\u679c\u9700\u8981\u4f7f\u7528\u5219\u8c03\u7528\u5bf9\u5e94\u7684mcp \u670d\u52a1\u5668\u7684\u5de5\u5177(tool_calls)\uff0c\u5e76\u4e14\u83b7\u53d6\u5de5\u5177\u7684\u7684\u8fd4\u56de\u7ed3\u679c</li> <li>\u518d\u628amcp\u670d\u52a1\u5668\u5de5\u5177\u7684\u8fd4\u56de\u7ed3\u679c\u7684\u6d88\u606f\u7ee7\u7eed\u8ffd\u52a0\u518d\u539f\u672c\u7684\u6d88\u606f\u6d41\u4e2d\uff0c\u8fdb\u4e00\u6b65\u83b7\u53d6AI\u5927\u6a21\u578b\u7684\u7ed3\u679c\u3002</li> </ul> </li> </ul> <pre><code>import json\nimport asyncio\nimport os\nfrom typing import Optional\nfrom contextlib import AsyncExitStack\n\nfrom openai import OpenAI\nfrom dotenv import load_dotenv\n\nfrom mcp import ClientSession, StdioServerParameters\nfrom mcp.client.stdio import stdio_client\n\n\nload_dotenv()\n\n\nclass MCPClient:\n    def __init__(self):\n        self.session: Optional[ClientSession] = None\n        self.exit_stack = AsyncExitStack()\n        self.client = OpenAI()\n\n    # \u6dfb\u52a0 connect_to_server \u65b9\u6cd5\u6765\u521d\u59cb\u5316\u6211\u4eec\u7684 MCP \u670d\u52a1\u5668\u7684 session\n    async def connect_to_server(self):\n        server_params = StdioServerParameters(\n            command='uv',\n            args=['run', 'hello_server.py'],\n            env=None\n        )\n\n        stdio_transport = await self.exit_stack.enter_async_context(\n            stdio_client(server_params))\n        stdio, write = stdio_transport\n        self.session = await self.exit_stack.enter_async_context(\n            ClientSession(stdio, write))\n\n        await self.session.initialize()\n\n    # \u6211\u4eec\u518d\u5b9e\u73b0\u4e00\u4e2a\u7528\u4e8e\u8c03\u7528 MCP \u670d\u52a1\u5668\u7684\u65b9\u6cd5\u6765\u5904\u7406\u548c DeepSeek \u4e4b\u95f4\u7684\u4ea4\u4e92\n    async def process_query(self, query: str) -&gt; str:\n        # \u8fd9\u91cc\u9700\u8981\u901a\u8fc7 system prompt \u6765\u7ea6\u675f\u4e00\u4e0b\u5927\u8bed\u8a00\u6a21\u578b\uff0c\n        # \u5426\u5219\u4f1a\u51fa\u73b0\u4e0d\u8c03\u7528\u5de5\u5177\uff0c\u81ea\u5df1\u4e71\u56de\u7b54\u7684\u60c5\u51b5\n        system_prompt = (\n            \"You are a helpful assistant.\"\n            \"You have the function of ip_info. \"\n        )\n\n        messages = [\n            {\"role\": \"system\", \"content\": system_prompt},\n            {\"role\": \"user\", \"content\": query}\n        ]\n\n        # \u83b7\u53d6\u6240\u6709 mcp \u670d\u52a1\u5668 \u5de5\u5177\u5217\u8868\u4fe1\u606f\n        response = await self.session.list_tools()\n        # \u751f\u6210 function call \u7684\u63cf\u8ff0\u4fe1\u606f\n        available_tools = [{\n            \"type\": \"function\",\n            \"function\": {\n                \"name\": tool.name,\n                \"description\": tool.description,\n                \"input_schema\": tool.inputSchema\n            }\n        } for tool in response.tools]\n\n        # \u8bf7\u6c42 deepseek\uff0cfunction call \u7684\u63cf\u8ff0\u4fe1\u606f\u901a\u8fc7 tools \u53c2\u6570\u4f20\u5165\n        response = self.client.chat.completions.create(\n            model=os.getenv(\"OPENAI_MODEL\"),\n            messages=messages,\n            tools=available_tools\n        )\n\n        # \u5904\u7406\u8fd4\u56de\u7684\u5185\u5bb9\n        content = response.choices[0]\n        if content.finish_reason == \"tool_calls\":\n            # \u5982\u4f55\u662f\u9700\u8981\u4f7f\u7528\u5de5\u5177\uff0c\u5c31\u89e3\u6790\u5de5\u5177\n            tool_call = content.message.tool_calls[0]\n            tool_name = tool_call.function.name\n            tool_args = json.loads(tool_call.function.arguments)\n\n            # \u6267\u884c\u5de5\u5177\n            result = await self.session.call_tool(tool_name, tool_args)\n            print(f\"\\n\\n[Calling tool {tool_name} with args {tool_args}]\\n\\n\")\n\n            # \u5c06 deepseek \u8fd4\u56de\u7684\u8c03\u7528\u54ea\u4e2a\u5de5\u5177\u6570\u636e\u548c\u5de5\u5177\u6267\u884c\u5b8c\u6210\u540e\u7684\u6570\u636e\u90fd\u5b58\u5165messages\u4e2d\n            messages.append(content.message.model_dump())\n            messages.append({\n                \"role\": \"tool\",\n                \"content\": result.content[0].text,\n                \"tool_call_id\": tool_call.id,\n            })\n\n            # \u5c06\u4e0a\u9762\u7684\u7ed3\u679c\u518d\u8fd4\u56de\u7ed9 deepseek \u7528\u4e8e\u751f\u4ea7\u6700\u7ec8\u7684\u7ed3\u679c\n            response = self.client.chat.completions.create(\n                model=os.getenv(\"OPENAI_MODEL\"),\n                messages=messages,\n            )\n            return response.choices[0].message.content\n\n        return content.message.content\n\n    # \u5b9e\u73b0\u5faa\u73af\u63d0\u95ee\n    async def chat_loop(self):\n        while True:\n            try:\n                query = input(\"\\nQuery: \").strip()\n\n                if query.lower() == 'quit':\n                    break\n\n                response = await self.process_query(query)\n                print(\"\\n\" + response)\n\n            except Exception as e:\n                import traceback\n                traceback.print_exc()\n\n    # \u6700\u540e\u9000\u51fa\u540e\u5173\u95edsession\n    async def cleanup(self):\n        \"\"\"Clean up resources\"\"\"\n        await self.exit_stack.aclose()\n\n\nasync def main():\n    client = MCPClient()\n    try:\n        await client.connect_to_server()\n        await client.chat_loop()\n    finally:\n        await client.cleanup()\n\n\nif __name__ == \"__main__\":\n    import sys\n    asyncio.run(main())\n\n</code></pre> <ul> <li>\u8fd0\u884c\u811a\u672c\uff1a</li> </ul> <pre><code>    python ./hello_client.py\n</code></pre> <p></p>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/MCP/010-MCP%E5%BF%AB%E9%80%9F%E5%AE%9E%E8%B7%B5/#mcp-server","title":"\u672c\u5730\u52a0\u8f7dMCP Server","text":"<ul> <li>\u4e0a\u9762\u4f7f\u7528\u7684ip-info\u8fd9\u4e2amcp server\uff0c\u5982\u4f55\u5728\u4f60\u6bcf\u6b21\u548cAI\u5bf9\u8bdd\u7684\u65f6\u5019\u81ea\u52a8\u8c03\u7528\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u6211\u4eec\u7684hello_client.py\u53bb\u8c03\u7528\uff1f</li> <li> <p>\u5176\u5b9e\u5e02\u9762\u4e0a\u6709\u5f88\u591a\u7684AI\u7684\u684c\u9762\u5e94\u7528\u53ef\u4ee5\u652f\u6301\u672c\u5730AI\u5bf9\u8bdd\u7684\u65f6\u5019\u52a0\u5165MCP\u7684\u670d\u52a1\u5668\uff0c\u6211\u4eec\u4e0d\u7528\u6bcf\u6b21\u81ea\u5df1\u6bcf\u6b21\u53bb\u7f16\u5199\u4e00\u4e2aclient\u6587\u4ef6\u53bb\u5904\u7406\uff0c \u5b98\u65b9\u662f\u63a8\u8350\u4f7f\u7528claude\u684c\u9762\u7aef\u6765\u8fde\u63a5\u5230\u672c\u5730\u7684MCP\u670d\u52a1\u5668\uff08\u5730\u5740\uff09\uff1a</p> <ul> <li>Claude \u684c\u9762\u7aef</li> <li>VsCode \u7684 cline \u63d2\u4ef6</li> <li>Cursor</li> <li>\u7b49\u7b49</li> </ul> </li> <li> <p>\u4f8b\u5982\u4f7f\u7528claude \u8fde\u63a5\u4f60\u7684\u672c\u5730\u7684MCP server\uff0c\u8bbe\u7f6e\u4f60\u7684cluad\u5ba2\u6237\u7aef\u7684\u914d\u7f6e\u6587\u4ef6</p> <ul> <li>\u8fd9\u91cc\u7684/Users/wengmq/wengmq/bs/ens-mcp/mcp-demo/hello-world/.venv/bin/python\u662f\u4f60\u7684\u865a\u62df\u673a\u73af\u5883\u7684python\u7684\u7edd\u5bf9\u8def\u5f84</li> <li>/Users/wengmq/wengmq/bs/ens-mcp/mcp-demo/hello-world/hello_server.py \u662f\u4f60\u7684mcp\u7684\u670d\u52a1\u5668\u7684\u542f\u52a8py\u6587\u4ef6\u5165\u53e3</li> </ul> </li> </ul> <p></p> <pre><code>{\n  \"mcpServers\": {\n    \"ip_info\": {\n      \"command\": \"/Users/wengmq/wengmq/bs/ens-mcp/mcp-demo/hello-world/.venv/bin/python\",\n      \"args\": [\n        \"/Users/wengmq/wengmq/bs/ens-mcp/mcp-demo/hello-world/hello_server.py\"\n      ]\n    }\n  }\n}\n</code></pre> <ul> <li> <p>\u7136\u540e\u518d\u91cd\u542fclaude\u5ba2\u6237\u7aef\uff0c\u4e0b\u6b21\u4f60\u518d\u548cclaude\u7684\u65f6\u5019\u5c31\u4f1a\u81ea\u52a8\u8c03\u7528\u8fd9\u4e2aip_info\u5de5\u5177\u4e86 </p> </li> <li> <p>\u4f7f\u7528cursor\u8fde\u63a5\u672c\u5730\u7684mcp\u4e5f\u662f\u7c7b\u4f3c\u7684 </p> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/MCP/020-python%20MCP%20%E6%A1%86%E6%9E%B6/","title":"020 python MCP \u6846\u67b6","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/MCP/020-python%20MCP%20%E6%A1%86%E6%9E%B6/#_1","title":"\u7b80\u4ecb","text":"<ul> <li> <p><code>mcp\u5b98\u65b9\u5305</code> \uff1a\u5b98\u65b9\u7ef4\u62a4\u7684\u6846\u67b6\uff0c\u7531 Anthropic \u7ef4\u62a4</p> <ul> <li>https://pypi.org/project/mcp/</li> <li>https://github.com/modelcontextprotocol/python-sdk</li> </ul> </li> <li> <p><code>fastmcp</code>\uff1a\u793e\u533a\u5f00\u53d1\u7684\u7b80\u5316\u7248\u672c\uff0cAPI \u66f4\u7b80\u6d01</p> <ul> <li>https://gofastmcp.com/getting-started/welcome</li> </ul> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/Ollama/Ollama%E4%BB%8B%E7%BB%8D/","title":"Ollama\u4ecb\u7ecd","text":"<p>Ollama \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u672c\u5730\u5927\u8bed\u8a00\u6a21\u578b\u8fd0\u884c\u6846\u67b6\uff0c\u4e13\u4e3a\u5728\u672c\u5730\u673a\u5668\u4e0a\u4fbf\u6377\u90e8\u7f72\u548c\u8fd0\u884c\u5927\u578b\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u800c\u8bbe\u8ba1\u3002</p> <p>Ollama \u652f\u6301\u591a\u79cd\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5305\u62ec macOS\u3001Windows\u3001Linux \u4ee5\u53ca\u901a\u8fc7 Docker \u5bb9\u5668\u8fd0\u884c\u3002</p> <p>Ollama \u63d0\u4f9b\u5bf9\u6a21\u578b\u91cf\u5316\u7684\u652f\u6301\uff0c\u53ef\u4ee5\u663e\u8457\u964d\u4f4e\u663e\u5b58\u8981\u6c42\uff0c\u4f7f\u5f97\u5728\u666e\u901a\u5bb6\u7528\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\u5927\u578b\u6a21\u578b\u6210\u4e3a\u53ef\u80fd</p> <ul> <li>Ollama \u6559\u7a0b<ul> <li>https://www.runoob.com/ollama/ollama-tutorial.html</li> </ul> </li> <li>Ollama\u652f\u6301\u7684\u5927\u6a21\u578b\u5217\u8868<ul> <li>https://ollama.com/library</li> </ul> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/Ollama/deepseek%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2/","title":"Deepseek\u672c\u5730\u90e8\u7f72","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/Ollama/deepseek%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2/#ollama","title":"Ollama \u672c\u5730\u5316\u90e8\u7f72","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/Ollama/deepseek%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2/#11-ollama","title":"1.1 \u4e0b\u8f7dOllama","text":"<ul> <li> <p>\u9996\u5148\u767b\u5f55Ollama\u5b98\u7f51\u5730\u5740\uff1a https://ollama.com/ </p> </li> <li> <p>\u76ee\u524dOllama\u652f\u6301macOS\u3001Linux\u3001Windows\uff0c\u9009\u62e9\u76f8\u5e94\u7684\u7cfb\u7edf\uff0cmacOS\u548cWindows\u76f4\u63a5\u4e0b\u8f7d\uff0cLinux\u7cfb\u7edf\u9700\u8981\u6267\u884c\u4e0b\u9762\u547d\u4ee4\uff1a</p> </li> </ul> <pre><code>curl -fsSL https://ollama.com/install.sh | sh\n</code></pre> <ul> <li>windows\u76f4\u63a5\u4e0b\u8f7d\u5bf9\u5e94exe\u7a0b\u5e8f\u8fdb\u884c\u5b89\u88c5\uff1a </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/Ollama/deepseek%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2/#12","title":"1.2 \u9009\u62e9\u6a21\u578b","text":"<ul> <li>\u70b9\u51fb\u8fdb\u53bb\u540e\uff0c\u67e5\u770b\u5404\u4e2a\u6a21\u578b\uff0c\u4e0d\u540c\u6a21\u578b\u6267\u884c\u7684\u547d\u4ee4\u4e0d\u540c\uff0c\u6700\u540e\u90e8\u5206\u770b\u4f60\u9009\u62e9\u7684\u53c2\u6570\u6a21\u578b\u3002</li> <li>DeepSeek R1\u63d0\u4f9b\u591a\u4e2a\u7248\u672c\uff0c\u53c2\u6570\u91cf\u8d8a\u5927\uff0c\u6a21\u578b\u901a\u5e38\u8d8a\u5f3a\u5927\uff0c\u4f46\u4e5f\u9700\u8981\u66f4\u591a\u7684\u8ba1\u7b97\u8d44\u6e90\u3002</li> <li>\u6bd4\u59821.5B\u4ee3\u8868\u670915\u4ebf\u4e2a\u53c2\u6570\u3002</li> <li> <p>\u5177\u4f53\u9009\u62e9\u54ea\u4e00\u4e2a\u770b\u4f60\u786c\u4ef6\u8bbe\u5907\u4e86\uff0c\u5bb6\u7528\u7684\u7535\u8111\u9009\u62e91.5B\u7684\u5c31\u884c\u4e86\u3002 </p> </li> <li> <p>DeepSeek-R1\u7248\u672c\u4ecb\u7ecd\u3001\u53c2\u6570\u91cf\u3001\u7279\u70b9\u3001\u4f7f\u7528\u573a\u666f\u548c\u786c\u4ef6\u914d\u7f6e\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u8868\uff1a</p> </li> </ul> DeepSeek\u6a21\u578b\u7248\u672c \u53c2\u6570\u91cf \u7279\u70b9 \u9002\u7528\u573a\u666f \u786c\u4ef6\u914d\u7f6e DeepSeek-R1-1.5B 1.5B \u8f7b\u91cf\u7ea7\u6a21\u578b\uff0c\u53c2\u6570\u91cf\u5c11\uff0c\u6a21\u578b\u89c4\u6a21\u5c0f \u9002\u7528\u4e8e\u8f7b\u91cf\u7ea7\u4efb\u52a1\uff0c\u5982\u77ed\u6587\u672c\u751f\u6210\u3001\u57fa\u7840\u95ee\u7b54\u7b49 4\u6838\u5904\u7406\u5668\u30018G\u5185\u5b58\uff0c\u65e0\u9700\u663e\u5361 DeepSeek-R1-7B 7B \u5e73\u8861\u578b\u6a21\u578b\uff0c\u6027\u80fd\u8f83\u597d\uff0c\u786c\u4ef6\u9700\u6c42\u9002\u4e2d \u9002\u5408\u4e2d\u7b49\u590d\u6742\u5ea6\u4efb\u52a1\uff0c\u5982\u6587\u6848\u64b0\u5199\u3001\u8868\u683c\u5904\u7406\u3001\u7edf\u8ba1\u5206\u6790\u7b49 8\u6838\u5904\u7406\u5668\u300116G\u5185\u5b58\uff0cRyzen7\u6216\u66f4\u9ad8\uff0cRTX 3060\uff0812GB\uff09\u6216\u66f4\u9ad8 DeepSeek-R1-8B 8B \u6027\u80fd\u7565\u5f3a\u4e8e7B\u6a21\u578b\uff0c\u9002\u5408\u66f4\u9ad8\u7cbe\u5ea6\u9700\u6c42 \u9002\u5408\u9700\u8981\u66f4\u9ad8\u7cbe\u5ea6\u7684\u8f7b\u91cf\u7ea7\u4efb\u52a1\uff0c\u6bd4\u5982\u4ee3\u7801\u751f\u6210\u3001\u903b\u8f91\u63a8\u7406\u7b49 8\u6838\u5904\u7406\u5668\u300116G\u5185\u5b58\uff0cRyzen7\u6216\u66f4\u9ad8\uff0cRTX 3060\uff0812GB\uff09\u62164060 DeepSeek-R1-14B 14B \u9ad8\u6027\u80fd\u6a21\u578b\uff0c\u64c5\u957f\u590d\u6742\u7684\u4efb\u52a1\uff0c\u5982\u6570\u5b66\u63a8\u7406\u3001\u4ee3\u7801\u751f\u6210 \u53ef\u5904\u7406\u590d\u6742\u4efb\u52a1\uff0c\u5982\u957f\u6587\u672c\u751f\u6210\u3001\u6570\u636e\u5206\u6790\u7b49 i9-13900K\u6216\u66f4\u9ad8\u300132G\u5185\u5b58\uff0cRTX 4090\uff0824GB\uff09\u6216A5000 DeepSeek-R1-32B 32B \u4e13\u4e1a\u7ea7\u6a21\u578b\uff0c\u6027\u80fd\u5f3a\u5927\uff0c\u9002\u5408\u9ad8\u7cbe\u5ea6\u4efb\u52a1 \u9002\u5408\u8d85\u5927\u89c4\u6a21\u4efb\u52a1\uff0c\u5982\u8bed\u8a00\u5efa\u6a21\u3001\u5927\u89c4\u6a21\u8bad\u7ec3\u3001\u91d1\u878d\u9884\u6d4b\u7b49 Xeon 8\u6838\u3001128GB\u5185\u5b58\u6216\u66f4\u9ad8\uff0c2-4\u5f20A100\uff0880GB\uff09\u6216\u66f4\u9ad8 DeepSeek-R1-70B\uff0c 70B \u9876\u7ea7\u6a21\u578b\uff0c\u6027\u80fd\u6700\u5f3a\uff0c\u9002\u5408\u5927\u89c4\u6a21\u8ba1\u7b97\u548c\u9ad8\u590d\u6742\u4efb\u52a1 \u9002\u5408\u9ad8\u7cbe\u5ea6\u4e13\u4e1a\u9886\u57df\u4efb\u52a1\uff0c\u6bd4\u5982\u591a\u6a21\u6001\u4efb\u52a1\u9884\u5904\u7406\u3002\u8fd9\u4e9b\u4efb\u52a1\u5bf9\u786c\u4ef6\u8981\u6c42\u975e\u5e38\u9ad8\uff0c\u9700\u8981\u9ad8\u7aef\u7684 CPU \u548c\u663e\u5361\uff0c\u9002\u5408\u9884\u7b97\u5145\u8db3\u7684\u4f01\u4e1a\u6216\u7814\u7a76\u673a\u6784\u4f7f\u7528 Xeon 8\u6838\u3001128GB\u5185\u5b58\u6216\u66f4\u9ad8\uff0c8\u5f20A100/H100\uff0880GB\uff09\u6216\u66f4\u9ad8 DeepSeek-R1-671B 671B \u8d85\u5927\u89c4\u6a21\u6a21\u578b\uff0c\u6027\u80fd\u5353\u8d8a\uff0c\u63a8\u7406\u901f\u5ea6\u5feb\uff0c\u9002\u5408\u6781\u9ad8\u7cbe\u5ea6\u9700\u6c42 \u9002\u5408\u56fd\u5bb6\u7ea7 / \u8d85\u5927\u89c4\u6a21 AI \u7814\u7a76\uff0c\u5982\u6c14\u5019\u5efa\u6a21\u3001\u57fa\u56e0\u7ec4\u5206\u6790\u7b49\uff0c\u4ee5\u53ca\u901a\u7528\u4eba\u5de5\u667a\u80fd\u63a2\u7d22 64\u6838\u3001512GB\u6216\u66f4\u9ad8\uff0c8\u5f20A100/H100 <p>\u5982\u4f55\u9009\u62e9\uff1f\u8d44\u6e90\u6709\u9650\u9009\u62e9\u90091.5B-14B\uff0c\u6027\u4ef7\u6bd4\u66f4\u9ad8\uff1b\u8fd0\u884c\u4f01\u4e1a\u590d\u6742\u4efb\u52a1\u9009\u62e932B-70B\u5e73\u8861\u6027\u80fd\u4e0e\u6210\u672c\uff1b\u5c16\u7aef\u79d1\u7814/\u9ad8\u7cbe\u5ea6\u9700\u6c42\uff1a\u4f18\u5148671B\uff0c\u4f46\u9700\u914d\u5957\u57fa\u7840\u8bbe\u65bd\u3002</p>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/Ollama/deepseek%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2/#_1","title":"\u53c2\u8003","text":"<ul> <li>https://zhuanlan.zhihu.com/p/20733964413</li> <li>\u524d\u7aef\u5de5\u5177\uff1a<ul> <li>\u8c37\u6b4c\u63d2\u4ef6\uff1aPage Assist</li> <li>web\u524d\u7aef\uff1aOpen WebUI</li> </ul> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%8E%A2%E7%B4%A2/openAI/openAI%E7%AE%80%E4%BB%8B/","title":"openAI\u7b80\u4ecb","text":"<ul> <li>openAI\u6587\u6863\u8bf4\u660e<ul> <li>https://platform.openai.com/docs/overview</li> </ul> </li> <li>OpenAI\u5e93\u9002\u7528\u8bf4\u660e<ul> <li>https://platform.openai.com/docs/guides/text-generation?lang=python</li> </ul> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/01-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%8E%9F%E7%90%86/","title":"01 \u79d1\u5b66\u4e0a\u7f51\u539f\u7406","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/01-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%8E%9F%E7%90%86/#vpn","title":"VPN\u4ecb\u7ecd","text":"<ul> <li> <p>\u4ec0\u4e48\u662fVPN\uff1f\uff08\u53c2\u8003\uff1a\u5730\u5740\uff09</p> </li> <li> <p>\u865a\u62df\u4e13\u7528\u7f51\uff08\u82f1\u8bed\uff1aVirtual Private Network\uff0c\u7b80\u79f0VPN\uff09\uff0c\u662f\u4e00\u79cd\u5e38\u7528\u4e8e\u8fde\u63a5\u4e2d\u3001\u5927\u578b\u4f01\u4e1a\u6216\u56e2\u4f53\u4e0e\u56e2\u4f53\u95f4\u7684\u79c1\u4eba\u7f51\u7edc\u7684\u901a\u8baf\u65b9\u6cd5\u3002\u865a\u62df\u79c1\u4eba\u7f51\u7edc\u7684\u8baf\u606f\u900f\u8fc7\u516c\u7528\u7684\u7f51\u7edc\u67b6\u6784\uff08\u4f8b\u5982\uff1a\u4e92\u8054\u7f51\uff09\u6765\u4f20\u9001\u5185\u8054\u7f51\u7684\u7f51\u7edc\u8baf\u606f\u3002\u5b83\u5229\u7528\u5df2\u52a0\u5bc6\u7684\u901a\u9053\u534f\u8bae\uff08Tunneling Protocol\uff09\u6765\u8fbe\u5230\u4fdd\u5bc6\u3001\u53d1\u9001\u7aef\u8ba4\u8bc1\u3001\u6d88\u606f\u51c6\u786e\u6027\u7b49\u79c1\u4eba\u6d88\u606f\u5b89\u5168\u6548\u679c\u3002   </p> </li> <li> <p>\u6b63\u5e38\u7f51\u7edc\u901a\u4fe1\u65f6\uff0c\u6240\u6709\u7f51\u7edc\u8bf7\u6c42\u90fd\u662f\u901a\u8fc7\u6211\u4eec\u7684\u7269\u7406\u7f51\u5361\u76f4\u63a5\u53d1\u9001\u51fa\u53bb\u3002\u800cVPN\u662f\u5ba2\u6237\u7aef\u4f7f\u7528\u76f8\u5e94\u7684VPN\u534f\u8bae\u5148\u4e0eVPN\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\uff0c\u6210\u529f\u8fde\u63a5\u540e\u5c31\u5728\u64cd\u4f5c\u7cfb\u7edf\u5185\u5efa\u7acb\u4e00\u4e2a\u865a\u62df\u7f51\u5361\uff0c\u4e00\u822c\u6765\u8bf4\u9ed8\u8ba4PC\u4e0a\u6240\u6709\u7f51\u7edc\u901a\u4fe1\u90fd\u4ece\u8fd9\u865a\u62df\u7f51\u5361\u4e0a\u8fdb\u51fa\uff0c\u7ecf\u8fc7VPN\u670d\u52a1\u5668\u4e2d\u8f6c\u4e4b\u540e\u518d\u5230\u8fbe\u76ee\u7684\u5730\u3002   </p> </li> <li> <p>\u901a\u5e38VPN\u534f\u8bae\u90fd\u4f1a\u5bf9\u6570\u636e\u6d41\u8fdb\u884c\u5f3a\u52a0\u5bc6\u5904\u7406\uff0c\u4ece\u800c\u4f7f\u5f97\u7b2c\u4e09\u65b9\u65e0\u6cd5\u77e5\u9053\u6570\u636e\u5185\u5bb9\uff0c\u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86\u7ffb\u5899\u3002\u7ffb\u5899\u65f6VPN\u670d\u52a1\u5668\u77e5\u9053\u4f60\u5e72\u7684\u6240\u6709\u4e8b\u60c5\uff08HTTP\uff0c\u5bf9\u4e8eHTTPS\uff0c\u5b83\u77e5\u9053\u4f60\u53bb\u4e86\u54ea\uff09\u3002</p> </li> <li> <p>VPN\u6709\u591a\u79cd\u534f\u8bae\uff1aOPENVPN\u3001PPTP\u3001L2TP/IPSec\u3001SSLVPN\u3001IKEv2 VPN\uff0cCisco VPN\u7b49\u3002\u5176\u4e2d\u7684PPTP\u548cL2TP\u662f\u660e\u6587\u4f20\u8f93\u534f\u8bae\u3002\u53ea\u8d1f\u8d23\u4f20\u8f93\uff0c\u4e0d\u8d1f\u8d23\u52a0\u5bc6\u3002\u5206\u522b\u5229\u7528\u4e86MPPE\u548cIPSec\u8fdb\u884c\u52a0\u5bc6\u3002</p> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/01-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%8E%9F%E7%90%86/#_1","title":"\u6570\u636e\u52a0\u5bc6\u7684\u8fc7\u7a0b","text":"<p>\u672c\u6587\u4ecb\u7ecd\u548c\u63a8\u8350\u7684\u65b9\u5f0f\u662f\u4f7f\u7528Vmess+Websocket+TLS\u7684\u52a0\u5bc6\u8fc7\u7a0b</p>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/01-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%8E%9F%E7%90%86/#vmess","title":"Vmess \u7684\u52a0\u5bc6\u673a\u5236","text":"<pre><code>Vmess \u662f V2Ray \u7684\u81ea\u5b9a\u4e49\u534f\u8bae\uff0c\u4e13\u95e8\u8bbe\u8ba1\u7528\u4e8e\u4ee3\u7406\u901a\u4fe1\u3002\u5b83\u7684\u52a0\u5bc6\u548c\u8ba4\u8bc1\u8fc7\u7a0b\u5982\u4e0b\uff1a\n\n\u6b65\u9aa4 1\uff1a\u8bf7\u6c42\u8ba4\u8bc1\n    Vmess \u534f\u8bae\u4f1a\u5bf9\u6bcf\u4e2a\u8bf7\u6c42\u5934\u6dfb\u52a0\u8ba4\u8bc1\u4fe1\u606f\uff0c\u5305\u62ec\u65f6\u95f4\u6233\u548c\u7528\u6237\u6807\u8bc6\u3002\n    \u4f7f\u7528\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\uff08\u901a\u5e38\u662f AES\uff09\u5bf9\u8ba4\u8bc1\u4fe1\u606f\u8fdb\u884c\u52a0\u5bc6\uff0c\u786e\u4fdd\u53ea\u6709\u53cc\u65b9\u53ef\u4ee5\u89e3\u5bc6\u5e76\u6821\u9a8c\u3002\n\u6b65\u9aa4 2\uff1a\u6d41\u91cf\u52a0\u5bc6\n  \u6570\u636e\u5728\u5ba2\u6237\u7aef\u52a0\u5bc6\u540e\u901a\u8fc7 Vmess \u4f20\u8f93\u5230\u670d\u52a1\u7aef\u3002\n  \u52a0\u5bc6\u7b97\u6cd5\uff1a\n    AES-128-GCM \u6216 ChaCha20-Poly1305 \u7b49\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u3002\n    \u5bf9\u79f0\u52a0\u5bc6\u5bc6\u94a5\u7531\u670d\u52a1\u5668\u9884\u5148\u914d\u7f6e\uff0c\u6216\u901a\u8fc7 Diffie-Hellman \u534f\u8bae\u52a8\u6001\u751f\u6210\u3002\n</code></pre>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/01-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%8E%9F%E7%90%86/#websockettls","title":"websocket+TLS","text":"<ul> <li>\u8fd9\u4e2a\u7b80\u5355\u8bf4\u5c31\u662f\u652f\u6301\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u5168\u53cc\u5de5\u7684https\u534f\u8bae</li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/01-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%8E%9F%E7%90%86/#_2","title":"\u5b8c\u6574\u6570\u636e\u52a0\u5bc6\u548c\u901a\u4fe1\u6d41\u7a0b","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/01-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%8E%9F%E7%90%86/#_3","title":"\u5ba2\u6237\u7aef\u5230\u670d\u52a1\u7aef\u7684\u6d41\u7a0b","text":"<ul> <li>TLS \u52a0\u5bc6</li> <li>\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u5efa\u7acb TLS \u5b89\u5168\u901a\u9053\uff0c\u751f\u6210\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u7528\u4e8e\u4fdd\u62a4\u4f20\u8f93\u5c42\u6570\u636e\u7684\u673a\u5bc6\u6027\u548c\u5b8c\u6574\u6027\u3002</li> <li>WebSocket \u63e1\u624b</li> <li>\u5ba2\u6237\u7aef\u901a\u8fc7 TLS \u901a\u9053\u5411\u670d\u52a1\u7aef\u53d1\u8d77 WebSocket \u63e1\u624b\u3002</li> <li>\u63e1\u624b\u540e\uff0cWebSocket \u8fde\u63a5\u5347\u7ea7\uff0c\u5f00\u59cb\u53cc\u5411\u6570\u636e\u4f20\u8f93\u3002</li> <li>Vmess \u6570\u636e\u52a0\u5bc6</li> <li>\u5ba2\u6237\u7aef\u4f7f\u7528 Vmess \u534f\u8bae\u5bf9\u6570\u636e\u52a0\u5bc6\u5e76\u6dfb\u52a0\u8ba4\u8bc1\u4fe1\u606f\u3002 </li> <li>\u52a0\u5bc6\u6570\u636e\u901a\u8fc7 WebSocket \u6570\u636e\u5e27\u53d1\u9001\u5230\u670d\u52a1\u7aef\u3002</li> <li>\u6570\u636e\u4f20\u8f93</li> <li>\u52a0\u5bc6\u540e\u7684\u6570\u636e\u5d4c\u5957\u5728 WebSocket \u4e2d\uff0c\u6700\u7ec8\u901a\u8fc7 TLS \u901a\u9053\u4f20\u8f93\u5230\u670d\u52a1\u7aef\u3002</li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/01-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%8E%9F%E7%90%86/#_4","title":"\u670d\u52a1\u7aef\u7684\u89e3\u5bc6\u8fc7\u7a0b","text":"<ul> <li>\u670d\u52a1\u7aef\u901a\u8fc7 TLS \u89e3\u5bc6\u5916\u5c42\u7684\u52a0\u5bc6\u6570\u636e\uff0c\u83b7\u53d6 WebSocket \u6570\u636e\u5e27\u3002</li> <li>\u4ece WebSocket \u6570\u636e\u5e27\u4e2d\u63d0\u53d6 Vmess \u6570\u636e\u3002</li> <li>\u4f7f\u7528 Vmess \u534f\u8bae\u89e3\u5bc6\u6570\u636e\u5e76\u6821\u9a8c\u8ba4\u8bc1\u4fe1\u606f\u3002</li> <li>\u5c06\u89e3\u5bc6\u540e\u7684\u539f\u59cb\u6570\u636e\u8f6c\u53d1\u5230\u76ee\u6807\u670d\u52a1\u5668\uff08\u5982\u7f51\u7ad9\u6216\u5176\u4ed6\u670d\u52a1\uff09\u3002</li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/01-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%8E%9F%E7%90%86/#_5","title":"\u52a0\u5bc6\u5c42\u6b21\u603b\u7ed3","text":"<ul> <li>Vmess+WebSocket+TLS \u7684\u52a0\u5bc6\u6d89\u53ca\u591a\u5c42\u5d4c\u5957\uff1a<ul> <li>\u7b2c\u4e00\u5c42\uff1aTLS</li> <li>\u63d0\u4f9b\u4f20\u8f93\u5c42\u52a0\u5bc6\uff0c\u4fdd\u62a4\u6574\u4e2a\u901a\u4fe1\u96a7\u9053\u3002</li> <li>\u7b2c\u4e8c\u5c42\uff1aWebSocket</li> <li>\u5c06\u6d41\u91cf\u4f2a\u88c5\u4e3a\u666e\u901a\u7684 HTTP(S) \u901a\u4fe1\uff0c\u589e\u52a0\u9690\u533f\u6027\u3002</li> <li>\u7b2c\u4e09\u5c42\uff1aVmess</li> <li>\u5bf9\u6570\u636e\u5185\u5bb9\u8fdb\u884c\u52a0\u5bc6\u548c\u8ba4\u8bc1\uff0c\u786e\u4fdd\u901a\u4fe1\u53cc\u65b9\u8eab\u4efd\u53ef\u9760\u4e14\u6570\u636e\u5b8c\u6574\u3002</li> </ul> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/01-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%8E%9F%E7%90%86/#_6","title":"\u5b89\u5168\u6027\u5206\u6790","text":"<ul> <li>\u901a\u8fc7\u8fd9\u4e2aVmess+Websocket+TLS\u65b9\u5f0f\u7684\u8bf7\u6c42\uff0c\u5728GFW\u6765\u770b\u5c31\u662f\u5ba2\u6237\u7aef\u4e00\u76f4\u5728\u548c\u4f60v2ray\u7684\u670d\u52a1\u5668\u7684\u8fdb\u884c\u901a\u4fe1</li> <li>\u901a\u4fe1\u7684\u6570\u636e\u662f\u5b8c\u5168\u52a0\u5bc6\u7684\uff0c\u65e0\u6cd5\u67e5\u770b\u5ba2\u6237\u7aef\u771f\u5b9e\u8bbf\u95ee\u7684\u57df\u540d\u60c5\u51b5\uff0c\u4f46\u662f\u53ef\u4ee5\u770b\u5230\u4f60\u7684v2ray\u7684\u57df\u540d\uff08\u56e0\u4e3aSNI\uff09<ul> <li>\u6240\u4ee5\u53ef\u4ee5\u81ea\u5df1\u81ea\u7b7e\u4e00\u4e2aIP\u8bc1\u4e66\uff0c\u5efa\u8bae\u4e0d\u7528\u4f7f\u7528\u56fd\u5185\u5907\u6848\u57df\u540d</li> </ul> </li> <li>\u4f46\u662f\u5927\u90e8\u5206\u4eba\u7684v2ray\u90fd\u4f1a\u642d\u5efa\u5728\u6d77\u5916\uff0c\u5ba2\u6237\u7aef\u957f\u671f\u548c\u6d77\u5916\u7684IP\u8fdb\u884c\u901a\u4fe1\u5728GFW\u770b\u6765\u8fd8\u662f\u6bd4\u8f83\u53ef\u7591\u7684\u3002</li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/01-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%8E%9F%E7%90%86/#vpncnd","title":"VPN+CND \uff08\u8fdb\u9636\u7248\uff09","text":"<ul> <li>v2ray\u867d\u7136\u5df2\u7ecf\u8d70\u4e86https\u4f46\u662f\uff0c\u4e00\u76f4\u8bbf\u95ee\u5883\u5916\u7684IP\uff0c\u88ab\u76d1\u6d4b\u5230\u8fd8\u662f\u53ef\u80fd\u4f1a\u88ab\u5c01IP\uff0c\u6700\u597d\u7684\u65b9\u5f0f\u662f\u5728VPN\u524d\u9762\u518d\u8d70\u4e00\u5c42CDN</li> <li>\u5f53\u524d\u8bf7\u6c42\u6d41\u7a0b\uff1a<ul> <li>\u5ba2\u6237\u7aef--&gt;VPN--&gt;\u76ee\u6807\u670d\u52a1\u5668</li> </ul> </li> <li>VPN+CND\u8bf7\u6c42\u6d41\u7a0b<ul> <li>\u5ba2\u6237\u7aef--&gt;CDN--&gt;VPN--&gt;\u76ee\u6807\u670d\u52a1\u5668</li> </ul> </li> <li>\u4e2a\u4eba\u6709\u5c1d\u8bd5\u7528\u8fc7\u817e\u8bafCDN\uff08100G\u6d41\u91cf/\u6bcf\u5e7420\u5757\uff0c\u4e5f\u53ef\u4ee5\u63a5\u53d7\uff09<ul> <li>\u9700\u8981\u914d\u7f6e\u56de\u6e90\u7684 IP \u548c host \u5373\u53ef\uff0c\u8d2d\u4e70\u6d41\u91cf\u5305\u540e\u5c31\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528</li> <li>\u4f7f\u7528CDN\u65f6\u5ef6\u76f4\u63a5\u51cf\u5c11\u4e86\u4e00\u534a\uff0c\u53c8\u5b89\u5168\u53c8\u5feb\uff0c\u4e0d\u8fc7\u5c31\u662f\u9700\u8981\u518d\u82b1\u70b9\u94b1\u3002</li> </ul> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/02-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA/","title":"02 \u79d1\u5b66\u4e0a\u7f51\u670d\u52a1\u5668\u642d\u5efa","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/02-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA/#_1","title":"\u8d2d\u4e70\u6d77\u5916\u670d\u52a1\u5668","text":"<ul> <li>\u9996\u9009\u4f60\u9700\u8981\u6709\u4e00\u4e2a\u542b\u516c\u7f51IP\u7684\u6d77\u5916\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u5728\u963f\u91cc\u4e91\u4e0a\u8d2d\u4e70</li> <li>\u8d2d\u4e70\u6700\u4f4e\u914d\u7f6e\u5c31\u884c\uff08\u6211\u7684\u7528\u9999\u6e2f2\u68381G 24\u5143/\u6708\uff09\uff0c\u4e0d\u8fc7\u73b0\u5728chatgpt\u8fde\u9999\u6e2f\u8fc7\u53bb\u7684\u4e5f\u65e0\u6cd5\u8bbf\u95ee\uff0c\u5efa\u8bae\u76f4\u63a5\u4e0a\u7f8e\u56fd/\u65b0\u52a0\u5761\u7684\u4e91\u4e3b\u673a</li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/02-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA/#ubuntu24-lts","title":"\u5b89\u88c5\u8fc7\u7a0b\u57fa\u4e8eubuntu24 LTS","text":"<ul> <li>\u6307\u6807\u5df2\u7ecf\u901a\u8fc7shell\u547d\u4ee4\u76f4\u63a5\u5c01\u88c5\u597d\u4e86\uff0c\u8be6\u7ec6\u53ef\u4ee5\u67e5\u770b\u4ee3\u7801\u4ed3\u5e93\uff1a\u5730\u5740</li> <li>\u5173\u4e8e\u8fd9\u4e2a\u4ed3\u5e93\u7684\u8bf4\u660e\uff1a<ul> <li>\u7cfb\u7edf\u4f7f\u7528ubuntu24</li> <li>\u4f7f\u7528\u5bb9\u5668\u8fdb\u884c\u90e8\u7f72v2ray/official:latest \u5bb9\u5668 \uff0c\u4f5c\u4e3aserver\u7aef</li> <li>\u4f7f\u7528opneresty\u5c06\u8bf7\u6c42\u8f6c\u53d1\u5230\u540e\u6bb5\u7684v2ray\u5bb9\u5668</li> <li>opneresty\u6839\u636e\u670d\u52a1\u5668\u7684\u516c\u7f51IP\u81ea\u7b7e\u8bc1\u4e66\uff0c\u4fdd\u8bc1\u8bbf\u95ee\u7684\u90fd\u662fhttps\u8bf7\u6c42</li> </ul> </li> <li>\u8fd9\u8fb9\u4f7f\u7528ubuntu\u8fdb\u884c\u4e00\u952e\u5b89\u88c5\uff1a<ul> <li>\u672c\u5730\u6709ansible\u7684\u8bdd\u53ef\u4ee5\u76f4\u63a5\u6267\u884c(\u5bf9\u5e94host\u9700\u8981\u4fee\u6539)\uff1aansible-playbook ./deploy.yaml</li> <li>\u6216\u8005\u4e5f\u53ef\u4ee5\u628a\u9879\u76ee\u62f7\u8d1d\u5230\u96c6\u673a\u5668\uff0c\u6267\u884c bash -x ./start_on_ubuntu24.sh\u5373\u53ef</li> </ul> </li> <li>\u5907\u6ce8\uff1a<ul> <li>\u5982\u679c\u7b2c\u4e00\u6b21\u542f\u52a8\u5931\u8d25\u53ef\u4ee5\u5728\u91cd\u65b0\u6267\u884c\u4e00\u904d\uff0c\u6700\u7ec8\u4f7f\u7528443\u7aef\u53e3\u4f5c\u4e3a\u670d\u52a1\u7aef\u53e3\uff0c\u5e76\u4e14\u6839\u636e\u670d\u52a1\u5668\u7684\u516c\u7f51IP\u81ea\u7b7e\u8bc1\u4e66\uff0c\u4f7f\u7528Vmess+WebSocket+TLS \u7684\u52a0\u5bc6\u4e0a\u7f51\u3002</li> </ul> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/03-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%AE%A2%E6%88%B7%E7%AB%AF/","title":"03 \u79d1\u5b66\u4e0a\u7f51\u5ba2\u6237\u7aef","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/03-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%AE%A2%E6%88%B7%E7%AB%AF/#v2ray","title":"v2ray\u5ba2\u6237\u7aef\u5b89\u88c5","text":"<ul> <li> <p>\u524d\u9762\u5b89\u88c5\u7684\u662fv2ray\u7684\u670d\u52a1\u7aef\uff0c\u8fd8\u9700\u8981\u5b89\u88c5v2ray\u5ba2\u6237\u7aef\uff0c\u4e2a\u4eba\u7535\u8111\u4e0a\u7f51\u65f6\u901a\u8fc7\u5ba2\u6237\u7aef\u8fde\u63a5\u5230v2ray\u670d\u52a1\u7aef\uff0cv2ray\u670d\u52a1\u7aef\u5bf9\u8bf7\u6c42\u8fdb\u884c\u8f6c\u53d1\uff0c\u4ece\u800c\u5b9e\u73b0\u79d1\u5b66\u4e0a\u7f51\u3002</p> </li> <li> <p>\u4e0b\u8f7d\u5ba2\u6237\u7aef</p> <ul> <li> <p>iphone\u5ba2\u6237\u7aef\u9700\u8981\u4f7f\u7528\u6d77\u5916\u7684APPID\uff0c\u82b1\u51e0\u7f8e\u5143\u4e0b\u8f7d\u5c0f\u706b\u7bad</p> </li> <li> <p>\u5b89\u5353\u7684\u5ba2\u6237\u7aef\u53ef\u4ee5\u4e0b\u8f7dv2rayNG\uff1a</p> <ul> <li>https://github.com/2dust/v2rayNG/releases/download/1.7.38/v2rayNG_1.7.38.apk</li> </ul> </li> <li> <p>windows\u5ba2\u6237\u7aef\u53ef\u4ee5\u53bbgithub\u5b89\u88c5\u5bf9\u5e94\u7684v2rayN\u7684release\u7248\u672c\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>https://github.com/2dust/v2rayN/releases/download/6.0/v2rayN.zip</li> </ul> </li> <li> <p>mac\u5ba2\u6237\u7aef\u53ef\u4ee5\u76f4\u63a5\u53bbgithub\u5b89\u88c5\u5bf9\u5e94\u7684v2rayX\u7684release\u7248\u672c\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>https://github.com/Cenmrev/V2RayX/releases/download/v1.5.1/V2RayX.app.zip</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/03-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%AE%A2%E6%88%B7%E7%AB%AF/#_1","title":"\u5ba2\u6237\u7aef\u914d\u7f6e\u53c2\u8003","text":"<ul> <li> <p>\u5f53\u524d\u9ed8\u8ba4v2ray\u52a0\u7684\u76ee\u5f55\u524d\u7f00\u6539\u6210/v2\u4e86\uff0c\u9700\u8981\u6ce8\u610f\u4e0b\u3002</p> </li> <li> <p>\u6211\u8fd9\u8fb9\u4f7f\u7528mac\u7248\u672c\u7684v2rayX</p> </li> </ul> <p></p>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%A6%82%E4%BD%95%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/03-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%AE%A2%E6%88%B7%E7%AB%AF/#_2","title":"\u9a8c\u8bc1","text":"<ul> <li>https://www.google.com/ \u8c37\u6b4c\u53ef\u4ee5\u6b63\u5e38\u6253\u5f00\u8bf4\u660e\u7684\u79d1\u5b66\u4e0a\u7f51\u53ef\u4ee5\u6b63\u5e38\u4e86 </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/01-%E7%AE%80%E4%BB%8B/","title":"01 \u7b80\u4ecb","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/01-%E7%AE%80%E4%BB%8B/#_1","title":"\u7b80\u4ecb","text":"<ul> <li>\u5bb6\u5ead\u7535\u8111\u548c\u670d\u52a1\u5668\u672c\u8d28\u4e0a\u6ca1\u6709\u533a\u522b\uff0c\u670d\u52a1\u5668\u901a\u5e38\u4f7f\u7528linux\u7cfb\u7edf\u6bd4\u8f83\u7a33\u5b9a\u5e76\u4e14\u673a\u5668\u7684\u914d\u7f6e\u6bd4\u8f83\u544a\u66f4\u9ad8\uff0c24\u5c0f\u65f6\u540e\u53f0\u8fd0\u884c\u4f60\u7684\u670d\u52a1\u3002\u53ea\u8981\u4f60\u60f3\uff0c\u4f60\u5b8c\u5168\u53ef\u4ee5\u5c06\u4f60\u7684\u5bb6\u5ead\u7535\u8111\u53d8\u6210\u4e00\u53f0\u7b80\u5355\u7684\u670d\u52a1\u5668\u3002</li> <li>\u5bb6\u91cc\u51d1\u5de7\u6709\u4e00\u53f0\u4e10\u7248\u7684mac mini\uff0c\u5e73\u5e38\u7528\u4e8e\u5237\u5267\u6709\u70b9\u6d6a\u8d39\uff0c\u6b63\u597d\u53ef\u4ee5\u5229\u7528\u8d77\u6765\u3002</li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/01-%E7%AE%80%E4%BB%8B/#_2","title":"\u8bf4\u660e","text":"<ul> <li> <p>\u672c\u6587\u7528\u4e8e\u5c06\u5bb6\u5ead\u5185\u7f51\u7535\u8111\u8bbe\u7f6e\u4e3a\u53ef\u4ee5\u516c\u7f51\u8bbf\u95ee\u7684\u670d\u52a1\u5668\uff08\u5411\u8fd0\u8425\u5546\u7533\u8bf7\u52a8\u6001\u7684\u516c\u7f51IP\uff09</p> </li> <li> <p>\u5e76\u4e14\u4f7f\u7528\u5b9a\u65f6\u4efb\u52a1\uff0c\u5b9a\u65f6\u66f4\u65b0\u963f\u91cc\u4e91\u57df\u540d\u89e3\u6790\u4e3a\u672c\u673a\u7684\u516c\u7f51IP</p> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/01-%E7%AE%80%E4%BB%8B/#_3","title":"\u6700\u7ec8\u6548\u679c","text":"<ul> <li>\u53ef\u4ee5\u968f\u65f6\u901a\u8fc7\u57df\u540d\u8bbf\u95ee\u4f60\u5bb6\u4e2d\u7535\u8111\u7684\u670d\u52a1\uff0c\u6216\u662f\u76f4\u63a5ssh\u8fdb\u884c\u8fdc\u7a0b\u767b\u5f55\u4f60\u7684\u5bb6\u5ead\u7535\u8111\u3002</li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/02-%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E7%94%B3%E8%AF%B7%E5%85%AC%E7%BD%91IP/","title":"02 \u5bb6\u5ead\u5bbd\u5e26\u7533\u8bf7\u516c\u7f51IP","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/02-%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E7%94%B3%E8%AF%B7%E5%85%AC%E7%BD%91IP/#ip","title":"\u7533\u8bf7\u516c\u7f51IP","text":"<ul> <li>\u5bb6\u5ead\u5bbd\u5e26\u901a\u5e38\u4e0d\u4f1a\u9700\u8981\u7ed9\u4f60\u5bb6\u7684\u8def\u7531\u5668\u5206\u914d\u72ec\u7acb\u7684\u516c\u7f51IP\uff0c\u9700\u8981\u4f60\u989d\u5916\u7533\u8bf7\u3002</li> <li>\u516c\u7f51 IP \u7684\u7533\u8bf7\u6bd4\u8f83\u65b9\u4fbf\uff0c\u53ea\u9700\u8981\u6253\u7535\u8bdd\u7ed9\u5bf9\u5e94\u8fd0\u8425\u5546\u5ba2\u670d\u8bf4\u4f60\u9700\u8981\u516c\u7f51 IP \u5c31\u884c\uff0c\u4f8b\u5982\u6211\u7684\u7535\u4fe1\u5bbd\u5e26\u5c31\u662f\u76f4\u63a5\u625310000\u53f7\u8f6c\u4eba\u5de5\uff0c\u5ba2\u670d\u4f1a\u76f4\u63a5\u5e2e\u4f60\u64cd\u4f5c\uff0c\u4e00\u822c\u6765\u8bf4 24 \u5c0f\u65f6\u5185\u5c31\u80fd\u641e\u5b9a\u4e86\u3002\u6ce8\u610f\u6709\u65f6\u5019\u5ba2\u670d\u4f1a\u95ee\u4f60\u8981\u516c\u7f51 IP \u505a\u4ec0\u4e48\uff0c\u4f60\u5c31\u56de\u7b54\u5de5\u4f5c\u9700\u8981\u6216\u8005\u8bbf\u95ee\u5bb6\u91cc\u7684\u76d1\u63a7\u4e4b\u7c7b\u7684\u539f\u56e0\u5c31\u884c\uff0c\u4f46\u662f\u4e0d\u8981\u8bf4\u81ea\u5df1\u5728\u5bb6\u91cc\u9762\u67b6\u8bbe\u7f51\u7ad9\u3002</li> <li>\u4f46\u662f\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u516c\u7f51IP\u662f\u52a8\u6001\u7684\uff0cIP\u4e0d\u662f\u56fa\u5b9a\u7684\uff0c\u53ef\u80fd\u9694\u51e0\u5929\u5c31\u6362\u4e86\u3002\u6240\u4ee5\u540e\u9762\u63d0\u5230\uff0c\u4f7f\u7528\u672c\u673a\u4e0a\u9762\u7684\u5b9a\u65f6\u4efb\u52a1\uff0c\u5b9a\u65f6\u66f4\u65b0\u963f\u91cc\u4e91\u57df\u540d\u89e3\u6790\u4e3a\u672c\u673a\u7684\u516c\u7f51IP\u3002</li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/02-%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E7%94%B3%E8%AF%B7%E5%85%AC%E7%BD%91IP/#_1","title":"\u914d\u7f6e\u5149\u732b\u548c\u8def\u7531\u5668","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/02-%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E7%94%B3%E8%AF%B7%E5%85%AC%E7%BD%91IP/#_2","title":"\u5bf9\u5916\u8bf7\u6c42\u6d41\u7a0b","text":"<ul> <li>\u4ee5\u4e3a\u6211\u81ea\u5bb6\u8def\u7531\u5668\u4e3a\u4f8b\uff1a</li> <li> </li> <li> <p>\u4f8b\u5982\u6211\u5bf9\u5916\u7684mtr\u8def\u5f84\u5982\u4e0b\uff1a</p> <ul> <li></li> </ul> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/02-%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E7%94%B3%E8%AF%B7%E5%85%AC%E7%BD%91IP/#19216811","title":"\u5149\u732b\uff1a\u3010192.168.1.1\u3011","text":"<ul> <li> <p>\u8bf4\u660e\uff1a</p> <ul> <li> <p>\u5c06\u5149\u7ea4\u4f20\u8f93\u7684\u5149\u4fe1\u53f7\u8f6c\u6362\u4e3a\u7535\u4fe1\u53f7\uff0c\u4ee5\u4fbf\u8fde\u63a5\u5230\u5bb6\u5ead\u5185\u90e8\u7f51\u7edc\u8bbe\u5907\u3002</p> </li> <li> <p>\u4f4d\u7f6e\uff1a\u901a\u5e38\u4f4d\u4e8e\u5165\u6237\u5904\uff0c\u4e0e\u8fd0\u8425\u5546\u63d0\u4f9b\u7684\u5149\u7ea4\u76f4\u63a5\u76f8\u8fde\u3002</p> </li> <li> <p>\u4e3b\u8981\u4efb\u52a1\u662f\u5149\u7535\u8f6c\u6362\uff0c\u5e76\u53ef\u80fd\u63d0\u4f9b\u57fa\u672c\u7684\u6570\u636e\u8f6c\u53d1\u529f\u80fd\u3002</p> </li> <li> <p>\u53ef\u4ee5\u6d4f\u89c8\u5668\u76f4\u63a5\u8bbf\u95ee\u5149\u732b\u7684\u5730\u5740\uff0c\u767b\u5f55\u540e\u8fdb\u884c\u8bbe\u7f6e\uff08\u5bc6\u7801\u4e00\u822c\u4f4d\u4e8e\u5149\u732b\u5e95\u90e8\uff09</p> </li> </ul> </li> <li> <p>\u4ee5\u6211\u81ea\u5df1\u5bb6\u91cc\u7684\u5149\u732b\u4e3a\u4f8b\uff1a</p> <ul> <li> <p>\u8fd9\u91cc\u7684\u7533\u8bf7\u7684\u516c\u7f51\u52a8\u6001IP\u662f\u914d\u7f6e\u5728\u5149\u732b\u4e0a\u9762</p> </li> <li> <p>\u8fd9\u91cc\u8fde\u63a5\u5728\u5149\u732b\u7f51\u53e34\u7684192.168.1.2\u5373\u6211\u81ea\u5df1\u7684\u8def\u7531\u5668</p> </li> <li> <p></p> </li> <li> <p></p> </li> </ul> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/02-%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E7%94%B3%E8%AF%B7%E5%85%AC%E7%BD%91IP/#19216812","title":"\u8def\u7531\u5668\uff1a\u3010192.168.1.2\u3011","text":"<ul> <li> <p>\u8bf4\u660e\uff1a</p> <ul> <li> <p>\u4f5c\u7528\uff1a\u8d1f\u8d23\u7ba1\u7406\u6570\u636e\u5305\u5728\u5c40\u57df\u7f51\u5185\u7684\u5206\u53d1\u4ee5\u53ca\u5bf9\u5916\u7f51\u7684\u8bbf\u95ee\u63a7\u5236\u3002</p> </li> <li> <p>\u4f4d\u7f6e\uff1a\u4e00\u822c\u653e\u7f6e\u5728\u5bb6\u4e2d\u8f83\u4e3a\u4e2d\u5fc3\u7684\u4f4d\u7f6e\uff0c\u4ee5\u786e\u4fdd\u65e0\u7ebf\u4fe1\u53f7\u8986\u76d6\u8303\u56f4\u6700\u5e7f\u3002</p> </li> <li> <p>\u63d0\u4f9b\u7684\u4e3b\u8981\u529f\u80fd\u5305\u62ecIP\u5730\u5740\u5206\u914d\u3001NAT\uff08\u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff09\u3001\u9632\u706b\u5899\u4fdd\u62a4\u3001Wi-Fi\u63a5\u5165\u70b9\u7b49\u3002</p> </li> <li> <p>\u53ef\u4ee5\u6d4f\u89c8\u5668\u76f4\u63a5\u8bbf\u95ee\u8def\u7531\u5668\u7684\u5730\u5740\uff0c\u767b\u5f55\u540e\u8fdb\u884c\u8bbe\u7f6e\uff08\u5bc6\u7801\u4e00\u822c\u4f4d\u4e8e\u8def\u7531\u5668\u5e95\u90e8\uff09</p> </li> </ul> </li> <li> <p></p> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/02-%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E7%94%B3%E8%AF%B7%E5%85%AC%E7%BD%91IP/#_3","title":"\u914d\u7f6e\u516c\u7f51\u7684\u7aef\u53e3\u6620\u5c04","text":"<ul> <li> <p>\u4e0d\u540c\u8fd0\u8425\u5546\u8bbe\u5907\u53ef\u80fdweb\u9875\u9762\u4e0d\u592a\u4e00\u6837\uff0c\u6574\u4f53\u5e94\u8be5\u5dee\u4e0d\u591a</p> </li> <li> <p>\u8fdb\u5165\u5149\u732b\u7684web\u7684\u914d\u7f6e\u7ba1\u7406\u9875\u9762\u3010\u5e94\u7528\u3011\u3010\u865a\u62df\u670d\u52a1\u5668\u8bbe\u7f6e\u3011\u3010\u9ad8\u7ea7nat\u8bbe\u7f6e\u3011</p> <ul> <li> <p>\u8fd9\u91cc\u5b9e\u9645\u4e0a\u662f\u5c06\u8bbf\u95ee\u7684\u516c\u7f51IP\u7684\u7aef\u53e3\u6620\u5c04\u5230\u8def\u7531\u5668\u4e0a\uff0c\u7136\u540e\u8def\u7531\u5668\u518d\u8fdb\u884c\u8f6c\u53d1</p> </li> <li> <p>\u6240\u4ee5\u8fd9\u91cc\u7684\u5185\u90e8IP\u8981\u586b\u8def\u7531\u5668\u7684IP\uff1a192.168.1.2\uff0c\u8fd9\u91cc\u7684\u7aef\u53e3\u6839\u636e\u4f60\u7684\u9700\u8981\u8fdb\u884c\u8bbe\u7f6e</p> </li> <li> <p>\u4f8b\u5982\u6211\u8fd9\u8fb9\u5c06\u516c\u7f51\u768420080\u6620\u5c04\u5230\u8def\u7531\u5668\u768480\u7aef\u53e3</p> </li> <li> <p></p> </li> </ul> </li> <li> <p>\u8fdb\u5165\u8def\u7531\u5668\u7684web\u7684\u914d\u7f6e\u7ba1\u7406\u9875\u9762\u3010\u5e94\u7528\u529f\u80fd\u3011\u3010\u7aef\u53e3\u8f6c\u53d1\u3011</p> <ul> <li> <p>\u8fd9\u91cc\u5b9e\u9645\u4e0a\u662f\u5c06\u8bbf\u95ee\u7684\u8def\u7531\u5668IP\u7684\u7aef\u53e3\u6620\u5c04\u5230\u4f60\u7684\u7f51\u7edc\u8bbe\u5907\u7684\u5185\u7f51IP\uff1a192.168.2.24</p> </li> <li> <p>\u7531\u4e8e\u5149\u732b\u5df2\u7ecf\u914d\u7f6e\u4e86\u7aef\u53e3\u6620\u5c04\uff0c\u6240\u4ee5\u8fd9\u91cc\u5c06\u5149\u732b\u768480\u7aef\u53e3\u6620\u5c04\u5230\u5185\u7f51IP\uff1a192.168.2.24\u768480\u7aef\u53e3</p> </li> <li> <p></p> </li> </ul> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/02-%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E7%94%B3%E8%AF%B7%E5%85%AC%E7%BD%91IP/#_4","title":"\u9a8c\u8bc1","text":"<ul> <li> <p>\u6211\u8fd9\u8fb9\u672c\u5730\u5b89\u88c5\u4e86\u4e00\u4e2aopenresty\uff0c\u8bbf\u95ee127.0.0.1:80\uff0copenresty\u670d\u52a1\u5668\u786e\u5b9e\u8d77\u6765\u4e86</p> </li> <li> <p>openresty\u670d\u52a1\u5b89\u88c5\u53ef\u4ee5\u53c2\u8003\uff1ahttps://openresty.org/cn/download.html</p> </li> <li> <p></p> </li> <li> <p>\u518d\u6d4f\u89c8\u5668\u8bbf\u95ee\uff1ahttp://\u516c\u7f51IP:20080\uff0c\u81ea\u5df1\u7535\u8111\u7684\u7684\u516c\u7f51IP\u76f4\u63a5\u767e\u5ea6\u641c\u7d22\u4e00\u4e0bIP\u5c31\u53ef\u4ee5\u770b\u5230\u4e86\u3002</p> </li> <li> <p>\u8fd9\u91cc\u672c\u673a\u8bbf\u95ee\u81ea\u751f\u7f51\u7edc\u7684\u516c\u7f51IP\u4f1a\u4e0d\u901a\uff0c\u8fd9\u4e2a\u5730\u65b9\u6709\u70b9\u5947\u602a\uff0c\u4f46\u662f\u6362\u4e00\u4e2a\u7f51\u7edc\u8fdb\u884c\u8bbf\u95ee\u662f\u8fd9\u4e2a\u53ef\u4ee5\u6b63\u5e38\u7684</p> </li> <li> <p></p> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/02-%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E7%94%B3%E8%AF%B7%E5%85%AC%E7%BD%91IP/#_5","title":"\u53c2\u8003","text":"<ul> <li> <p>https://sspai.com/post/79532</p> </li> <li> <p>https://help.aliyun.com/document_detail/257181.html?shareId=5b298fa01693637b51c37f4b5ffd7efd</p> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/03-%E5%AE%9A%E6%97%B6%E6%9B%B4%E6%96%B0%E5%9F%9F%E5%90%8DIP%E8%A7%A3%E6%9E%90/","title":"03 \u5b9a\u65f6\u66f4\u65b0\u57df\u540dIP\u89e3\u6790","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/03-%E5%AE%9A%E6%97%B6%E6%9B%B4%E6%96%B0%E5%9F%9F%E5%90%8DIP%E8%A7%A3%E6%9E%90/#ip","title":"\u5b9a\u65f6\u66f4\u65b0\u57df\u540dIP\u89e3\u6790","text":"<ul> <li> <p>\u4e0a\u9762\u7684\u4e24\u6b65\u641e\u5b9a\u4e4b\u540e\uff0c\u5df2\u7ecf\u53ef\u4ee5\u901a\u8fc7\u516c\u7f51IP\u8bbf\u95ee\u5230\u4f60\u7684\u5185\u7f51\u7684\u7535\u8111\u4e86\uff0c\u4f46\u662f\u8fd8\u6709\u6709\u4e2a\u95ee\u9898\u5c31\u53ea\u8fd9\u4e2a\u516c\u7f51IP\u662f\u52a8\u6001\u7684\u3002</p> </li> <li> <p>\u6240\u4ee5\u6211\u4eec\u5efa\u7acb\u4e00\u4e2a\u4efb\u52a1\u6765\u5b9a\u65f6\u66f4\u65b0\u57df\u540d\u7684\u89e3\u6790\u4e3a\u672c\u673a\u7684\u516c\u7f51IP\uff0c\u8fd9\u4e00\u6b65\u8981\u6c42\u4f60\u5bf9python\u77e5\u8bc6\u6709\u57fa\u672c\u7684\u4e86\u89e3\u3002</p> </li> <li> <p>\u4f60\u9700\u8981\u4f60\u7684\u5c40\u57df\u7f51\u5185\u7684\u4e3b\u673a\u8bbe\u7f6ecrontab\u6267\u884c\u57df\u540d\u89e3\u6790\u66f4\u65b0python\u811a\u672c\uff0cmac\u548clinux\u7cfb\u7edf\u90fd\u81ea\u5e26crontab\uff0cwindows\u6ca1\u6709\u5c1d\u8bd5\u8fc7\uff0c\u53ef\u4ee5\u8bd5\u4e0bwsl2.</p> </li> <li> <p>\u6211\u8fd9\u8fb9\u662f\u7533\u8bf7\u4e00\u4e2a\u963f\u91cc\u4e91\u7684\u57df\u540d\uff0c\u4fbf\u5b9c\u7684\u4e00\u5e74\u5c31\u51e0\u5757\u94b1\u3002</p> </li> <li> <p>\u4f8b\u5982\u6211\u8fd9\u8fb9\u81ea\u5df1\u8bbe\u7f6e\u7684crontab\u5982\u4e0b\uff0c\u53ef\u4ee5\u53c2\u8003\uff1a\uff08\u6dfb\u52a0\u5b9a\u65f6\u4efb\u52a1\u4e4b\u524d\uff0c\u81ea\u5df1\u5148\u8c03\u8bd5\u4e00\u4e0b\u811a\u672c\uff0c\u811a\u672c\u6839\u636e\u4f60\u7684\u9700\u8981\u8fdb\u884c\u4fee\u6539\uff09</p> </li> <li> <p>\u76f4\u63a5\u8fd0\u884c\u5373\u53ef\u4ee5\uff0c\u8be6\u60c5\u67e5\u770b\u811a\u672c\u5185\u5bb9</p> </li> <li> <p>set_ip.sh\u4e2d\u7684python\u89e3\u91ca\u6743\u8def\u5f84\u548c\u811a\u672c\u8def\u5f84\u6839\u636e\u4f60\u7684\u5b9e\u9645\u60c5\u51b5\u8fdb\u884c\u4fee\u6539</p> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/03-%E5%AE%9A%E6%97%B6%E6%9B%B4%E6%96%B0%E5%9F%9F%E5%90%8DIP%E8%A7%A3%E6%9E%90/#crontab","title":"crontab\u5b9a\u65f6\u4efb\u52a1\u5185\u5bb9\uff1a","text":"<pre><code>\n# \u5b9a\u65f6\u66f4\u65b0aliyun\u57df\u540d\u4e3a\u672c\u673a\u516c\u7f51IP\n\n*/1 * * * * /Users/xxx/Library/Mobile\\ Documents/com~apple~CloudDocs/xxx-icloud/me/tasks/set_ip.sh 2&gt;&amp;1|tee -a /Users/xxx/Library/Mobile\\ Documents/com~apple~CloudDocs/xxx-icloud/me/tasks/set_ip.log\n\n\n\n# \u6bcf\u5929\u51cc\u6668\u5220\u9664\u4e0a\u9762\u7684\u65e5\u5fd7\n\n0 0 * * * rm -f /Users/xxx/Library/Mobile\\ Documents/com~apple~CloudDocs/xxx-icloud/me/tasks/set_ip.log\n\n\n\n</code></pre>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/03-%E5%AE%9A%E6%97%B6%E6%9B%B4%E6%96%B0%E5%9F%9F%E5%90%8DIP%E8%A7%A3%E6%9E%90/#set_ipsh","title":"set_ip.sh","text":"<pre><code>#!/bin/zsh \n\necho\n\ndate\n\n/Users/xxx/.virtualenvs/p3/bin/python '/Users/xxx/Library/Mobile Documents/com~apple~CloudDocs/wengmq-icloud/me/tasks/ali_domain_set.py'\n</code></pre>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/03-%E5%AE%9A%E6%97%B6%E6%9B%B4%E6%96%B0%E5%9F%9F%E5%90%8DIP%E8%A7%A3%E6%9E%90/#ali_domain_setpy","title":"ali_domain_set.py","text":"<pre><code>#!/usr/bin/env python3\n\n# coding= utf-8\n\nimport os\n\nimport json\n\nfrom aliyunsdkcore.client import AcsClient\n\nfrom aliyunsdkalidns.request.v20150109 import DescribeDomainRecordsRequest\n\nfrom aliyunsdkalidns.request.v20150109 import UpdateDomainRecordRequest\n\nclass DnsHandler:\n\n    \"\"\"\n\n    \u8be5\u7c7b\u7528\u4e8e\u5224\u65ad\u672c\u5730\u7684\u516c\u7f51IP\u662f\u5426\u53d1\u751f\u53d8\u5316\uff0c\u5982\u679c\u53d1\u751f\u53d8\u5316\uff0c\u5219\u901a\u8fc7\u963f\u91cc\u4e91DNS API\u4fee\u6539\u89e3\u6790\u8bb0\u5f55\n\n    \u4f9d\u8d56\u963f\u91cc\u4e91\u7684python\u6a21\u5757\uff08python3\u73af\u5883\uff09\uff1a\n\n        pip install aliyun-python-sdk-core\n\n        pip install aliyun-python-sdk-alidns\n\n    # step1: \u521b\u5efaRAM\u7528\u6237\uff0c\u5e76\u8d4b\u4e88AliyunDNSFullAccess\u6743\u9650\n\n         # \u53c2\u8003\uff1a https://help.aliyun.com/document_detail/257181.html?shareId=5b298fa01693637b51c37f4b5ffd7efd\n\n         # \u521b\u5efa\u597dRAM\u7528\u6237\u4e4b\u540e\u8bb0\u5f97\uff0c\u5728\u53f3\u8fb9\u7684\u3010\u6dfb\u52a0\u6743\u9650\u3011-&gt; \u3010\u6743\u9650\u7b56\u7565\u3011 -&gt; \u641c\u7d22\u3010AliyunDNSFullAccess\u3011\uff0c\u7136\u540e\u6dfb\u52a0\n\n         # \u83b7\u53d6Access_Key_Id\u548cAccess_Key_Secret\n\n    # step2: \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1a\n\n        export ALIBABA_CLOUD_ACCESS_KEY_ID='\u4e0a\u9762\u83b7\u53d6\u5230\u7684Access_Key_Id'\n\n        export ALIBABA_CLOUD_ACCESS_KEY_SECRET='\u4e0a\u9762\u83b7\u53d6\u5230\u7684Access_Key_Secret'\n\n    # step3: \u963f\u91cc\u4e91\u4e0a\u9762\u521b\u5efa\u597d\u57df\u540d\u89e3\u6790\u8bb0\u5f55\uff08\u4f8b\u5982\uff1ahome.wengmq.top\uff09\n\n        # \u9700\u8981\u63d0\u524d\u8d2d\u4e70\u4f60\u7684\u963f\u91cc\u4e91\u57df\u540d\uff0c\u6dfb\u52a0A\u8bb0\u5f55\n\n        # \u8bbe\u7f6e\u597d\u4e4b\u540e\u53ef\u4ee5dig\u4e00\u4e0b\u770b\u662f\u5426\u751f\u6548\n\n    \"\"\"\n\n    def __init__(self):\n\n        \"\"\"\u521d\u59cb\u5316\uff0c\u83b7\u53d6client\u5b9e\u4f8b\n\n        \"\"\"\n\n        # \u4ece\u963f\u91cc\u4e91\u5f00\u53d1\u8005\u540e\u53f0\u83b7\u53d6Access_Key_Id\u548cAccess_Key_Secret    \n\n        self.access_key_id = os.environ['ALIBABA_CLOUD_ACCESS_KEY_ID'] \n\n        self.access_key_secret = os.environ['ALIBABA_CLOUD_ACCESS_KEY_SECRET'] \n\n        # \u586b\u5165\u81ea\u5df1\u7684\u57df\u540d\u540e\u7f00\n\n        self.domain_name = \"example.top\"\n\n        # \u586b\u5165\u4e8c\u7ea7\u57df\u540d\u7684RR\u503c\uff08\u57df\u540d\u524d\u7f00\uff09\n\n        self.rr_keyword = \"home\"\n\n        # \u89e3\u6790\u8bb0\u5f55\u7c7b\u578b\uff0c\u4e00\u822c\u4e3aA\u8bb0\u5f55\n\n        self.record_type = \"A\"\n\n        # \u7528\u4e8e\u50a8\u5b58\u89e3\u6790\u8bb0\u5f55\u7684\u6587\u4ef6\u540d\n\n        script_dir = os.path.dirname(os.path.abspath(__file__))\n\n        file_name = \".ip_addr\"\n\n        self.file_path = os.path.join(script_dir, file_name)\n\n        self.client = AcsClient(\n\n            self.access_key_id,\n\n            self.access_key_secret\n\n        )\n\n        self.record = self.get_record()\n\n        self.current_ip = self.get_current_ip()\n\n    def reset(self):\n\n        \"\"\"\u5982\u679c\u516c\u7f51IP\u53d1\u751f\u53d8\u5316\uff0c\u5219\u81ea\u52a8\u4fee\u6539\u963f\u91cc\u4e91\u89e3\u6790\u8bb0\u5f55\n\n        \"\"\"\n\n        old_ip = self.get_record_value()\n\n        print(f\"current_ip: {self.current_ip}, old_ip: {old_ip}\")\n\n        if self.current_ip != old_ip:\n\n            self.update_record(self.current_ip)\n\n            print(\"IP changed, update DNS record successfully!\")\n\n            os.remove(self.file_path)\n\n            self.get_record()\n\n    def get_record(self):\n\n        \"\"\"\u83b7\u53d6\u963f\u91cc\u4e91\u57df\u540d\u89e3\u6790\u5b8c\u6574\u8bb0\u5f55\uff0c\u5e76\u4f7f\u7528\u6587\u4ef6\u7f13\u5b58\n\n        \"\"\"\n\n        if os.path.isfile(self.file_path):\n\n            with open(self.file_path, 'r') as file_handler:\n\n                r = file_handler.read()\n\n        else:\n\n            request = DescribeDomainRecordsRequest.DescribeDomainRecordsRequest()\n\n            request.set_PageSize(10)\n\n            request.set_action_name(\"DescribeDomainRecords\")\n\n            request.set_DomainName(self.domain_name)\n\n            request.set_RRKeyWord(self.rr_keyword)\n\n            request.set_TypeKeyWord(self.record_type)\n\n            r = self.client.do_action_with_exception(request)\n\n            with open(self.file_path, 'wb') as file_handler:\n\n                file_handler.write(r)\n\n                r = r.decode('utf-8')\n\n        return json.loads(r)\n\n    def get_record_id(self):\n\n        \"\"\"\u83b7\u53d6\u963f\u91cc\u4e91\u57df\u540d\u89e3\u6790\u8bb0\u5f55ID\n\n        \"\"\"\n\n        return str(self.record[\"DomainRecords\"][\"Record\"][0][\"RecordId\"])\n\n    def get_record_value(self):\n\n        \"\"\"\u83b7\u53d6\u5f53\u524d\u57df\u540d\u89e3\u6790\u8bb0\u5f55\n\n        \"\"\"\n\n        return str(self.record[\"DomainRecords\"][\"Record\"][0][\"Value\"])\n\n    def update_record(self, value):\n\n        \"\"\"\u4fee\u6539\u963f\u91cc\u4e91\u89e3\u6790\u8bb0\u5f55\n\n        \"\"\"\n\n        request = UpdateDomainRecordRequest.UpdateDomainRecordRequest()\n\n        request.set_action_name(\"UpdateDomainRecord\")\n\n        request.set_RecordId(self.get_record_id())\n\n        request.set_Type(self.record_type)\n\n        request.set_RR(self.rr_keyword)\n\n        request.set_Value(value)\n\n        return self.client.do_action_with_exception(request)\n\n    def get_current_ip(self):\n\n        \"\"\"\u83b7\u53d6\u5f53\u524d\u516c\u7f51IP\n\n        \"\"\"\n\n        cmd = \"curl -s -4 http://ifconfig.me\"\n\n        current_ip = str(os.popen(cmd).read())\n\n        return current_ip\n\nif __name__ == '__main__':\n\n    dns = DnsHandler()\n\n    dns.reset()\n</code></pre>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E5%AE%B6%E5%BA%AD%E5%AE%BD%E5%B8%A6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/03-%E5%AE%9A%E6%97%B6%E6%9B%B4%E6%96%B0%E5%9F%9F%E5%90%8DIP%E8%A7%A3%E6%9E%90/#_1","title":"\u8bf4\u660e","text":"<ul> <li> <p>\u4e0a\u9762\u7684\u6b65\u9aa4\u641e\u5b9a\u4e4b\u540e\uff0c\u4f60\u5c31\u53ef\u4ee5\u901a\u8fc7\u57df\u540d\uff08\u89e3\u6790\u5230\u672c\u673a\u516c\u7f51IP\uff09\u8bbf\u95ee\u5230\u4f60\u5c40\u57df\u7f51\u5185\u7684\u4e3b\u673a\u4e86\uff0c\u5e76\u4e14\u4e0d\u7528\u62c5\u5fc3\u516c\u7f51IP\u53d8\u5316\u7684\u95ee\u9898\u3002</p> </li> <li> <p>\u5728\u4f60\u7684\u670d\u52a1\u5668\u4e0a\u9762\u5efa\u8bae\u53ef\u4ee5\u7528openresty\u8fdb\u884c\u8f6c\u53d1\u4f60\u7684web\u670d\u52a1\u3002</p> </li> <li> <p>\u4e3b\u673a\u5df2\u7ecf\u66b4\u9732\u5728\u516c\u7f51\u4e86\uff0c\u6240\u4ee5\u8bb0\u5f97\u5bc6\u7801\u8981\u8bbe\u7f6e\u5f3a\u5bc6\u7801\uff0c\u9632\u6b62\u88ab\u66b4\u529b\u7834\u89e3\uff0c\u5982\u679c\u9700\u8981\u518d\u5b89\u5168\u4e00\u70b9\uff0c\u5bf9\u5916\u7684\u670d\u52a1\u53ef\u4ee5\u8d70\u4e00\u5c42CDN\uff0c\u5728CDN\u4e0a\u505a\u9650\u6d41\u3001\u9650\u901f\u3001\u9ed1\u540d\u5355\u3001\u767d\u540d\u5355\u7b49\u3002</p> </li> <li> <p></p> </li> </ul>"},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E6%8B%8D%E7%85%A7%E6%91%84%E5%BD%B1/%E4%BA%BA%E5%83%8F%E6%8B%8D%E7%85%A7%E5%A7%BF%E5%8A%BF/%E5%A4%9A%E4%BA%BA-%E5%90%88%E7%85%A7/","title":"\u591a\u4eba \u5408\u7167","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E6%8B%8D%E7%85%A7%E6%91%84%E5%BD%B1/%E4%BA%BA%E5%83%8F%E6%8B%8D%E7%85%A7%E5%A7%BF%E5%8A%BF/%E5%A5%B3%E7%94%9F-%E5%8D%95%E4%BA%BA/","title":"\u5973\u751f \u5355\u4eba","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E6%8B%8D%E7%85%A7%E6%91%84%E5%BD%B1/%E4%BA%BA%E5%83%8F%E6%8B%8D%E7%85%A7%E5%A7%BF%E5%8A%BF/%E5%A5%B3%E7%94%9F-%E5%8F%8C%E4%BA%BA/","title":"\u5973\u751f \u53cc\u4eba","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E6%8B%8D%E7%85%A7%E6%91%84%E5%BD%B1/%E4%BA%BA%E5%83%8F%E6%8B%8D%E7%85%A7%E5%A7%BF%E5%8A%BF/%E7%94%B7%E5%A5%B3-%E6%83%85%E4%BE%A3/","title":"\u7537\u5973 \u60c5\u4fa3","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E6%8B%8D%E7%85%A7%E6%91%84%E5%BD%B1/%E4%BA%BA%E5%83%8F%E6%8B%8D%E7%85%A7%E5%A7%BF%E5%8A%BF/%E7%94%B7%E7%94%9F-%E5%8D%95%E4%BA%BA/","title":"\u7537\u751f \u5355\u4eba","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E6%8B%8D%E7%85%A7%E6%91%84%E5%BD%B1/%E4%BA%BA%E5%83%8F%E6%8B%8D%E7%85%A7%E5%A7%BF%E5%8A%BF/%E7%94%B7%E7%94%9F-%E5%8F%8C%E4%BA%BA/","title":"\u7537\u751f \u53cc\u4eba","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E6%8B%8D%E7%85%A7%E6%91%84%E5%BD%B1/%E4%BA%BA%E5%83%8F%E6%9E%84%E5%9B%BE/%E4%BA%BA%E5%83%8F%E6%8B%8D%E7%85%A7%E5%BC%95%E5%AF%BC%E8%AF%9D%E6%9C%AF/","title":"\u4eba\u50cf\u62cd\u7167\u5f15\u5bfc\u8bdd\u672f","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E6%8B%8D%E7%85%A7%E6%91%84%E5%BD%B1/%E4%BA%BA%E5%83%8F%E6%9E%84%E5%9B%BE/%E4%BA%BA%E5%83%8F%E6%9E%84%E5%9B%BE%E5%8E%9F%E5%88%99/","title":"\u4eba\u50cf\u6784\u56fe\u539f\u5219","text":""},{"location":"%E9%9A%8F%E5%BF%83%E8%AE%B0/%E6%8B%8D%E7%85%A7%E6%91%84%E5%BD%B1/%E6%8B%8D%E7%85%A7%E7%9F%A5%E8%AF%86/%E5%AF%B9%E7%84%A6%E6%96%B9%E5%BC%8F/","title":"\u5bf9\u7126\u65b9\u5f0f","text":""}]}