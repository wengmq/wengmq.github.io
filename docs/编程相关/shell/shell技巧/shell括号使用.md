

---

## ✅ 一、`[[ ]]` —— 条件判断（推荐用于字符串比较）

### 示例 1：字符串比较

```bash
str="hello"
if [[ $str == "hello" ]]; then
    echo "字符串是 hello"
fi
```

> ✔ 不需要对 `$str` 加引号也能避免空字符串带来的错误。  
> ✔ `==` 和 `!=` 可用于字符串比较。

---

### 示例 2：字符串通配符匹配

```bash
file="logfile_2025.txt"
if [[ $file == logfile_*.txt ]]; then
    echo "这是一个日志文件"
fi
```

> ✔ 支持 `*` 通配符匹配，这是 `[ ]` 无法做到的。

---

### 示例 3：正则匹配（`=~` 运算符）

```bash
email="user@example.com"
if [[ $email =~ ^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+$ ]]; then
    echo "合法的邮箱格式"
fi
```

> ✔ `[[ ]]` 的杀手级特性：支持 `=~` 进行正则匹配。

---

### 示例 4：多条件判断

```bash
user="admin"
role="manager"
if [[ $user == "admin" && $role == "manager" ]]; then
    echo "管理员且是经理"
fi
```

> ✔ 使用 `&&`、`||` 逻辑操作符代替 `[ ]` 中的 `-a`、`-o`，更清晰可靠。

---

## ✅ 二、`(( ))` —— 整数运算和数值判断（不适用于浮点和字符串）

### 示例 1：数值比较

```bash
a=5
b=10
if (( a < b )); then
    echo "$a 小于 $b"
fi
```

> ✔ 不需要使用 `-lt`，直接用 `<`，更接近 C 语言风格。

---

### 示例 2：算术表达式

```bash
x=3
(( x = x + 2 ))
echo $x  # 输出 5
```

> ✔ 也可以使用自增、自减：

```bash
(( x++ ))  # 等同于 x = x + 1
```

---

### 示例 3：作为 while 循环控制条件

```bash
i=0
while (( i < 5 )); do
    echo "i=$i"
    (( i++ ))
done
```

---

### 示例 4：if 语句中直接使用表达式

```bash
read -p "请输入一个数字: " num
if (( num % 2 == 0 )); then
    echo "偶数"
else
    echo "奇数"
fi
```

---




## ✅ 3. `[ ]` —— 单中括号（**传统写法、兼容 sh**）

```bash
#!/bin/bash

a="hello"
b="world"
n1=10
n2=20

# 字符串比较
if [ "$a" != "$b" ]; then
  echo "$a 不等于 $b"
fi

# 整数比较
if [ $n1 -lt $n2 ]; then
  echo "$n1 小于 $n2"
fi

# 文件存在判断
if [ -f /etc/passwd ]; then
  echo "/etc/passwd 存在"
fi
```

---


## ✅ 总结对比

| 功能 | `[[ ]]` | `[ ]` | `(( ))` |
| --- | --- | --- | --- |
| 字符串判断 | ✅ | ✅ | ❌（不适用） |
| 支持通配符匹配 | ✅（如 `== abc*`） | ❌ | ❌ |
| 正则匹配 | ✅（用 `=~`） | ❌ | ❌ |
| 整数比较 | ✅（如 `-lt`） | ✅（用 `-lt`） | ✅（用 `<`, `>`, `==`） |
| 支持逻辑运算 | ✅（`&&`, \` |  | \`） |
| 是否推荐 | ✅ 强烈推荐 | ✅ 兼容性强 | ✅ 适合数值判断运算 |

---